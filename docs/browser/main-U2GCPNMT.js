var KL=Object.defineProperty,QL=Object.defineProperties;var YL=Object.getOwnPropertyDescriptors;var Vd=Object.getOwnPropertySymbols,JL=Object.getPrototypeOf,QS=Object.prototype.hasOwnProperty,YS=Object.prototype.propertyIsEnumerable,ZL=Reflect.get;var KS=(n,e,t)=>e in n?KL(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,F=(n,e)=>{for(var t in e||={})QS.call(e,t)&&KS(n,t,e[t]);if(Vd)for(var t of Vd(e))YS.call(e,t)&&KS(n,t,e[t]);return n},de=(n,e)=>QL(n,YL(e));var _y=(n,e)=>{var t={};for(var r in n)QS.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&Vd)for(var r of Vd(n))e.indexOf(r)<0&&YS.call(n,r)&&(t[r]=n[r]);return t};var Ii=(n,e,t)=>ZL(JL(n),t,e);var v=(n,e,t)=>new Promise((r,i)=>{var o=c=>{try{a(t.next(c))}catch(l){i(l)}},s=c=>{try{a(t.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((t=t.apply(n,e)).next())});var Ey;function jd(){return Ey}function tr(n){let e=Ey;return Ey=n,e}var JS=Symbol("NotFound");function zs(n){return n===JS||n?.name==="\u0275NotFound"}var Ft=null,Ud=!1,Iy=1,XL=null,Lt=Symbol("SIGNAL");function fe(n){let e=Ft;return Ft=n,e}function qd(){return Ft}var Gs={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Ws(n){if(Ud)throw new Error("");if(Ft===null)return;Ft.consumerOnSignalRead(n);let e=Ft.producersTail;if(e!==void 0&&e.producer===n)return;let t,r=Ft.recomputing;if(r&&(t=e!==void 0?e.nextProducer:Ft.producers,t!==void 0&&t.producer===n)){Ft.producersTail=t,t.lastReadVersion=n.version;return}let i=n.consumersTail;if(i!==void 0&&i.consumer===Ft&&(!r||tV(i,Ft)))return;let o=Qs(Ft),s={producer:n,consumer:Ft,nextProducer:t,prevConsumer:i,lastReadVersion:n.version,nextConsumer:void 0};Ft.producersTail=s,e!==void 0?e.nextProducer=s:Ft.producers=s,o&&tC(n,s)}function ZS(){Iy++}function zd(n){if(!(Qs(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Iy)){if(!n.producerMustRecompute(n)&&!Jc(n)){Hd(n);return}n.producerRecomputeValue(n),Hd(n)}}function wy(n){if(n.consumers===void 0)return;let e=Ud;Ud=!0;try{for(let t=n.consumers;t!==void 0;t=t.nextConsumer){let r=t.consumer;r.dirty||eV(r)}}finally{Ud=e}}function Ty(){return Ft?.consumerAllowSignalWrites!==!1}function eV(n){n.dirty=!0,wy(n),n.consumerMarkedDirty?.(n)}function Hd(n){n.dirty=!1,n.lastCleanEpoch=Iy}function Ks(n){return n&&XS(n),fe(n)}function XS(n){n.producersTail=void 0,n.recomputing=!0}function Yc(n,e){fe(e),n&&eC(n)}function eC(n){n.recomputing=!1;let e=n.producersTail,t=e!==void 0?e.nextProducer:n.producers;if(t!==void 0){if(Qs(n))do t=by(t);while(t!==void 0);e!==void 0?e.nextProducer=void 0:n.producers=void 0}}function Jc(n){for(let e=n.producers;e!==void 0;e=e.nextProducer){let t=e.producer,r=e.lastReadVersion;if(r!==t.version||(zd(t),r!==t.version))return!0}return!1}function Zc(n){if(Qs(n)){let e=n.producers;for(;e!==void 0;)e=by(e)}n.producers=void 0,n.producersTail=void 0,n.consumers=void 0,n.consumersTail=void 0}function tC(n,e){let t=n.consumersTail,r=Qs(n);if(t!==void 0?(e.nextConsumer=t.nextConsumer,t.nextConsumer=e):(e.nextConsumer=void 0,n.consumers=e),e.prevConsumer=t,n.consumersTail=e,!r)for(let i=n.producers;i!==void 0;i=i.nextProducer)tC(i.producer,i)}function by(n){let e=n.producer,t=n.nextProducer,r=n.nextConsumer,i=n.prevConsumer;if(n.nextConsumer=void 0,n.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!Qs(e)){let o=e.producers;for(;o!==void 0;)o=by(o)}return t}function Qs(n){return n.consumerIsAlwaysLive||n.consumers!==void 0}function Gd(n){XL?.(n)}function tV(n,e){let t=e.producersTail;if(t!==void 0){let r=e.producers;do{if(r===n)return!0;if(r===t)break;r=r.nextProducer}while(r!==void 0)}return!1}function Wd(n,e){return Object.is(n,e)}function Kd(n,e){let t=Object.create(nV);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(zd(t),Ws(t),t.value===Qc)throw t.error;return t.value};return r[Lt]=t,Gd(t),r}var Bd=Symbol("UNSET"),$d=Symbol("COMPUTING"),Qc=Symbol("ERRORED"),nV=de(F({},Gs),{value:Bd,dirty:!0,error:null,equal:Wd,kind:"computed",producerMustRecompute(n){return n.value===Bd||n.value===$d},producerRecomputeValue(n){if(n.value===$d)throw new Error("");let e=n.value;n.value=$d;let t=Ks(n),r,i=!1;try{r=n.computation(),fe(null),i=e!==Bd&&e!==Qc&&r!==Qc&&n.equal(e,r)}catch(o){r=Qc,n.error=o}finally{Yc(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function rV(){throw new Error}var nC=rV;function rC(n){nC(n)}function Dy(n){nC=n}var iV=null;function Sy(n,e){let t=Object.create(Qd);t.value=n,e!==void 0&&(t.equal=e);let r=()=>iC(t);return r[Lt]=t,Gd(t),[r,s=>Ys(t,s),s=>Cy(t,s)]}function iC(n){return Ws(n),n.value}function Ys(n,e){Ty()||rC(n),n.equal(n.value,e)||(n.value=e,oV(n))}function Cy(n,e){Ty()||rC(n),Ys(n,e(n.value))}var Qd=de(F({},Gs),{equal:Wd,value:void 0,kind:"signal"});function oV(n){n.version++,ZS(),wy(n),iV?.(n)}function ce(n){return typeof n=="function"}function Js(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Yd=Js(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Do(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Ke=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(ce(r))try{r()}catch(o){e=o instanceof Yd?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{oC(o)}catch(s){e=e??[],s instanceof Yd?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Yd(e)}}add(e){var t;if(e&&e!==this)if(this.closed)oC(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Do(t,e)}remove(e){let{_finalizers:t}=this;t&&Do(t,e),e instanceof n&&e._removeParent(this)}};Ke.EMPTY=(()=>{let n=new Ke;return n.closed=!0,n})();var Ay=Ke.EMPTY;function Jd(n){return n instanceof Ke||n&&"closed"in n&&ce(n.remove)&&ce(n.add)&&ce(n.unsubscribe)}function oC(n){ce(n)?n():n.unsubscribe()}var Vn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Zs={setTimeout(n,e,...t){let{delegate:r}=Zs;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Zs;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Zd(n){Zs.setTimeout(()=>{let{onUnhandledError:e}=Vn;if(e)e(n);else throw n})}function Xc(){}var sC=Ry("C",void 0,void 0);function aC(n){return Ry("E",void 0,n)}function cC(n){return Ry("N",n,void 0)}function Ry(n,e,t){return{kind:n,value:e,error:t}}var So=null;function Xs(n){if(Vn.useDeprecatedSynchronousErrorHandling){let e=!So;if(e&&(So={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=So;if(So=null,t)throw r}}else n()}function uC(n){Vn.useDeprecatedSynchronousErrorHandling&&So&&(So.errorThrown=!0,So.error=n)}var Co=class extends Ke{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Jd(e)&&e.add(this)):this.destination=cV}static create(e,t,r){return new ea(e,t,r)}next(e){this.isStopped?My(cC(e),this):this._next(e)}error(e){this.isStopped?My(aC(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?My(sC,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},sV=Function.prototype.bind;function Ny(n,e){return sV.call(n,e)}var Py=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Xd(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Xd(r)}else Xd(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Xd(t)}}},ea=class extends Co{constructor(e,t,r){super();let i;if(ce(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Vn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Ny(e.next,o),error:e.error&&Ny(e.error,o),complete:e.complete&&Ny(e.complete,o)}):i=e}this.destination=new Py(i)}};function Xd(n){Vn.useDeprecatedSynchronousErrorHandling?uC(n):Zd(n)}function aV(n){throw n}function My(n,e){let{onStoppedNotification:t}=Vn;t&&Zs.setTimeout(()=>t(n,e))}var cV={closed:!0,next:Xc,error:aV,complete:Xc};var ta=typeof Symbol=="function"&&Symbol.observable||"@@observable";function fn(n){return n}function eh(...n){return ky(n)}function ky(n){return n.length===0?fn:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var ie=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=lV(t)?t:new ea(t,r,i);return Xs(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=lC(r),new r((i,o)=>{let s=new ea({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[ta](){return this}pipe(...t){return ky(t)(this)}toPromise(t){return t=lC(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function lC(n){var e;return(e=n??Vn.Promise)!==null&&e!==void 0?e:Promise}function uV(n){return n&&ce(n.next)&&ce(n.error)&&ce(n.complete)}function lV(n){return n&&n instanceof Co||uV(n)&&Jd(n)}function Oy(n){return ce(n?.lift)}function Ie(n){return e=>{if(Oy(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function _e(n,e,t,r,i){return new xy(n,e,t,r,i)}var xy=class extends Co{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function na(){return Ie((n,e)=>{let t=null;n._refCount++;let r=_e(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var ra=class extends ie{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Oy(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ke;let t=this.getSubject();e.add(this.source.subscribe(_e(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ke.EMPTY)}return e}refCount(){return na()(this)}};var dC=Js(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ot=(()=>{class n extends ie{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new th(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new dC}next(t){Xs(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Xs(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Xs(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Ay:(this.currentObservers=null,o.push(t),new Ke(()=>{this.currentObservers=null,Do(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new ie;return t.source=this,t}}return n.create=(e,t)=>new th(e,t),n})(),th=class extends ot{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:Ay}};var Ct=class extends ot{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Fy={now(){return(Fy.delegate||Date).now()},delegate:void 0};var nh=class extends Ke{constructor(e,t){super()}schedule(e,t=0){return this}};var eu={setInterval(n,e,...t){let{delegate:r}=eu;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=eu;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var ia=class extends nh{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return eu.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&eu.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Do(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var oa=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};oa.now=Fy.now;var sa=class extends oa{constructor(e,t=oa.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var Ly=new sa(ia);var rh=class extends ia{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var ih=class extends sa{};var Vy=new ih(rh);var en=new ie(n=>n.complete());function hC(n){return n&&ce(n.schedule)}function fC(n){return n[n.length-1]}function oh(n){return ce(fC(n))?n.pop():void 0}function wi(n){return hC(fC(n))?n.pop():void 0}function jy(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function gC(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{l(r.next(d))}catch(f){s(f)}}function c(d){try{l(r.throw(d))}catch(f){s(f)}}function l(d){d.done?o(d.value):i(d.value).then(a,c)}l((r=r.apply(n,e||[])).next())})}function pC(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ao(n){return this instanceof Ao?(this.v=n,this):new Ao(n)}function mC(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(m){return function(E){return Promise.resolve(E).then(m,f)}}function a(m,E){r[m]&&(i[m]=function(A){return new Promise(function(D,M){o.push([m,A,D,M])>1||c(m,A)})},E&&(i[m]=E(i[m])))}function c(m,E){try{l(r[m](E))}catch(A){g(o[0][3],A)}}function l(m){m.value instanceof Ao?Promise.resolve(m.value.v).then(d,f):g(o[0][2],m)}function d(m){c("next",m)}function f(m){c("throw",m)}function g(m,E){m(E),o.shift(),o.length&&c(o[0][0],o[0][1])}}function yC(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof pC=="function"?pC(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,c){s=n[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var sh=n=>n&&typeof n.length=="number"&&typeof n!="function";function ah(n){return ce(n?.then)}function ch(n){return ce(n[ta])}function uh(n){return Symbol.asyncIterator&&ce(n?.[Symbol.asyncIterator])}function lh(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function dV(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var dh=dV();function hh(n){return ce(n?.[dh])}function fh(n){return mC(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Ao(t.read());if(i)return yield Ao(void 0);yield yield Ao(r)}}finally{t.releaseLock()}})}function ph(n){return ce(n?.getReader)}function st(n){if(n instanceof ie)return n;if(n!=null){if(ch(n))return hV(n);if(sh(n))return fV(n);if(ah(n))return pV(n);if(uh(n))return vC(n);if(hh(n))return gV(n);if(ph(n))return mV(n)}throw lh(n)}function hV(n){return new ie(e=>{let t=n[ta]();if(ce(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function fV(n){return new ie(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function pV(n){return new ie(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Zd)})}function gV(n){return new ie(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function vC(n){return new ie(e=>{yV(n,e).catch(t=>e.error(t))})}function mV(n){return vC(fh(n))}function yV(n,e){var t,r,i,o;return gC(this,void 0,void 0,function*(){try{for(t=yC(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function tn(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Ti(n,e=0){return Ie((t,r)=>{t.subscribe(_e(r,i=>tn(r,n,()=>r.next(i),e),()=>tn(r,n,()=>r.complete(),e),i=>tn(r,n,()=>r.error(i),e)))})}function bi(n,e=0){return Ie((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function _C(n,e){return st(n).pipe(bi(e),Ti(e))}function EC(n,e){return st(n).pipe(bi(e),Ti(e))}function IC(n,e){return new ie(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function wC(n,e){return new ie(t=>{let r;return tn(t,e,()=>{r=n[dh](),tn(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>ce(r?.return)&&r.return()})}function gh(n,e){if(!n)throw new Error("Iterable cannot be null");return new ie(t=>{tn(t,e,()=>{let r=n[Symbol.asyncIterator]();tn(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function TC(n,e){return gh(fh(n),e)}function bC(n,e){if(n!=null){if(ch(n))return _C(n,e);if(sh(n))return IC(n,e);if(ah(n))return EC(n,e);if(uh(n))return gh(n,e);if(hh(n))return wC(n,e);if(ph(n))return TC(n,e)}throw lh(n)}function He(n,e){return e?bC(n,e):st(n)}function ne(...n){let e=wi(n);return He(n,e)}function aa(n,e){let t=ce(n)?n:()=>n,r=i=>i.error(t());return new ie(e?i=>e.schedule(r,0,i):r)}function Uy(n){return!!n&&(n instanceof ie||ce(n.lift)&&ce(n.subscribe))}var kr=Js(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function oe(n,e){return Ie((t,r)=>{let i=0;t.subscribe(_e(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:vV}=Array;function _V(n,e){return vV(e)?n(...e):n(e)}function mh(n){return oe(e=>_V(n,e))}var{isArray:EV}=Array,{getPrototypeOf:IV,prototype:wV,keys:TV}=Object;function yh(n){if(n.length===1){let e=n[0];if(EV(e))return{args:e,keys:null};if(bV(e)){let t=TV(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function bV(n){return n&&typeof n=="object"&&IV(n)===wV}function vh(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function _h(...n){let e=wi(n),t=oh(n),{args:r,keys:i}=yh(n);if(r.length===0)return He([],e);let o=new ie(DV(r,e,i?s=>vh(i,s):fn));return t?o.pipe(mh(t)):o}function DV(n,e,t=fn){return r=>{DC(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)DC(e,()=>{let l=He(n[c],e),d=!1;l.subscribe(_e(r,f=>{o[c]=f,d||(d=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function DC(n,e,t){n?tn(t,n,e):e()}function SC(n,e,t,r,i,o,s,a){let c=[],l=0,d=0,f=!1,g=()=>{f&&!c.length&&!l&&e.complete()},m=A=>l<r?E(A):c.push(A),E=A=>{o&&e.next(A),l++;let D=!1;st(t(A,d++)).subscribe(_e(e,M=>{i?.(M),o?m(M):e.next(M)},()=>{D=!0},void 0,()=>{if(D)try{for(l--;c.length&&l<r;){let M=c.shift();s?tn(e,s,()=>E(M)):E(M)}g()}catch(M){e.error(M)}}))};return n.subscribe(_e(e,m,()=>{f=!0,g()})),()=>{a?.()}}function gt(n,e,t=1/0){return ce(e)?gt((r,i)=>oe((o,s)=>e(r,o,i,s))(st(n(r,i))),t):(typeof e=="number"&&(t=e),Ie((r,i)=>SC(r,i,n,t)))}function CC(n=1/0){return gt(fn,n)}function AC(){return CC(1)}function ca(...n){return AC()(He(n,wi(n)))}function tu(n){return new ie(e=>{st(n()).subscribe(e)})}function By(...n){let e=oh(n),{args:t,keys:r}=yh(n),i=new ie(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let d=0;d<s;d++){let f=!1;st(t[d]).subscribe(_e(o,g=>{f||(f=!0,l--),a[d]=g},()=>c--,void 0,()=>{(!c||!f)&&(l||o.next(r?vh(r,a):a),o.complete())}))}});return e?i.pipe(mh(e)):i}function Gt(n,e){return Ie((t,r)=>{let i=0;t.subscribe(_e(r,o=>n.call(e,o,i++)&&r.next(o)))})}function Di(n){return Ie((e,t)=>{let r=null,i=!1,o;r=e.subscribe(_e(t,void 0,void 0,s=>{o=st(n(s,Di(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function RC(n,e,t,r,i){return(o,s)=>{let a=t,c=e,l=0;o.subscribe(_e(s,d=>{let f=l++;c=a?n(c,d,f):(a=!0,d),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function Si(n,e){return ce(e)?gt(n,e,1):gt(n,1)}function Ci(n){return Ie((e,t)=>{let r=!1;e.subscribe(_e(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Or(n){return n<=0?()=>en:Ie((e,t)=>{let r=0;e.subscribe(_e(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Eh(n=SV){return Ie((e,t)=>{let r=!1;e.subscribe(_e(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function SV(){return new kr}function Ro(n){return Ie((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function xr(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Gt((i,o)=>n(i,o,r)):fn,Or(1),t?Ci(e):Eh(()=>new kr))}function ua(n){return n<=0?()=>en:Ie((e,t)=>{let r=[];e.subscribe(_e(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function $y(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Gt((i,o)=>n(i,o,r)):fn,ua(1),t?Ci(e):Eh(()=>new kr))}function Ih(n,e){return Ie(RC(n,e,arguments.length>=2,!0))}function wh(...n){let e=wi(n);return Ie((t,r)=>{(e?ca(n,t,e):ca(n,t)).subscribe(r)})}function Vt(n,e){return Ie((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(_e(r,c=>{i?.unsubscribe();let l=0,d=o++;st(n(c,d)).subscribe(i=_e(r,f=>r.next(e?e(c,f,d,l++):f),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Th(n){return Ie((e,t)=>{st(n).subscribe(_e(t,()=>t.complete(),Xc)),!t.closed&&e.subscribe(t)})}function _t(n,e,t){let r=ce(n)||e||t?{next:n,error:e,complete:t}:n;return r?Ie((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(_e(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):fn}function NC(n){let e=fe(null);try{return n()}finally{fe(e)}}var Mo=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},tv=new Mo("20.3.9");var Ch="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",P=class extends Error{code;constructor(e,t){super(xo(e,t)),this.code=e}};function CV(n){return`NG0${Math.abs(n)}`}function xo(n,e){return`${CV(n)}${e?": "+e:""}`}var Vr=globalThis;function Ae(n){for(let e in n)if(n[e]===Ae)return e;throw Error("")}function kC(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Lr(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(Lr).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function nv(n,e){return n?e?`${n} ${e}`:n:e||""}var AV=Ae({__forward_ref__:Ae});function rr(n){return n.__forward_ref__=rr,n.toString=function(){return Lr(this())},n}function At(n){return rv(n)?n():n}function rv(n){return typeof n=="function"&&n.hasOwnProperty(AV)&&n.__forward_ref__===rr}function q(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function gn(n){return{providers:n.providers||[],imports:n.imports||[]}}function ou(n){return RV(n,Ah)}function iv(n){return ou(n)!==null}function RV(n,e){return n.hasOwnProperty(e)&&n[e]||null}function NV(n){let e=n?.[Ah]??null;return e||null}function qy(n){return n&&n.hasOwnProperty(Dh)?n[Dh]:null}var Ah=Ae({\u0275prov:Ae}),Dh=Ae({\u0275inj:Ae}),B=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=q({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function ov(n){return n&&!!n.\u0275providers}var sv=Ae({\u0275cmp:Ae}),av=Ae({\u0275dir:Ae}),cv=Ae({\u0275pipe:Ae}),uv=Ae({\u0275mod:Ae}),ru=Ae({\u0275fac:Ae}),Fo=Ae({__NG_ELEMENT_ID__:Ae}),MC=Ae({__NG_ENV_ID__:Ae});function su(n){return typeof n=="string"?n:n==null?"":String(n)}function OC(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():su(n)}var xC=Ae({ngErrorCode:Ae}),MV=Ae({ngErrorMessage:Ae}),PV=Ae({ngTokenPath:Ae});function lv(n,e){return FC("",-200,e)}function Rh(n,e){throw new P(-201,!1)}function FC(n,e,t){let r=new P(e,n);return r[xC]=e,r[MV]=n,t&&(r[PV]=t),r}function kV(n){return n[xC]}var zy;function LC(){return zy}function Wt(n){let e=zy;return zy=n,e}function dv(n,e,t){let r=ou(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(e!==void 0)return e;Rh(n,"Injector")}var OV={},No=OV,Gy="__NG_DI_FLAG__",Wy=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=Po(t)||0;try{return this.injector.get(e,r&8?null:No,r)}catch(i){if(zs(i))return i;throw i}}};function xV(n,e=0){let t=jd();if(t===void 0)throw new P(-203,!1);if(t===null)return dv(n,void 0,e);{let r=FV(e),i=t.retrieve(n,r);if(zs(i)){if(r.optional)return null;throw i}return i}}function Q(n,e=0){return(LC()||xV)(At(n),e)}function O(n,e){return Q(n,Po(e))}function Po(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function FV(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function Ky(n){let e=[];for(let t=0;t<n.length;t++){let r=At(n[t]);if(Array.isArray(r)){if(r.length===0)throw new P(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],c=LV(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(Q(i,o))}else e.push(Q(r))}return e}function VC(n,e){return n[Gy]=e,n.prototype[Gy]=e,n}function LV(n){return n[Gy]}function Ai(n,e){let t=n.hasOwnProperty(ru);return t?n[ru]:null}function Nh(n,e){n.forEach(t=>Array.isArray(t)?Nh(t,e):e(t))}function hv(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function au(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function jC(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function UC(n,e,t){let r=da(n,e);return r>=0?n[r|1]=t:(r=~r,jC(n,r,e,t)),r}function Mh(n,e){let t=da(n,e);if(t>=0)return n[t|1]}function da(n,e){return VV(n,e,1)}function VV(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var Mi={},pn=[],Pi=new B(""),fv=new B("",-1),pv=new B(""),iu=class{get(e,t=No){if(t===No){let i=FC("",-201);throw i.name="\u0275NotFound",i}return t}};function gv(n){return n[uv]||null}function ki(n){return n[sv]||null}function mv(n){return n[av]||null}function BC(n){return n[cv]||null}function Dn(n){return{\u0275providers:n}}function $C(...n){return{\u0275providers:yv(!0,n),\u0275fromNgModule:!0}}function yv(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return Nh(e,s=>{let a=s;Sh(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&HC(i,o),t}function HC(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];vv(i,o=>{e(o,r)})}}function Sh(n,e,t,r){if(n=At(n),!n)return!1;let i=null,o=qy(n),s=!o&&ki(n);if(!o&&!s){let c=n.ngModule;if(o=qy(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)Sh(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{Nh(o.imports,d=>{Sh(d,e,t,r)&&(l||=[],l.push(d))})}finally{}l!==void 0&&HC(l,e)}if(!a){let l=Ai(i)||(()=>new i);e({provide:i,useFactory:l,deps:pn},i),e({provide:pv,useValue:i,multi:!0},i),e({provide:Pi,useValue:()=>Q(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=n;vv(c,d=>{e(d,l)})}}else return!1;return i!==n&&n.providers!==void 0}function vv(n,e){for(let t of n)ov(t)&&(t=t.\u0275providers),Array.isArray(t)?vv(t,e):e(t)}var jV=Ae({provide:String,useValue:Ae});function qC(n){return n!==null&&typeof n=="object"&&jV in n}function UV(n){return!!(n&&n.useExisting)}function BV(n){return!!(n&&n.useFactory)}function ko(n){return typeof n=="function"}function zC(n){return!!n.useClass}var cu=new B(""),bh={},PC={},Hy;function uu(){return Hy===void 0&&(Hy=new iu),Hy}var Qe=class{},Oo=class extends Qe{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,Yy(e,s=>this.processProvider(s)),this.records.set(fv,la(void 0,this)),i.has("environment")&&this.records.set(Qe,la(void 0,this));let o=this.records.get(cu);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(pv,pn,{self:!0}))}retrieve(e,t){let r=Po(t)||0;try{return this.get(e,No,r)}catch(i){if(zs(i))return i;throw i}}destroy(){nu(this),this._destroyed=!0;let e=fe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),fe(e)}}onDestroy(e){return nu(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){nu(this);let t=tr(this),r=Wt(void 0),i;try{return e()}finally{tr(t),Wt(r)}}get(e,t=No,r){if(nu(this),e.hasOwnProperty(MC))return e[MC](this);let i=Po(r),o,s=tr(this),a=Wt(void 0);try{if(!(i&4)){let l=this.records.get(e);if(l===void 0){let d=GV(e)&&ou(e);d&&this.injectableDefInScope(d)?l=la(Qy(e),bh):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,i)}let c=i&2?uu():this.parent;return t=i&8&&t===No?null:t,c.get(e,t)}catch(c){let l=kV(c);throw l===-200||l===-201?new P(l,null):c}finally{Wt(a),tr(s)}}resolveInjectorInitializers(){let e=fe(null),t=tr(this),r=Wt(void 0),i;try{let o=this.get(Pi,pn,{self:!0});for(let s of o)s()}finally{tr(t),Wt(r),fe(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Lr(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=At(e);let t=ko(e)?e:At(e&&e.provide),r=HV(e);if(!ko(e)&&e.multi===!0){let i=this.records.get(t);i||(i=la(void 0,bh,!0),i.factory=()=>Ky(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=fe(null);try{if(t.value===PC)throw lv(Lr(e));return t.value===bh&&(t.value=PC,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&zV(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{fe(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=At(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Qy(n){let e=ou(n),t=e!==null?e.factory:Ai(n);if(t!==null)return t;if(n instanceof B)throw new P(204,!1);if(n instanceof Function)return $V(n);throw new P(204,!1)}function $V(n){if(n.length>0)throw new P(204,!1);let t=NV(n);return t!==null?()=>t.factory(n):()=>new n}function HV(n){if(qC(n))return la(void 0,n.useValue);{let e=_v(n);return la(e,bh)}}function _v(n,e,t){let r;if(ko(n)){let i=At(n);return Ai(i)||Qy(i)}else if(qC(n))r=()=>At(n.useValue);else if(BV(n))r=()=>n.useFactory(...Ky(n.deps||[]));else if(UV(n))r=(i,o)=>Q(At(n.useExisting),o!==void 0&&o&8?8:void 0);else{let i=At(n&&(n.useClass||n.provide));if(qV(n))r=()=>new i(...Ky(n.deps));else return Ai(i)||Qy(i)}return r}function nu(n){if(n.destroyed)throw new P(205,!1)}function la(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function qV(n){return!!n.deps}function zV(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function GV(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function Yy(n,e){for(let t of n)Array.isArray(t)?Yy(t,e):t&&ov(t)?Yy(t.\u0275providers,e):e(t)}function et(n,e){let t;n instanceof Oo?(nu(n),t=n):t=new Wy(n);let r,i=tr(t),o=Wt(void 0);try{return e()}finally{tr(i),Wt(o)}}function GC(){return LC()!==void 0||jd()!=null}var jn=0,he=1,ue=2,Rt=3,Sn=4,Cn=5,lu=6,ha=7,jt=8,Oi=9,ir=10,Ye=11,fa=12,Ev=13,Lo=14,An=15,Vo=16,jo=17,Uo=18,du=19,Iv=20,Fr=21,Ph=22,hu=23,mn=24,kh=25,fu=26,Ut=27,WC=1;var xi=7,pu=8,gu=9,nn=10;function or(n){return Array.isArray(n)&&typeof n[WC]=="object"}function Un(n){return Array.isArray(n)&&n[WC]===!0}function wv(n){return(n.flags&4)!==0}function Fi(n){return n.componentOffset>-1}function mu(n){return(n.flags&1)===1}function sr(n){return!!n.template}function pa(n){return(n[ue]&512)!==0}function Bo(n){return(n[ue]&256)===256}var KC="svg",QC="math";function Rn(n){for(;Array.isArray(n);)n=n[jn];return n}function Tv(n,e){return Rn(e[n])}function Bn(n,e){return Rn(e[n.index])}function Oh(n,e){return n.data[e]}function bv(n,e){return n[e]}function Dv(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function Nn(n,e){let t=e[n];return or(t)?t:t[jn]}function xh(n){return(n[ue]&128)===128}function YC(n){return Un(n[Rt])}function yu(n,e){return e==null?null:n[e]}function Sv(n){n[jo]=0}function Cv(n){n[ue]&1024||(n[ue]|=1024,xh(n)&&_u(n))}function JC(n,e){for(;n>0;)e=e[Lo],n--;return e}function vu(n){return!!(n[ue]&9216||n[mn]?.dirty)}function Fh(n){n[ir].changeDetectionScheduler?.notify(8),n[ue]&64&&(n[ue]|=1024),vu(n)&&_u(n)}function _u(n){n[ir].changeDetectionScheduler?.notify(0);let e=Ri(n);for(;e!==null&&!(e[ue]&8192||(e[ue]|=8192,!xh(e)));)e=Ri(e)}function Av(n,e){if(Bo(n))throw new P(911,!1);n[Fr]===null&&(n[Fr]=[]),n[Fr].push(e)}function ZC(n,e){if(n[Fr]===null)return;let t=n[Fr].indexOf(e);t!==-1&&n[Fr].splice(t,1)}function Ri(n){let e=n[Rt];return Un(e)?e[Rt]:e}function XC(n){return n[ha]??=[]}function e0(n){return n.cleanup??=[]}var ye={lFrame:m0(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Jy=!1;function t0(){return ye.lFrame.elementDepthCount}function n0(){ye.lFrame.elementDepthCount++}function r0(){ye.lFrame.elementDepthCount--}function Rv(){return ye.bindingsEnabled}function i0(){return ye.skipHydrationRootTNode!==null}function o0(n){return ye.skipHydrationRootTNode===n}function s0(){ye.skipHydrationRootTNode=null}function Re(){return ye.lFrame.lView}function rn(){return ye.lFrame.tView}function Eu(n){return ye.lFrame.contextLView=n,n[jt]}function Iu(n){return ye.lFrame.contextLView=null,n}function Kt(){let n=Nv();for(;n!==null&&n.type===64;)n=n.parent;return n}function Nv(){return ye.lFrame.currentTNode}function a0(){let n=ye.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function ga(n,e){let t=ye.lFrame;t.currentTNode=n,t.isParent=e}function Mv(){return ye.lFrame.isParent}function c0(){ye.lFrame.isParent=!1}function Pv(){return Jy}function kv(n){let e=Jy;return Jy=n,e}function Lh(){let n=ye.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function u0(n){return ye.lFrame.bindingIndex=n}function wu(){return ye.lFrame.bindingIndex++}function l0(n){let e=ye.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function d0(){return ye.lFrame.inI18n}function h0(n,e){let t=ye.lFrame;t.bindingIndex=t.bindingRootIndex=n,Vh(e)}function f0(){return ye.lFrame.currentDirectiveIndex}function Vh(n){ye.lFrame.currentDirectiveIndex=n}function p0(n){let e=ye.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function Ov(n){ye.lFrame.currentQueryIndex=n}function WV(n){let e=n[he];return e.type===2?e.declTNode:e.type===1?n[Cn]:null}function xv(n,e,t){if(t&4){let i=e,o=n;for(;i=i.parent,i===null&&!(t&1);)if(i=WV(o),i===null||(o=o[Lo],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=ye.lFrame=g0();return r.currentTNode=e,r.lView=n,!0}function jh(n){let e=g0(),t=n[he];ye.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function g0(){let n=ye.lFrame,e=n===null?null:n.child;return e===null?m0(n):e}function m0(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function y0(){let n=ye.lFrame;return ye.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var Fv=y0;function Uh(){let n=y0();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function v0(n){return(ye.lFrame.contextLView=JC(n,ye.lFrame.contextLView))[jt]}function $o(){return ye.lFrame.selectedIndex}function Li(n){ye.lFrame.selectedIndex=n}function Bh(){let n=ye.lFrame;return Oh(n.tView,n.selectedIndex)}function _0(){return ye.lFrame.currentNamespace}var E0=!0;function $h(){return E0}function Hh(n){E0=n}function Zy(n,e=null,t=null,r){let i=Lv(n,e,t,r);return i.resolveInjectorInitializers(),i}function Lv(n,e=null,t=null,r,i=new Set){let o=[t||pn,$C(n)];return r=r||(typeof n=="object"?void 0:Lr(n)),new Oo(o,e||uu(),r||null,i)}var mt=class n{static THROW_IF_NOT_FOUND=No;static NULL=new iu;static create(e,t){if(Array.isArray(e))return Zy({name:""},t,e,"");{let r=e.name??"";return Zy({name:r},e.parent,e.providers,r)}}static \u0275prov=q({token:n,providedIn:"any",factory:()=>Q(fv)});static __NG_ELEMENT_ID__=-1},tt=new B(""),jr=(()=>{class n{static __NG_ELEMENT_ID__=KV;static __NG_ENV_ID__=t=>t}return n})(),Xy=class extends jr{_lView;constructor(e){super(),this._lView=e}get destroyed(){return Bo(this._lView)}onDestroy(e){let t=this._lView;return Av(t,e),()=>ZC(t,e)}};function KV(){return new Xy(Re())}var nr=class{_console=console;handleError(e){this._console.error("ERROR",e)}},on=new B("",{providedIn:"root",factory:()=>{let n=O(Qe),e;return t=>{n.destroyed&&!e?setTimeout(()=>{throw t}):(e??=n.get(nr),e.handleError(t))}}}),I0={provide:Pi,useValue:()=>void O(nr),multi:!0};function Vv(n){return typeof n=="function"&&n[Lt]!==void 0}function yt(n,e){let[t,r,i]=Sy(n,e?.equal),o=t,s=o[Lt];return o.set=r,o.update=i,o.asReadonly=w0.bind(o),o}function w0(){let n=this[Lt];if(n.readonlyFn===void 0){let e=()=>this();e[Lt]=n,n.readonlyFn=e}return n.readonlyFn}function jv(n){return Vv(n)&&typeof n.set=="function"}var Ni=class{},qh=new B("",{providedIn:"root",factory:()=>!1});var Uv=new B(""),Bv=new B(""),ar=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Ct(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new ie(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=q({token:n,providedIn:"root",factory:()=>new n})}return n})(),Vi=(()=>{class n{internalPendingTasks=O(ar);scheduler=O(Ni);errorHandler=O(on);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let r=this.add();t().catch(this.errorHandler).finally(r)}static \u0275prov=q({token:n,providedIn:"root",factory:()=>new n})}return n})();function Tu(...n){}var $v=(()=>{class n{static \u0275prov=q({token:n,providedIn:"root",factory:()=>new ev})}return n})(),ev=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,r]of this.queues)t===null?e||=this.flushQueue(r):e||=t.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}};function wa(n){return{toString:n}.toString()}var zh="__parameters__";function r2(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function i2(n,e,t){return wa(()=>{let r=r2(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,d){let f=c.hasOwnProperty(zh)?c[zh]:Object.defineProperty(c,zh,{value:[]})[zh];for(;f.length<=d;)f.push(null);return(f[d]=f[d]||[]).push(s),c}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var yn=VC(i2("Optional"),8);function o2(n){return typeof n=="function"}var Zh=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function tA(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var lr=(()=>{let n=()=>nA;return n.ngInherit=!0,n})();function nA(n){return n.type.prototype.ngOnChanges&&(n.setInput=a2),s2}function s2(){let n=iA(this),e=n?.current;if(e){let t=n.previous;if(t===Mi)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function a2(n,e,t,r,i){let o=this.declaredInputs[r],s=iA(n)||c2(n,{previous:Mi,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new Zh(l&&l.currentValue,t,c===Mi),tA(n,e,i,t)}var rA="__ngSimpleChanges__";function iA(n){return n[rA]||null}function c2(n,e){return n[rA]=e}var T0=[];var Oe=function(n,e=null,t){for(let r=0;r<T0.length;r++){let i=T0[r];i(n,e,t)}};function u2(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=nA(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function oA(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:d}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),d!=null&&(n.destroyHooks??=[]).push(t,d)}}function Qh(n,e,t){sA(n,e,3,t)}function Yh(n,e,t,r){(n[ue]&3)===t&&sA(n,e,t,r)}function Hv(n,e){let t=n[ue];(t&3)===e&&(t&=16383,t+=1,n[ue]=t)}function sA(n,e,t,r){let i=r!==void 0?n[jo]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(n[jo]+=65536),(a<o||o==-1)&&(l2(n,t,e,c),n[jo]=(n[jo]&4294901760)+c+2),c++}function b0(n,e){Oe(4,n,e);let t=fe(null);try{e.call(n)}finally{fe(t),Oe(5,n,e)}}function l2(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[ue]>>14<n[jo]>>16&&(n[ue]&3)===e&&(n[ue]+=16384,b0(a,o)):b0(a,o)}var ya=-1,qo=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=t,this.injectImpl=r}};function d2(n){return(n.flags&8)!==0}function h2(n){return(n.flags&16)!==0}function f2(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];p2(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function aA(n){return n===3||n===4||n===6}function p2(n){return n.charCodeAt(0)===64}function Su(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?D0(n,t,i,null,e[++r]):D0(n,t,i,null,null))}}return n}function D0(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function cA(n){return n!==ya}function Xh(n){return n&32767}function g2(n){return n>>16}function ef(n,e){let t=g2(n),r=e;for(;t>0;)r=r[Lo],t--;return r}var e_=!0;function tf(n){let e=e_;return e_=n,e}var m2=256,uA=m2-1,lA=5,y2=0,cr={};function v2(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Fo)&&(r=t[Fo]),r==null&&(r=t[Fo]=y2++);let i=r&uA,o=1<<i;e.data[n+(i>>lA)]|=o}function nf(n,e){let t=dA(n,e);if(t!==-1)return t;let r=e[he];r.firstCreatePass&&(n.injectorIndex=e.length,qv(r.data,n),qv(e,null),qv(r.blueprint,null));let i=__(n,e),o=n.injectorIndex;if(cA(i)){let s=Xh(i),a=ef(i,e),c=a[he].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function qv(n,e){n.push(0,0,0,0,0,0,0,0,e)}function dA(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function __(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=mA(i),r===null)return ya;if(t++,i=i[Lo],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return ya}function t_(n,e,t){v2(n,e,t)}function _2(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(aA(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function hA(n,e,t){if(t&8||n!==void 0)return n;Rh(e,"NodeInjector")}function fA(n,e,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=n[Oi],o=Wt(void 0);try{return i?i.get(e,r,t&8):dv(e,r,t&8)}finally{Wt(o)}}return hA(r,e,t)}function pA(n,e,t,r=0,i){if(n!==null){if(e[ue]&2048&&!(r&2)){let s=b2(n,e,t,r,cr);if(s!==cr)return s}let o=gA(n,e,t,r,cr);if(o!==cr)return o}return fA(e,t,r,i)}function gA(n,e,t,r,i){let o=w2(t);if(typeof o=="function"){if(!xv(e,n,r))return r&1?hA(i,t,r):fA(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&8))Rh(t);else return s}finally{Fv()}}else if(typeof o=="number"){let s=null,a=dA(n,e),c=ya,l=r&1?e[An][Cn]:null;for((a===-1||r&4)&&(c=a===-1?__(n,e):e[a+8],c===ya||!C0(r,!1)?a=-1:(s=e[he],a=Xh(c),e=ef(c,e)));a!==-1;){let d=e[he];if(S0(o,a,d.data)){let f=E2(a,e,t,s,r,l);if(f!==cr)return f}c=e[a+8],c!==ya&&C0(r,e[he].data[a+8]===l)&&S0(o,a,e)?(s=d,a=Xh(c),e=ef(c,e)):a=-1}}return i}function E2(n,e,t,r,i,o){let s=e[he],a=s.data[n+8],c=r==null?Fi(a)&&e_:r!=s&&(a.type&3)!==0,l=i&1&&o===a,d=I2(a,s,t,c,l);return d!==null?rf(e,s,d,a,i):cr}function I2(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,c=n.directiveStart,l=n.directiveEnd,d=o>>20,f=r?a:a+d,g=i?a+d:l;for(let m=f;m<g;m++){let E=s[m];if(m<c&&t===E||m>=c&&E.type===t)return m}if(i){let m=s[c];if(m&&sr(m)&&m.type===t)return c}return null}function rf(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof qo){let a=o;if(a.resolving){let m=OC(s[t]);throw lv(m)}let c=tf(a.canSeeViewProviders);a.resolving=!0;let l=s[t].type||s[t],d,f=a.injectImpl?Wt(a.injectImpl):null,g=xv(n,r,0);try{o=n[t]=a.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&u2(t,s[t],e)}finally{f!==null&&Wt(f),tf(c),a.resolving=!1,Fv()}}return o}function w2(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Fo)?n[Fo]:void 0;return typeof e=="number"?e>=0?e&uA:T2:e}function S0(n,e,t){let r=1<<n;return!!(t[e+(n>>lA)]&r)}function C0(n,e){return!(n&2)&&!(n&1&&e)}var Ho=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return pA(this._tNode,this._lView,e,Po(r),t)}};function T2(){return new Ho(Kt(),Re())}function Wo(n){return wa(()=>{let e=n.prototype.constructor,t=e[ru]||n_(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[ru]||n_(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function n_(n){return rv(n)?()=>{let e=n_(At(n));return e&&e()}:Ai(n)}function b2(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[ue]&2048&&!pa(s);){let a=gA(o,s,t,r|2,cr);if(a!==cr)return a;let c=o.parent;if(!c){let l=s[Iv];if(l){let d=l.get(t,cr,r);if(d!==cr)return d}c=mA(s),s=s[Lo]}o=c}return i}function mA(n){let e=n[he],t=e.type;return t===2?e.declTNode:t===1?n[Cn]:null}function Nu(n){return _2(Kt(),n)}function D2(){return gf(Kt(),Re())}function gf(n,e){return new Ui(Bn(n,e))}var Ui=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=D2}return n})();function yA(n){return(n.flags&128)===128}var E_=(function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n})(E_||{}),vA=new Map,S2=0;function C2(){return S2++}function A2(n){vA.set(n[du],n)}function r_(n){vA.delete(n[du])}var A0="__ngContext__";function va(n,e){or(e)?(n[A0]=e[du],A2(e)):n[A0]=e}function _A(n){return IA(n[fa])}function EA(n){return IA(n[Sn])}function IA(n){for(;n!==null&&!Un(n);)n=n[Sn];return n}var i_;function I_(n){i_=n}function wA(){if(i_!==void 0)return i_;if(typeof document<"u")return document;throw new P(210,!1)}var mf=new B("",{providedIn:"root",factory:()=>R2}),R2="ng",yf=new B(""),Bi=new B("",{providedIn:"platform",factory:()=>"unknown"});var vf=new B(""),_f=new B("",{providedIn:"root",factory:()=>wA().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var N2="h",M2="b";var TA=!1,bA=new B("",{providedIn:"root",factory:()=>TA});var P2=(n,e,t,r)=>{};function k2(n,e,t,r){P2(n,e,t,r)}function w_(n){return(n.flags&32)===32}var O2=()=>null;function DA(n,e,t=!1){return O2(n,e,t)}function SA(n,e){let t=n.contentQueries;if(t!==null){let r=fe(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];Ov(o),a.contentQueries(2,e[s],s)}}}finally{fe(r)}}}function o_(n,e,t){Ov(0);let r=fe(null);try{e(n,t)}finally{fe(r)}}function CA(n,e,t){if(wv(e)){let r=fe(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let c=t[s];a.contentQueries(1,c,s)}}}finally{fe(r)}}}var Ur=(function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n})(Ur||{});var Gh;function x2(){if(Gh===void 0&&(Gh=null,Vr.trustedTypes))try{Gh=Vr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Gh}function R0(n){return x2()?.createScriptURL(n)||n}var of=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ch})`}};function Ef(n){return n instanceof of?n.changingThisBreaksApplicationSecurity:n}function T_(n,e){let t=AA(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Ch})`)}return t===e}function AA(n){return n instanceof of&&n.getTypeName()||null}var F2=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function RA(n){return n=String(n),n.match(F2)?n:"unsafe:"+n}var If=(function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n})(If||{});function NA(n){let e=PA();return e?e.sanitize(If.URL,n)||"":T_(n,"URL")?Ef(n):RA(su(n))}function MA(n){let e=PA();if(e)return R0(e.sanitize(If.RESOURCE_URL,n)||"");if(T_(n,"ResourceURL"))return R0(Ef(n));throw new P(904,!1)}function L2(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?MA:NA}function b_(n,e,t){return L2(e,t)(n)}function PA(){let n=Re();return n&&n[ir].sanitizer}function kA(n){return n instanceof Function?n():n}function V2(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var OA="ng-template";function j2(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&V2(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(D_(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function D_(n){return n.type===4&&n.value!==OA}function U2(n,e,t){let r=n.type===4&&!t?OA:n.value;return e===r}function B2(n,e,t){let r=4,i=n.attrs,o=i!==null?q2(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!$n(r)&&!$n(c))return!1;if(s&&$n(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!U2(n,c,t)||c===""&&e.length===1){if($n(r))return!1;s=!0}}else if(r&8){if(i===null||!j2(n,i,c,t)){if($n(r))return!1;s=!0}}else{let l=e[++a],d=$2(c,i,D_(n),t);if(d===-1){if($n(r))return!1;s=!0;continue}if(l!==""){let f;if(d>o?f="":f=i[d+1].toLowerCase(),r&2&&l!==f){if($n(r))return!1;s=!0}}}}return $n(r)||s}function $n(n){return(n&1)===0}function $2(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return z2(e,n)}function H2(n,e,t=!1){for(let r=0;r<e.length;r++)if(B2(n,e[r],t))return!0;return!1}function q2(n){for(let e=0;e<n.length;e++){let t=n[e];if(aA(t))return e}return n.length}function z2(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function N0(n,e){return n?":not("+e.trim()+")":e}function G2(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!$n(s)&&(e+=N0(o,i),i=""),r=s,o=o||!$n(r);t++}return i!==""&&(e+=N0(o,i)),e}function W2(n){return n.map(G2).join(",")}function K2(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!$n(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var Hr={};function Q2(n,e){return n.createText(e)}function Y2(n,e,t){n.setValue(e,t)}function xA(n,e,t){return n.createElement(e,t)}function sf(n,e,t,r,i){n.insertBefore(e,t,r,i)}function FA(n,e,t){n.appendChild(e,t)}function M0(n,e,t,r,i){r!==null?sf(n,e,t,r,i):FA(n,e,t)}function J2(n,e,t,r){n.removeChild(null,e,t,r)}function Z2(n,e,t){n.setAttribute(e,"style",t)}function X2(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function LA(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&f2(n,e,r),i!==null&&X2(n,e,i),o!==null&&Z2(n,e,o)}function S_(n,e,t,r,i,o,s,a,c,l,d){let f=Ut+r,g=f+i,m=ej(f,g),E=typeof l=="function"?l():l;return m[he]={type:n,blueprint:m,template:t,queries:null,viewQuery:a,declTNode:e,data:m.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:E,incompleteFirstPass:!1,ssrId:d}}function ej(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Hr);return t}function tj(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=S_(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function C_(n,e,t,r,i,o,s,a,c,l,d){let f=e.blueprint.slice();return f[jn]=i,f[ue]=r|4|128|8|64|1024,(l!==null||n&&n[ue]&2048)&&(f[ue]|=2048),Sv(f),f[Rt]=f[Lo]=n,f[jt]=t,f[ir]=s||n&&n[ir],f[Ye]=a||n&&n[Ye],f[Oi]=c||n&&n[Oi]||null,f[Cn]=o,f[du]=C2(),f[lu]=d,f[Iv]=l,f[An]=e.type==2?n[An]:f,f}function nj(n,e,t){let r=Bn(e,n),i=tj(t),o=n[ir].rendererFactory,s=A_(n,C_(n,i,null,VA(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function VA(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function jA(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function A_(n,e){return n[fa]?n[Ev][Sn]=e:n[fa]=e,n[Ev]=e,e}function be(n=1){UA(rn(),Re(),$o()+n,!1)}function UA(n,e,t,r){if(!r)if((e[ue]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Qh(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Yh(e,o,0,t)}Li(t)}var wf=(function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n})(wf||{});function s_(n,e,t,r){let i=fe(null);try{let[o,s,a]=n.inputs[t],c=null;(s&wf.SignalBased)!==0&&(c=e[o][Lt]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,c,r,t,o):tA(e,c,o,r)}finally{fe(i)}}var ur=(function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n})(ur||{}),rj;function R_(n,e){return rj(n,e)}var _a=new Set,N_=(function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n})(N_||{}),Mu=new B(""),P0=new Set;function Pu(n){P0.has(n)||(P0.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var BA=!1,a_=class extends ot{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,GC()&&(this.destroyRef=O(jr,{optional:!0})??void 0,this.pendingTasks=O(ar,{optional:!0})??void 0)}emit(e){let t=fe(null);try{super.next(e)}finally{fe(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Ke&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},nt=a_;function $A(n){let e,t;function r(){n=Tu;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function k0(n){return queueMicrotask(()=>n()),()=>{n=Tu}}var M_="isAngularZone",af=M_+"_ID",ij=0,Se=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new nt(!1);onMicrotaskEmpty=new nt(!1);onStable=new nt(!1);onError=new nt(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=BA}=e;if(typeof Zone>"u")throw new P(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,aj(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(M_)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new P(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new P(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,oj,Tu,Tu);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},oj={};function P_(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function sj(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){$A(()=>{n.callbackScheduled=!1,c_(n),n.isCheckStableRunning=!0,P_(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),c_(n)}function aj(n){let e=()=>{sj(n)},t=ij++;n._inner=n._inner.fork({name:"angular",properties:{[M_]:!0,[af]:t,[af+t]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(cj(c))return r.invokeTask(o,s,a,c);try{return O0(n),r.invokeTask(o,s,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),x0(n)}},onInvoke:(r,i,o,s,a,c,l)=>{try{return O0(n),r.invoke(o,s,a,c,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!uj(c)&&e(),x0(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,c_(n),P_(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function c_(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function O0(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function x0(n){n._nesting--,P_(n)}var cf=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new nt;onMicrotaskEmpty=new nt;onStable=new nt;onError=new nt;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function cj(n){return HA(n,"__ignore_ng_zone__")}function uj(n){return HA(n,"__scheduler_tick__")}function HA(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var qA=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=q({token:n,providedIn:"root",factory:()=>new n})}return n})();var lj=new B("",{providedIn:"root",factory:()=>({queue:new Set,isScheduled:!1,scheduler:null})});function zA(n,e){let t=n.get(lj);if(Array.isArray(e))for(let r of e)t.queue.add(r);else t.queue.add(e);t.scheduler&&t.scheduler(n)}function dj(n,e){for(let[t,r]of e)zA(n,r.animateFns)}function F0(n,e,t,r){let i=n?.[fu]?.enter;e!==null&&i&&i.has(t.index)&&dj(r,i)}function ma(n,e,t,r,i,o,s,a){if(i!=null){let c,l=!1;Un(i)?c=i:or(i)&&(l=!0,i=i[jn]);let d=Rn(i);n===0&&r!==null?(F0(a,r,o,t),s==null?FA(e,r,d):sf(e,r,d,s||null,!0)):n===1&&r!==null?(F0(a,r,o,t),sf(e,r,d,s||null,!0)):n===2?L0(a,o,t,f=>{J2(e,d,l,f)}):n===3&&L0(a,o,t,()=>{e.destroyNode(d)}),c!=null&&bj(e,n,t,c,o,r,s)}}function hj(n,e){GA(n,e),e[jn]=null,e[Cn]=null}function fj(n,e,t,r,i,o){r[jn]=i,r[Cn]=e,Tf(n,r,t,1,i,o)}function GA(n,e){e[ir].changeDetectionScheduler?.notify(9),Tf(n,e,e[Ye],2,null,null)}function pj(n){let e=n[fa];if(!e)return zv(n[he],n);for(;e;){let t=null;if(or(e))t=e[fa];else{let r=e[nn];r&&(t=r)}if(!t){for(;e&&!e[Sn]&&e!==n;)or(e)&&zv(e[he],e),e=e[Rt];e===null&&(e=n),or(e)&&zv(e[he],e),t=e&&e[Sn]}e=t}}function k_(n,e){let t=n[gu],r=t.indexOf(e);t.splice(r,1)}function WA(n,e){if(Bo(e))return;let t=e[Ye];t.destroyNode&&Tf(n,e,t,3,null,null),pj(e)}function zv(n,e){if(Bo(e))return;let t=fe(null);try{e[ue]&=-129,e[ue]|=256,e[mn]&&Zc(e[mn]),yj(n,e),mj(n,e),e[he].type===1&&e[Ye].destroy();let r=e[Vo];if(r!==null&&Un(e[Rt])){r!==e[Rt]&&k_(r,e);let i=e[Uo];i!==null&&i.detachView(n)}r_(e)}finally{fe(t)}}function L0(n,e,t,r){let i=n?.[fu];if(i==null||i.leave==null||!i.leave.has(e.index))return r(!1);if(i.skipLeaveAnimations)return i.skipLeaveAnimations=!1,r(!1);n&&_a.add(n),zA(t,()=>{if(i.leave&&i.leave.has(e.index)){let s=i.leave.get(e.index),a=[];if(s)for(let c=0;c<s.animateFns.length;c++){let l=s.animateFns[c],{promise:d}=l();a.push(d)}i.running=Promise.allSettled(a),gj(n,r)}else n&&_a.delete(n),r(!1)})}function gj(n,e){let t=n[fu]?.running;if(t){t.then(()=>{n[fu].running=void 0,_a.delete(n),e(!0)});return}e(!1)}function mj(n,e){let t=n.cleanup,r=e[ha];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[ha]=null);let i=e[Fr];if(i!==null){e[Fr]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[hu];if(o!==null){e[hu]=null;for(let s of o)s.destroy()}}function yj(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof qo)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];Oe(4,a,c);try{c.call(a)}finally{Oe(5,a,c)}}else{Oe(4,i,o);try{o.call(i)}finally{Oe(5,i,o)}}}}}function vj(n,e,t){return _j(n,e.parent,t)}function _j(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[jn];if(Fi(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===Ur.None||i===Ur.Emulated)return null}return Bn(r,t)}function Ej(n,e,t){return wj(n,e,t)}function Ij(n,e,t){return n.type&40?Bn(n,t):null}var wj=Ij,V0;function O_(n,e,t,r){let i=vj(n,r,e),o=e[Ye],s=r.parent||e[Cn],a=Ej(s,r,e);if(i!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)M0(o,i,t[c],a,!1);else M0(o,i,t,a,!1);V0!==void 0&&V0(o,r,e,t,i)}function bu(n,e){if(e!==null){let t=e.type;if(t&3)return Bn(e,n);if(t&4)return u_(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return bu(n,r);{let i=n[e.index];return Un(i)?u_(-1,i):Rn(i)}}else{if(t&128)return bu(n,e.next);if(t&32)return R_(e,n)()||Rn(n[e.index]);{let r=KA(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Ri(n[An]);return bu(i,r)}else return bu(n,e.next)}}}return null}function KA(n,e){if(e!==null){let r=n[An][Cn],i=e.projection;return r.projection[i]}return null}function u_(n,e){let t=nn+n+1;if(t<e.length){let r=e[t],i=r[he].firstChild;if(i!==null)return bu(r,i)}return e[xi]}function x_(n,e,t,r,i,o,s){for(;t!=null;){let a=r[Oi];if(t.type===128){t=t.next;continue}let c=r[t.index],l=t.type;if(s&&e===0&&(c&&va(Rn(c),r),t.flags|=2),!w_(t))if(l&8)x_(n,e,t.child,r,i,o,!1),ma(e,n,a,i,c,t,o,r);else if(l&32){let d=R_(t,r),f;for(;f=d();)ma(e,n,a,i,f,t,o,r);ma(e,n,a,i,c,t,o,r)}else l&16?Tj(n,e,r,t,i,o):ma(e,n,a,i,c,t,o,r);t=s?t.projectionNext:t.next}}function Tf(n,e,t,r,i,o){x_(t,r,n.firstChild,e,i,o,!1)}function Tj(n,e,t,r,i,o){let s=t[An],c=s[Cn].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let d=c[l];ma(e,n,t[Oi],i,d,r,o,t)}else{let l=c,d=s[Rt];yA(r)&&(l.flags|=128),x_(n,e,l,d,i,o,!0)}}function bj(n,e,t,r,i,o,s){let a=r[xi],c=Rn(r);a!==c&&ma(e,n,t,o,a,i,s);for(let l=nn;l<r.length;l++){let d=r[l];Tf(d[he],d,n,e,o,a)}}function Dj(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:ur.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=ur.Important),n.setStyle(t,r,i,o))}}function QA(n,e,t,r,i){let o=$o(),s=r&2;try{Li(-1),s&&e.length>Ut&&UA(n,e,Ut,!1),Oe(s?2:0,i,t),t(r,i)}finally{Li(o),Oe(s?3:1,i,t)}}function F_(n,e,t){Pj(n,e,t),(t.flags&64)===64&&kj(n,e,t)}function YA(n,e,t=Bn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function Sj(n,e,t,r){let o=r.get(bA,TA)||t===Ur.ShadowDom,s=n.selectRootElement(e,o);return Cj(s),s}function Cj(n){Aj(n)}var Aj=()=>null;function Rj(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function JA(n,e,t,r,i,o){let s=e[he];if(L_(n,s,e,t,r)){Fi(n)&&Mj(e,n.index);return}n.type&3&&(t=Rj(t)),Nj(n,e,t,r,i,o)}function Nj(n,e,t,r,i,o){if(n.type&3){let s=Bn(n,e);r=o!=null?o(r,n.value||"",t):r,i.setProperty(s,t,r)}else n.type&12}function Mj(n,e){let t=Nn(e,n);t[ue]&16||(t[ue]|=64)}function Pj(n,e,t){let r=t.directiveStart,i=t.directiveEnd;Fi(t)&&nj(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||nf(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],c=rf(e,n,s,t);if(va(c,e),o!==null&&Lj(e,s-r,c,a,t,o),sr(a)){let l=Nn(t.index,e);l[jt]=rf(e,n,s,t)}}}function kj(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=f0();try{Li(o);for(let a=r;a<i;a++){let c=n.data[a],l=e[a];Vh(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&Oj(c,l)}}finally{Li(-1),Vh(s)}}function Oj(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function ZA(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];H2(e,o.selectors,!1)&&(r??=[],sr(o)?r.unshift(o):r.push(o))}return r}function xj(n,e,t,r,i,o){let s=Bn(n,e);Fj(e[Ye],s,o,n.value,t,r,i)}function Fj(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?su(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function Lj(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],l=s[a+1];s_(r,t,c,l)}}function Vj(n,e,t,r,i){let o=Ut+t,s=e[he],a=i(s,e,n,r,t);e[o]=a,ga(n,!0);let c=n.type===2;return c?(LA(e[Ye],a,n),(t0()===0||mu(n))&&va(a,e),n0()):va(a,e),$h()&&(!c||!w_(n))&&O_(s,e,a,n),n}function jj(n){let e=n;return Mv()?c0():(e=e.parent,ga(e,!1)),e}function Uj(n,e){let t=n[Oi];if(!t)return;let r;try{r=t.get(on,null)}catch{r=null}r?.(e)}function L_(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let l=s[c],d=s[c+1],f=e.data[l];s_(f,t[l],d,i),a=!0}if(o)for(let c of o){let l=t[c],d=e.data[c];s_(d,l,r,i),a=!0}return a}function Bj(n,e){let t=Nn(e,n),r=t[he];$j(r,t);let i=t[jn];i!==null&&t[lu]===null&&(t[lu]=DA(i,t[Oi])),Oe(18),V_(r,t,t[jt]),Oe(19,t[jt])}function $j(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function V_(n,e,t){jh(e);try{let r=n.viewQuery;r!==null&&o_(1,r,t);let i=n.template;i!==null&&QA(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Uo]?.finishViewCreation(n),n.staticContentQueries&&SA(n,e),n.staticViewQueries&&o_(2,n.viewQuery,t);let o=n.components;o!==null&&Hj(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[ue]&=-5,Uh()}}function Hj(n,e){for(let t=0;t<e.length;t++)Bj(n,e[t])}function qj(n,e,t,r){let i=fe(null);try{let o=e.tView,a=n[ue]&4096?4096:16,c=C_(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];c[Vo]=l;let d=n[Uo];return d!==null&&(c[Uo]=d.createEmbeddedView(o)),V_(o,c,t),c}finally{fe(i)}}function j0(n,e){return!e||e.firstChild===null||yA(n)}function Cu(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(Rn(o)),Un(o)&&XA(o,r);let s=t.type;if(s&8)Cu(n,e,t.child,r);else if(s&32){let a=R_(t,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=KA(e,t);if(Array.isArray(a))r.push(...a);else{let c=Ri(e[An]);Cu(c[he],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function XA(n,e){for(let t=nn;t<n.length;t++){let r=n[t],i=r[he].firstChild;i!==null&&Cu(r[he],r,i,e)}n[xi]!==n[jn]&&e.push(n[xi])}function eR(n){if(n[kh]!==null){for(let e of n[kh])e.impl.addSequence(e);n[kh].length=0}}var tR=[];function zj(n){return n[mn]??Gj(n)}function Gj(n){let e=tR.pop()??Object.create(Kj);return e.lView=n,e}function Wj(n){n.lView[mn]!==n&&(n.lView=null,tR.push(n))}var Kj=de(F({},Gs),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{_u(n.lView)},consumerOnSignalRead(){this.lView[mn]=this}});function Qj(n){let e=n[mn]??Object.create(Yj);return e.lView=n,e}var Yj=de(F({},Gs),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=Ri(n.lView);for(;e&&!nR(e[he]);)e=Ri(e);e&&Cv(e)},consumerOnSignalRead(){this.lView[mn]=this}});function nR(n){return n.type!==2}function rR(n){if(n[hu]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[hu])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[ue]&8192)}}var Jj=100;function iR(n,e=0){let r=n[ir].rendererFactory,i=!1;i||r.begin?.();try{Zj(n,e)}finally{i||r.end?.()}}function Zj(n,e){let t=Pv();try{kv(!0),l_(n,e);let r=0;for(;vu(n);){if(r===Jj)throw new P(103,!1);r++,l_(n,1)}}finally{kv(t)}}function Xj(n,e,t,r){if(Bo(e))return;let i=e[ue],o=!1,s=!1;jh(e);let a=!0,c=null,l=null;o||(nR(n)?(l=zj(e),c=Ks(l)):qd()===null?(a=!1,l=Qj(e),c=Ks(l)):e[mn]&&(Zc(e[mn]),e[mn]=null));try{Sv(e),u0(n.bindingStartIndex),t!==null&&QA(n,e,t,2,r);let d=(i&3)===3;if(!o)if(d){let m=n.preOrderCheckHooks;m!==null&&Qh(e,m,null)}else{let m=n.preOrderHooks;m!==null&&Yh(e,m,0,null),Hv(e,0)}if(s||eU(e),rR(e),oR(e,0),n.contentQueries!==null&&SA(n,e),!o)if(d){let m=n.contentCheckHooks;m!==null&&Qh(e,m)}else{let m=n.contentHooks;m!==null&&Yh(e,m,1),Hv(e,1)}nU(n,e);let f=n.components;f!==null&&aR(e,f,0);let g=n.viewQuery;if(g!==null&&o_(2,g,r),!o)if(d){let m=n.viewCheckHooks;m!==null&&Qh(e,m)}else{let m=n.viewHooks;m!==null&&Yh(e,m,2),Hv(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Ph]){for(let m of e[Ph])m();e[Ph]=null}o||(eR(e),e[ue]&=-73)}catch(d){throw o||_u(e),d}finally{l!==null&&(Yc(l,c),a&&Wj(l)),Uh()}}function oR(n,e){for(let t=_A(n);t!==null;t=EA(t))for(let r=nn;r<t.length;r++){let i=t[r];sR(i,e)}}function eU(n){for(let e=_A(n);e!==null;e=EA(e)){if(!(e[ue]&2))continue;let t=e[gu];for(let r=0;r<t.length;r++){let i=t[r];Cv(i)}}}function tU(n,e,t){Oe(18);let r=Nn(e,n);sR(r,t),Oe(19,r[jt])}function sR(n,e){xh(n)&&l_(n,e)}function l_(n,e){let r=n[he],i=n[ue],o=n[mn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Jc(o)),s||=!1,o&&(o.dirty=!1),n[ue]&=-9217,s)Xj(r,n,r.template,n[jt]);else if(i&8192){let a=fe(null);try{rR(n),oR(n,1);let c=r.components;c!==null&&aR(n,c,1),eR(n)}finally{fe(a)}}}function aR(n,e,t){for(let r=0;r<e.length;r++)tU(n,e[r],t)}function nU(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Li(~i);else{let o=i,s=t[++r],a=t[++r];h0(s,o);let c=e[o];Oe(24,c),a(2,c),Oe(25,c)}}}finally{Li(-1)}}function j_(n,e){let t=Pv()?64:1088;for(n[ir].changeDetectionScheduler?.notify(e);n;){n[ue]|=t;let r=Ri(n);if(pa(n)&&!r)return n;n=r}return null}function cR(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function rU(n,e,t,r=!0){let i=e[he];if(iU(i,e,n,t),r){let s=u_(t,n),a=e[Ye],c=a.parentNode(n[xi]);c!==null&&fj(i,n[Cn],a,e,c,s)}let o=e[lu];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function d_(n,e){if(n.length<=nn)return;let t=nn+e,r=n[t];if(r){let i=r[Vo];i!==null&&i!==n&&k_(i,r),e>0&&(n[t-1][Sn]=r[Sn]);let o=au(n,nn+e);hj(r[he],r);let s=o[Uo];s!==null&&s.detachView(o[he]),r[Rt]=null,r[Sn]=null,r[ue]&=-129}return r}function iU(n,e,t,r){let i=nn+r,o=t.length;r>0&&(t[i-1][Sn]=e),r<o-nn?(e[Sn]=t[i],hv(t,nn+r,e)):(t.push(e),e[Sn]=null),e[Rt]=t;let s=e[Vo];s!==null&&t!==s&&uR(s,e);let a=e[Uo];a!==null&&a.insertView(n),Fh(e),e[ue]|=128}function uR(n,e){let t=n[gu],r=e[Rt];if(or(r))n[ue]|=2;else{let i=r[Rt][An];e[An]!==i&&(n[ue]|=2)}t===null?n[gu]=[e]:t.push(e)}var ji=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[he];return Cu(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[jt]}set context(e){this._lView[jt]=e}get destroyed(){return Bo(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Rt];if(Un(e)){let t=e[pu],r=t?t.indexOf(this):-1;r>-1&&(d_(e,r),au(t,r))}this._attachedToViewContainer=!1}WA(this._lView[he],this._lView)}onDestroy(e){Av(this._lView,e)}markForCheck(){j_(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ue]&=-129}reattach(){Fh(this._lView),this._lView[ue]|=128}detectChanges(){this._lView[ue]|=1024,iR(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new P(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=pa(this._lView),t=this._lView[Vo];t!==null&&!e&&k_(t,this._lView),GA(this._lView[he],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new P(902,!1);this._appRef=e;let t=pa(this._lView),r=this._lView[Vo];r!==null&&!t&&uR(r,this._lView),Fh(this._lView)}};var ku=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=oU;constructor(t,r,i){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,i){let o=qj(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:i});return new ji(o)}}return n})();function oU(){return sU(Kt(),Re())}function sU(n,e){return n.type&4?new ku(e,n,gf(n,e)):null}function U_(n,e,t,r,i){let o=n.data[e];if(o===null)o=aU(n,e,t,r,i),d0()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=a0();o.injectorIndex=s===null?-1:s.injectorIndex}return ga(o,!0),o}function aU(n,e,t,r,i){let o=Nv(),s=Mv(),a=s?o:o&&o.parent,c=n.data[e]=uU(n,a,t,e,r,i);return cU(n,c,o,s),c}function cU(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function uU(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return i0()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var ine=new RegExp(`^(\\d+)*(${M2}|${N2})*(.*)`);var lU=()=>null;function U0(n,e){return lU(n,e)}var lR=class{},bf=class{},h_=class{resolveComponentFactory(e){throw new P(917,!1)}},Ou=class{static NULL=new h_},Br=class{},Ko=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>dU()}return n})();function dU(){let n=Re(),e=Kt(),t=Nn(e.index,n);return(or(t)?t:n)[Ye]}var dR=(()=>{class n{static \u0275prov=q({token:n,providedIn:"root",factory:()=>null})}return n})();var Jh={},f_=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){let i=this.injector.get(e,Jh,r);return i!==Jh||t===Jh?i:this.parentInjector.get(e,t,r)}};function B0(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=nv(i,a);else if(o==2){let c=a,l=e[++s];r=nv(r,c+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function J(n,e=0){let t=Re();if(t===null)return Q(n,e);let r=Kt();return pA(r,t,At(n),e)}function hR(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a=s,c=null,l=null;for(let d of s)if(d.resolveHostDirectives!==null){[a,c,l]=d.resolveHostDirectives(s);break}pU(n,e,t,a,o,c,l)}o!==null&&r!==null&&hU(t,r,o)}function hU(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new P(-301,!1);r.push(e[i],o)}}function fU(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function pU(n,e,t,r,i,o,s){let a=r.length,c=!1;for(let g=0;g<a;g++){let m=r[g];!c&&sr(m)&&(c=!0,fU(n,t,g)),t_(nf(t,e),n,m.type)}EU(t,n.data.length,a);for(let g=0;g<a;g++){let m=r[g];m.providersResolver&&m.providersResolver(m)}let l=!1,d=!1,f=jA(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let g=0;g<a;g++){let m=r[g];if(t.mergedAttrs=Su(t.mergedAttrs,m.hostAttrs),mU(n,t,e,f,m),_U(f,m,i),s!==null&&s.has(m)){let[A,D]=s.get(m);t.directiveToIndex.set(m.type,[f,A+t.directiveStart,D+t.directiveStart])}else(o===null||!o.has(m))&&t.directiveToIndex.set(m.type,f);m.contentQueries!==null&&(t.flags|=4),(m.hostBindings!==null||m.hostAttrs!==null||m.hostVars!==0)&&(t.flags|=64);let E=m.type.prototype;!l&&(E.ngOnChanges||E.ngOnInit||E.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),l=!0),!d&&(E.ngOnChanges||E.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),d=!0),f++}gU(n,t,o)}function gU(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))$0(0,e,i,r),$0(1,e,i,r),q0(e,r,!1);else{let o=t.get(i);H0(0,e,o,r),H0(1,e,o,r),q0(e,r,!0)}}}function $0(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),fR(e,o)}}function H0(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),fR(e,s)}}function fR(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function q0(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||D_(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!t&&i.hasOwnProperty(c)){let l=i[c];for(let d of l)if(d===e){s??=[],s.push(c,r[a+1]);break}}else if(t&&o.hasOwnProperty(c)){let l=o[c];for(let d=0;d<l.length;d+=2)if(l[d]===e){s??=[],s.push(l[d+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function mU(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=Ai(i.type,!0)),s=new qo(o,sr(i),J,null);n.blueprint[r]=s,t[r]=s,yU(n,e,r,jA(n,t,i.hostVars,Hr),i)}function yU(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;vU(s)!=a&&s.push(a),s.push(t,r,o)}}function vU(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function _U(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;sr(e)&&(t[""]=n)}}function EU(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function pR(n,e,t,r,i,o,s,a){let c=e[he],l=c.consts,d=yu(l,s),f=U_(c,n,t,r,d);return o&&hR(c,e,f,yu(l,a),i),f.mergedAttrs=Su(f.mergedAttrs,f.attrs),f.attrs!==null&&B0(f,f.attrs,!1),f.mergedAttrs!==null&&B0(f,f.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,f),f}function gR(n,e){oA(n,e),wv(e)&&n.queries.elementEnd(e)}function B_(n){return yR(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function mR(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function yR(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function $_(n,e,t){return n[e]=t}function $r(n,e,t){if(t===Hr)return!1;let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function IU(n,e,t,r){let i=$r(n,e,t);return $r(n,e+1,r)||i}function Gv(n,e,t){return function r(i){let o=Fi(n)?Nn(n.index,e):e;j_(o,5);let s=e[jt],a=z0(e,s,t,i),c=r.__ngNextListenerFn__;for(;c;)a=z0(e,s,c,i)&&a,c=c.__ngNextListenerFn__;return a}}function z0(n,e,t,r){let i=fe(null);try{return Oe(6,e,t),t(r)!==!1}catch(o){return Uj(n,o),!1}finally{Oe(7,e,t),fe(i)}}function wU(n,e,t,r,i,o,s,a){let c=mu(n),l=!1,d=null;if(!r&&c&&(d=bU(e,t,o,n.index)),d!==null){let f=d.__ngLastListenerFn__||d;f.__ngNextListenerFn__=s,d.__ngLastListenerFn__=s,l=!0}else{let f=Bn(n,t),g=r?r(f):f;k2(t,g,o,a);let m=i.listen(g,o,a);if(!TU(o)){let E=r?A=>r(Rn(A[n.index])):n.index;vR(E,e,t,o,a,m,!1)}}return l}function TU(n){return n.startsWith("animation")||n.startsWith("transition")}function bU(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[ha],c=i[o+2];return a&&a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function vR(n,e,t,r,i,o,s){let a=e.firstCreatePass?e0(e):null,c=XC(t),l=c.length;c.push(i,o),a&&a.push(r,n,l,(l+1)*(s?-1:1))}function G0(n,e,t,r,i,o){let s=e[t],a=e[he],l=a.data[t].outputs[r],f=s[l].subscribe(o);vR(n.index,a,e,i,o,f,!0)}var p_=Symbol("BINDING");var uf=class extends Ou{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=ki(e);return new Ea(t,this.ngModule)}};function DU(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&wf.SignalBased)!==0};return i&&(o.transform=i),o})}function SU(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function CU(n,e,t){let r=e instanceof Qe?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new f_(t,r):t}function AU(n){let e=n.get(Br,null);if(e===null)throw new P(407,!1);let t=n.get(dR,null),r=n.get(Ni,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function RU(n,e){let t=_R(n);return xA(e,t,t==="svg"?KC:t==="math"?QC:null)}function _R(n){return(n.selectors[0][0]||"div").toLowerCase()}var Ea=class extends bf{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=DU(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=SU(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=W2(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i,o,s){Oe(22);let a=fe(null);try{let c=this.componentDef,l=NU(r,c,s,o),d=CU(c,i||this.ngModule,e),f=AU(d),g=f.rendererFactory.createRenderer(null,c),m=r?Sj(g,r,c.encapsulation,d):RU(c,g),E=s?.some(W0)||o?.some(M=>typeof M!="function"&&M.bindings.some(W0)),A=C_(null,l,null,512|VA(c),null,null,f,g,d,null,DA(m,d,!0));A[Ut]=m,jh(A);let D=null;try{let M=pR(Ut,A,2,"#host",()=>l.directiveRegistry,!0,0);LA(g,m,M),va(m,A),F_(l,A,M),CA(l,M,A),gR(l,M),t!==void 0&&PU(M,this.ngContentSelectors,t),D=Nn(M.index,A),A[jt]=D[jt],V_(l,A,null)}catch(M){throw D!==null&&r_(D),r_(A),M}finally{Oe(23),Uh()}return new lf(this.componentType,A,!!E)}finally{fe(a)}}};function NU(n,e,t,r){let i=n?["ng-version","20.3.9"]:K2(e.selectors[0]),o=null,s=null,a=0;if(t)for(let d of t)a+=d[p_].requiredVars,d.create&&(d.targetIdx=0,(o??=[]).push(d)),d.update&&(d.targetIdx=0,(s??=[]).push(d));if(r)for(let d=0;d<r.length;d++){let f=r[d];if(typeof f!="function")for(let g of f.bindings){a+=g[p_].requiredVars;let m=d+1;g.create&&(g.targetIdx=m,(o??=[]).push(g)),g.update&&(g.targetIdx=m,(s??=[]).push(g))}}let c=[e];if(r)for(let d of r){let f=typeof d=="function"?d:d.type,g=mv(f);c.push(g)}return S_(0,null,MU(o,s),1,a,c,null,null,null,[i],null)}function MU(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let r of n)r.create();if(t&2&&e)for(let r of e)r.update()}}function W0(n){let e=n[p_].kind;return e==="input"||e==="twoWay"}var lf=class extends lR{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=Oh(t[he],Ut),this.location=gf(this._tNode,t),this.instance=Nn(this._tNode.index,t)[jt],this.hostView=this.changeDetectorRef=new ji(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=L_(r,i[he],i,e,t);this.previousInputValues.set(e,t);let s=Nn(r.index,i);j_(s,1)}get injector(){return new Ho(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function PU(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Qo=(()=>{class n{static __NG_ELEMENT_ID__=kU}return n})();function kU(){let n=Kt();return xU(n,Re())}var OU=Qo,ER=class extends OU{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return gf(this._hostTNode,this._hostLView)}get injector(){return new Ho(this._hostTNode,this._hostLView)}get parentInjector(){let e=__(this._hostTNode,this._hostLView);if(cA(e)){let t=ef(e,this._hostLView),r=Xh(e),i=t[he].data[r+8];return new Ho(i,t)}else return new Ho(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=K0(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-nn}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=U0(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,j0(this._hostTNode,s)),a}createComponent(e,t,r,i,o,s,a){let c=e&&!o2(e),l;if(c)l=t;else{let D=t||{};l=D.index,r=D.injector,i=D.projectableNodes,o=D.environmentInjector||D.ngModuleRef,s=D.directives,a=D.bindings}let d=c?e:new Ea(ki(e)),f=r||this.parentInjector;if(!o&&d.ngModule==null){let M=(c?f:this.parentInjector).get(Qe,null);M&&(o=M)}let g=ki(d.componentType??{}),m=U0(this._lContainer,g?.id??null),E=m?.firstChild??null,A=d.create(f,i,E,o,s,a);return this.insertImpl(A.hostView,l,j0(this._hostTNode,m)),A}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(YC(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[Rt],l=new ER(c,c[Cn],c[Rt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return rU(s,i,o,r),e.attachToViewContainerRef(),hv(Wv(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=K0(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=d_(this._lContainer,t);r&&(au(Wv(this._lContainer),t),WA(r[he],r))}detach(e){let t=this._adjustIndex(e,-1),r=d_(this._lContainer,t);return r&&au(Wv(this._lContainer),t)!=null?new ji(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function K0(n){return n[pu]}function Wv(n){return n[pu]||(n[pu]=[])}function xU(n,e){let t,r=e[n.index];return Un(r)?t=r:(t=cR(r,e,null,n),e[n.index]=t,A_(e,t)),LU(t,e,n,r),new ER(t,n,e)}function FU(n,e){let t=n[Ye],r=t.createComment(""),i=Bn(e,n),o=t.parentNode(i);return sf(t,o,r,t.nextSibling(i),!1),r}var LU=UU,VU=()=>!1;function jU(n,e,t){return VU(n,e,t)}function UU(n,e,t,r){if(n[xi])return;let i;t.type&8?i=Rn(r):i=FU(e,t),n[xi]=i}var zo=class{},Df=class{};var df=class extends zo{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new uf(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=gv(e);this._bootstrapComponents=kA(o.bootstrap),this._r3Injector=Lv(e,t,[{provide:zo,useValue:this},{provide:Ou,useValue:this.componentFactoryResolver},...r],Lr(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},hf=class extends Df{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new df(this.moduleType,e,[])}};var Au=class extends zo{injector;componentFactoryResolver=new uf(this);instance=null;constructor(e){super();let t=new Oo([...e.providers,{provide:zo,useValue:this},{provide:Ou,useValue:this.componentFactoryResolver}],e.parent||uu(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function xu(n,e,t=null){return new Au({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var BU=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=yv(!1,t.type),i=r.length>0?xu([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=q({token:n,providedIn:"environment",factory:()=>new n(Q(Qe))})}return n})();function Hn(n){return wa(()=>{let e=IR(n),t=de(F({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===E_.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(BU).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Ur.Emulated,styles:n.styles||pn,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&Pu("NgStandalone"),wR(t);let r=n.dependencies;return t.directiveDefs=Q0(r,$U),t.pipeDefs=Q0(r,BC),t.id=zU(t),t})}function $U(n){return ki(n)||mv(n)}function Mn(n){return wa(()=>({type:n.type,bootstrap:n.bootstrap||pn,declarations:n.declarations||pn,imports:n.imports||pn,exports:n.exports||pn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function HU(n,e){if(n==null)return Mi;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,c;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,c=i[3]||null):(o=i,s=i,a=wf.None,c=null),t[o]=[r,a,c],e[o]=s}return t}function qU(n){if(n==null)return Mi;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function vt(n){return wa(()=>{let e=IR(n);return wR(e),e})}function Sf(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function IR(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||Mi,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||pn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:HU(n.inputs,e),outputs:qU(n.outputs),debugInfo:null}}function wR(n){n.features?.forEach(e=>e(n))}function Q0(n,e){return n?()=>{let t=typeof n=="function"?n():n,r=[];for(let i of t){let o=e(i);o!==null&&r.push(o)}return r}:null}function zU(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function GU(n){return Object.getPrototypeOf(n.prototype).constructor}function qn(n){let e=GU(n.type),t=!0,r=[n];for(;e;){let i;if(sr(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new P(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=Kv(n.inputs),s.declaredInputs=Kv(n.declaredInputs),s.outputs=Kv(n.outputs);let a=i.hostBindings;a&&JU(n,a);let c=i.viewQuery,l=i.contentQueries;if(c&&QU(n,c),l&&YU(n,l),WU(n,i),kC(n.outputs,i.outputs),sr(i)&&i.data.animation){let d=n.data;d.animation=(d.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===qn&&(t=!1)}}e=Object.getPrototypeOf(e)}KU(r)}function WU(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function KU(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Su(i.hostAttrs,t=Su(t,i.hostAttrs))}}function Kv(n){return n===Mi?{}:n===pn?[]:n}function QU(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function YU(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function JU(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function ZU(n,e,t,r,i,o,s,a){if(t.firstCreatePass){n.mergedAttrs=Su(n.mergedAttrs,n.attrs);let d=n.tView=S_(2,n,i,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,n),d.queries=t.queries.embeddedTView(n))}a&&(n.flags|=a),ga(n,!1);let c=eB(t,e,n,r);$h()&&O_(t,e,c,n),va(c,e);let l=cR(c,e,c,n);e[r+Ut]=l,A_(e,l),jU(l,n,e)}function XU(n,e,t,r,i,o,s,a,c,l,d){let f=t+Ut,g;return e.firstCreatePass?(g=U_(e,f,4,s||null,a||null),Rv()&&hR(e,n,g,yu(e.consts,l),ZA),oA(e,g)):g=e.data[f],ZU(g,n,e,t,r,i,o,c),mu(g)&&F_(e,n,g),l!=null&&YA(n,g,d),g}function zn(n,e,t,r,i,o,s,a){let c=Re(),l=rn(),d=yu(l.consts,o);return XU(c,l,n,e,t,r,i,d,void 0,s,a),zn}var eB=tB;function tB(n,e,t,r){return Hh(!0),e[Ye].createComment("")}var H_=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var q_=new B("");function $i(n){return!!n&&typeof n.then=="function"}function z_(n){return!!n&&typeof n.subscribe=="function"}var TR=new B("");var G_=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=O(TR,{optional:!0})??[];injector=O(mt);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=et(this.injector,i);if($i(o))t.push(o);else if(z_(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Cf=new B("");function bR(){Dy(()=>{let n="";throw new P(600,n)})}function DR(n){return n.isBoundToModule}var nB=10;var Hi=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=O(on);afterRenderManager=O(qA);zonelessEnabled=O(qh);rootEffectScheduler=O($v);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new ot;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=O(ar);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(oe(t=>!t))}constructor(){O(Mu,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=O(Qe);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=mt.NULL){return this._injector.get(Se).run(()=>{Oe(10);let s=t instanceof bf;if(!this._injector.get(G_).done){let E="";throw new P(405,E)}let c;s?c=t:c=this._injector.get(Ou).resolveComponentFactory(t),this.componentTypes.push(c.componentType);let l=DR(c)?void 0:this._injector.get(zo),d=r||c.selector,f=c.create(i,[],d,l),g=f.location.nativeElement,m=f.injector.get(q_,null);return m?.registerApplication(g),f.onDestroy(()=>{this.detachView(f.hostView),Du(this.components,f),m?.unregisterApplication(g)}),this._loadComponent(f),Oe(11,f),f})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Oe(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(N_.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new P(101,!1);let t=fe(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,fe(t),this.afterTick.next(),Oe(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Br,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<nB;)Oe(14),this.synchronizeOnce(),Oe(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!vu(i))continue;let o=r&&!this.zonelessEnabled?0:1;iR(i,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>vu(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Du(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(Cf,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Du(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new P(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Du(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function Fu(n,e,t,r){let i=Re(),o=wu();if($r(i,o,e)){let s=rn(),a=Bh();xj(a,i,n,e,t,r)}return Fu}var dne=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function at(n,e,t){let r=Re(),i=wu();if($r(r,i,e)){let o=rn(),s=Bh();JA(s,r,n,e,r[Ye],t)}return at}function Y0(n,e,t,r,i){L_(e,n,t,i?"class":"style",r)}function j(n,e,t,r){let i=Re(),o=i[he],s=n+Ut,a=o.firstCreatePass?pR(s,i,2,e,ZA,Rv(),t,r):o.data[s];if(Vj(a,i,n,e,rB),mu(a)){let c=i[he];F_(c,i,a),CA(c,a,i)}return r!=null&&YA(i,a),j}function V(){let n=rn(),e=Kt(),t=jj(e);return n.firstCreatePass&&gR(n,t),o0(t)&&s0(),r0(),t.classesWithoutHost!=null&&d2(t)&&Y0(n,t,Re(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&h2(t)&&Y0(n,t,Re(),t.stylesWithoutHost,!1),V}function Et(n,e,t,r){return j(n,e,t,r),V(),Et}var rB=(n,e,t,r,i)=>(Hh(!0),xA(e[Ye],r,_0()));function W_(){return Re()}var Wh=void 0;function iB(n){let e=Math.floor(Math.abs(n)),t=n.toString().replace(/^[^.]*\.?/,"").length;return e===1&&t===0?1:5}var oB=["en",[["a","p"],["AM","PM"]],[["AM","PM"]],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Wh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Wh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Wh,"{1} 'at' {0}",Wh],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",iB],Qv={};function Qt(n){let e=sB(n),t=J0(e);if(t)return t;let r=e.split("-")[0];if(t=J0(r),t)return t;if(r==="en")return oB;throw new P(701,!1)}function J0(n){return n in Qv||(Qv[n]=Vr.ng&&Vr.ng.common&&Vr.ng.common.locales&&Vr.ng.common.locales[n]),Qv[n]}var qe=(function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n})(qe||{});function sB(n){return n.toLowerCase().replace(/_/g,"-")}var Lu="en-US",aB="USD";var cB=Lu;function SR(n){typeof n=="string"&&(cB=n.toLowerCase().replace(/_/g,"-"))}function rt(n,e,t){let r=Re(),i=rn(),o=Kt();return CR(i,r,r[Ye],o,n,e,t),rt}function CR(n,e,t,r,i,o,s){let a=!0,c=null;if((r.type&3||s)&&(c??=Gv(r,e,o),wU(r,n,e,s,t,i,o,c)&&(a=!1)),a){let l=r.outputs?.[i],d=r.hostDirectiveOutputs?.[i];if(d&&d.length)for(let f=0;f<d.length;f+=2){let g=d[f],m=d[f+1];c??=Gv(r,e,o),G0(r,e,g,m,i,c)}if(l&&l.length)for(let f of l)c??=Gv(r,e,o),G0(r,e,f,i,i,c)}}function dr(n=1){return v0(n)}function Kh(n,e){return n<<17|e<<2}function Go(n){return n>>17&32767}function uB(n){return(n&2)==2}function lB(n,e){return n&131071|e<<17}function g_(n){return n|2}function Ia(n){return(n&131068)>>2}function Yv(n,e){return n&-131069|e<<2}function dB(n){return(n&1)===1}function m_(n){return n|1}function hB(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Go(s),c=Ia(s);n[r]=t;let l=!1,d;if(Array.isArray(t)){let f=t;d=f[1],(d===null||da(f,d)>0)&&(l=!0)}else d=t;if(i)if(c!==0){let g=Go(n[a+1]);n[r+1]=Kh(g,a),g!==0&&(n[g+1]=Yv(n[g+1],r)),n[a+1]=lB(n[a+1],r)}else n[r+1]=Kh(a,0),a!==0&&(n[a+1]=Yv(n[a+1],r)),a=r;else n[r+1]=Kh(c,0),a===0?a=r:n[c+1]=Yv(n[c+1],r),c=r;l&&(n[r+1]=g_(n[r+1])),Z0(n,d,r,!0),Z0(n,d,r,!1),fB(e,d,n,r,o),s=Kh(a,c),o?e.classBindings=s:e.styleBindings=s}function fB(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&da(o,e)>=0&&(t[r+1]=m_(t[r+1]))}function Z0(n,e,t,r){let i=n[t+1],o=e===null,s=r?Go(i):Ia(i),a=!1;for(;s!==0&&(a===!1||o);){let c=n[s],l=n[s+1];pB(c,e)&&(a=!0,n[s+1]=r?m_(l):g_(l)),s=r?Go(l):Ia(l)}a&&(n[t+1]=r?g_(i):m_(i))}function pB(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?da(n,e)>=0:!1}function Vu(n,e){return gB(n,e,null,!0),Vu}function gB(n,e,t,r){let i=Re(),o=rn(),s=l0(2);if(o.firstUpdatePass&&yB(o,n,s,r),e!==Hr&&$r(i,s,e)){let a=o.data[$o()];wB(o,a,i,i[Ye],n,i[s+1]=TB(e,t),r,s)}}function mB(n,e){return e>=n.expandoStartIndex}function yB(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[$o()],s=mB(n,t);bB(o,r)&&e===null&&!s&&(e=!1),e=vB(i,o,e,r),hB(i,o,e,t,s,r)}}function vB(n,e,t,r){let i=p0(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=Jv(null,n,e,t,r),t=Ru(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=Jv(i,n,e,t,r),o===null){let c=_B(n,e,r);c!==void 0&&Array.isArray(c)&&(c=Jv(null,n,e,c[1],r),c=Ru(c,e.attrs,r),EB(n,e,r,c))}else o=IB(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function _B(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Ia(r)!==0)return n[Go(r)]}function EB(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[Go(i)]=r}function IB(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=Ru(r,s,t)}return Ru(r,e.attrs,t)}function Jv(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=Ru(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function Ru(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),UC(n,s,t?!0:e[++o]))}return n===void 0?null:n}function wB(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let c=n.data,l=c[a+1],d=dB(l)?X0(c,e,t,i,Ia(l),s):void 0;if(!ff(d)){ff(o)||uB(l)&&(o=X0(c,null,t,i,a,s));let f=Tv($o(),t);Dj(r,s,f,i,o)}}function X0(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let c=n[i],l=Array.isArray(c),d=l?c[1]:c,f=d===null,g=t[i+1];g===Hr&&(g=f?pn:void 0);let m=f?Mh(g,r):d===r?g:void 0;if(l&&!ff(m)&&(m=Mh(c,r)),ff(m)&&(a=m,s))return a;let E=n[i+1];i=s?Go(E):Ia(E)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=Mh(c,r))}return a}function ff(n){return n!==void 0}function TB(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Lr(Ef(n)))),n}function bB(n,e){return(n.flags&(e?8:16))!==0}function z(n,e=""){let t=Re(),r=rn(),i=n+Ut,o=r.firstCreatePass?U_(r,i,1,e,null):r.data[i],s=DB(r,t,o,e,n);t[i]=s,$h()&&O_(r,t,s,o),ga(o,!1)}var DB=(n,e,t,r,i)=>(Hh(!0),Q2(e[Ye],r));function SB(n,e,t,r=""){return $r(n,wu(),t)?e+su(t)+r:Hr}function Nt(n){return ju("",n),Nt}function ju(n,e,t){let r=Re(),i=SB(r,n,e,t);return i!==Hr&&CB(r,$o(),i),ju}function CB(n,e,t){let r=Tv(e,n);Y2(n[Ye],r,t)}function Af(n,e,t){jv(e)&&(e=e());let r=Re(),i=wu();if($r(r,i,e)){let o=rn(),s=Bh();JA(s,r,n,e,r[Ye],t)}return Af}function K_(n,e){let t=jv(n);return t&&n.set(e),t}function Rf(n,e){let t=Re(),r=rn(),i=Kt();return CR(r,t,t[Ye],i,n,e),Rf}function AB(n,e,t){let r=rn();if(r.firstCreatePass){let i=sr(n);y_(t,r.data,r.blueprint,i,!0),y_(e,r.data,r.blueprint,i,!1)}}function y_(n,e,t,r,i){if(n=At(n),Array.isArray(n))for(let o=0;o<n.length;o++)y_(n[o],e,t,r,i);else{let o=rn(),s=Re(),a=Kt(),c=ko(n)?n:At(n.provide),l=_v(n),d=a.providerIndexes&1048575,f=a.directiveStart,g=a.providerIndexes>>20;if(ko(n)||!n.multi){let m=new qo(l,i,J,null),E=Xv(c,e,i?d:d+g,f);E===-1?(t_(nf(a,s),o,c),Zv(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(m),s.push(m)):(t[E]=m,s[E]=m)}else{let m=Xv(c,e,d+g,f),E=Xv(c,e,d,d+g),A=m>=0&&t[m],D=E>=0&&t[E];if(i&&!D||!i&&!A){t_(nf(a,s),o,c);let M=MB(i?NB:RB,t.length,i,r,l,n);!i&&D&&(t[E].providerFactory=M),Zv(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(M),s.push(M)}else{let M=AR(t[i?E:m],l,!i&&r);Zv(o,n,m>-1?m:E,M)}!i&&r&&D&&t[E].componentProviders++}}}function Zv(n,e,t,r){let i=ko(e),o=zC(e);if(i||o){let c=(o?At(e.useClass):e).prototype.ngOnDestroy;if(c){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let d=l.indexOf(t);d===-1?l.push(t,[r,c]):l[d+1].push(r,c)}else l.push(t,c)}}}function AR(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Xv(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function RB(n,e,t,r,i){return v_(this.multi,[])}function NB(n,e,t,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=rf(r,r[he],this.providerFactory.index,i);s=c.slice(0,a),v_(o,s);for(let l=a;l<c.length;l++)s.push(c[l])}else s=[],v_(o,s);return s}function v_(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function MB(n,e,t,r,i,o){let s=new qo(n,t,J,null);return s.multi=[],s.index=e,s.componentProviders=0,AR(s,i,r&&!t),s}function Yo(n,e=[]){return t=>{t.providersResolver=(r,i)=>AB(r,i?i(n):n,e)}}function Nf(n,e,t,r){return PB(Re(),Lh(),n,e,t,r)}function Q_(n,e){let t=n[e];return t===Hr?void 0:t}function PB(n,e,t,r,i,o){let s=e+t;return $r(n,s,i)?$_(n,s+1,o?r.call(o,i):r(i)):Q_(n,s+1)}function kB(n,e,t,r,i,o,s){let a=e+t;return IU(n,a,i,o)?$_(n,a+2,s?r.call(s,i,o):r(i,o)):Q_(n,a+2)}function OB(n,e,t,r,i,o){let s=e+t,a=!1;for(let c=0;c<i.length;c++)$r(n,s++,i[c])&&(a=!0);return a?$_(n,s,r.apply(o,i)):Q_(n,s)}function Uu(n,e){let t=rn(),r,i=n+Ut;t.firstCreatePass?(r=xB(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=Ai(r.type,!0)),s,a=Wt(J);try{let c=tf(!1),l=o();return tf(c),Dv(t,Re(),i,l),l}finally{Wt(a)}}function xB(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function Y_(n,e,t,r){let i=n+Ut,o=Re(),s=bv(o,i);return RR(o,i)?kB(o,Lh(),e,s.transform,t,r,s):s.transform(t,r)}function Mf(n,e,t){let r=n+Ut,i=Re(),o=bv(i,r);return RR(i,r)?OB(i,Lh(),e,o.transform,t,o):o.transform.apply(o,t)}function RR(n,e){return n[he].data[e].pure}var pf=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},J_=(()=>{class n{compileModuleSync(t){return new hf(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=gv(t),o=kA(i.declarations).reduce((s,a)=>{let c=ki(a);return c&&s.push(new Ea(c)),s},[]);return new pf(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var FB=(()=>{class n{zone=O(Se);changeDetectionScheduler=O(Ni);applicationRef=O(Hi);applicationErrorHandler=O(on);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function NR({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new Se(de(F({},MR()),{scheduleInRootZone:t})),[{provide:Se,useFactory:n},{provide:Pi,multi:!0,useFactory:()=>{let r=O(FB,{optional:!0});return()=>r.initialize()}},{provide:Pi,multi:!0,useFactory:()=>{let r=O(LB);return()=>{r.initialize()}}},e===!0?{provide:Uv,useValue:!0}:[],{provide:Bv,useValue:t??BA},{provide:on,useFactory:()=>{let r=O(Se),i=O(Qe),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(nr),o.handleError(s))})}}}]}function MR(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var LB=(()=>{class n{subscription=new Ke;initialized=!1;zone=O(Se);pendingTasks=O(ar);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Se.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Se.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var PR=(()=>{class n{applicationErrorHandler=O(on);appRef=O(Hi);taskService=O(ar);ngZone=O(Se);zonelessEnabled=O(qh);tracing=O(Mu,{optional:!0});disableScheduling=O(Uv,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Ke;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(af):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(O(Bv,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof cf||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?k0:$A;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(af+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,k0(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function VB(){return typeof $localize<"u"&&$localize.locale||Lu}var Ta=new B("",{providedIn:"root",factory:()=>O(Ta,{optional:!0,skipSelf:!0})||VB()}),Z_=new B("",{providedIn:"root",factory:()=>aB});function It(n){return NC(n)}function ba(n,e){return Kd(n,e?.equal)}var kR=class{[Lt];constructor(e){this[Lt]=e}destroy(){this[Lt].destroy()}};var VR=Symbol("InputSignalNode#UNSET"),e$=de(F({},Qd),{transformFn:void 0,applyValueToInputSignal(n,e){Ys(n,e)}});function jR(n,e){let t=Object.create(e$);t.value=n,t.transformFn=e?.transform;function r(){if(Ws(t),t.value===VR){let i=null;throw new P(-950,i)}return t.value}return r[Lt]=t,r}var kf=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>Nu(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},t$=new B("");t$.__NG_ELEMENT_ID__=n=>{let e=Kt();if(e===null)throw new P(204,!1);if(e.type&2)return e.value;if(n&8)return null;throw new P(204,!1)};function OR(n,e){return jR(n,e)}function n$(n){return jR(VR,n)}var UR=(OR.required=n$,OR);var X_=new B(""),r$=new B("");function Bu(n){return!n.moduleRef}function i$(n){let e=Bu(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Se);return t.run(()=>{Bu(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(on),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),Bu(n)){let o=()=>e.destroy(),s=n.platformInjector.get(X_);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(X_);s.add(o),n.moduleRef.onDestroy(()=>{Du(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return s$(r,t,()=>{let o=e.get(ar),s=o.add(),a=e.get(G_);return a.runInitializers(),a.donePromise.then(()=>{let c=e.get(Ta,Lu);if(SR(c||Lu),!e.get(r$,!0))return Bu(n)?e.get(Hi):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(Bu(n)){let d=e.get(Hi);return n.rootComponent!==void 0&&d.bootstrap(n.rootComponent),d}else return o$?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>void o.remove(s))})})}var o$;function s$(n,e,t){try{let r=t();return $i(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n(r)),r}}var Pf=null;function a$(n=[],e){return mt.create({name:e,providers:[{provide:cu,useValue:"platform"},{provide:X_,useValue:new Set([()=>Pf=null])},...n]})}function c$(n=[]){if(Pf)return Pf;let e=a$(n);return Pf=e,bR(),u$(e),e}function u$(n){let e=n.get(yf,null);et(n,()=>{e?.forEach(t=>t())})}function iE(){return!1}var Da=(()=>{class n{static __NG_ELEMENT_ID__=l$}return n})();function l$(n){return d$(Kt(),Re(),(n&16)===16)}function d$(n,e,t){if(Fi(n)&&!t){let r=Nn(n.index,e);return new ji(r,r)}else if(n.type&175){let r=e[An];return new ji(r,e)}return null}var eE=class{constructor(){}supports(e){return B_(e)}create(e){return new tE(e)}},h$=(n,e)=>e,tE=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||h$}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<xR(r,i,o)?t:r,a=xR(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,d=c-i;if(l!=d){for(let g=0;g<l;g++){let m=g<o.length?o[g]:o[g]=0,E=m+g;d<=E&&E<l&&(o[g]=m+1)}let f=s.previousIndex;o[f]=d-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!B_(e))throw new P(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,mR(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new nE(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Of),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Of),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},nE=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},rE=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Of=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new rE,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function xR(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function FR(){return new oE([new eE])}var oE=(()=>{class n{factories;static \u0275prov=q({token:n,providedIn:"root",factory:FR});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:()=>{let r=O(n,{optional:!0,skipSelf:!0});return n.create(t,r||FR())}}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new P(901,!1)}}return n})();function BR(n){let{rootComponent:e,appProviders:t,platformProviders:r,platformRef:i}=n;Oe(8);try{let o=i?.injector??c$(r),s=[NR({}),{provide:Ni,useExisting:PR},I0,...t||[]],a=new Au({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return i$({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{Oe(9)}}function Sa(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}var qR=null;function Pn(){return qR}function sE(n){qR??=n}var $u=class{},aE=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:()=>O(zR),providedIn:"platform"})}return n})();var zR=(()=>{class n extends aE{_location;_history;_doc=O(tt);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Pn().getBaseHref(this._doc)}onPopState(t){let r=Pn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=Pn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function GR(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function $R(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function qi(n){return n&&n[0]!=="?"?`?${n}`:n}var Ca=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:()=>O(KR),providedIn:"root"})}return n})(),WR=new B(""),KR=(()=>{class n extends Ca{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??O(tt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return GR(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+qi(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+qi(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+qi(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(Q(aE),Q(WR,8))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Aa=(()=>{class n{_subject=new ot;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=g$($R(HR(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+qi(r))}normalize(t){return n.stripTrailingSlash(p$(this._basePath,HR(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+qi(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+qi(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=qi;static joinWithSlash=GR;static stripTrailingSlash=$R;static \u0275fac=function(r){return new(r||n)(Q(Ca))};static \u0275prov=q({token:n,factory:()=>f$(),providedIn:"root"})}return n})();function f$(){return new Aa(Q(Ca))}function p$(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function HR(n){return n.replace(/\/index.html$/,"")}function g$(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var eN={ADP:[void 0,void 0,0],AFN:[void 0,"\u060B",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058F",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20BC"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09F3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xA5","\xA5"],COP:[void 0,"$",2],CRC:[void 0,"\u20A1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010D",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xA3"],ESP:[void 0,"\u20A7",0],EUR:["\u20AC"],FJD:[void 0,"$"],FKP:[void 0,"\xA3"],GBP:["\xA3"],GEL:[void 0,"\u20BE"],GHS:[void 0,"GH\u20B5"],GIP:[void 0,"\xA3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xA5",void 0,0],KHR:[void 0,"\u17DB"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20A9",0],KRW:["\u20A9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20B8"],LAK:[void 0,"\u20AD",0],LBP:[void 0,"L\xA3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20AE",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20A6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20B1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20B2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20BD"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xA3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xA3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xA3",0],THB:[void 0,"\u0E3F"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20BA"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20B4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20AB",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xA4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},fE=(function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n})(fE||{});var Bt=(function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n})(Bt||{}),Pe=(function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n})(Pe||{}),sn=(function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n})(sn||{}),an={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function tN(n){return Qt(n)[qe.LocaleId]}function nN(n,e,t){let r=Qt(n),i=[r[qe.DayPeriodsFormat],r[qe.DayPeriodsStandalone]],o=kn(i,e);return kn(o,t)}function rN(n,e,t){let r=Qt(n),i=[r[qe.DaysFormat],r[qe.DaysStandalone]],o=kn(i,e);return kn(o,t)}function iN(n,e,t){let r=Qt(n),i=[r[qe.MonthsFormat],r[qe.MonthsStandalone]],o=kn(i,e);return kn(o,t)}function oN(n,e){let r=Qt(n)[qe.Eras];return kn(r,e)}function Hu(n,e){let t=Qt(n);return kn(t[qe.DateFormat],e)}function qu(n,e){let t=Qt(n);return kn(t[qe.TimeFormat],e)}function zu(n,e){let r=Qt(n)[qe.DateTimeFormat];return kn(r,e)}function hr(n,e){let t=Qt(n),r=t[qe.NumberSymbols][e];if(typeof r>"u"){if(e===an.CurrencyDecimal)return t[qe.NumberSymbols][an.Decimal];if(e===an.CurrencyGroup)return t[qe.NumberSymbols][an.Group]}return r}function sN(n,e){return Qt(n)[qe.NumberFormats][e]}function m$(n){return Qt(n)[qe.Currencies]}function aN(n){if(!n[qe.ExtraData])throw new P(2303,!1)}function cN(n){let e=Qt(n);return aN(e),(e[qe.ExtraData][2]||[]).map(r=>typeof r=="string"?cE(r):[cE(r[0]),cE(r[1])])}function uN(n,e,t){let r=Qt(n);aN(r);let i=[r[qe.ExtraData][0],r[qe.ExtraData][1]],o=kn(i,e)||[];return kn(o,t)||[]}function kn(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new P(2304,!1)}function cE(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}function lN(n,e,t="en"){let r=m$(t)[n]||eN[n]||[],i=r[1];return e==="narrow"&&typeof i=="string"?i:r[0]||n}var y$=2;function dN(n){let e,t=eN[n];return t&&(e=t[2]),typeof e=="number"?e:y$}var v$=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ff={},_$=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function hN(n,e,t,r){let i=A$(n);e=qr(t,e)||e;let s=[],a;for(;e;)if(a=_$.exec(e),a){s=s.concat(a.slice(1));let d=s.pop();if(!d)break;e=d}else{s.push(e);break}let c=i.getTimezoneOffset();r&&(c=pN(r,c),i=C$(i,r));let l="";return s.forEach(d=>{let f=D$(d);l+=f?f(i,t,c):d==="''"?"'":d.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function Bf(n,e,t){let r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function qr(n,e){let t=tN(n);if(Ff[t]??={},Ff[t][e])return Ff[t][e];let r="";switch(e){case"shortDate":r=Hu(n,sn.Short);break;case"mediumDate":r=Hu(n,sn.Medium);break;case"longDate":r=Hu(n,sn.Long);break;case"fullDate":r=Hu(n,sn.Full);break;case"shortTime":r=qu(n,sn.Short);break;case"mediumTime":r=qu(n,sn.Medium);break;case"longTime":r=qu(n,sn.Long);break;case"fullTime":r=qu(n,sn.Full);break;case"short":let i=qr(n,"shortTime"),o=qr(n,"shortDate");r=Lf(zu(n,sn.Short),[i,o]);break;case"medium":let s=qr(n,"mediumTime"),a=qr(n,"mediumDate");r=Lf(zu(n,sn.Medium),[s,a]);break;case"long":let c=qr(n,"longTime"),l=qr(n,"longDate");r=Lf(zu(n,sn.Long),[c,l]);break;case"full":let d=qr(n,"fullTime"),f=qr(n,"fullDate");r=Lf(zu(n,sn.Full),[d,f]);break}return r&&(Ff[t][e]=r),r}function Lf(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return e!=null&&r in e?e[r]:t})),n}function Gn(n,e,t="-",r,i){let o="";(n<0||i&&n<=0)&&(i?n=-n+1:(n=-n,o=t));let s=String(n);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function E$(n,e){return Gn(n,3).substring(0,e)}function ut(n,e,t=0,r=!1,i=!1){return function(o,s){let a=I$(n,o);if((t>0||a>-t)&&(a+=t),n===3)a===0&&t===-12&&(a=12);else if(n===6)return E$(a,e);let c=hr(s,an.MinusSign);return Gn(a,e,c,r,i)}}function I$(n,e){switch(n){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new P(2301,!1)}}function xe(n,e,t=Bt.Format,r=!1){return function(i,o){return w$(i,o,n,e,t,r)}}function w$(n,e,t,r,i,o){switch(t){case 2:return iN(e,i,r)[n.getMonth()];case 1:return rN(e,i,r)[n.getDay()];case 0:let s=n.getHours(),a=n.getMinutes();if(o){let l=cN(e),d=uN(e,i,r),f=l.findIndex(g=>{if(Array.isArray(g)){let[m,E]=g,A=s>=m.hours&&a>=m.minutes,D=s<E.hours||s===E.hours&&a<E.minutes;if(m.hours<E.hours){if(A&&D)return!0}else if(A||D)return!0}else if(g.hours===s&&g.minutes===a)return!0;return!1});if(f!==-1)return d[f]}return nN(e,i,r)[s<12?0:1];case 3:return oN(e,r)[n.getFullYear()<=0?0:1];default:let c=t;throw new P(2302,!1)}}function Vf(n){return function(e,t,r){let i=-1*r,o=hr(t,an.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case 0:return(i>=0?"+":"")+Gn(s,2,o)+Gn(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+Gn(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+Gn(s,2,o)+":"+Gn(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+Gn(s,2,o)+":"+Gn(Math.abs(i%60),2,o);default:throw new P(2310,!1)}}}var T$=0,Uf=4;function b$(n){let e=Bf(n,T$,1).getDay();return Bf(n,0,1+(e<=Uf?Uf:Uf+7)-e)}function fN(n){let e=n.getDay(),t=e===0?-3:Uf-e;return Bf(n.getFullYear(),n.getMonth(),n.getDate()+t)}function uE(n,e=!1){return function(t,r){let i;if(e){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();i=1+Math.floor((s+o)/7)}else{let o=fN(t),s=b$(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return Gn(i,n,hr(r,an.MinusSign))}}function jf(n,e=!1){return function(t,r){let o=fN(t).getFullYear();return Gn(o,n,hr(r,an.MinusSign),e)}}var lE={};function D$(n){if(lE[n])return lE[n];let e;switch(n){case"G":case"GG":case"GGG":e=xe(3,Pe.Abbreviated);break;case"GGGG":e=xe(3,Pe.Wide);break;case"GGGGG":e=xe(3,Pe.Narrow);break;case"y":e=ut(0,1,0,!1,!0);break;case"yy":e=ut(0,2,0,!0,!0);break;case"yyy":e=ut(0,3,0,!1,!0);break;case"yyyy":e=ut(0,4,0,!1,!0);break;case"Y":e=jf(1);break;case"YY":e=jf(2,!0);break;case"YYY":e=jf(3);break;case"YYYY":e=jf(4);break;case"M":case"L":e=ut(1,1,1);break;case"MM":case"LL":e=ut(1,2,1);break;case"MMM":e=xe(2,Pe.Abbreviated);break;case"MMMM":e=xe(2,Pe.Wide);break;case"MMMMM":e=xe(2,Pe.Narrow);break;case"LLL":e=xe(2,Pe.Abbreviated,Bt.Standalone);break;case"LLLL":e=xe(2,Pe.Wide,Bt.Standalone);break;case"LLLLL":e=xe(2,Pe.Narrow,Bt.Standalone);break;case"w":e=uE(1);break;case"ww":e=uE(2);break;case"W":e=uE(1,!0);break;case"d":e=ut(2,1);break;case"dd":e=ut(2,2);break;case"c":case"cc":e=ut(7,1);break;case"ccc":e=xe(1,Pe.Abbreviated,Bt.Standalone);break;case"cccc":e=xe(1,Pe.Wide,Bt.Standalone);break;case"ccccc":e=xe(1,Pe.Narrow,Bt.Standalone);break;case"cccccc":e=xe(1,Pe.Short,Bt.Standalone);break;case"E":case"EE":case"EEE":e=xe(1,Pe.Abbreviated);break;case"EEEE":e=xe(1,Pe.Wide);break;case"EEEEE":e=xe(1,Pe.Narrow);break;case"EEEEEE":e=xe(1,Pe.Short);break;case"a":case"aa":case"aaa":e=xe(0,Pe.Abbreviated);break;case"aaaa":e=xe(0,Pe.Wide);break;case"aaaaa":e=xe(0,Pe.Narrow);break;case"b":case"bb":case"bbb":e=xe(0,Pe.Abbreviated,Bt.Standalone,!0);break;case"bbbb":e=xe(0,Pe.Wide,Bt.Standalone,!0);break;case"bbbbb":e=xe(0,Pe.Narrow,Bt.Standalone,!0);break;case"B":case"BB":case"BBB":e=xe(0,Pe.Abbreviated,Bt.Format,!0);break;case"BBBB":e=xe(0,Pe.Wide,Bt.Format,!0);break;case"BBBBB":e=xe(0,Pe.Narrow,Bt.Format,!0);break;case"h":e=ut(3,1,-12);break;case"hh":e=ut(3,2,-12);break;case"H":e=ut(3,1);break;case"HH":e=ut(3,2);break;case"m":e=ut(4,1);break;case"mm":e=ut(4,2);break;case"s":e=ut(5,1);break;case"ss":e=ut(5,2);break;case"S":e=ut(6,1);break;case"SS":e=ut(6,2);break;case"SSS":e=ut(6,3);break;case"Z":case"ZZ":case"ZZZ":e=Vf(0);break;case"ZZZZZ":e=Vf(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Vf(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=Vf(2);break;default:return null}return lE[n]=e,e}function pN(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function S$(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function C$(n,e,t){let i=n.getTimezoneOffset(),o=pN(e,i);return S$(n,-1*(o-i))}function A$(n){if(QR(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[i,o=1,s=1]=n.split("-").map(a=>+a);return Bf(i,o-1,s)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(v$))return R$(r)}let e=new Date(n);if(!QR(e))throw new P(2311,!1);return e}function R$(n){let e=new Date(0),t=0,r=0,i=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let s=Number(n[4]||0)-t,a=Number(n[5]||0)-r,c=Number(n[6]||0),l=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return o.call(e,s,a,c,l),e}function QR(n){return n instanceof Date&&!isNaN(n.valueOf())}var N$=/^(\d+)?\.((\d+)(-(\d+))?)?$/,YR=22,$f=".",Gu="0",M$=";",P$=",",dE="#",JR="\xA4";function k$(n,e,t,r,i,o,s=!1){let a="",c=!1;if(!isFinite(n))a=hr(t,an.Infinity);else{let l=F$(n);s&&(l=x$(l));let d=e.minInt,f=e.minFrac,g=e.maxFrac;if(o){let L=o.match(N$);if(L===null)throw new P(2306,!1);let H=L[1],W=L[3],Te=L[5];H!=null&&(d=hE(H)),W!=null&&(f=hE(W)),Te!=null?g=hE(Te):W!=null&&f>g&&(g=f)}L$(l,f,g);let m=l.digits,E=l.integerLen,A=l.exponent,D=[];for(c=m.every(L=>!L);E<d;E++)m.unshift(0);for(;E<0;E++)m.unshift(0);E>0?D=m.splice(E,m.length):(D=m,m=[0]);let M=[];for(m.length>=e.lgSize&&M.unshift(m.splice(-e.lgSize,m.length).join(""));m.length>e.gSize;)M.unshift(m.splice(-e.gSize,m.length).join(""));m.length&&M.unshift(m.join("")),a=M.join(hr(t,r)),D.length&&(a+=hr(t,i)+D.join("")),A&&(a+=hr(t,an.Exponential)+"+"+A)}return n<0&&!c?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function gN(n,e,t,r,i){let o=sN(e,fE.Currency),s=O$(o,hr(e,an.MinusSign));return s.minFrac=dN(r),s.maxFrac=s.minFrac,k$(n,s,e,an.CurrencyGroup,an.CurrencyDecimal,i).replace(JR,t).replace(JR,"").trim()}function O$(n,e="-"){let t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(M$),i=r[0],o=r[1],s=i.indexOf($f)!==-1?i.split($f):[i.substring(0,i.lastIndexOf(Gu)+1),i.substring(i.lastIndexOf(Gu)+1)],a=s[0],c=s[1]||"";t.posPre=a.substring(0,a.indexOf(dE));for(let d=0;d<c.length;d++){let f=c.charAt(d);f===Gu?t.minFrac=t.maxFrac=d+1:f===dE?t.maxFrac=d+1:t.posSuf+=f}let l=a.split(P$);if(t.gSize=l[1]?l[1].length:0,t.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,o){let d=i.length-t.posPre.length-t.posSuf.length,f=o.indexOf(dE);t.negPre=o.substring(0,f).replace(/'/g,""),t.negSuf=o.slice(f+d).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}function x$(n){if(n.digits[0]===0)return n;let e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(e===0?n.digits.push(0,0):e===1&&n.digits.push(0),n.integerLen+=2),n}function F$(n){let e=Math.abs(n)+"",t=0,r,i,o,s,a;for((i=e.indexOf($f))>-1&&(e=e.replace($f,"")),(o=e.search(/e/i))>0?(i<0&&(i=o),i+=+e.slice(o+1),e=e.substring(0,o)):i<0&&(i=e.length),o=0;e.charAt(o)===Gu;o++);if(o===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===Gu;)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(e.charAt(o))}return i>YR&&(r=r.splice(0,YR-1),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}function L$(n,e,t){if(e>t)throw new P(2307,!1);let r=n.digits,i=r.length-n.integerLen,o=Math.min(Math.max(e,i),t),s=o+n.integerLen,a=r[s];if(s>0){r.splice(Math.max(n.integerLen,s));for(let f=s;f<r.length;f++)r[f]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let f=1;f<s;f++)r[f]=0}if(a>=5)if(s-1<0){for(let f=0;f>s;f--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let c=o!==0,l=e+n.integerLen,d=r.reduceRight(function(f,g,m,E){return g=g+f,E[m]=g<10?g:g-10,c&&(E[m]===0&&m>=l?E.pop():c=!1),g>=10?1:0},0);d&&(r.unshift(d),n.integerLen++)}function hE(n){let e=parseInt(n);if(isNaN(e))throw new P(2305,!1);return e}var Hf=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},zf=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Hf(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),ZR(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);ZR(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(J(Qo),J(ku),J(oE))};static \u0275dir=vt({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function ZR(n,e){n.context.$implicit=e.item}var Jo=(()=>{class n{_viewContainer;_context=new qf;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){XR(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){XR(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(J(Qo),J(ku))};static \u0275dir=vt({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),qf=class{$implicit=null;ngIf=null};function XR(n,e){if(n&&!n.createEmbeddedView)throw new P(2020,!1)}function mN(n,e){return new P(2100,!1)}var V$="mediumDate",yN=new B(""),vN=new B(""),pE=(()=>{class n{locale;defaultTimezone;defaultOptions;constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,o){if(t==null||t===""||t!==t)return null;try{let s=r??this.defaultOptions?.dateFormat??V$,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return hN(t,s,o||this.locale,a)}catch(s){throw mN(n,s.message)}}static \u0275fac=function(r){return new(r||n)(J(Ta,16),J(yN,24),J(vN,24))};static \u0275pipe=Sf({name:"date",type:n,pure:!0})}return n})();var gE=(()=>{class n{_locale;_defaultCurrencyCode;constructor(t,r="USD"){this._locale=t,this._defaultCurrencyCode=r}transform(t,r=this._defaultCurrencyCode,i="symbol",o,s){if(!j$(t))return null;s||=this._locale,typeof i=="boolean"&&(i=i?"symbol":"code");let a=r||this._defaultCurrencyCode;i!=="code"&&(i==="symbol"||i==="symbol-narrow"?a=lN(a,i==="symbol"?"wide":"narrow",s):a=i);try{let c=U$(t);return gN(c,s,a,r,o)}catch(c){throw mN(n,c.message)}}static \u0275fac=function(r){return new(r||n)(J(Ta,16),J(Z_,16))};static \u0275pipe=Sf({name:"currency",type:n,pure:!0})}return n})();function j$(n){return!(n==null||n===""||n!==n)}function U$(n){if(typeof n=="string"&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if(typeof n!="number")throw new P(2309,!1);return n}var zi=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Mn({type:n});static \u0275inj=gn({})}return n})();function Wu(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Zo=class{};var _N="browser";var Ku=class{_doc;constructor(e){this._doc=e}manager},Wf=(()=>{class n extends Ku{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(Q(tt))};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})(),Qf=new B(""),EE=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(s=>{s.manager=this});let i=t.filter(s=>!(s instanceof Wf));this._plugins=i.slice().reverse();let o=t.find(s=>s instanceof Wf);o&&this._plugins.push(o)}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new P(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(Q(Qf),Q(Se))};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})(),mE="ng-app-id";function EN(n){for(let e of n)e.remove()}function IN(n,e){let t=e.createElement("style");return t.textContent=n,t}function B$(n,e,t,r){let i=n.head?.querySelectorAll(`style[${mE}="${e}"],link[${mE}="${e}"]`);if(i)for(let o of i)o.removeAttribute(mE),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function vE(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var IE=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,B$(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,IN);r?.forEach(i=>this.addUsage(i,this.external,vE))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(EN(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])EN(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,IN(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,vE(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(Q(tt),Q(mf),Q(_f,8),Q(Bi))};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})(),yE={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},wE=/%COMP%/g;var TN="%COMP%",$$=`_nghost-${TN}`,H$=`_ngcontent-${TN}`,q$=!0,z$=new B("",{providedIn:"root",factory:()=>q$});function G$(n){return H$.replace(wE,n)}function W$(n){return $$.replace(wE,n)}function bN(n,e){return e.map(t=>t.replace(wE,n))}var Ju=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,c,l=null,d=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.tracingService=d,this.platformIsServer=!1,this.defaultRenderer=new Qu(t,s,c,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof Kf?i.applyToHost(t):i instanceof Yu&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer,g=this.tracingService;switch(r.encapsulation){case Ur.Emulated:o=new Kf(c,l,r,this.appId,d,s,a,f,g);break;case Ur.ShadowDom:return new _E(c,l,t,r,s,a,this.nonce,f,g);default:o=new Yu(c,l,r,d,s,a,f,g);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(Q(EE),Q(IE),Q(mf),Q(z$),Q(tt),Q(Bi),Q(Se),Q(_f),Q(Mu,8))};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})(),Qu=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(yE[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(wN(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(wN(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new P(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=yE[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=yE[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(ur.DashCase|ur.Important)?e.style.setProperty(t,r,i&ur.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&ur.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=Pn().getGlobalEventTarget(this.doc,e),!e))throw new P(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function wN(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var _E=class extends Qu{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,c,l){super(e,o,s,c,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=i.styles;d=bN(i.id,d);for(let g of d){let m=document.createElement("style");a&&m.setAttribute("nonce",a),m.textContent=g,this.shadowRoot.appendChild(m)}let f=i.getExternalStyles?.();if(f)for(let g of f){let m=vE(g,o);a&&m.setAttribute("nonce",a),this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Yu=class extends Qu{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,c,l){super(e,o,s,a,c),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let d=r.styles;this.styles=l?bN(l,d):d,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&_a.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Kf=class extends Yu{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,c,l){let d=i+"-"+r.id;super(e,t,r,o,s,a,c,l,d),this.contentAttr=G$(d),this.hostAttr=W$(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var Yf=class n extends $u{supportsDOMEvents=!0;static makeCurrent(){sE(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=K$();return t==null?null:Q$(t)}resetBaseElement(){Zu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Wu(document.cookie,e)}},Zu=null;function K$(){return Zu=Zu||document.head.querySelector("base"),Zu?Zu.getAttribute("href"):null}function Q$(n){return new URL(n,document.baseURI).pathname}var Y$=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})(),DN=["alt","control","meta","shift"],J$={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Z$={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},SN=(()=>{class n extends Ku{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Pn().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),DN.forEach(l=>{let d=r.indexOf(l);d>-1&&(r.splice(d,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(t,r){let i=J$[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),DN.forEach(s=>{if(s!==i){let a=Z$[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(Q(tt))};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})();function TE(n,e,t){let r=F({rootComponent:n,platformRef:t?.platformRef},X$(e));return BR(r)}function X$(n){return{appProviders:[...iH,...n?.providers??[]],platformProviders:rH}}function eH(){Yf.makeCurrent()}function tH(){return new nr}function nH(){return I_(document),document}var rH=[{provide:Bi,useValue:_N},{provide:yf,useValue:eH,multi:!0},{provide:tt,useFactory:nH}];var iH=[{provide:cu,useValue:"root"},{provide:nr,useFactory:tH},{provide:Qf,useClass:Wf,multi:!0,deps:[tt]},{provide:Qf,useClass:SN,multi:!0,deps:[tt]},Ju,IE,EE,{provide:Br,useExisting:Ju},{provide:Zo,useClass:Y$},[]];var Na=class{},tl=class{},Xo=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=t.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}addHeaderEntry(e,t){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var Zf=class{encodeKey(e){return CN(e)}encodeValue(e){return CN(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function oH(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}var sH=/%(\d[a-f0-9])/gi,aH={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function CN(n){return encodeURIComponent(n).replace(sH,(e,t)=>aH[t]??e)}function Jf(n){return`${n}`}var Gi=class n{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new Zf,e.fromString){if(e.fromObject)throw new P(2805,!1);this.map=oH(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(Jf):[Jf(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(Jf(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Jf(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Xf=class{map=new Map;set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function cH(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function AN(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function RN(n){return typeof Blob<"u"&&n instanceof Blob}function NN(n){return typeof FormData<"u"&&n instanceof FormData}function uH(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var MN="Content-Type",PN="Accept",kN="X-Request-URL",ON="text/plain",xN="application/json",lH=`${xN}, ${ON}, */*`,Xu=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(e,t,r,i){this.url=t,this.method=e.toUpperCase();let o;if(cH(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o){if(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),o.priority&&(this.priority=o.priority),o.cache&&(this.cache=o.cache),o.credentials&&(this.credentials=o.credentials),typeof o.timeout=="number"){if(o.timeout<1||!Number.isInteger(o.timeout))throw new P(2822,"");this.timeout=o.timeout}o.mode&&(this.mode=o.mode),o.redirect&&(this.redirect=o.redirect),o.integrity&&(this.integrity=o.integrity),o.referrer&&(this.referrer=o.referrer),this.transferCache=o.transferCache}if(this.headers??=new Xo,this.context??=new Xf,!this.params)this.params=new Gi,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),c=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||AN(this.body)||RN(this.body)||NN(this.body)||uH(this.body)?this.body:this.body instanceof Gi?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||NN(this.body)?null:RN(this.body)?this.body.type||null:AN(this.body)?null:typeof this.body=="string"?ON:this.body instanceof Gi?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?xN:null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.keepalive??this.keepalive,s=e.priority||this.priority,a=e.cache||this.cache,c=e.mode||this.mode,l=e.redirect||this.redirect,d=e.credentials||this.credentials,f=e.referrer||this.referrer,g=e.integrity||this.integrity,m=e.transferCache??this.transferCache,E=e.timeout??this.timeout,A=e.body!==void 0?e.body:this.body,D=e.withCredentials??this.withCredentials,M=e.reportProgress??this.reportProgress,L=e.headers||this.headers,H=e.params||this.params,W=e.context??this.context;return e.setHeaders!==void 0&&(L=Object.keys(e.setHeaders).reduce((Te,te)=>Te.set(te,e.setHeaders[te]),L)),e.setParams&&(H=Object.keys(e.setParams).reduce((Te,te)=>Te.set(te,e.setParams[te]),H)),new n(t,r,A,{params:H,headers:L,context:W,reportProgress:M,responseType:i,withCredentials:D,transferCache:m,keepalive:o,cache:a,priority:s,timeout:E,mode:c,redirect:l,credentials:d,referrer:f,integrity:g})}},Ra=(function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n})(Ra||{}),Ma=class{headers;status;statusText;url;ok;type;redirected;constructor(e,t=200,r="OK"){this.headers=e.headers||new Xo,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.redirected=e.redirected,this.ok=this.status>=200&&this.status<300}},ep=class n extends Ma{constructor(e={}){super(e)}type=Ra.ResponseHeader;clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},tp=class n extends Ma{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=Ra.Response;clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0,redirected:e.redirected??this.redirected})}},el=class extends Ma{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},dH=200,hH=204;function bE(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,credentials:n.credentials,transferCache:n.transferCache,timeout:n.timeout,keepalive:n.keepalive,priority:n.priority,cache:n.cache,mode:n.mode,redirect:n.redirect,integrity:n.integrity,referrer:n.referrer}}var fH=(()=>{class n{handler;constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof Xu)o=t;else{let c;i.headers instanceof Xo?c=i.headers:c=new Xo(i.headers);let l;i.params&&(i.params instanceof Gi?l=i.params:l=new Gi({fromObject:i.params})),o=new Xu(t,r,i.body!==void 0?i.body:null,{headers:c,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache,keepalive:i.keepalive,priority:i.priority,cache:i.cache,mode:i.mode,redirect:i.redirect,credentials:i.credentials,referrer:i.referrer,integrity:i.integrity,timeout:i.timeout})}let s=ne(o).pipe(Si(c=>this.handler.handle(c)));if(t instanceof Xu||i.observe==="events")return s;let a=s.pipe(Gt(c=>c instanceof tp));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(oe(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new P(2806,!1);return c.body}));case"blob":return a.pipe(oe(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new P(2807,!1);return c.body}));case"text":return a.pipe(oe(c=>{if(c.body!==null&&typeof c.body!="string")throw new P(2808,!1);return c.body}));case"json":default:return a.pipe(oe(c=>c.body))}case"response":return a;default:throw new P(2809,!1)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new Gi().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,bE(i,r))}post(t,r,i={}){return this.request("POST",t,bE(i,r))}put(t,r,i={}){return this.request("PUT",t,bE(i,r))}static \u0275fac=function(r){return new(r||n)(Q(Na))};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})();var pH=new B("");function gH(n,e){return e(n)}function mH(n,e,t){return(r,i)=>et(t,()=>e(r,o=>n(o,i)))}var FN=new B(""),yH=new B(""),LN=new B("",{providedIn:"root",factory:()=>!0});var np=(()=>{class n extends Na{backend;injector;chain=null;pendingTasks=O(Vi);contributeToStability=O(LN);constructor(t,r){super(),this.backend=t,this.injector=r}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(FN),...this.injector.get(yH,[])]));this.chain=r.reduceRight((i,o)=>mH(i,o,this.injector),gH)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(Ro(r))}else return this.chain(t,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||n)(Q(tl),Q(Qe))};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})();var vH=/^\)\]\}',?\n/,_H=RegExp(`^${kN}:`,"m");function EH(n){return"responseURL"in n&&n.responseURL?n.responseURL:_H.test(n.getAllResponseHeaders())?n.getResponseHeader(kN):null}var DE=(()=>{class n{xhrFactory;constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new P(-2800,!1);let r=this.xhrFactory;return ne(null).pipe(Vt(()=>new ie(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((D,M)=>s.setRequestHeader(D,M.join(","))),t.headers.has(PN)||s.setRequestHeader(PN,lH),!t.headers.has(MN)){let D=t.detectContentTypeHeader();D!==null&&s.setRequestHeader(MN,D)}if(t.timeout&&(s.timeout=t.timeout),t.responseType){let D=t.responseType.toLowerCase();s.responseType=D!=="json"?D:"text"}let a=t.serializeBody(),c=null,l=()=>{if(c!==null)return c;let D=s.statusText||"OK",M=new Xo(s.getAllResponseHeaders()),L=EH(s)||t.url;return c=new ep({headers:M,status:s.status,statusText:D,url:L}),c},d=()=>{let{headers:D,status:M,statusText:L,url:H}=l(),W=null;M!==hH&&(W=typeof s.response>"u"?s.responseText:s.response),M===0&&(M=W?dH:0);let Te=M>=200&&M<300;if(t.responseType==="json"&&typeof W=="string"){let te=W;W=W.replace(vH,"");try{W=W!==""?JSON.parse(W):null}catch(T){W=te,Te&&(Te=!1,W={error:T,text:W})}}Te?(o.next(new tp({body:W,headers:D,status:M,statusText:L,url:H||void 0})),o.complete()):o.error(new el({error:W,headers:D,status:M,statusText:L,url:H||void 0}))},f=D=>{let{url:M}=l(),L=new el({error:D,status:s.status||0,statusText:s.statusText||"Unknown Error",url:M||void 0});o.error(L)},g=f;t.timeout&&(g=D=>{let{url:M}=l(),L=new el({error:new DOMException("Request timed out","TimeoutError"),status:s.status||0,statusText:s.statusText||"Request timeout",url:M||void 0});o.error(L)});let m=!1,E=D=>{m||(o.next(l()),m=!0);let M={type:Ra.DownloadProgress,loaded:D.loaded};D.lengthComputable&&(M.total=D.total),t.responseType==="text"&&s.responseText&&(M.partialText=s.responseText),o.next(M)},A=D=>{let M={type:Ra.UploadProgress,loaded:D.loaded};D.lengthComputable&&(M.total=D.total),o.next(M)};return s.addEventListener("load",d),s.addEventListener("error",f),s.addEventListener("timeout",g),s.addEventListener("abort",f),t.reportProgress&&(s.addEventListener("progress",E),a!==null&&s.upload&&s.upload.addEventListener("progress",A)),s.send(a),o.next({type:Ra.Sent}),()=>{s.removeEventListener("error",f),s.removeEventListener("abort",f),s.removeEventListener("load",d),s.removeEventListener("timeout",g),t.reportProgress&&(s.removeEventListener("progress",E),a!==null&&s.upload&&s.upload.removeEventListener("progress",A)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||n)(Q(Zo))};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})(),VN=new B(""),IH="XSRF-TOKEN",wH=new B("",{providedIn:"root",factory:()=>IH}),TH="X-XSRF-TOKEN",bH=new B("",{providedIn:"root",factory:()=>TH}),nl=class{},DH=(()=>{class n{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,r){this.doc=t,this.cookieName=r}getToken(){let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Wu(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(r){return new(r||n)(Q(tt),Q(wH))};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})();function SH(n,e){let t=n.url.toLowerCase();if(!O(VN)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=O(nl).getToken(),i=O(bH);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}function SE(...n){let e=[fH,DE,np,{provide:Na,useExisting:np},{provide:tl,useFactory:()=>O(pH,{optional:!0})??O(DE)},{provide:FN,useValue:SH,multi:!0},{provide:VN,useValue:!0},{provide:nl,useClass:DH}];for(let t of n)e.push(...t.\u0275providers);return Dn(e)}var jN=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(Q(tt))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var se="primary",yl=Symbol("RouteTitle"),ME=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function ns(n){return new ME(n)}function WN(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function AH(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!fr(n[t],e[t]))return!1;return!0}function fr(n,e){let t=n?PE(n):void 0,r=e?PE(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!KN(n[i],e[i]))return!1;return!0}function PE(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function KN(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function QN(n){return n.length>0?n[n.length-1]:null}function Wr(n){return Uy(n)?n:$i(n)?He(Promise.resolve(n)):ne(n)}var RH={exact:JN,subset:ZN},YN={exact:NH,subset:MH,ignored:()=>!0};function UN(n,e,t){return RH[t.paths](n.root,e.root,t.matrixParams)&&YN[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function NH(n,e){return fr(n,e)}function JN(n,e,t){if(!es(n.segments,e.segments)||!op(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!JN(n.children[r],e.children[r],t))return!1;return!0}function MH(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>KN(n[t],e[t]))}function ZN(n,e,t){return XN(n,e,e.segments,t)}function XN(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!es(i,t)||e.hasChildren()||!op(i,t,r))}else if(n.segments.length===t.length){if(!es(n.segments,t)||!op(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!ZN(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!es(n.segments,i)||!op(n.segments,i,r)||!n.children[se]?!1:XN(n.children[se],e,o,r)}}function op(n,e,t){return e.every((r,i)=>YN[t](n[i].parameters,r.parameters))}var gr=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Ce([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=ns(this.queryParams),this._queryParamMap}toString(){return OH.serialize(this)}},Ce=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return sp(this)}},Wi=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=ns(this.parameters),this._parameterMap}toString(){return tM(this)}};function PH(n,e){return es(n,e)&&n.every((t,r)=>fr(t.parameters,e[r].parameters))}function es(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function kH(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===se&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==se&&(t=t.concat(e(i,r)))}),t}var vl=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:()=>new rs,providedIn:"root"})}return n})(),rs=class{parse(e){let t=new OE(e);return new gr(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${rl(e.root,!0)}`,r=LH(e.queryParams),i=typeof e.fragment=="string"?`#${xH(e.fragment)}`:"";return`${t}${r}${i}`}},OH=new rs;function sp(n){return n.segments.map(e=>tM(e)).join("/")}function rl(n,e){if(!n.hasChildren())return sp(n);if(e){let t=n.children[se]?rl(n.children[se],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==se&&r.push(`${i}:${rl(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=kH(n,(r,i)=>i===se?[rl(n.children[se],!1)]:[`${i}:${rl(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[se]!=null?`${sp(n)}/${t[0]}`:`${sp(n)}/(${t.join("//")})`}}function eM(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function rp(n){return eM(n).replace(/%3B/gi,";")}function xH(n){return encodeURI(n)}function kE(n){return eM(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ap(n){return decodeURIComponent(n)}function BN(n){return ap(n.replace(/\+/g,"%20"))}function tM(n){return`${kE(n.path)}${FH(n.parameters)}`}function FH(n){return Object.entries(n).map(([e,t])=>`;${kE(e)}=${kE(t)}`).join("")}function LH(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${rp(t)}=${rp(i)}`).join("&"):`${rp(t)}=${rp(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var VH=/^[^\/()?;#]+/;function CE(n){let e=n.match(VH);return e?e[0]:""}var jH=/^[^\/()?;=#]+/;function UH(n){let e=n.match(jH);return e?e[0]:""}var BH=/^[^=?&#]+/;function $H(n){let e=n.match(BH);return e?e[0]:""}var HH=/^[^&#]+/;function qH(n){let e=n.match(HH);return e?e[0]:""}var OE=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ce([],{}):new Ce([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[se]=new Ce(e,t)),r}parseSegment(){let e=CE(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new P(4009,!1);return this.capture(e),new Wi(ap(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=UH(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=CE(this.remaining);i&&(r=i,this.capture(r))}e[ap(t)]=ap(r)}parseQueryParam(e){let t=$H(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=qH(this.remaining);s&&(r=s,this.capture(r))}let i=BN(t),o=BN(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=CE(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new P(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=se);let s=this.parseChildren();t[o??se]=Object.keys(s).length===1&&s[se]?s[se]:new Ce([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new P(4011,!1)}};function nM(n){return n.segments.length>0?new Ce([],{[se]:n}):n}function rM(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=rM(i);if(r===se&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new Ce(n.segments,e);return zH(t)}function zH(n){if(n.numberOfChildren===1&&n.children[se]){let e=n.children[se];return new Ce(n.segments.concat(e.segments),e.children)}return n}function Ki(n){return n instanceof gr}function iM(n,e,t=null,r=null){let i=oM(n);return sM(i,e,t,r)}function oM(n){let e;function t(o){let s={};for(let c of o.children){let l=t(c);s[c.outlet]=l}let a=new Ce(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=nM(r);return e??i}function sM(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return AE(i,i,i,t,r);let o=GH(e);if(o.toRoot())return AE(i,i,new Ce([],{}),t,r);let s=WH(o,i,n),a=s.processChildren?ol(s.segmentGroup,s.index,o.commands):cM(s.segmentGroup,s.index,o.commands);return AE(i,s.segmentGroup,a,t,r)}function cp(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function cl(n){return typeof n=="object"&&n!=null&&n.outlets}function AE(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(d=>`${d}`):`${l}`});let s;n===e?s=t:s=aM(n,e,t);let a=nM(rM(s));return new gr(a,o,i)}function aM(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=aM(o,e,t)}),new Ce(n.segments,r)}var up=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&cp(r[0]))throw new P(4003,!1);let i=r.find(cl);if(i&&i!==QN(r))throw new P(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function GH(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new up(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new up(t,e,r)}var Oa=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function WH(n,e,t){if(n.isAbsolute)return new Oa(e,!0,0);if(!t)return new Oa(e,!1,NaN);if(t.parent===null)return new Oa(t,!0,0);let r=cp(n.commands[0])?0:1,i=t.segments.length-1+r;return KH(t,i,n.numberOfDoubleDots)}function KH(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new P(4005,!1);i=r.segments.length}return new Oa(r,!1,i-o)}function QH(n){return cl(n[0])?n[0].outlets:{[se]:n}}function cM(n,e,t){if(n??=new Ce([],{}),n.segments.length===0&&n.hasChildren())return ol(n,e,t);let r=YH(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new Ce(n.segments.slice(0,r.pathIndex),{});return o.children[se]=new Ce(n.segments.slice(r.pathIndex),n.children),ol(o,0,i)}else return r.match&&i.length===0?new Ce(n.segments,{}):r.match&&!n.hasChildren()?xE(n,e,t):r.match?ol(n,0,i):xE(n,e,t)}function ol(n,e,t){if(t.length===0)return new Ce(n.segments,{});{let r=QH(t),i={};if(Object.keys(r).some(o=>o!==se)&&n.children[se]&&n.numberOfChildren===1&&n.children[se].segments.length===0){let o=ol(n.children[se],e,t);return new Ce(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=cM(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Ce(n.segments,i)}}function YH(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(cl(a))break;let c=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!HN(c,l,s))return o;r+=2}else{if(!HN(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function xE(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(cl(o)){let c=JH(o.outlets);return new Ce(r,c)}if(i===0&&cp(t[0])){let c=n.segments[e];r.push(new Wi(c.path,$N(t[0]))),i++;continue}let s=cl(o)?o.outlets[se]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&cp(a)?(r.push(new Wi(s,$N(a))),i+=2):(r.push(new Wi(s,{})),i++)}return new Ce(r,{})}function JH(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=xE(new Ce([],{}),0,r))}),e}function $N(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function HN(n,e,t){return n==t.path&&fr(e,t.parameters)}var sl="imperative",wt=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(wt||{}),_n=class{id;url;constructor(e,t){this.id=e,this.url=t}},is=class extends _n{type=wt.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},mr=class extends _n{urlAfterRedirects;type=wt.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Yt=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(Yt||{}),ul=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(ul||{}),pr=class extends _n{reason;code;type=wt.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},zr=class extends _n{reason;code;type=wt.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},Fa=class extends _n{error;target;type=wt.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ll=class extends _n{urlAfterRedirects;state;type=wt.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},lp=class extends _n{urlAfterRedirects;state;type=wt.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},dp=class extends _n{urlAfterRedirects;state;shouldActivate;type=wt.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},hp=class extends _n{urlAfterRedirects;state;type=wt.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},fp=class extends _n{urlAfterRedirects;state;type=wt.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},pp=class{route;type=wt.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},gp=class{route;type=wt.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},mp=class{snapshot;type=wt.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},yp=class{snapshot;type=wt.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},vp=class{snapshot;type=wt.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},_p=class{snapshot;type=wt.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var dl=class{},La=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function ZH(n){return!(n instanceof dl)&&!(n instanceof La)}function XH(n,e){return n.providers&&!n._injector&&(n._injector=xu(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Wn(n){return n.outlet||se}function eq(n,e){let t=n.filter(r=>Wn(r)===e);return t.push(...n.filter(r=>Wn(r)!==e)),t}function Ua(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Ep=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Ua(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Ba(this.rootInjector)}},Ba=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Ep(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(Q(Qe))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ip=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=FE(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=FE(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=LE(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return LE(e,this._root).map(t=>t.value)}};function FE(n,e){if(n===e.value)return e;for(let t of e.children){let r=FE(n,t);if(r)return r}return null}function LE(n,e){if(n===e.value)return[e];for(let t of e.children){let r=LE(n,t);if(r.length)return r.unshift(e),r}return[]}var vn=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function ka(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var hl=class extends Ip{snapshot;constructor(e,t){super(e),this.snapshot=t,zE(this,e)}toString(){return this.snapshot.toString()}};function uM(n){let e=tq(n),t=new Ct([new Wi("",{})]),r=new Ct({}),i=new Ct({}),o=new Ct({}),s=new Ct(""),a=new Gr(t,r,o,s,i,se,n,e.root);return a.snapshot=e.root,new hl(new vn(a,[]),e)}function tq(n){let e={},t={},r={},o=new ts([],e,r,"",t,se,n,null,{});return new fl("",new vn(o,[]))}var Gr=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(oe(l=>l[yl]))??ne(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(oe(e=>ns(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(oe(e=>ns(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function wp(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:F(F({},e.params),n.params),data:F(F({},e.data),n.data),resolve:F(F(F(F({},n.data),e.data),i?.data),n._resolvedData)}:r={params:F({},n.params),data:F({},n.data),resolve:F(F({},n.data),n._resolvedData??{})},i&&dM(i)&&(r.resolve[yl]=i.title),r}var ts=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[yl]}constructor(e,t,r,i,o,s,a,c,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ns(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ns(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},fl=class extends Ip{url;constructor(e,t){super(t),this.url=e,zE(this,t)}toString(){return lM(this._root)}};function zE(n,e){e.value._routerState=n,e.children.forEach(t=>zE(n,t))}function lM(n){let e=n.children.length>0?` { ${n.children.map(lM).join(", ")} } `:"";return`${n.value}${e}`}function RE(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,fr(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),fr(e.params,t.params)||n.paramsSubject.next(t.params),AH(e.url,t.url)||n.urlSubject.next(t.url),fr(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function VE(n,e){let t=fr(n.params,e.params)&&PH(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||VE(n.parent,e.parent))}function dM(n){return typeof n.title=="string"||n.title===null}var hM=new B(""),_l=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=se;activateEvents=new nt;deactivateEvents=new nt;attachEvents=new nt;detachEvents=new nt;routerOutletData=UR();parentContexts=O(Ba);location=O(Qo);changeDetector=O(Da);inputBinder=O(Sp,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new P(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new P(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new P(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new P(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new jE(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=vt({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[lr]})}return n})(),jE=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===Gr?this.route:e===Ba?this.childContexts:e===hM?this.outletData:this.parent.get(e,t)}},Sp=new B("");var GE=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Hn({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Et(0,"router-outlet")},dependencies:[_l],encapsulation:2})}return n})();function WE(n){let e=n.children&&n.children.map(WE),t=e?de(F({},n),{children:e}):F({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==se&&(t.component=GE),t}function nq(n,e,t){let r=pl(n,e._root,t?t._root:void 0);return new hl(r,e)}function pl(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=rq(n,e,t);return new vn(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>pl(n,a)),s}}let r=iq(e.value),i=e.children.map(o=>pl(n,o));return new vn(r,i)}}function rq(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return pl(n,r,i);return pl(n,r)})}function iq(n){return new Gr(new Ct(n.url),new Ct(n.params),new Ct(n.queryParams),new Ct(n.fragment),new Ct(n.data),n.outlet,n.component,n)}var Va=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},fM="ngNavigationCancelingError";function Tp(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Ki(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=pM(!1,Yt.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function pM(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[fM]=!0,t.cancellationCode=e,t}function oq(n){return gM(n)&&Ki(n.url)}function gM(n){return!!n&&n[fM]}var sq=(n,e,t,r)=>oe(i=>(new UE(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),UE=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),RE(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=ka(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=ka(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=ka(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=ka(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new _p(o.value.snapshot))}),e.children.length&&this.forwardEvent(new yp(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(RE(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),RE(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},bp=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},xa=class{component;route;constructor(e,t){this.component=e,this.route=t}};function aq(n,e,t){let r=n._root,i=e?e._root:null;return il(r,i,t,[r.value])}function cq(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function $a(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!iv(n)?n:e.get(n):r}function il(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=ka(e);return n.children.forEach(s=>{uq(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>al(a,t.getContext(s),i)),i}function uq(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=lq(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new bp(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?il(n,e,a?a.children:null,r,i):il(n,e,t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new xa(a.outlet.component,s))}else s&&al(e,a,i),i.canActivateChecks.push(new bp(r)),o.component?il(n,null,a?a.children:null,r,i):il(n,null,t,r,i);return i}function lq(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!es(n.url,e.url);case"pathParamsOrQueryParamsChange":return!es(n.url,e.url)||!fr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!VE(n,e)||!fr(n.queryParams,e.queryParams);case"paramsChange":default:return!VE(n,e)}}function al(n,e,t){let r=ka(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?al(s,e.children.getContext(o),t):al(s,null,t):al(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new xa(e.outlet.component,i)):t.canDeactivateChecks.push(new xa(null,i)):t.canDeactivateChecks.push(new xa(null,i))}function El(n){return typeof n=="function"}function dq(n){return typeof n=="boolean"}function hq(n){return n&&El(n.canLoad)}function fq(n){return n&&El(n.canActivate)}function pq(n){return n&&El(n.canActivateChild)}function gq(n){return n&&El(n.canDeactivate)}function mq(n){return n&&El(n.canMatch)}function mM(n){return n instanceof kr||n?.name==="EmptyError"}var ip=Symbol("INITIAL_VALUE");function ja(){return Vt(n=>_h(n.map(e=>e.pipe(Or(1),wh(ip)))).pipe(oe(e=>{for(let t of e)if(t!==!0){if(t===ip)return ip;if(t===!1||yq(t))return t}return!0}),Gt(e=>e!==ip),Or(1)))}function yq(n){return Ki(n)||n instanceof Va}function vq(n,e){return gt(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?ne(de(F({},t),{guardsResult:!0})):_q(s,r,i,n).pipe(gt(a=>a&&dq(a)?Eq(r,o,n,e):ne(a)),oe(a=>de(F({},t),{guardsResult:a})))})}function _q(n,e,t,r){return He(n).pipe(gt(i=>Dq(i.component,i.route,t,e,r)),xr(i=>i!==!0,!0))}function Eq(n,e,t,r){return He(e).pipe(Si(i=>ca(wq(i.route.parent,r),Iq(i.route,r),bq(n,i.path,t),Tq(n,i.route,t))),xr(i=>i!==!0,!0))}function Iq(n,e){return n!==null&&e&&e(new vp(n)),ne(!0)}function wq(n,e){return n!==null&&e&&e(new mp(n)),ne(!0)}function Tq(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return ne(!0);let i=r.map(o=>tu(()=>{let s=Ua(e)??t,a=$a(o,s),c=fq(a)?a.canActivate(e,n):et(s,()=>a(e,n));return Wr(c).pipe(xr())}));return ne(i).pipe(ja())}function bq(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>cq(s)).filter(s=>s!==null).map(s=>tu(()=>{let a=s.guards.map(c=>{let l=Ua(s.node)??t,d=$a(c,l),f=pq(d)?d.canActivateChild(r,n):et(l,()=>d(r,n));return Wr(f).pipe(xr())});return ne(a).pipe(ja())}));return ne(o).pipe(ja())}function Dq(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return ne(!0);let s=o.map(a=>{let c=Ua(e)??i,l=$a(a,c),d=gq(l)?l.canDeactivate(n,e,t,r):et(c,()=>l(n,e,t,r));return Wr(d).pipe(xr())});return ne(s).pipe(ja())}function Sq(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return ne(!0);let o=i.map(s=>{let a=$a(s,n),c=hq(a)?a.canLoad(e,t):et(n,()=>a(e,t));return Wr(c)});return ne(o).pipe(ja(),yM(r))}function yM(n){return eh(_t(e=>{if(typeof e!="boolean")throw Tp(n,e)}),oe(e=>e===!0))}function Cq(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return ne(!0);let o=i.map(s=>{let a=$a(s,n),c=mq(a)?a.canMatch(e,t):et(n,()=>a(e,t));return Wr(c)});return ne(o).pipe(ja(),yM(r))}var gl=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},ml=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function Pa(n){return aa(new gl(n))}function Aq(n){return aa(new P(4e3,!1))}function Rq(n){return aa(pM(!1,Yt.GuardRejected))}var BE=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return ne(r);if(i.numberOfChildren>1||!i.children[se])return Aq(`${e.redirectTo}`);i=i.children[se]}}applyRedirectCommands(e,t,r,i,o){return Nq(t,i,o).pipe(oe(s=>{if(s instanceof gr)throw new ml(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new ml(a);return a}))}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new gr(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new Ce(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new P(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}};function Nq(n,e,t){if(typeof n=="string")return ne(n);let r=n,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,params:l,data:d,title:f}=e;return Wr(et(t,()=>r({params:l,data:d,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,title:f})))}var $E={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Mq(n,e,t,r,i){let o=vM(n,e,t);return o.matched?(r=XH(e,r),Cq(r,e,t,i).pipe(oe(s=>s===!0?o:F({},$E)))):ne(o)}function vM(n,e,t){if(e.path==="**")return Pq(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?F({},$E):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||WN)(t,n,e);if(!i)return F({},$E);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?F(F({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function Pq(n){return{matched:!0,parameters:n.length>0?QN(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function qN(n,e,t,r){return t.length>0&&xq(n,t,r)?{segmentGroup:new Ce(e,Oq(r,new Ce(t,n.children))),slicedSegments:[]}:t.length===0&&Fq(n,t,r)?{segmentGroup:new Ce(n.segments,kq(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Ce(n.segments,n.children),slicedSegments:t}}function kq(n,e,t,r){let i={};for(let o of t)if(Cp(n,e,o)&&!r[Wn(o)]){let s=new Ce([],{});i[Wn(o)]=s}return F(F({},r),i)}function Oq(n,e){let t={};t[se]=e;for(let r of n)if(r.path===""&&Wn(r)!==se){let i=new Ce([],{});t[Wn(r)]=i}return t}function xq(n,e,t){return t.some(r=>Cp(n,e,r)&&Wn(r)!==se)}function Fq(n,e,t){return t.some(r=>Cp(n,e,r))}function Cp(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function Lq(n,e,t){return e.length===0&&!n.children[t]}var HE=class{};function Vq(n,e,t,r,i,o,s="emptyOnly"){return new qE(n,e,t,r,i,s,o).recognize()}var jq=31,qE=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new BE(this.urlSerializer,this.urlTree)}noMatchError(e){return new P(4002,`'${e.segmentGroup}'`)}recognize(){let e=qN(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(oe(({children:t,rootSnapshot:r})=>{let i=new vn(r,t),o=new fl("",i),s=iM(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new ts([],Object.freeze({}),Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),se,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,se,t).pipe(oe(r=>({children:r,rootSnapshot:t})),Di(r=>{if(r instanceof ml)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof gl?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(oe(s=>s instanceof vn?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return He(o).pipe(Si(s=>{let a=r.children[s],c=eq(t,s);return this.processSegmentGroup(e,c,a,s,i)}),Ih((s,a)=>(s.push(...a),s)),Ci(null),$y(),gt(s=>{if(s===null)return Pa(r);let a=_M(s);return Uq(a),ne(a)}))}processSegment(e,t,r,i,o,s,a){return He(t).pipe(Si(c=>this.processSegmentAgainstRoute(c._injector??e,t,c,r,i,o,s,a).pipe(Di(l=>{if(l instanceof gl)return ne(null);throw l}))),xr(c=>!!c),Di(c=>{if(mM(c))return Lq(r,i,o)?ne(new HE):Pa(r);throw c}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,c){return Wn(r)!==s&&(s===se||!Cp(i,o,r))?Pa(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,c):Pa(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:c,parameters:l,consumedSegments:d,positionalParamSegments:f,remainingSegments:g}=vM(t,i,o);if(!c)return Pa(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>jq&&(this.allowRedirects=!1));let m=new ts(o,l,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,zN(i),Wn(i),i.component??i._loadedComponent??null,i,GN(i)),E=wp(m,a,this.paramsInheritanceStrategy);return m.params=Object.freeze(E.params),m.data=Object.freeze(E.data),this.applyRedirects.applyRedirectCommands(d,i.redirectTo,f,m,e).pipe(Vt(D=>this.applyRedirects.lineralizeSegments(i,D)),gt(D=>this.processSegment(e,r,t,D.concat(g),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=Mq(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(Vt(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Vt(({routes:l})=>{let d=r._loadedInjector??e,{parameters:f,consumedSegments:g,remainingSegments:m}=c,E=new ts(g,f,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,zN(r),Wn(r),r.component??r._loadedComponent??null,r,GN(r)),A=wp(E,s,this.paramsInheritanceStrategy);E.params=Object.freeze(A.params),E.data=Object.freeze(A.data);let{segmentGroup:D,slicedSegments:M}=qN(t,g,m,l);if(M.length===0&&D.hasChildren())return this.processChildren(d,l,D,E).pipe(oe(H=>new vn(E,H)));if(l.length===0&&M.length===0)return ne(new vn(E,[]));let L=Wn(r)===o;return this.processSegment(d,l,D,M,L?se:o,!0,E).pipe(oe(H=>new vn(E,H instanceof vn?[H]:[])))}))):Pa(t)))}getChildConfig(e,t,r){return t.children?ne({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?ne({routes:t._loadedRoutes,injector:t._loadedInjector}):Sq(e,t,r,this.urlSerializer).pipe(gt(i=>i?this.configLoader.loadChildren(e,t).pipe(_t(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):Rq(t))):ne({routes:[],injector:e})}};function Uq(n){n.sort((e,t)=>e.value.outlet===se?-1:t.value.outlet===se?1:e.value.outlet.localeCompare(t.value.outlet))}function Bq(n){let e=n.value.routeConfig;return e&&e.path===""}function _M(n){let e=[],t=new Set;for(let r of n){if(!Bq(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=_M(r.children);e.push(new vn(r.value,i))}return e.filter(r=>!t.has(r))}function zN(n){return n.data||{}}function GN(n){return n.resolve||{}}function $q(n,e,t,r,i,o){return gt(s=>Vq(n,e,t,r,s.extractedUrl,i,o).pipe(oe(({state:a,tree:c})=>de(F({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function Hq(n,e){return gt(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return ne(t);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of EM(c))s.add(l);let a=0;return He(s).pipe(Si(c=>o.has(c)?qq(c,r,n,e):(c.data=wp(c,c.parent,n).resolve,ne(void 0))),_t(()=>a++),ua(1),gt(c=>a===s.size?ne(t):en))})}function EM(n){let e=n.children.map(t=>EM(t)).flat();return[n,...e]}function qq(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!dM(i)&&(o[yl]=i.title),tu(()=>(n.data=wp(n,n.parent,t).resolve,zq(o,n,e,r).pipe(oe(s=>(n._resolvedData=s,n.data=F(F({},n.data),s),null)))))}function zq(n,e,t,r){let i=PE(n);if(i.length===0)return ne({});let o={};return He(i).pipe(gt(s=>Gq(n[s],e,t,r).pipe(xr(),_t(a=>{if(a instanceof Va)throw Tp(new rs,a);o[s]=a}))),ua(1),oe(()=>o),Di(s=>mM(s)?en:aa(s)))}function Gq(n,e,t,r){let i=Ua(e)??r,o=$a(n,i),s=o.resolve?o.resolve(e,t):et(i,()=>o(e,t));return Wr(s)}function NE(n){return Vt(e=>{let t=n(e);return t?He(t).pipe(oe(()=>e)):ne(e)})}var KE=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===se);return r}getResolvedTitleForRoute(t){return t.data[yl]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:()=>O(IM),providedIn:"root"})}return n})(),IM=(()=>{class n extends KE{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(Q(jN))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ha=new B("",{providedIn:"root",factory:()=>({})}),Il=new B(""),wM=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=O(J_);loadComponent(t,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return ne(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Wr(et(t,()=>r.loadComponent())).pipe(oe(bM),Vt(DM),_t(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Ro(()=>{this.componentLoaders.delete(r)})),o=new ra(i,()=>new ot).pipe(na());return this.componentLoaders.set(r,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ne({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=TM(r,this.compiler,t,this.onLoadEndListener).pipe(Ro(()=>{this.childrenLoaders.delete(r)})),s=new ra(o,()=>new ot).pipe(na());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function TM(n,e,t,r){return Wr(et(t,()=>n.loadChildren())).pipe(oe(bM),Vt(DM),gt(i=>i instanceof Df||Array.isArray(i)?ne(i):He(e.compileModuleAsync(i))),oe(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(Il,[],{optional:!0,self:!0}).flat()),{routes:s.map(WE),injector:o}}))}function Wq(n){return n&&typeof n=="object"&&"default"in n}function bM(n){return Wq(n)?n.default:n}function DM(n){return ne(n)}var Ap=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:()=>O(Kq),providedIn:"root"})}return n})(),Kq=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),SM=new B("");var CM=new B(""),AM=(()=>{class n{currentNavigation=yt(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new ot;transitionAbortWithErrorSubject=new ot;configLoader=O(wM);environmentInjector=O(Qe);destroyRef=O(jr);urlSerializer=O(vl);rootContexts=O(Ba);location=O(Aa);inputBindingEnabled=O(Sp,{optional:!0})!==null;titleStrategy=O(KE);options=O(Ha,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=O(Ap);createViewTransition=O(SM,{optional:!0});navigationErrorHandler=O(CM,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>ne(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new pp(i)),r=i=>this.events.next(new gp(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;It(()=>{this.transitions?.next(de(F({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))})}setupNavigations(t){return this.transitions=new Ct(null),this.transitions.pipe(Gt(r=>r!==null),Vt(r=>{let i=!1;return ne(r).pipe(Vt(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Yt.SupersededByNewNavigation),en;this.currentTransition=r,this.currentNavigation.set({id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?de(F({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()});let s=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!s&&a!=="reload")return this.events.next(new zr(o.id,this.urlSerializer.serialize(o.rawUrl),"",ul.IgnoredSameUrlNavigation)),o.resolve(!1),en;if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return ne(o).pipe(Vt(c=>(this.events.next(new is(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?en:Promise.resolve(c))),$q(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),_t(c=>{r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation.update(d=>(d.finalUrl=c.urlAfterRedirects,d));let l=new ll(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:c,extractedUrl:l,source:d,restoredState:f,extras:g}=o,m=new is(c,this.urlSerializer.serialize(l),d,f);this.events.next(m);let E=uM(this.rootComponentType).snapshot;return this.currentTransition=r=de(F({},o),{targetSnapshot:E,urlAfterRedirects:l,extras:de(F({},g),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(A=>(A.finalUrl=l,A)),ne(r)}else return this.events.next(new zr(o.id,this.urlSerializer.serialize(o.extractedUrl),"",ul.IgnoredByUrlHandlingStrategy)),o.resolve(!1),en}),_t(o=>{let s=new lp(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),oe(o=>(this.currentTransition=r=de(F({},o),{guards:aq(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),vq(this.environmentInjector,o=>this.events.next(o)),_t(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw Tp(this.urlSerializer,o.guardsResult);let s=new dp(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),Gt(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",Yt.GuardRejected),!1)),NE(o=>{if(o.guards.canActivateChecks.length!==0)return ne(o).pipe(_t(s=>{let a=new hp(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),Vt(s=>{let a=!1;return ne(s).pipe(Hq(this.paramsInheritanceStrategy,this.environmentInjector),_t({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",Yt.NoDataFromResolver)}}))}),_t(s=>{let a=new fp(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),NE(o=>{let s=a=>{let c=[];if(a.routeConfig?.loadComponent){let l=Ua(a)??this.environmentInjector;c.push(this.configLoader.loadComponent(l,a.routeConfig).pipe(_t(d=>{a.component=d}),oe(()=>{})))}for(let l of a.children)c.push(...s(l));return c};return _h(s(o.targetSnapshot.root)).pipe(Ci(null),Or(1))}),NE(()=>this.afterPreactivation()),Vt(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?He(a).pipe(oe(()=>r)):ne(r)}),oe(o=>{let s=nq(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=de(F({},o),{targetRouterState:s}),this.currentNavigation.update(a=>(a.targetRouterState=s,a)),r}),_t(()=>{this.events.next(new dl)}),sq(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),Or(1),Th(new ie(o=>{let s=r.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(Gt(()=>!i&&!r.targetRouterState),_t(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",Yt.Aborted)}))),_t({next:o=>{i=!0,this.lastSuccessfulNavigation=It(this.currentNavigation),this.events.next(new mr(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),Th(this.transitionAbortWithErrorSubject.pipe(_t(o=>{throw o}))),Ro(()=>{i||this.cancelNavigationTransition(r,"",Yt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),Di(o=>{if(this.destroyed)return r.resolve(!1),en;if(i=!0,gM(o))this.events.next(new pr(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),oq(o)?this.events.next(new La(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new Fa(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let a=et(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof Va){let{message:c,cancellationCode:l}=Tp(this.urlSerializer,a);this.events.next(new pr(r.id,this.urlSerializer.serialize(r.extractedUrl),c,l)),this.events.next(new La(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return en}))}))}cancelNavigationTransition(t,r,i){let o=new pr(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=It(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return t.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Qq(n){return n!==sl}var RM=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:()=>O(Yq),providedIn:"root"})}return n})(),Dp=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},Yq=(()=>{class n extends Dp{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Wo(n)))(i||n)}})();static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),NM=(()=>{class n{urlSerializer=O(vl);options=O(Ha,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=O(Aa);urlHandlingStrategy=O(Ap);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new gr;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof gr?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=uM(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:()=>O(Jq),providedIn:"root"})}return n})(),Jq=(()=>{class n extends NM{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof is?this.updateStateMemento():t instanceof zr?this.commitTransition(r):t instanceof ll?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof dl?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof pr&&t.code!==Yt.SupersededByNewNavigation&&t.code!==Yt.Redirect?this.restoreHistory(r):t instanceof Fa?this.restoreHistory(r,!0):t instanceof mr&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,c=F(F({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",c)}else{let a=F(F({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Wo(n)))(i||n)}})();static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function QE(n,e){n.events.pipe(Gt(t=>t instanceof mr||t instanceof pr||t instanceof Fa||t instanceof zr),oe(t=>t instanceof mr||t instanceof zr?0:(t instanceof pr?t.code===Yt.Redirect||t.code===Yt.SupersededByNewNavigation:!1)?2:1),Gt(t=>t!==2),Or(1)).subscribe(()=>{e()})}var Zq={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Xq={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},En=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=O(H_);stateManager=O(NM);options=O(Ha,{optional:!0})||{};pendingTasks=O(ar);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=O(AM);urlSerializer=O(vl);location=O(Aa);urlHandlingStrategy=O(Ap);injector=O(Qe);_events=new ot;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=O(RM);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=O(Il,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!O(Sp,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Ke;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=It(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof pr&&r.code!==Yt.Redirect&&r.code!==Yt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof mr)this.navigated=!0;else if(r instanceof La){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=F({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Qq(i.source)},s);this.scheduleNavigation(a,sl,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}ZH(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),sl,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=F({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o).catch(c=>{this.disposed||this.injector.get(on)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return It(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(WE),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s,d=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":d=F(F({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let f;try{let g=i?i.snapshot:this.routerState.snapshot.root;f=oM(g)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),f=this.currentUrlTree.root}return sM(f,t,d,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Ki(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,sl,null,r)}navigate(t,r={skipLocationChange:!1}){return e4(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.console.warn(xo(4018,!1)),this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=F({},Zq):r===!1?i=F({},Xq):i=r,Ki(t))return UN(this.currentUrlTree,t,i);let o=this.parseUrl(t);return UN(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((f,g)=>{a=f,c=g});let d=this.pendingTasks.add();return QE(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(f=>Promise.reject(f))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function e4(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new P(4008,!1)}var Qi=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=yt(null);get href(){return It(this.reactiveHref)}set href(t){this.reactiveHref.set(t)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new ot;applicationErrorHandler=O(on);options=O(Ha,{optional:!0});constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(O(new kf("href"),{optional:!0}));let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area"||!!(typeof customElements=="object"&&customElements.get(c)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let t=this.preserveFragment,r=i=>i==="merge"||i==="preserve";t||=r(this.queryParamsHandling),t||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),t&&(this.subscription=this.router.events.subscribe(i=>{i instanceof mr&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Ki(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c)?.catch(l=>{this.applicationErrorHandler(l)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.reactiveHref.set(t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t))??"":null)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:Ki(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(J(En),J(Gr),Nu("tabindex"),J(Ko),J(Ui),J(Ca))};static \u0275dir=vt({type:n,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&rt("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Fu("href",i.reactiveHref(),b_)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Sa],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Sa],replaceUrl:[2,"replaceUrl","replaceUrl",Sa],routerLink:"routerLink"},features:[lr]})}return n})();var n4=new B("");function YE(n,...e){return Dn([{provide:Il,multi:!0,useValue:n},[],{provide:Gr,useFactory:r4,deps:[En]},{provide:Cf,multi:!0,useFactory:i4},e.map(t=>t.\u0275providers)])}function r4(n){return n.routerState.root}function i4(){let n=O(mt);return e=>{let t=n.get(Hi);if(e!==t.components[0])return;let r=n.get(En),i=n.get(o4);n.get(s4)===1&&r.initialNavigation(),n.get(a4,null,{optional:!0})?.setUpPreloading(),n.get(n4,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var o4=new B("",{factory:()=>new ot}),s4=new B("",{providedIn:"root",factory:()=>1});var a4=new B("");var MM=()=>{};var OM=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},c4=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Rp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,c=i+2<n.length,l=c?n[i+2]:0,d=o>>2,f=(o&3)<<4|a>>4,g=(a&15)<<2|l>>6,m=l&63;c||(m=64,s||(g=64)),r.push(t[d],t[f],t[g],t[m])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(OM(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):c4(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let f=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||l==null||f==null)throw new XE;let g=o<<2|a>>4;if(r.push(g),l!==64){let m=a<<4&240|l>>2;if(r.push(m),f!==64){let E=l<<6&192|f;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},XE=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},u4=function(n){let e=OM(n);return Rp.encodeByteArray(e,!0)},Tl=function(n){return u4(n).replace(/\./g,"")},Np=function(n){try{return Rp.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function tI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var l4=()=>tI().__FIREBASE_DEFAULTS__,d4=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},h4=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Np(n[1]);return e&&JSON.parse(e)},Mp=()=>{try{return MM()||l4()||d4()||h4()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},nI=n=>{var e,t;return(t=(e=Mp())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},xM=n=>{let e=nI(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},rI=()=>{var n;return(n=Mp())===null||n===void 0?void 0:n.config},iI=n=>{var e;return(e=Mp())===null||e===void 0?void 0:e[`_${n}`]};var os=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function Yi(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}function Pp(n){return v(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function FM(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Tl(JSON.stringify(t)),Tl(JSON.stringify(s)),""].join(".")}var wl={};function f4(){let n={prod:[],emulator:[]};for(let e of Object.keys(wl))wl[e]?n.emulator.push(e):n.prod.push(e);return n}function p4(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var PM=!1;function kp(n,e){if(typeof window>"u"||typeof document>"u"||!Yi(window.location.host)||wl[n]===e||wl[n]||PM)return;wl[n]=e;function t(g){return`__firebase__banner__${g}`}let r="__firebase__banner",o=f4().prod.length>0;function s(){let g=document.getElementById(r);g&&g.remove()}function a(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function c(g,m){g.setAttribute("width","24"),g.setAttribute("id",m),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function l(){let g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{PM=!0,s()},g}function d(g,m){g.setAttribute("id",m),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function f(){let g=p4(r),m=t("text"),E=document.getElementById(m)||document.createElement("span"),A=t("learnmore"),D=document.getElementById(A)||document.createElement("a"),M=t("preprendIcon"),L=document.getElementById(M)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){let H=g.element;a(H),d(D,A);let W=l();c(L,M),H.append(L,E,D,W),document.body.appendChild(H)}o?(E.innerText="Preview backend disconnected.",L.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(L.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}function Tt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function LM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Tt())}function g4(){var n;let e=(n=Mp())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function VM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function jM(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function UM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function BM(){let n=Tt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function $M(){return!g4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qa(){try{return typeof indexedDB=="object"}catch{return!1}}function oI(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var m4="FirebaseError",Jt=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=m4,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zt.prototype.create)}},Zt=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?y4(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Jt(i,a,r)}};function y4(n,e){return n.replace(v4,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var v4=/\{\$([^}]+)}/g;function HM(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function yr(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(kM(o)&&kM(s)){if(!yr(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function kM(n){return n!==null&&typeof n=="object"}function bl(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function za(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Ga(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function qM(n,e){let t=new eI(n,e);return t.subscribe.bind(t)}var eI=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");_4(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=ZE),i.error===void 0&&(i.error=ZE),i.complete===void 0&&(i.complete=ZE);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function _4(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function ZE(){}var she=14400*1e3;function Ue(n){return n&&n._delegate?n._delegate:n}var it=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var ss="[DEFAULT]";var sI=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new os;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(I4(e))try{this.getOrInitializeService({instanceIdentifier:ss})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=ss){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return v(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=ss){return this.instances.has(e)}getOptions(e=ss){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:E4(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ss){return this.component?this.component.multipleInstances?e:ss:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function E4(n){return n===ss?void 0:n}function I4(n){return n.instantiationMode==="EAGER"}var Op=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new sI(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var w4=[],ve=(function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n})(ve||{}),T4={debug:ve.DEBUG,verbose:ve.VERBOSE,info:ve.INFO,warn:ve.WARN,error:ve.ERROR,silent:ve.SILENT},b4=ve.INFO,D4={[ve.DEBUG]:"log",[ve.VERBOSE]:"log",[ve.INFO]:"info",[ve.WARN]:"warn",[ve.ERROR]:"error"},S4=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=D4[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},vr=class{constructor(e){this.name=e,this._logLevel=b4,this._logHandler=S4,this._userLogHandler=null,w4.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?T4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ve.DEBUG,...e),this._logHandler(this,ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ve.VERBOSE,...e),this._logHandler(this,ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ve.INFO,...e),this._logHandler(this,ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ve.WARN,...e),this._logHandler(this,ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ve.ERROR,...e),this._logHandler(this,ve.ERROR,...e)}};var C4=(n,e)=>e.some(t=>n instanceof t),zM,GM;function A4(){return zM||(zM=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function R4(){return GM||(GM=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var WM=new WeakMap,cI=new WeakMap,KM=new WeakMap,aI=new WeakMap,lI=new WeakMap;function N4(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Kn(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&WM.set(t,n)}).catch(()=>{}),lI.set(e,n),e}function M4(n){if(cI.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});cI.set(n,e)}var uI={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return cI.get(n);if(e==="objectStoreNames")return n.objectStoreNames||KM.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Kn(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function QM(n){uI=n(uI)}function P4(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(xp(this),e,...t);return KM.set(r,e.sort?e.sort():[e]),Kn(r)}:R4().includes(n)?function(...e){return n.apply(xp(this),e),Kn(WM.get(this))}:function(...e){return Kn(n.apply(xp(this),e))}}function k4(n){return typeof n=="function"?P4(n):(n instanceof IDBTransaction&&M4(n),C4(n,A4())?new Proxy(n,uI):n)}function Kn(n){if(n instanceof IDBRequest)return N4(n);if(aI.has(n))return aI.get(n);let e=k4(n);return e!==n&&(aI.set(n,e),lI.set(e,n)),e}var xp=n=>lI.get(n);function as(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=Kn(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Kn(s.result),c.oldVersion,c.newVersion,Kn(s.transaction),c)}),t&&s.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}function Fp(n,{blocked:e}={}){let t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",r=>e(r.oldVersion,r)),Kn(t).then(()=>{})}var O4=["get","getKey","getAll","getAllKeys","count"],x4=["put","add","delete","clear"],dI=new Map;function YM(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(dI.get(e))return dI.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=x4.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||O4.includes(t)))return;let o=function(s,...a){return v(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[t](...a),i&&c.done]))[0]})};return dI.set(e,o),o}QM(n=>de(F({},n),{get:(e,t,r)=>YM(e,t)||n.get(e,t,r),has:(e,t)=>!!YM(e,t)||n.has(e,t)}));var fI=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(F4(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function F4(n){let e=n.getComponent();return e?.type==="VERSION"}var pI="@firebase/app",JM="0.13.2";var Kr=new vr("@firebase/app"),L4="@firebase/app-compat",V4="@firebase/analytics-compat",j4="@firebase/analytics",U4="@firebase/app-check-compat",B4="@firebase/app-check",$4="@firebase/auth",H4="@firebase/auth-compat",q4="@firebase/database",z4="@firebase/data-connect",G4="@firebase/database-compat",W4="@firebase/functions",K4="@firebase/functions-compat",Q4="@firebase/installations",Y4="@firebase/installations-compat",J4="@firebase/messaging",Z4="@firebase/messaging-compat",X4="@firebase/performance",ez="@firebase/performance-compat",tz="@firebase/remote-config",nz="@firebase/remote-config-compat",rz="@firebase/storage",iz="@firebase/storage-compat",oz="@firebase/firestore",sz="@firebase/ai",az="@firebase/firestore-compat",cz="firebase",uz="11.10.0";var gI="[DEFAULT]",lz={[pI]:"fire-core",[L4]:"fire-core-compat",[j4]:"fire-analytics",[V4]:"fire-analytics-compat",[B4]:"fire-app-check",[U4]:"fire-app-check-compat",[$4]:"fire-auth",[H4]:"fire-auth-compat",[q4]:"fire-rtdb",[z4]:"fire-data-connect",[G4]:"fire-rtdb-compat",[W4]:"fire-fn",[K4]:"fire-fn-compat",[Q4]:"fire-iid",[Y4]:"fire-iid-compat",[J4]:"fire-fcm",[Z4]:"fire-fcm-compat",[X4]:"fire-perf",[ez]:"fire-perf-compat",[tz]:"fire-rc",[nz]:"fire-rc-compat",[rz]:"fire-gcs",[iz]:"fire-gcs-compat",[oz]:"fire-fst",[az]:"fire-fst-compat",[sz]:"fire-vertex","fire-js":"fire-js",[cz]:"fire-js-all"};var Dl=new Map,dz=new Map,mI=new Map;function ZM(n,e){try{n.container.addComponent(e)}catch(t){Kr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Mt(n){let e=n.name;if(mI.has(e))return Kr.debug(`There were multiple attempts to register component ${e}.`),!1;mI.set(e,n);for(let t of Dl.values())ZM(t,n);for(let t of dz.values())ZM(t,n);return!0}function _r(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function cn(n){return n==null?!1:n.settings!==void 0}var hz={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ji=new Zt("app","Firebase",hz);var yI=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new it("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ji.create("app-deleted",{appName:this._name})}};var Zi=uz;function EI(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:gI,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Ji.create("bad-app-name",{appName:String(i)});if(t||(t=rI()),!t)throw Ji.create("no-options");let o=Dl.get(i);if(o){if(yr(t,o.options)&&yr(r,o.config))return o;throw Ji.create("duplicate-app",{appName:i})}let s=new Op(i);for(let c of mI.values())s.addComponent(c);let a=new yI(t,r,s);return Dl.set(i,a),a}function Qr(n=gI){let e=Dl.get(n);if(!e&&n===gI&&rI())return EI();if(!e)throw Ji.create("no-app",{appName:n});return e}function Lp(){return Array.from(Dl.values())}function Me(n,e,t){var r;let i=(r=lz[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Kr.warn(a.join(" "));return}Mt(new it(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var fz="firebase-heartbeat-database",pz=1,Sl="firebase-heartbeat-store",hI=null;function nP(){return hI||(hI=as(fz,pz,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Sl)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ji.create("idb-open",{originalErrorMessage:n.message})})),hI}function gz(n){return v(this,null,function*(){try{let t=(yield nP()).transaction(Sl),r=yield t.objectStore(Sl).get(rP(n));return yield t.done,r}catch(e){if(e instanceof Jt)Kr.warn(e.message);else{let t=Ji.create("idb-get",{originalErrorMessage:e?.message});Kr.warn(t.message)}}})}function XM(n,e){return v(this,null,function*(){try{let r=(yield nP()).transaction(Sl,"readwrite");yield r.objectStore(Sl).put(e,rP(n)),yield r.done}catch(t){if(t instanceof Jt)Kr.warn(t.message);else{let r=Ji.create("idb-set",{originalErrorMessage:t?.message});Kr.warn(r.message)}}})}function rP(n){return`${n.name}!${n.options.appId}`}var mz=1024,yz=30,vI=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new _I(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return v(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=eP();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>yz){let s=_z(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Kr.warn(r)}})}getHeartbeatsHeader(){return v(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=eP(),{heartbeatsToSend:r,unsentEntries:i}=vz(this._heartbeatsCache.heartbeats),o=Tl(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Kr.warn(t),""}})}};function eP(){return new Date().toISOString().substring(0,10)}function vz(n,e=mz){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),tP(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),tP(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var _I=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return v(this,null,function*(){return qa()?oI().then(()=>!0).catch(()=>!1):!1})}read(){return v(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield gz(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return v(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return XM(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return v(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return XM(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function tP(n){return Tl(JSON.stringify({version:2,heartbeats:n})).length}function _z(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function Ez(n){Mt(new it("platform-logger",e=>new fI(e),"PRIVATE")),Mt(new it("heartbeat",e=>new vI(e),"PRIVATE")),Me(pI,JM,n),Me(pI,JM,"esm2017"),Me("fire-js","")}Ez("");var Iz="firebase",wz="11.10.0";Me(Iz,wz,"app");function iP(n){n===void 0&&(n=O(mt));let e=n.get(Vi);return t=>new ie(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=t.subscribe({next:c=>{r.next(c),s()},complete:()=>{r.complete(),s()},error:c=>{r.error(c),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var Yr=new Mo("ANGULARFIRE2_VERSION");function Ka(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var us=(n,e)=>{let t=e?[e]:Lp(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Wa=(function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n})(Wa||{}),oP=iE()&&typeof Zone<"u"?Wa.WARN:Wa.SILENT;var Vp=class{zone;delegate;constructor(e,t=Vy){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},Jr=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=O(Se);this.outsideAngular=t.runOutsideAngular(()=>new Vp(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new Vp(typeof Zone>"u"?void 0:Zone.current,Ly))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),sP=!1;function Tz(n,e){!sP&&(oP>Wa.SILENT||iE())&&(sP=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),oP>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function bz(n){let e=O(Se,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function cs(n){let e=O(Se,{optional:!0});return e?e.run(()=>n()):n()}var Dz=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),et(t,()=>cs(()=>n.apply(void 0,r)))),Je=(n,e,t)=>(t||=e?Wa.WARN:Wa.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=O(Jr),s=O(Vi),a=O(Qe)}catch{return Tz(n,t),n.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=cs(()=>s.add())),i[l]=Dz(i[l],r,a));let c=bz(()=>n.apply(this,i));return e?c instanceof ie?c.pipe(bi(o.outsideAngular),Ti(o.insideAngular),iP(a)):c instanceof Promise?cs(()=>{let l=s.add();return new Promise((d,f)=>{c.then(g=>et(a,()=>cs(()=>d(g))),g=>et(a,()=>cs(()=>f(g)))).finally(l)})}):typeof c=="function"&&r?function(){return setTimeout(r,0),c.apply(this,arguments)}:cs(()=>c):c instanceof ie?c.pipe(bi(o.outsideAngular),Ti(o.insideAngular)):cs(()=>c)});var Zr=class{constructor(e){return e}},ls=class{constructor(){return Lp()}};function Sz(n){return n&&n.length===1?n[0]:new Zr(Qr())}var II=new B("angularfire2._apps"),Cz={provide:Zr,useFactory:Sz,deps:[[new yn,II]]},Az={provide:ls,deps:[[new yn,II]]};function Rz(n){return(e,t)=>{let r=t.get(Bi);Me("angularfire",Yr.full,"core"),Me("angularfire",Yr.full,"app"),Me("angular",tv.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new Zr(i)}}function aP(n,...e){return Dn([Cz,Az,{provide:II,useFactory:Rz(n),multi:!0,deps:[Se,mt,Jr,...e]}])}var cP=Je(EI,!0);var dP="@firebase/installations",DI="0.6.18";var hP=1e4,fP=`w:${DI}`,pP="FIS_v2",Nz="https://firebaseinstallations.googleapis.com/v1",Mz=3600*1e3,Pz="installations",kz="Installations";var Oz={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},hs=new Zt(Pz,kz,Oz);function gP(n){return n instanceof Jt&&n.code.includes("request-failed")}function mP({projectId:n}){return`${Nz}/projects/${n}/installations`}function yP(n){return{token:n.token,requestStatus:2,expiresIn:Fz(n.expiresIn),creationTime:Date.now()}}function vP(n,e){return v(this,null,function*(){let r=(yield e.json()).error;return hs.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})}function _P({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function xz(n,{refreshToken:e}){let t=_P(n);return t.append("Authorization",Lz(e)),t}function EP(n){return v(this,null,function*(){let e=yield n();return e.status>=500&&e.status<600?n():e})}function Fz(n){return Number(n.replace("s","000"))}function Lz(n){return`${pP} ${n}`}function Vz(r,i){return v(this,arguments,function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){let o=mP(n),s=_P(n),a=e.getImmediate({optional:!0});if(a){let f=yield a.getHeartbeatsHeader();f&&s.append("x-firebase-client",f)}let c={fid:t,authVersion:pP,appId:n.appId,sdkVersion:fP},l={method:"POST",headers:s,body:JSON.stringify(c)},d=yield EP(()=>fetch(o,l));if(d.ok){let f=yield d.json();return{fid:f.fid||t,registrationStatus:2,refreshToken:f.refreshToken,authToken:yP(f.authToken)}}else throw yield vP("Create Installation",d)})}function IP(n){return new Promise(e=>{setTimeout(e,n)})}function jz(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}var Uz=/^[cdef][\w-]{21}$/,bI="";function Bz(){try{let n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;let t=$z(n);return Uz.test(t)?t:bI}catch{return bI}}function $z(n){return jz(n).substr(0,22)}function Up(n){return`${n.appName}!${n.appId}`}var wP=new Map;function TP(n,e){let t=Up(n);bP(t,e),Hz(t,e)}function bP(n,e){let t=wP.get(n);if(t)for(let r of t)r(e)}function Hz(n,e){let t=qz();t&&t.postMessage({key:n,fid:e}),zz()}var ds=null;function qz(){return!ds&&"BroadcastChannel"in self&&(ds=new BroadcastChannel("[Firebase] FID Change"),ds.onmessage=n=>{bP(n.data.key,n.data.fid)}),ds}function zz(){wP.size===0&&ds&&(ds.close(),ds=null)}var Gz="firebase-installations-database",Wz=1,fs="firebase-installations-store",wI=null;function SI(){return wI||(wI=as(Gz,Wz,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(fs)}}})),wI}function jp(n,e){return v(this,null,function*(){let t=Up(n),i=(yield SI()).transaction(fs,"readwrite"),o=i.objectStore(fs),s=yield o.get(t);return yield o.put(e,t),yield i.done,(!s||s.fid!==e.fid)&&TP(n,e.fid),e})}function DP(n){return v(this,null,function*(){let e=Up(n),r=(yield SI()).transaction(fs,"readwrite");yield r.objectStore(fs).delete(e),yield r.done})}function Bp(n,e){return v(this,null,function*(){let t=Up(n),i=(yield SI()).transaction(fs,"readwrite"),o=i.objectStore(fs),s=yield o.get(t),a=e(s);return a===void 0?yield o.delete(t):yield o.put(a,t),yield i.done,a&&(!s||s.fid!==a.fid)&&TP(n,a.fid),a})}function CI(n){return v(this,null,function*(){let e,t=yield Bp(n.appConfig,r=>{let i=Kz(r),o=Qz(n,i);return e=o.registrationPromise,o.installationEntry});return t.fid===bI?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}})}function Kz(n){let e=n||{fid:Bz(),registrationStatus:0};return SP(e)}function Qz(n,e){if(e.registrationStatus===0){if(!navigator.onLine){let i=Promise.reject(hs.create("app-offline"));return{installationEntry:e,registrationPromise:i}}let t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=Yz(n,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Jz(n)}:{installationEntry:e}}function Yz(n,e){return v(this,null,function*(){try{let t=yield Vz(n,e);return jp(n.appConfig,t)}catch(t){throw gP(t)&&t.customData.serverCode===409?yield DP(n.appConfig):yield jp(n.appConfig,{fid:e.fid,registrationStatus:0}),t}})}function Jz(n){return v(this,null,function*(){let e=yield uP(n.appConfig);for(;e.registrationStatus===1;)yield IP(100),e=yield uP(n.appConfig);if(e.registrationStatus===0){let{installationEntry:t,registrationPromise:r}=yield CI(n);return r||t}return e})}function uP(n){return Bp(n,e=>{if(!e)throw hs.create("installation-not-found");return SP(e)})}function SP(n){return Zz(n)?{fid:n.fid,registrationStatus:0}:n}function Zz(n){return n.registrationStatus===1&&n.registrationTime+hP<Date.now()}function Xz(r,i){return v(this,arguments,function*({appConfig:n,heartbeatServiceProvider:e},t){let o=e3(n,t),s=xz(n,t),a=e.getImmediate({optional:!0});if(a){let f=yield a.getHeartbeatsHeader();f&&s.append("x-firebase-client",f)}let c={installation:{sdkVersion:fP,appId:n.appId}},l={method:"POST",headers:s,body:JSON.stringify(c)},d=yield EP(()=>fetch(o,l));if(d.ok){let f=yield d.json();return yP(f)}else throw yield vP("Generate Auth Token",d)})}function e3(n,{fid:e}){return`${mP(n)}/${e}/authTokens:generate`}function AI(n,e=!1){return v(this,null,function*(){let t,r=yield Bp(n.appConfig,o=>{if(!CP(o))throw hs.create("not-registered");let s=o.authToken;if(!e&&r3(s))return o;if(s.requestStatus===1)return t=t3(n,e),o;{if(!navigator.onLine)throw hs.create("app-offline");let a=o3(o);return t=n3(n,a),a}});return t?yield t:r.authToken})}function t3(n,e){return v(this,null,function*(){let t=yield lP(n.appConfig);for(;t.authToken.requestStatus===1;)yield IP(100),t=yield lP(n.appConfig);let r=t.authToken;return r.requestStatus===0?AI(n,e):r})}function lP(n){return Bp(n,e=>{if(!CP(e))throw hs.create("not-registered");let t=e.authToken;return s3(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function n3(n,e){return v(this,null,function*(){try{let t=yield Xz(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield jp(n.appConfig,r),t}catch(t){if(gP(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))yield DP(n.appConfig);else{let r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield jp(n.appConfig,r)}throw t}})}function CP(n){return n!==void 0&&n.registrationStatus===2}function r3(n){return n.requestStatus===2&&!i3(n)}function i3(n){let e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+Mz}function o3(n){let e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function s3(n){return n.requestStatus===1&&n.requestTime+hP<Date.now()}function a3(n){return v(this,null,function*(){let e=n,{installationEntry:t,registrationPromise:r}=yield CI(e);return r?r.catch(console.error):AI(e).catch(console.error),t.fid})}function c3(n,e=!1){return v(this,null,function*(){let t=n;return yield u3(t),(yield AI(t,e)).token})}function u3(n){return v(this,null,function*(){let{registrationPromise:e}=yield CI(n);e&&(yield e)})}function l3(n){if(!n||!n.options)throw TI("App Configuration");if(!n.name)throw TI("App Name");let e=["projectId","apiKey","appId"];for(let t of e)if(!n.options[t])throw TI(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function TI(n){return hs.create("missing-app-config-values",{valueName:n})}var AP="installations",d3="installations-internal",h3=n=>{let e=n.getProvider("app").getImmediate(),t=l3(e),r=_r(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},f3=n=>{let e=n.getProvider("app").getImmediate(),t=_r(e,AP).getImmediate();return{getId:()=>a3(t),getToken:i=>c3(t,i)}};function p3(){Mt(new it(AP,h3,"PUBLIC")),Mt(new it(d3,f3,"PRIVATE"))}p3();Me(dP,DI);Me(dP,DI,"esm2017");var g3="/firebase-messaging-sw.js",m3="/firebase-cloud-messaging-push-scope",xP="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",y3="https://fcmregistrations.googleapis.com/v1",FP="google.c.a.c_id",v3="google.c.a.c_l",_3="google.c.a.ts",E3="google.c.a.e",RP=1e4;var $p=(function(n){return n.PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",n})($p||{});function Xr(n){let e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function I3(n){let e="=".repeat((4-n.length%4)%4),t=(n+e).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let o=0;o<r.length;++o)i[o]=r.charCodeAt(o);return i}var RI="fcm_token_details_db",w3=5,NP="fcm_token_object_Store";function T3(n){return v(this,null,function*(){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(o=>o.name).includes(RI))return null;let e=null;return(yield as(RI,w3,{upgrade:(r,i,o,s)=>v(null,null,function*(){var a;if(i<2||!r.objectStoreNames.contains(NP))return;let c=s.objectStore(NP),l=yield c.index("fcmSenderId").get(n);if(yield c.clear(),!!l){if(i===2){let d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:(a=d.createTime)!==null&&a!==void 0?a:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:typeof d.vapidKey=="string"?d.vapidKey:Xr(d.vapidKey)}}}else if(i===3){let d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Xr(d.auth),p256dh:Xr(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Xr(d.vapidKey)}}}else if(i===4){let d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Xr(d.auth),p256dh:Xr(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Xr(d.vapidKey)}}}}})})).close(),yield Fp(RI),yield Fp("fcm_vapid_details_db"),yield Fp("undefined"),b3(e)?e:null})}function b3(n){if(!n||!n.subscriptionOptions)return!1;let{subscriptionOptions:e}=n;return typeof n.createTime=="number"&&n.createTime>0&&typeof n.token=="string"&&n.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}var D3="firebase-messaging-database",S3=1,Cl="firebase-messaging-store",NI=null;function LP(){return NI||(NI=as(D3,S3,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Cl)}}})),NI}function C3(n){return v(this,null,function*(){let e=VP(n),r=yield(yield LP()).transaction(Cl).objectStore(Cl).get(e);if(r)return r;{let i=yield T3(n.appConfig.senderId);if(i)return yield kI(n,i),i}})}function kI(n,e){return v(this,null,function*(){let t=VP(n),i=(yield LP()).transaction(Cl,"readwrite");return yield i.objectStore(Cl).put(e,t),yield i.done,e})}function VP({appConfig:n}){return n.appId}var A3={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},un=new Zt("messaging","Messaging",A3);function R3(n,e){return v(this,null,function*(){let t=yield xI(n),r=jP(e),i={method:"POST",headers:t,body:JSON.stringify(r)},o;try{o=yield(yield fetch(OI(n.appConfig),i)).json()}catch(s){throw un.create("token-subscribe-failed",{errorInfo:s?.toString()})}if(o.error){let s=o.error.message;throw un.create("token-subscribe-failed",{errorInfo:s})}if(!o.token)throw un.create("token-subscribe-no-token");return o.token})}function N3(n,e){return v(this,null,function*(){let t=yield xI(n),r=jP(e.subscriptionOptions),i={method:"PATCH",headers:t,body:JSON.stringify(r)},o;try{o=yield(yield fetch(`${OI(n.appConfig)}/${e.token}`,i)).json()}catch(s){throw un.create("token-update-failed",{errorInfo:s?.toString()})}if(o.error){let s=o.error.message;throw un.create("token-update-failed",{errorInfo:s})}if(!o.token)throw un.create("token-update-no-token");return o.token})}function M3(n,e){return v(this,null,function*(){let r={method:"DELETE",headers:yield xI(n)};try{let o=yield(yield fetch(`${OI(n.appConfig)}/${e}`,r)).json();if(o.error){let s=o.error.message;throw un.create("token-unsubscribe-failed",{errorInfo:s})}}catch(i){throw un.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})}function OI({projectId:n}){return`${y3}/projects/${n}/registrations`}function xI(t){return v(this,arguments,function*({appConfig:n,installations:e}){let r=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${r}`})})}function jP({p256dh:n,auth:e,endpoint:t,vapidKey:r}){let i={web:{endpoint:t,auth:e,p256dh:n}};return r!==xP&&(i.web.applicationPubKey=r),i}var P3=10080*60*1e3;function k3(n){return v(this,null,function*(){let e=yield x3(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:Xr(e.getKey("auth")),p256dh:Xr(e.getKey("p256dh"))},r=yield C3(n.firebaseDependencies);if(r){if(F3(r.subscriptionOptions,t))return Date.now()>=r.createTime+P3?O3(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield M3(n.firebaseDependencies,r.token)}catch(i){console.warn(i)}return MP(n.firebaseDependencies,t)}else return MP(n.firebaseDependencies,t)})}function O3(n,e){return v(this,null,function*(){try{let t=yield N3(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield kI(n.firebaseDependencies,r),t}catch(t){throw t}})}function MP(n,e){return v(this,null,function*(){let r={token:yield R3(n,e),createTime:Date.now(),subscriptionOptions:e};return yield kI(n,r),r.token})}function x3(n,e){return v(this,null,function*(){let t=yield n.pushManager.getSubscription();return t||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:I3(e)})})}function F3(n,e){let t=e.vapidKey===n.vapidKey,r=e.endpoint===n.endpoint,i=e.auth===n.auth,o=e.p256dh===n.p256dh;return t&&r&&i&&o}function PP(n){let e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return L3(e,n),V3(e,n),j3(e,n),e}function L3(n,e){if(!e.notification)return;n.notification={};let t=e.notification.title;t&&(n.notification.title=t);let r=e.notification.body;r&&(n.notification.body=r);let i=e.notification.image;i&&(n.notification.image=i);let o=e.notification.icon;o&&(n.notification.icon=o)}function V3(n,e){e.data&&(n.data=e.data)}function j3(n,e){var t,r,i,o,s;if(!e.fcmOptions&&!(!((t=e.notification)===null||t===void 0)&&t.click_action))return;n.fcmOptions={};let a=(i=(r=e.fcmOptions)===null||r===void 0?void 0:r.link)!==null&&i!==void 0?i:(o=e.notification)===null||o===void 0?void 0:o.click_action;a&&(n.fcmOptions.link=a);let c=(s=e.fcmOptions)===null||s===void 0?void 0:s.analytics_label;c&&(n.fcmOptions.analyticsLabel=c)}function U3(n){return typeof n=="object"&&!!n&&FP in n}B3("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");function B3(n,e){let t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));return t.join("")}function $3(n){if(!n||!n.options)throw MI("App Configuration Object");if(!n.name)throw MI("App Name");let e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(let r of e)if(!t[r])throw MI(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}function MI(n){return un.create("missing-app-config-values",{valueName:n})}var PI=class{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;let i=$3(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}};function H3(n){return v(this,null,function*(){try{n.swRegistration=yield navigator.serviceWorker.register(g3,{scope:m3}),n.swRegistration.update().catch(()=>{}),yield q3(n.swRegistration)}catch(e){throw un.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})}function q3(n){return v(this,null,function*(){return new Promise((e,t)=>{let r=setTimeout(()=>t(new Error(`Service worker not registered after ${RP} ms`)),RP),i=n.installing||n.waiting;n.active?(clearTimeout(r),e()):i?i.onstatechange=o=>{var s;((s=o.target)===null||s===void 0?void 0:s.state)==="activated"&&(i.onstatechange=null,clearTimeout(r),e())}:(clearTimeout(r),t(new Error("No incoming service worker found.")))})})}function z3(n,e){return v(this,null,function*(){if(!e&&!n.swRegistration&&(yield H3(n)),!(!e&&n.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw un.create("invalid-sw-registration");n.swRegistration=e}})}function G3(n,e){return v(this,null,function*(){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=xP)})}function UP(n,e){return v(this,null,function*(){if(!navigator)throw un.create("only-available-in-window");if(Notification.permission==="default"&&(yield Notification.requestPermission()),Notification.permission!=="granted")throw un.create("permission-blocked");return yield G3(n,e?.vapidKey),yield z3(n,e?.serviceWorkerRegistration),k3(n)})}function W3(n,e,t){return v(this,null,function*(){let r=K3(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[FP],message_name:t[v3],message_time:t[_3],message_device_time:Math.floor(Date.now()/1e3)})})}function K3(n){switch(n){case $p.NOTIFICATION_CLICKED:return"notification_open";case $p.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Q3(n,e){return v(this,null,function*(){let t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===$p.PUSH_RECEIVED&&(typeof n.onMessageHandler=="function"?n.onMessageHandler(PP(t)):n.onMessageHandler.next(PP(t)));let r=t.data;U3(r)&&r[E3]==="1"&&(yield W3(n,t.messageType,r))})}var kP="@firebase/messaging",OP="0.12.22";var Y3=n=>{let e=new PI(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>Q3(e,t)),e},J3=n=>{let e=n.getProvider("messaging").getImmediate();return{getToken:r=>UP(e,r)}};function Z3(){Mt(new it("messaging",Y3,"PUBLIC")),Mt(new it("messaging-internal",J3,"PRIVATE")),Me(kP,OP),Me(kP,OP,"esm2017")}function X3(n,e){if(!navigator)throw un.create("only-available-in-window");return n.onMessageHandler=e,()=>{n.onMessageHandler=null}}function BP(n,e){return v(this,null,function*(){return n=Ue(n),UP(n,e)})}function $P(n,e){return n=Ue(n),X3(n,e)}Z3();var Hp=class{constructor(e){return e}};var HP=Je(BP,!0);var qP=Je($P,!1);var qp=class n{constructor(e){this.messaging=e}requestPermission(){return v(this,null,function*(){try{let e=yield HP(this.messaging,{vapidKey:"BBSYVqVm5z1wEV2R2OIIJPmvpGGbQdyNu6hVRPRmhrvd7lVK3MkmjPI2AvKrpM7cnCLyY7ZtuDXLYTClVvUKcjg"});return console.log("FCM Token:",e),e}catch(e){return console.error("Permission denied or error:",e),null}})}listen(){qP(this.messaging,e=>{console.log("Message re\xE7u:",e),alert(e.notification?.title||"Nouvelle notification")})}static \u0275fac=function(t){return new(t||n)(Q(Hp))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})};var zp=class n{constructor(e){this.messagingService=e}ngOnInit(){this.messagingService.requestPermission(),this.messagingService.listen()}static \u0275fac=function(t){return new(t||n)(J(qp))};static \u0275cmp=Hn({type:n,selectors:[["app-root"]],decls:7,vars:0,consts:[[1,"min-h-screen"],[1,"px-6","py-4","flex","items-center","justify-between"],["routerLink","/",1,"font-semibold","text-gray-700"],[1,"text-sm","text-gray-500","hidden","md:block"]],template:function(t,r){t&1&&(j(0,"div",0)(1,"header",1)(2,"a",2),z(3,"LocaPaye"),V(),j(4,"nav",3),z(5,"Angular \u2022 Firebase \u2022 PWA \u2022 Tailwind"),V()(),Et(6,"router-outlet"),V())},dependencies:[_l,Qi],encapsulation:2})};var XP=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(J(Ko),J(Ui))};static \u0275dir=vt({type:n})}return n})(),ek=(()=>{class n extends XP{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Wo(n)))(i||n)}})();static \u0275dir=vt({type:n,features:[qn]})}return n})(),eg=new B("");var nG={provide:eg,useExisting:rr(()=>eo),multi:!0};function rG(){let n=Pn()?Pn().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var iG=new B(""),eo=(()=>{class n extends XP{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!rG())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(J(Ko),J(Ui),J(iG,8))};static \u0275dir=vt({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&rt("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[Yo([nG]),qn]})}return n})();function BI(n){return n==null||$I(n)===0}function $I(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var HI=new B(""),qI=new B(""),oG=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,je=class{static min(e){return sG(e)}static max(e){return aG(e)}static required(e){return cG(e)}static requiredTrue(e){return uG(e)}static email(e){return lG(e)}static minLength(e){return dG(e)}static maxLength(e){return hG(e)}static pattern(e){return fG(e)}static nullValidator(e){return tk()}static compose(e){return ak(e)}static composeAsync(e){return uk(e)}};function sG(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function aG(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function cG(n){return BI(n.value)?{required:!0}:null}function uG(n){return n.value===!0?null:{required:!0}}function lG(n){return BI(n.value)||oG.test(n.value)?null:{email:!0}}function dG(n){return e=>{let t=e.value?.length??$I(e.value);return t===null||t===0?null:t<n?{minlength:{requiredLength:n,actualLength:t}}:null}}function hG(n){return e=>{let t=e.value?.length??$I(e.value);return t!==null&&t>n?{maxlength:{requiredLength:n,actualLength:t}}:null}}function fG(n){if(!n)return tk;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(BI(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function tk(n){return null}function nk(n){return n!=null}function rk(n){return $i(n)?He(n):n}function ik(n){let e={};return n.forEach(t=>{e=t!=null?F(F({},e),t):e}),Object.keys(e).length===0?null:e}function ok(n,e){return e.map(t=>t(n))}function pG(n){return!n.validate}function sk(n){return n.map(e=>pG(e)?e:t=>e.validate(t))}function ak(n){if(!n)return null;let e=n.filter(nk);return e.length==0?null:function(t){return ik(ok(t,e))}}function ck(n){return n!=null?ak(sk(n)):null}function uk(n){if(!n)return null;let e=n.filter(nk);return e.length==0?null:function(t){let r=ok(t,e).map(rk);return By(r).pipe(oe(ik))}}function lk(n){return n!=null?uk(sk(n)):null}function zP(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function dk(n){return n._rawValidators}function hk(n){return n._rawAsyncValidators}function FI(n){return n?Array.isArray(n)?n:[n]:[]}function Wp(n,e){return Array.isArray(n)?n.includes(e):n===e}function GP(n,e){let t=FI(e);return FI(n).forEach(i=>{Wp(t,i)||t.push(i)}),t}function WP(n,e){return FI(e).filter(t=>!Wp(n,t))}var Kp=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=ck(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=lk(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},ps=class extends Kp{name;get formDirective(){return null}get path(){return null}},gs=class extends Kp{_parent=null;name=null;valueAccessor=null},Qp=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},gG={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Gfe=de(F({},gG),{"[class.ng-submitted]":"isSubmitted"}),Za=(()=>{class n extends Qp{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(J(gs,2))};static \u0275dir=vt({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Vu("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[qn]})}return n})(),Xa=(()=>{class n extends Qp{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(J(ps,10))};static \u0275dir=vt({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Vu("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[qn]})}return n})();var Al="VALID",Gp="INVALID",Qa="PENDING",Rl="DISABLED",Xi=class{},Yp=class extends Xi{value;source;constructor(e,t){super(),this.value=e,this.source=t}},Nl=class extends Xi{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},Ml=class extends Xi{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},Ya=class extends Xi{status;source;constructor(e,t){super(),this.status=e,this.source=t}},LI=class extends Xi{source;constructor(e){super(),this.source=e}},kl=class extends Xi{source;constructor(e){super(),this.source=e}};function zI(n){return(tg(n)?n.validators:n)||null}function mG(n){return Array.isArray(n)?ck(n):n||null}function GI(n,e){return(tg(e)?e.asyncValidators:n)||null}function yG(n){return Array.isArray(n)?lk(n):n||null}function tg(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function fk(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new P(1e3,"");if(!r[t])throw new P(1001,"")}function pk(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new P(1002,"")})}var Ja=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return It(this.statusReactive)}set status(e){It(()=>this.statusReactive.set(e))}_status=ba(()=>this.statusReactive());statusReactive=yt(void 0);get valid(){return this.status===Al}get invalid(){return this.status===Gp}get pending(){return this.status==Qa}get disabled(){return this.status===Rl}get enabled(){return this.status!==Rl}errors;get pristine(){return It(this.pristineReactive)}set pristine(e){It(()=>this.pristineReactive.set(e))}_pristine=ba(()=>this.pristineReactive());pristineReactive=yt(!0);get dirty(){return!this.pristine}get touched(){return It(this.touchedReactive)}set touched(e){It(()=>this.touchedReactive.set(e))}_touched=ba(()=>this.touchedReactive());touchedReactive=yt(!1);get untouched(){return!this.touched}_events=new ot;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(GP(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(GP(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(WP(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(WP(e,this._rawAsyncValidators))}hasValidator(e){return Wp(this._rawValidators,e)}hasAsyncValidator(e){return Wp(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(de(F({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Ml(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Ml(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(de(F({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Nl(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Nl(!0,r))}markAsPending(e={}){this.status=Qa;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ya(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(de(F({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Rl,this.errors=null,this._forEachChild(i=>{i.disable(de(F({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Yp(this.value,r)),this._events.next(new Ya(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(de(F({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Al,this._forEachChild(r=>{r.enable(de(F({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(de(F({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Al||this.status===Qa)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Yp(this.value,t)),this._events.next(new Ya(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(de(F({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Rl:Al}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Qa,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:e!==!1};let r=rk(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Ya(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new nt,this.statusChanges=new nt}_calculateStatus(){return this._allControlsDisabled()?Rl:this.errors?Gp:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Qa)?Qa:this._anyControlsHaveStatus(Gp)?Gp:Al}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Nl(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Ml(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){tg(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=mG(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=yG(this._rawAsyncValidators)}},Jp=class extends Ja{constructor(e,t,r){super(zI(t),GI(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){pk(this,!0,e),Object.keys(e).forEach(r=>{fk(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t),t?.emitEvent!==!1&&this._events.next(new kl(this))}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var VI=class extends Jp{};var ng=new B("",{providedIn:"root",factory:()=>rg}),rg="always";function gk(n,e){return[...e.path,n]}function jI(n,e,t=rg){WI(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),_G(n,e),IG(n,e),EG(n,e),vG(n,e)}function KP(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Xp(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Zp(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function vG(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function WI(n,e){let t=dk(n);e.validator!==null?n.setValidators(zP(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=hk(n);e.asyncValidator!==null?n.setAsyncValidators(zP(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();Zp(e._rawValidators,i),Zp(e._rawAsyncValidators,i)}function Xp(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=dk(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let i=hk(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}let r=()=>{};return Zp(e._rawValidators,r),Zp(e._rawAsyncValidators,r),t}function _G(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&mk(n,e)})}function EG(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&mk(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function mk(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function IG(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function wG(n,e){n==null,WI(n,e)}function TG(n,e){return Xp(n,e)}function yk(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function bG(n){return Object.getPrototypeOf(n.constructor)===ek}function DG(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function vk(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===eo?t=o:bG(o)?r=o:i=o}),i||r||t||null}function SG(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function QP(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function YP(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Pl=class extends Ja{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(zI(t),GI(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),tg(t)&&(t.nonNullable||t.initialValueIsDefault)&&(YP(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1,t?.emitEvent!==!1&&this._events.next(new kl(this))}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){QP(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){QP(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){YP(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var CG=n=>n instanceof Pl;var AG={provide:gs,useExisting:rr(()=>KI)},JP=Promise.resolve(),KI=(()=>{class n extends gs{_changeDetectorRef;callSetDisabledState;control=new Pl;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new nt;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=vk(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),yk(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){jI(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){JP.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&Sa(r);JP.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?gk(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(J(ps,9),J(HI,10),J(qI,10),J(eg,10),J(Da,8),J(ng,8))};static \u0275dir=vt({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Yo([AG]),qn,lr]})}return n})();var ec=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=vt({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})(),RG={provide:eg,useExisting:rr(()=>QI),multi:!0},QI=(()=>{class n extends ek{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Wo(n)))(i||n)}})();static \u0275dir=vt({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&rt("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[Yo([RG]),qn]})}return n})();var _k=new B("");var NG={provide:ps,useExisting:rr(()=>ms)},ms=(()=>{class n extends ps{callSetDisabledState;get submitted(){return It(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}_submitted=ba(()=>this._submittedReactive());_submittedReactive=yt(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new nt;constructor(t,r,i){super(),this.callSetDisabledState=i,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Xp(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return jI(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){KP(t.control||null,t,!1),SG(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),DG(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new LI(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0,r={}){this.form.reset(t,r),this._submittedReactive.set(!1)}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(KP(r||null,t),CG(i)&&(jI(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);wG(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&TG(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){WI(this.form,this),this._oldForm&&Xp(this._oldForm,this)}static \u0275fac=function(r){return new(r||n)(J(HI,10),J(qI,10),J(ng,8))};static \u0275dir=vt({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&rt("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Yo([NG]),qn,lr]})}return n})();var MG={provide:gs,useExisting:rr(()=>ys)},ys=(()=>{class n extends gs{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(t){}model;update=new nt;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=vk(this,o)}ngOnChanges(t){this._added||this._setUpControl(),yk(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return gk(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||n)(J(ps,13),J(HI,10),J(qI,10),J(eg,10),J(_k,8))};static \u0275dir=vt({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[Yo([MG]),qn,lr]})}return n})();var Ek=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Mn({type:n});static \u0275inj=gn({})}return n})(),UI=class extends Ja{constructor(e,t,r){super(zI(t),GI(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){Array.isArray(e)?e.forEach(r=>{this.controls.push(r),this._registerControl(r)}):(this.controls.push(e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){pk(this,!1,e),e.forEach((r,i)=>{fk(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t),t?.emitEvent!==!1&&this._events.next(new kl(this))}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function ZP(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var tc=(()=>{class n{useNonNullable=!1;get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),o={};return ZP(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Jp(i,o)}record(t,r=null){let i=this._reduceControls(t);return new VI(i,r)}control(t,r,i){let o={};return this.useNonNullable?(ZP(r)?o=r:(o.validators=r,o.asyncValidators=i),new Pl(t,de(F({},o),{nonNullable:!0}))):new Pl(t,r,i)}array(t,r,i){let o=t.map(s=>this._createControl(s));return new UI(o,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof Pl)return t;if(t instanceof Ja)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(r,i,o)}else return this.control(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Ik=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:ng,useValue:t.callSetDisabledState??rg}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Mn({type:n});static \u0275inj=gn({imports:[Ek]})}return n})(),nc=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:_k,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:ng,useValue:t.callSetDisabledState??rg}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Mn({type:n});static \u0275inj=gn({imports:[Ek]})}return n})();var PG=new Map,kG={activated:!1,tokenObservers:[]},OG={initialized:!1,enabled:!1};function Qn(n){return PG.get(n)||Object.assign({},kG)}function Dk(){return OG}var xG="https://content-firebaseappcheck.googleapis.com/v1";var FG="exchangeDebugToken",wk={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},tpe=1440*60*1e3;var XI=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return v(this,null,function*(){this.stop();try{this.pending=new os,this.pending.promise.catch(t=>{}),yield LG(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new os,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function LG(n){return new Promise(e=>{setTimeout(e,n)})}var VG={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},to=new Zt("appCheck","AppCheck",VG);function Sk(n){if(!Qn(n).activated)throw to.create("use-before-activation",{appName:n.name})}function Ck(r,i){return v(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let m=yield s.getHeartbeatsHeader();m&&(o["X-Firebase-Client"]=m)}let a={method:"POST",body:JSON.stringify(e),headers:o},c;try{c=yield fetch(n,a)}catch(m){throw to.create("fetch-network-error",{originalErrorMessage:m?.message})}if(c.status!==200)throw to.create("fetch-status-error",{httpStatus:c.status});let l;try{l=yield c.json()}catch(m){throw to.create("fetch-parse-error",{originalErrorMessage:m?.message})}let d=l.ttl.match(/^([\d.]+)(s)$/);if(!d||!d[2]||isNaN(Number(d[1])))throw to.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let f=Number(d[1])*1e3,g=Date.now();return{token:l.token,expireTimeMillis:g+f,issuedAtTimeMillis:g}})}function Ak(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${xG}/projects/${t}/apps/${r}:${FG}?key=${i}`,body:{debug_token:e}}}var jG="firebase-app-check-database",UG=1,ew="firebase-app-check-store";var ig=null;function BG(){return ig||(ig=new Promise((n,e)=>{try{let t=indexedDB.open(jG,UG);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(to.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(ew,{keyPath:"compositeKey"})}}}catch(t){e(to.create("storage-open",{originalErrorMessage:t?.message}))}}),ig)}function $G(n,e){return HG(qG(n),e)}function HG(n,e){return v(this,null,function*(){let r=(yield BG()).transaction(ew,"readwrite"),o=r.objectStore(ew).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=c=>{s()},r.onerror=c=>{var l;a(to.create("storage-set",{originalErrorMessage:(l=c.target.error)===null||l===void 0?void 0:l.message}))}})})}function qG(n){return`${n.options.appId}-${n.name}`}var Ol=new vr("@firebase/app-check");function JI(n,e){return qa()?$G(n,e).catch(t=>{Ol.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Rk(){return Dk().enabled}function Nk(){return v(this,null,function*(){let n=Dk();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var zG={error:"UNKNOWN_ERROR"};function GG(n){return Rp.encodeString(JSON.stringify(n),!1)}function tw(n,e=!1,t=!1){return v(this,null,function*(){let r=n.app;Sk(r);let i=Qn(r),o=i.token,s;if(o&&!xl(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(xl(l)?o=l:yield JI(r,void 0))}if(!e&&o&&xl(o))return{token:o.token};let a=!1;if(Rk())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=Ck(Ak(r,yield Nk()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=yield i.exchangeTokenPromise;return yield JI(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Ol.warn(l.message):t&&Ol.error(l),ZI(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield Qn(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Ol.warn(l.message):t&&Ol.error(l),s=l}let c;return o?s?xl(o)?c={token:o.token,internalError:s}:c=ZI(s):(c={token:o.token},i.token=o,yield JI(r,o)):c=ZI(s),a&&YG(r,c),c})}function WG(n){return v(this,null,function*(){let e=n.app;Sk(e);let{provider:t}=Qn(e);if(Rk()){let r=yield Nk(),{token:i}=yield Ck(Ak(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function KG(n,e,t,r){let{app:i}=n,o=Qn(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&xl(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),Tk(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>Tk(n))}function Mk(n,e){let t=Qn(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function Tk(n){let{app:e}=n,t=Qn(e),r=t.tokenRefresher;r||(r=QG(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function QG(n){let{app:e}=n;return new XI(()=>v(null,null,function*(){let t=Qn(e),r;if(t.token?r=yield tw(n,!0):r=yield tw(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=Qn(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-300*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},wk.RETRIAL_MIN_WAIT,wk.RETRIAL_MAX_WAIT)}function YG(n,e){let t=Qn(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function xl(n){return n.expireTimeMillis-Date.now()>0}function ZI(n){return{token:GG(zG),error:n}}var nw=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=Qn(this.app);for(let t of e)Mk(this.app,t.next);return Promise.resolve()}};function JG(n,e){return new nw(n,e)}function ZG(n){return{getToken:e=>tw(n,e),getLimitedUseToken:()=>WG(n),addTokenListener:e=>KG(n,"INTERNAL",e),removeTokenListener:e=>Mk(n.app,e)}}var XG="@firebase/app-check",e6="0.10.1";var t6="app-check",bk="app-check-internal";function n6(){Mt(new it(t6,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return JG(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(bk).initialize()})),Mt(new it(bk,n=>{let e=n.getProvider("app-check").getImmediate();return ZG(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Me(XG,e6)}n6();var r6="app-check";var rc=class{constructor(){return us(r6)}};var i6=["localhost","0.0.0.0","127.0.0.1"],ppe=typeof window<"u"&&i6.includes(window.location.hostname);function Wk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var Kk=Wk,Qk=new Zt("auth","Firebase",Wk());var lg=new vr("@firebase/auth");function o6(n,...e){lg.logLevel<=ve.WARN&&lg.warn(`Auth (${Zi}): ${n}`,...e)}function sg(n,...e){lg.logLevel<=ve.ERROR&&lg.error(`Auth (${Zi}): ${n}`,...e)}function Ir(n,...e){throw Cw(n,...e)}function vs(n,...e){return Cw(n,...e)}function Yk(n,e,t){let r=Object.assign(Object.assign({},Kk()),{[e]:t});return new Zt("auth","Firebase",r).create(e,{appName:n.name})}function ni(n){return Yk(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Cw(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return Qk.create(n,...e)}function re(n,e,...t){if(!n)throw Cw(e,...t)}function ei(n){let e="INTERNAL ASSERTION FAILED: "+n;throw sg(e),new Error(e)}function io(n,e){n||ei(e)}function sw(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function s6(){return Pk()==="http:"||Pk()==="https:"}function Pk(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function a6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(s6()||jM()||"connection"in navigator)?navigator.onLine:!0}function c6(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var _s=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,io(t>e,"Short delay should be less than long delay!"),this.isMobile=LM()||UM()}get(){return a6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Aw(n,e){io(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var dg=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ei("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ei("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ei("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var u6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var l6=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],d6=new _s(3e4,6e4);function oo(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function so(o,s,a,c){return v(this,arguments,function*(n,e,t,r,i={}){return Jk(n,i,()=>v(null,null,function*(){let l={},d={};r&&(e==="GET"?d=r:l={body:JSON.stringify(r)});let f=bl(Object.assign({key:n.config.apiKey},d)).slice(1),g=yield n._getAdditionalHeaders();g["Content-Type"]="application/json",n.languageCode&&(g["X-Firebase-Locale"]=n.languageCode);let m=Object.assign({method:e,headers:g},l);return VM()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&Yi(n.emulatorConfig.host)&&(m.credentials="include"),dg.fetch()(yield Zk(n,n.config.apiHost,t,f),m)}))})}function Jk(n,e,t){return v(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},u6),e);try{let i=new aw(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw og(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw og(n,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw og(n,"email-already-in-use",s);if(c==="USER_DISABLED")throw og(n,"user-disabled",s);let d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw Yk(n,d,l);Ir(n,d)}}catch(i){if(i instanceof Jt)throw i;Ir(n,"network-request-failed",{message:String(i)})}})}function ql(o,s,a,c){return v(this,arguments,function*(n,e,t,r,i={}){let l=yield so(n,e,t,r,i);return"mfaPendingCredential"in l&&Ir(n,"multi-factor-auth-required",{_serverResponse:l}),l})}function Zk(n,e,t,r){return v(this,null,function*(){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?Aw(n.config,i):`${n.config.apiScheme}://${i}`;return l6.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}function h6(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var aw=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(vs(this.auth,"network-request-failed")),d6.get())})}};function og(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=vs(n,e,r);return i.customData._tokenResponse=t,i}function kk(n){return n!==void 0&&n.enterprise!==void 0}var cw=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return h6(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function f6(n,e){return v(this,null,function*(){return so(n,"GET","/v2/recaptchaConfig",oo(n,e))})}function p6(n,e){return v(this,null,function*(){return so(n,"POST","/v1/accounts:delete",e)})}function hg(n,e){return v(this,null,function*(){return so(n,"POST","/v1/accounts:lookup",e)})}function Ll(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Rw(n,e=!1){return v(this,null,function*(){let t=Ue(n),r=yield t.getIdToken(e),i=Nw(r);re(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Ll(rw(i.auth_time)),issuedAtTime:Ll(rw(i.iat)),expirationTime:Ll(rw(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function rw(n){return Number(n)*1e3}function Nw(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return sg("JWT malformed, contained fewer than 3 sections"),null;try{let i=Np(t);return i?JSON.parse(i):(sg("Failed to decode base64 JWT payload"),null)}catch(i){return sg("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Ok(n){let e=Nw(n);return re(e,"internal-error"),re(typeof e.exp<"u","internal-error"),re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function jl(n,e,t=!1){return v(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof Jt&&g6(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function g6({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var uw=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>v(this,null,function*(){yield this.iteration()}),t)}iteration(){return v(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Ul=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ll(this.lastLoginAt),this.creationTime=Ll(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function fg(n){return v(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield jl(n,hg(t,{idToken:r}));re(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?Xk(o.providerUserInfo):[],a=m6(n.providerData,s),c=n.isAnonymous,l=!(n.email&&o.passwordHash)&&!a?.length,d=c?l:!1,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Ul(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(n,f)})}function Mw(n){return v(this,null,function*(){let e=Ue(n);yield fg(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function m6(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Xk(n){return n.map(e=>{var{providerId:t}=e,r=jy(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function y6(n,e){return v(this,null,function*(){let t=yield Jk(n,{},()=>v(null,null,function*(){let r=bl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=yield Zk(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let c={method:"POST",headers:a,body:r};return n.emulatorConfig&&Yi(n.emulatorConfig.host)&&(c.credentials="include"),dg.fetch()(s,c)}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function v6(n,e){return v(this,null,function*(){return so(n,"POST","/v2/accounts:revokeToken",oo(n,e))})}var Vl=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){re(e.idToken,"internal-error"),re(typeof e.idToken<"u","internal-error"),re(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ok(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){re(e.length!==0,"internal-error");let t=Ok(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return v(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return v(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield y6(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(re(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(re(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(re(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return ei("not implemented")}};function no(n,e){re(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var ro=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=jy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new uw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Ul(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return v(this,null,function*(){let t=yield jl(this,this.stsTokenManager.getToken(this.auth,e));return re(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return Rw(this,e)}reload(){return Mw(this)}_assign(e){this!==e&&(re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return v(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield fg(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return v(this,null,function*(){if(cn(this.auth.app))return Promise.reject(ni(this.auth));let e=yield this.getIdToken();return yield jl(this,p6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,c,l,d;let f=(r=t.displayName)!==null&&r!==void 0?r:void 0,g=(i=t.email)!==null&&i!==void 0?i:void 0,m=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,E=(s=t.photoURL)!==null&&s!==void 0?s:void 0,A=(a=t.tenantId)!==null&&a!==void 0?a:void 0,D=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,M=(l=t.createdAt)!==null&&l!==void 0?l:void 0,L=(d=t.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:H,emailVerified:W,isAnonymous:Te,providerData:te,stsTokenManager:T}=t;re(H&&T,e,"internal-error");let _=Vl.fromJSON(this.name,T);re(typeof H=="string",e,"internal-error"),no(f,e.name),no(g,e.name),re(typeof W=="boolean",e,"internal-error"),re(typeof Te=="boolean",e,"internal-error"),no(m,e.name),no(E,e.name),no(A,e.name),no(D,e.name),no(M,e.name),no(L,e.name);let I=new n({uid:H,auth:e,email:g,emailVerified:W,displayName:f,isAnonymous:Te,photoURL:E,phoneNumber:m,tenantId:A,stsTokenManager:_,createdAt:M,lastLoginAt:L});return te&&Array.isArray(te)&&(I.providerData=te.map(b=>Object.assign({},b))),D&&(I._redirectEventId=D),I}static _fromIdTokenResponse(e,t,r=!1){return v(this,null,function*(){let i=new Vl;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield fg(o),o})}static _fromGetAccountInfoResponse(e,t,r){return v(this,null,function*(){let i=t.users[0];re(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?Xk(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Vl;a.updateFromIdToken(r);let c=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Ul(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(c,l),c})}};var xk=new Map;function ti(n){io(n instanceof Function,"Expected a class definition");let e=xk.get(n);return e?(io(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,xk.set(n,e),e)}var _6=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return v(this,null,function*(){return!0})}_set(t,r){return v(this,null,function*(){this.storage[t]=r})}_get(t){return v(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return v(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),lw=_6;function ag(n,e,t){return`firebase:${n}:${e}:${t}`}var pg=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=ag(this.userKey,i.apiKey,o),this.fullPersistenceKey=ag("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return v(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield hg(this.auth,{idToken:e}).catch(()=>{});return t?ro._fromGetAccountInfoResponse(this.auth,t,e):null}return ro._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return v(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return v(this,null,function*(){if(!t.length)return new n(ti(lw),e,r);let i=(yield Promise.all(t.map(l=>v(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||ti(lw),s=ag(r,e.config.apiKey,e.name),a=null;for(let l of t)try{let d=yield l._get(s);if(d){let f;if(typeof d=="string"){let g=yield hg(e,{idToken:d}).catch(()=>{});if(!g)break;f=yield ro._fromGetAccountInfoResponse(e,g,d)}else f=ro._fromJSON(e,d);l!==o&&(a=f),o=l;break}}catch{}let c=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new n(o,e,r):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(l=>v(null,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new n(o,e,r))})}};function Fk(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(rO(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(eO(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(oO(e))return"Blackberry";if(sO(e))return"Webos";if(tO(e))return"Safari";if((e.includes("chrome/")||nO(e))&&!e.includes("edge/"))return"Chrome";if(iO(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function eO(n=Tt()){return/firefox\//i.test(n)}function tO(n=Tt()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function nO(n=Tt()){return/crios\//i.test(n)}function rO(n=Tt()){return/iemobile/i.test(n)}function iO(n=Tt()){return/android/i.test(n)}function oO(n=Tt()){return/blackberry/i.test(n)}function sO(n=Tt()){return/webos/i.test(n)}function Pw(n=Tt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function E6(n=Tt()){var e;return Pw(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function I6(){return BM()&&document.documentMode===10}function aO(n=Tt()){return Pw(n)||iO(n)||sO(n)||oO(n)||/windows phone/i.test(n)||rO(n)}function cO(n,e=[]){let t;switch(n){case"Browser":t=Fk(Tt());break;case"Worker":t=`${Fk(Tt())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Zi}/${r}`}var dw=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return v(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function w6(t){return v(this,arguments,function*(n,e={}){return so(n,"GET","/v2/passwordPolicy",oo(n,e))})}var T6=6,hw=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:T6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var fw=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new gg(this),this.idTokenSubscription=new gg(this),this.beforeStateQueue=new dw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Qk,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ti(t)),this._initializationPromise=this.queue(()=>v(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield pg.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return v(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return v(this,null,function*(){try{let t=yield hg(this,{idToken:e}),r=yield ro._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return v(this,null,function*(){var t;if(cn(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return re(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return v(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return v(this,null,function*(){try{yield fg(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=c6()}_delete(){return v(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return v(this,null,function*(){if(cn(this.app))return Promise.reject(ni(this));let t=e?Ue(e):null;return t&&re(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return v(this,null,function*(){if(!this._deleted)return e&&re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>v(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return v(this,null,function*(){return cn(this.app)?Promise.reject(ni(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return cn(this.app)?Promise.reject(ni(this)):this.queue(()=>v(this,null,function*(){yield this.assertedPersistence.setPersistence(ti(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return v(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return v(this,null,function*(){let e=yield w6(this),t=new hw(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Zt("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return v(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield v6(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return v(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return v(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&ti(e)||this._popupRedirectResolver;re(t,this,"argument-error"),this.redirectPersistenceManager=yield pg.create(this,[ti(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return v(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>v(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return v(this,null,function*(){if(e===this.currentUser)return this.queue(()=>v(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(re(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let c=e.addObserver(t,r,i);return()=>{s=!0,c()}}else{let c=e.addObserver(t);return()=>{s=!0,c()}}}directlySetCurrentUser(e){return v(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=cO(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return v(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return v(this,null,function*(){var e;if(cn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&o6(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function Is(n){return Ue(n)}var gg=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=qM(t=>this.observer=t)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var wg={loadJS(){return v(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function b6(n){wg=n}function uO(n){return wg.loadJS(n)}function D6(){return wg.recaptchaEnterpriseScript}function S6(){return wg.gapiScript}function lO(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var pw=class{constructor(){this.enterprise=new gw}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},gw=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}};var C6="recaptcha-enterprise",dO="NO_RECAPTCHA",mw=class{constructor(e){this.type=C6,this.auth=Is(e)}verify(e="verify",t=!1){return v(this,null,function*(){function r(o){return v(this,null,function*(){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>v(null,null,function*(){f6(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new cw(c);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(c=>{a(c)})}))})}function i(o,s,a){let c=window.grecaptcha;kk(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(dO)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new pw().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!t&&kk(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=D6();c.length!==0&&(c+=a),uO(c).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})})}};function Fl(n,e,t,r=!1,i=!1){return v(this,null,function*(){let o=new mw(n),s;if(i)s=dO;else try{s=yield o.verify(t)}catch{s=yield o.verify(t,!0)}let a=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let c=a.phoneEnrollmentInfo.phoneNumber,l=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function yw(n,e,t,r,i){return v(this,null,function*(){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=yield Fl(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(a=>v(null,null,function*(){if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let c=yield Fl(n,e,t,t==="getOobCode");return r(n,c)}else return Promise.reject(a)}));else if(i==="PHONE_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let a=yield Fl(n,e,t);return r(n,a).catch(c=>v(null,null,function*(){var l;if(((l=n._getRecaptchaConfig())===null||l===void 0?void 0:l.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(c.code==="auth/missing-recaptcha-token"||c.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);let d=yield Fl(n,e,t,!1,!0);return r(n,d)}return Promise.reject(c)}))}else{let a=yield Fl(n,e,t,!1,!0);return r(n,a)}else return Promise.reject(i+" provider is not supported.")})}function kw(n,e){let t=_r(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(yr(o,e??{}))return i;Ir(i,"already-initialized")}return t.initialize({options:e})}function A6(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(ti);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function Ow(n,e,t){let r=Is(n);re(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=hO(e),{host:s,port:a}=R6(e),c=a===null?"":`:${a}`,l={url:`${o}//${s}${c}/`},d=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){re(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),re(yr(l,r.config.emulator)&&yr(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Yi(s)?(Pp(`${o}//${s}${c}`),kp("Auth",!0)):i||N6()}function hO(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function R6(n){let e=hO(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:Lk(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:Lk(s)}}}function Lk(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function N6(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Bl=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ei("not implemented")}_getIdTokenResponse(e){return ei("not implemented")}_linkToIdToken(e,t){return ei("not implemented")}_getReauthenticationResolver(e){return ei("not implemented")}};function M6(n,e){return v(this,null,function*(){return so(n,"POST","/v1/accounts:signUp",e)})}function P6(n,e){return v(this,null,function*(){return ql(n,"POST","/v1/accounts:signInWithPassword",oo(n,e))})}function k6(n,e){return v(this,null,function*(){return ql(n,"POST","/v1/accounts:signInWithEmailLink",oo(n,e))})}function O6(n,e){return v(this,null,function*(){return ql(n,"POST","/v1/accounts:signInWithEmailLink",oo(n,e))})}var $l=class n extends Bl{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return v(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return yw(e,t,"signInWithPassword",P6,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return k6(e,{email:this._email,oobCode:this._password});default:Ir(e,"internal-error")}})}_linkToIdToken(e,t){return v(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return yw(e,r,"signUpPassword",M6,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return O6(e,{idToken:t,email:this._email,oobCode:this._password});default:Ir(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function iw(n,e){return v(this,null,function*(){return ql(n,"POST","/v1/accounts:signInWithIdp",oo(n,e))})}function x6(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function F6(n){let e=za(Ga(n)).link,t=e?za(Ga(e)).deep_link_id:null,r=za(Ga(n)).deep_link_id;return(r?za(Ga(r)).link:null)||r||t||e||n}var mg=class n{constructor(e){var t,r,i,o,s,a;let c=za(Ga(e)),l=(t=c.apiKey)!==null&&t!==void 0?t:null,d=(r=c.oobCode)!==null&&r!==void 0?r:null,f=x6((i=c.mode)!==null&&i!==void 0?i:null);re(l&&d&&f,"argument-error"),this.apiKey=l,this.operation=f,this.code=d,this.continueUrl=(o=c.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=c.lang)!==null&&s!==void 0?s:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=F6(e);try{return new n(t)}catch{return null}}};var fO=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return $l._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=mg.parseLink(r);return re(i,"argument-error"),$l._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),yg=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var vw=class extends yg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function L6(n,e){return v(this,null,function*(){return ql(n,"POST","/v1/accounts:signUp",oo(n,e))})}var ic=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return v(this,null,function*(){let o=yield ro._fromIdTokenResponse(e,r,i),s=Vk(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return v(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=Vk(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function Vk(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var _w=class n extends Jt{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function pO(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?_w._fromErrorAndOperation(n,o,e,r):o})}function V6(n,e,t=!1){return v(this,null,function*(){let r=yield jl(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return ic._forOperation(n,"link",r)})}function j6(n,e,t=!1){return v(this,null,function*(){let{auth:r}=n;if(cn(r.app))return Promise.reject(ni(r));let i="reauthenticate";try{let o=yield jl(n,pO(r,i,e,n),t);re(o.idToken,r,"internal-error");let s=Nw(o.idToken);re(s,r,"internal-error");let{sub:a}=s;return re(n.uid===a,r,"user-mismatch"),ic._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Ir(r,"user-mismatch"),o}})}function gO(n,e,t=!1){return v(this,null,function*(){if(cn(n.app))return Promise.reject(ni(n));let r="signIn",i=yield pO(n,r,e),o=yield ic._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})}function xw(n,e){return v(this,null,function*(){return gO(Is(n),e)})}function mO(n){return v(this,null,function*(){let e=Is(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Fw(n,e,t){return v(this,null,function*(){if(cn(n.app))return Promise.reject(ni(n));let r=Is(n),s=yield yw(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",L6,"EMAIL_PASSWORD_PROVIDER").catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&mO(n),c}),a=yield ic._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function Lw(n,e,t){return cn(n.app)?Promise.reject(ni(n)):xw(Ue(n),fO.credential(e,t)).catch(r=>v(null,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&mO(n),r}))}function Vw(n,e,t,r){return Ue(n).onIdTokenChanged(e,t,r)}function jw(n,e,t){return Ue(n).beforeAuthStateChanged(e,t)}function Uw(n){return Ue(n).signOut()}var vg="__sak";var _g=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(vg,"1"),this.storage.removeItem(vg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var U6=1e3,B6=10,$6=(()=>{class n extends _g{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=aO(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);I6()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,B6):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},U6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return v(this,null,function*(){yield Ii(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return v(this,null,function*(){let r=yield Ii(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return v(this,null,function*(){yield Ii(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),yO=$6;var H6=(()=>{class n extends _g{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),Bw=H6;function q6(n){return Promise.all(n.map(e=>v(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var z6=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return v(this,null,function*(){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let c=Array.from(a).map(d=>v(this,null,function*(){return d(r.origin,s)})),l=yield q6(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function vO(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var Ew=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return v(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,c)=>{let l=vO("",20);i.port1.start();let d=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(f){let g=f;if(g.data.eventId===l)switch(g.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(g.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function Er(){return window}function G6(n){Er().location.href=n}function _O(){return typeof Er().WorkerGlobalScope<"u"&&typeof Er().importScripts=="function"}function W6(){return v(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function K6(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function Q6(){return _O()?self:null}var EO="firebaseLocalStorageDb",Y6=1,Eg="firebaseLocalStorage",IO="fbase_key",Es=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function Tg(n,e){return n.transaction([Eg],e?"readwrite":"readonly").objectStore(Eg)}function J6(){let n=indexedDB.deleteDatabase(EO);return new Es(n).toPromise()}function Iw(){let n=indexedDB.open(EO,Y6);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(Eg,{keyPath:IO})}catch(i){t(i)}}),n.addEventListener("success",()=>v(null,null,function*(){let r=n.result;r.objectStoreNames.contains(Eg)?e(r):(r.close(),yield J6(),e(yield Iw()))}))})}function jk(n,e,t){return v(this,null,function*(){let r=Tg(n,!0).put({[IO]:e,value:t});return new Es(r).toPromise()})}function Z6(n,e){return v(this,null,function*(){let t=Tg(n,!1).get(e),r=yield new Es(t).toPromise();return r===void 0?null:r.value})}function Uk(n,e){let t=Tg(n,!0).delete(e);return new Es(t).toPromise()}var X6=800,eW=3,tW=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return v(this,null,function*(){return this.db?this.db:(this.db=yield Iw(),this.db)})}_withRetries(t){return v(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>eW)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return v(this,null,function*(){return _O()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return v(this,null,function*(){this.receiver=z6._getInstance(Q6()),this.receiver._subscribe("keyChanged",(t,r)=>v(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>v(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return v(this,null,function*(){var t,r;if(this.activeServiceWorker=yield W6(),!this.activeServiceWorker)return;this.sender=new Ew(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return v(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||K6()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return v(this,null,function*(){try{if(!indexedDB)return!1;let t=yield Iw();return yield jk(t,vg,"1"),yield Uk(t,vg),!0}catch{}return!1})}_withPendingWrite(t){return v(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(i=>jk(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return v(this,null,function*(){let r=yield this._withRetries(i=>Z6(i,t));return this.localCache[t]=r,r})}_remove(t){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(r=>Uk(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return v(this,null,function*(){let t=yield this._withRetries(o=>{let s=Tg(o,!1).getAll();return new Es(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>v(this,null,function*(){return this._poll()}),X6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),wO=tW;var wpe=lO("rcb"),Tpe=new _s(3e4,6e4);function nW(n,e){return e?ti(e):(re(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var Hl=class extends Bl{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return iw(e,this._buildIdpRequest())}_linkToIdToken(e,t){return iw(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return iw(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function rW(n){return gO(n.auth,new Hl(n),n.bypassAuthState)}function iW(n){let{auth:e,user:t}=n;return re(t,e,"internal-error"),j6(t,new Hl(n),n.bypassAuthState)}function oW(n){return v(this,null,function*(){let{auth:e,user:t}=n;return re(t,e,"internal-error"),V6(t,new Hl(n),n.bypassAuthState)})}var ww=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>v(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return v(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let c={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return rW;case"linkViaPopup":case"linkViaRedirect":return oW;case"reauthViaPopup":case"reauthViaRedirect":return iW;default:Ir(this.auth,"internal-error")}}resolve(e){io(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){io(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var bpe=new _s(2e3,1e4);var sW="pendingRedirect",cg=new Map,Tw=class n extends ww{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return v(this,null,function*(){let e=cg.get(this.auth._key());if(!e){try{let r=(yield aW(this.resolver,this.auth))?yield Ii(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}cg.set(this.auth._key(),e)}return this.bypassAuthState||cg.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return v(this,null,function*(){if(e.type==="signInViaRedirect")return Ii(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,Ii(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return v(this,null,function*(){})}cleanUp(){}};function aW(n,e){return v(this,null,function*(){let t=lW(e),r=uW(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function cW(n,e){cg.set(n._key(),e)}function uW(n){return ti(n._redirectPersistence)}function lW(n){return ag(sW,n.config.apiKey,n.name)}function dW(n,e,t=!1){return v(this,null,function*(){if(cn(n.app))return Promise.reject(ni(n));let r=Is(n),i=nW(r,e),s=yield new Tw(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var hW=600*1e3,bw=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!fW(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!TO(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(vs(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=hW&&this.cachedEventUids.clear(),this.cachedEventUids.has(Bk(e))}saveEventToCache(e){this.cachedEventUids.add(Bk(e)),this.lastProcessedEventTime=Date.now()}};function Bk(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function TO({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function fW(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return TO(n);default:return!1}}function pW(t){return v(this,arguments,function*(n,e={}){return so(n,"GET","/v1/projects",e)})}var gW=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mW=/^https?/;function yW(n){return v(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield pW(n);for(let t of e)try{if(vW(t))return}catch{}Ir(n,"unauthorized-domain")})}function vW(n){let e=sw(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!mW.test(t))return!1;if(gW.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var _W=new _s(3e4,6e4);function $k(){let n=Er().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function EW(n){return new Promise((e,t)=>{var r,i,o;function s(){$k(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{$k(),t(vs(n,"network-request-failed"))},timeout:_W.get()})}if(!((i=(r=Er().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Er().gapi)===null||o===void 0)&&o.load)s();else{let a=lO("iframefcb");return Er()[a]=()=>{gapi.load?s():t(vs(n,"network-request-failed"))},uO(`${S6()}?onload=${a}`).catch(c=>t(c))}}).catch(e=>{throw ug=null,e})}var ug=null;function IW(n){return ug=ug||EW(n),ug}var wW=new _s(5e3,15e3),TW="__/auth/iframe",bW="emulator/auth/iframe",DW={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},SW=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function CW(n){let e=n.config;re(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?Aw(e,bW):`https://${n.config.authDomain}/${TW}`,r={apiKey:e.apiKey,appName:n.name,v:Zi},i=SW.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${bl(r).slice(1)}`}function AW(n){return v(this,null,function*(){let e=yield IW(n),t=Er().gapi;return re(t,n,"internal-error"),e.open({where:document.body,url:CW(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:DW,dontclear:!0},r=>new Promise((i,o)=>v(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=vs(n,"network-request-failed"),a=Er().setTimeout(()=>{o(s)},wW.get());function c(){Er().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{o(s)})})))})}var RW={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},NW=500,MW=600,PW="_blank",kW="http://localhost",Ig=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function OW(n,e,t,r=NW,i=MW){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},RW),{width:r.toString(),height:i.toString(),top:o,left:s}),l=Tt().toLowerCase();t&&(a=nO(l)?PW:t),eO(l)&&(e=e||kW,c.scrollbars="yes");let d=Object.entries(c).reduce((g,[m,E])=>`${g}${m}=${E},`,"");if(E6(l)&&a!=="_self")return xW(e||"",a),new Ig(null);let f=window.open(e||"",a,d);re(f,n,"popup-blocked");try{f.focus()}catch{}return new Ig(f)}function xW(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var FW="__/auth/handler",LW="emulator/auth/handler",VW=encodeURIComponent("fac");function Hk(n,e,t,r,i,o){return v(this,null,function*(){re(n.config.authDomain,n,"auth-domain-config-required"),re(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Zi,eventId:i};if(e instanceof yg){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",HM(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[d,f]of Object.entries(o||{}))s[d]=f}if(e instanceof vw){let d=e.getScopes().filter(f=>f!=="");d.length>0&&(s.scopes=d.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let d of Object.keys(a))a[d]===void 0&&delete a[d];let c=yield n._getAppCheckToken(),l=c?`#${VW}=${encodeURIComponent(c)}`:"";return`${jW(n)}?${bl(a).slice(1)}${l}`})}function jW({config:n}){return n.emulator?Aw(n,LW):`https://${n.authDomain}/${FW}`}var ow="webStorageSupport",Dw=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Bw,this._completeRedirectFn=dW,this._overrideRedirectResult=cW}_openPopup(e,t,r,i){return v(this,null,function*(){var o;io((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield Hk(e,t,r,sw(),i);return OW(e,s,vO())})}_openRedirect(e,t,r,i){return v(this,null,function*(){yield this._originValidation(e);let o=yield Hk(e,t,r,sw(),i);return G6(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(io(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return v(this,null,function*(){let t=yield AW(e),r=new bw(e);return t.register("authEvent",i=>(re(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ow,{type:ow},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[ow];s!==void 0&&t(!!s),Ir(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=yW(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return aO()||tO()||Pw()}},bO=Dw;var qk="@firebase/auth",zk="1.10.8";var Sw=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return v(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function UW(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function BW(n){Mt(new it("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;re(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:cO(n)},l=new fw(r,i,o,c);return A6(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Mt(new it("auth-internal",e=>{let t=Is(e.getProvider("auth").getImmediate());return(r=>new Sw(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Me(qk,zk,UW(n)),Me(qk,zk,"esm2017")}var $W=300,HW=iI("authIdTokenMaxAge")||$W,Gk=null,qW=n=>e=>v(null,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>HW)return;let i=t?.token;Gk!==i&&(Gk=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function $w(n=Qr()){let e=_r(n,"auth");if(e.isInitialized())return e.getImmediate();let t=kw(n,{popupRedirectResolver:bO,persistence:[wO,yO,Bw]}),r=iI("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=qW(o.toString());jw(t,s,()=>s(t.currentUser)),Vw(t,a=>s(a))}}let i=nI("auth");return i&&Ow(t,`http://${i}`),t}function zW(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}b6({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=vs("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",zW().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});BW("Browser");var DO="auth",ws=class{constructor(e){return e}},zl=class{constructor(){return us(DO)}};var Hw=new B("angularfire2.auth-instances");function O8(n,e){let t=Ka(DO,n,e);return t&&new ws(t)}function x8(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new ws(r)}}var F8={provide:zl,deps:[[new yn,Hw]]},L8={provide:ws,useFactory:O8,deps:[[new yn,Hw],Zr]};function SO(n,...e){return Me("angularfire",Yr.full,"auth"),Dn([L8,F8,{provide:Hw,useFactory:x8(n),multi:!0,deps:[Se,mt,Jr,ls,[new yn,rc],...e]}])}var CO=Je(Fw,!0,2);var AO=Je($w,!0);var RO=Je(Lw,!0,2);var NO=Je(Uw,!0,2);var wr=class n{constructor(e,t){this.auth=e;this.router=t;this.auth.onAuthStateChanged(r=>{this.loggedIn.set(!!r),this.userEmail.set(r?.email||null)})}loggedIn=yt(!1);userEmail=yt(null);login(e,t){return v(this,null,function*(){yield RO(this.auth,e,t),this.router.navigate(["/dashboard"])})}register(e,t,r){return v(this,null,function*(){yield CO(this.auth,t,r),this.router.navigate(["/dashboard"])})}logout(){return v(this,null,function*(){yield NO(this.auth),this.router.navigate(["/login"])})}static \u0275fac=function(t){return new(t||n)(Q(ws),Q(En))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})};function j8(n,e){if(n&1&&(j(0,"div",17),z(1),V()),n&2){let t=dr();be(),Nt(t.error)}}var bg=class n{constructor(e,t,r){this.fb=e;this.auth=t;this.router=r;this.form=this.fb.group({email:["",[je.required,je.email]],password:["",[je.required,je.minLength(6)]]})}form;loading=!1;error=null;submit(){return v(this,null,function*(){if(this.form.invalid)return;let{email:e,password:t}=this.form.value;this.loading=!0,this.error=null;try{yield this.auth.login(e,t)}catch(r){this.error=r?.message??"\xC9chec de connexion"}finally{this.loading=!1}})}static \u0275fac=function(t){return new(t||n)(J(tc),J(wr),J(En))};static \u0275cmp=Hn({type:n,selectors:[["app-login"]],decls:37,vars:3,consts:[[1,"max-w-5xl","mx-auto","py-10","px-4"],[1,"grid","md:grid-cols-2","gap-8"],[1,"card"],[1,"text-3xl","font-bold","mb-6"],[1,"space-y-4",3,"ngSubmit","formGroup"],[1,"text-sm","text-gray-600"],["type","email","formControlName","email","placeholder","ex: anna@exemple.com",1,"input"],["type","password","formControlName","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",1,"input"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","text-sm text-gray-500",4,"ngIf"],[1,"mt-4","text-sm","text-gray-600"],["href","javascript:void(0)",1,"link"],[1,"mt-6","text-sm"],["routerLink","/register",1,"link","font-medium"],[1,"text-2xl","font-semibold"],[1,"mt-2","text-gray-600"],[1,"list-disc","ml-6","mt-4","text-gray-700","space-y-1"],[1,"text-sm","text-gray-500"]],template:function(t,r){t&1&&(j(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),z(4,"Se connecter"),V(),j(5,"form",4),rt("ngSubmit",function(){return r.submit()}),j(6,"div")(7,"label",5),z(8,"E-mail"),V(),Et(9,"input",6),V(),j(10,"div")(11,"label",5),z(12,"Mot de passe"),V(),Et(13,"input",7),V(),j(14,"button",8),z(15,"Se connecter"),V(),zn(16,j8,2,1,"div",9),V(),j(17,"div",10),z(18," Mot de passe "),j(19,"a",11),z(20,"oubli\xE9?"),V()(),j(21,"div",12),z(22," Vous n\u2019avez pas de compte? "),j(23,"a",13),z(24,"Cr\xE9er un compte"),V()()(),j(25,"div",2)(26,"h2",14),z(27,"Bienvenue \u{1F44B}"),V(),j(28,"p",15),z(29,"Connectez\u2011vous pour g\xE9rer vos locataires et r\xE9partir les factures."),V(),j(30,"ul",16)(31,"li"),z(32,"Gestion des pourcentages par appartement"),V(),j(33,"li"),z(34,"Calcul automatique des parts"),V(),j(35,"li"),z(36,"Historique par p\xE9riode"),V()()()()()),t&2&&(be(5),at("formGroup",r.form),be(9),at("disabled",r.form.invalid||r.loading),be(2),at("ngIf",r.error))},dependencies:[zi,Jo,nc,ec,eo,Za,Xa,ms,ys,Qi],encapsulation:2})};function U8(n,e){if(n&1&&(j(0,"div",16),z(1),V()),n&2){let t=dr();be(),Nt(t.error)}}var Dg=class n{constructor(e,t,r){this.fb=e;this.auth=t;this.router=r;this.form=this.fb.group({fullname:["",[je.required,je.minLength(2)]],email:["",[je.required,je.email]],password:["",[je.required,je.minLength(6)]],confirm:["",[je.required]]},{validators:this.passwordMatch})}form;loading=!1;error=null;passwordMatch(e){let t=e.get("password")?.value,r=e.get("confirm")?.value;return t===r?null:{mismatch:!0}}submit(){return v(this,null,function*(){if(this.form.invalid)return;let{fullname:e,email:t,password:r}=this.form.value;this.loading=!0,this.error=null;try{yield this.auth.register(e,t,r)}catch(i){this.error=i?.message??"\xC9chec de cr\xE9ation du compte"}finally{this.loading=!1}})}static \u0275fac=function(t){return new(t||n)(J(tc),J(wr),J(En))};static \u0275cmp=Hn({type:n,selectors:[["app-register"]],decls:34,vars:3,consts:[[1,"max-w-5xl","mx-auto","py-10","px-4"],[1,"grid","md:grid-cols-2","gap-8"],[1,"card"],[1,"text-3xl","font-bold","mb-6"],[1,"space-y-4",3,"ngSubmit","formGroup"],[1,"text-sm","text-gray-600"],["type","text","formControlName","fullname","placeholder","Ex: Anna Dubois",1,"input"],["type","email","formControlName","email","placeholder","anna@exemple.com",1,"input"],["type","password","formControlName","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",1,"input"],["type","password","formControlName","confirm","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",1,"input"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","text-sm text-gray-500",4,"ngIf"],[1,"mt-6","text-sm"],["routerLink","/login",1,"link","font-medium"],[1,"text-2xl","font-semibold"],[1,"mt-2","text-gray-600"],[1,"text-sm","text-gray-500"]],template:function(t,r){t&1&&(j(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),z(4,"Cr\xE9er un compte"),V(),j(5,"form",4),rt("ngSubmit",function(){return r.submit()}),j(6,"div")(7,"label",5),z(8,"Nom complet"),V(),Et(9,"input",6),V(),j(10,"div")(11,"label",5),z(12,"E-mail"),V(),Et(13,"input",7),V(),j(14,"div")(15,"label",5),z(16,"Mot de passe"),V(),Et(17,"input",8),V(),j(18,"div")(19,"label",5),z(20,"Confirmer le mot de passe"),V(),Et(21,"input",9),V(),j(22,"button",10),z(23,"Cr\xE9er un compte"),V(),zn(24,U8,2,1,"div",11),V(),j(25,"div",12),z(26," Vous avez d\xE9j\xE0 un compte? "),j(27,"a",13),z(28,"Se connecter"),V()()(),j(29,"div",2)(30,"h2",14),z(31,"Quelques secondes\u2026"),V(),j(32,"p",15),z(33,"Cr\xE9ez votre compte pour commencer \xE0 suivre vos charges partag\xE9es."),V()()()()),t&2&&(be(5),at("formGroup",r.form),be(17),at("disabled",r.form.invalid||r.loading),be(2),at("ngIf",r.error))},dependencies:[zi,Jo,nc,ec,eo,Za,Xa,ms,ys,Qi],encapsulation:2})};var MO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},PO={};var ri,zw;(function(){var n;function e(T,_){function I(){}I.prototype=_.prototype,T.D=_.prototype,T.prototype=new I,T.prototype.constructor=T,T.C=function(b,S,R){for(var w=Array(arguments.length-2),Tn=2;Tn<arguments.length;Tn++)w[Tn-2]=arguments[Tn];return _.prototype[S].apply(b,w)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,_,I){I||(I=0);var b=Array(16);if(typeof _=="string")for(var S=0;16>S;++S)b[S]=_.charCodeAt(I++)|_.charCodeAt(I++)<<8|_.charCodeAt(I++)<<16|_.charCodeAt(I++)<<24;else for(S=0;16>S;++S)b[S]=_[I++]|_[I++]<<8|_[I++]<<16|_[I++]<<24;_=T.g[0],I=T.g[1],S=T.g[2];var R=T.g[3],w=_+(R^I&(S^R))+b[0]+3614090360&4294967295;_=I+(w<<7&4294967295|w>>>25),w=R+(S^_&(I^S))+b[1]+3905402710&4294967295,R=_+(w<<12&4294967295|w>>>20),w=S+(I^R&(_^I))+b[2]+606105819&4294967295,S=R+(w<<17&4294967295|w>>>15),w=I+(_^S&(R^_))+b[3]+3250441966&4294967295,I=S+(w<<22&4294967295|w>>>10),w=_+(R^I&(S^R))+b[4]+4118548399&4294967295,_=I+(w<<7&4294967295|w>>>25),w=R+(S^_&(I^S))+b[5]+1200080426&4294967295,R=_+(w<<12&4294967295|w>>>20),w=S+(I^R&(_^I))+b[6]+2821735955&4294967295,S=R+(w<<17&4294967295|w>>>15),w=I+(_^S&(R^_))+b[7]+4249261313&4294967295,I=S+(w<<22&4294967295|w>>>10),w=_+(R^I&(S^R))+b[8]+1770035416&4294967295,_=I+(w<<7&4294967295|w>>>25),w=R+(S^_&(I^S))+b[9]+2336552879&4294967295,R=_+(w<<12&4294967295|w>>>20),w=S+(I^R&(_^I))+b[10]+4294925233&4294967295,S=R+(w<<17&4294967295|w>>>15),w=I+(_^S&(R^_))+b[11]+2304563134&4294967295,I=S+(w<<22&4294967295|w>>>10),w=_+(R^I&(S^R))+b[12]+1804603682&4294967295,_=I+(w<<7&4294967295|w>>>25),w=R+(S^_&(I^S))+b[13]+4254626195&4294967295,R=_+(w<<12&4294967295|w>>>20),w=S+(I^R&(_^I))+b[14]+2792965006&4294967295,S=R+(w<<17&4294967295|w>>>15),w=I+(_^S&(R^_))+b[15]+1236535329&4294967295,I=S+(w<<22&4294967295|w>>>10),w=_+(S^R&(I^S))+b[1]+4129170786&4294967295,_=I+(w<<5&4294967295|w>>>27),w=R+(I^S&(_^I))+b[6]+3225465664&4294967295,R=_+(w<<9&4294967295|w>>>23),w=S+(_^I&(R^_))+b[11]+643717713&4294967295,S=R+(w<<14&4294967295|w>>>18),w=I+(R^_&(S^R))+b[0]+3921069994&4294967295,I=S+(w<<20&4294967295|w>>>12),w=_+(S^R&(I^S))+b[5]+3593408605&4294967295,_=I+(w<<5&4294967295|w>>>27),w=R+(I^S&(_^I))+b[10]+38016083&4294967295,R=_+(w<<9&4294967295|w>>>23),w=S+(_^I&(R^_))+b[15]+3634488961&4294967295,S=R+(w<<14&4294967295|w>>>18),w=I+(R^_&(S^R))+b[4]+3889429448&4294967295,I=S+(w<<20&4294967295|w>>>12),w=_+(S^R&(I^S))+b[9]+568446438&4294967295,_=I+(w<<5&4294967295|w>>>27),w=R+(I^S&(_^I))+b[14]+3275163606&4294967295,R=_+(w<<9&4294967295|w>>>23),w=S+(_^I&(R^_))+b[3]+4107603335&4294967295,S=R+(w<<14&4294967295|w>>>18),w=I+(R^_&(S^R))+b[8]+1163531501&4294967295,I=S+(w<<20&4294967295|w>>>12),w=_+(S^R&(I^S))+b[13]+2850285829&4294967295,_=I+(w<<5&4294967295|w>>>27),w=R+(I^S&(_^I))+b[2]+4243563512&4294967295,R=_+(w<<9&4294967295|w>>>23),w=S+(_^I&(R^_))+b[7]+1735328473&4294967295,S=R+(w<<14&4294967295|w>>>18),w=I+(R^_&(S^R))+b[12]+2368359562&4294967295,I=S+(w<<20&4294967295|w>>>12),w=_+(I^S^R)+b[5]+4294588738&4294967295,_=I+(w<<4&4294967295|w>>>28),w=R+(_^I^S)+b[8]+2272392833&4294967295,R=_+(w<<11&4294967295|w>>>21),w=S+(R^_^I)+b[11]+1839030562&4294967295,S=R+(w<<16&4294967295|w>>>16),w=I+(S^R^_)+b[14]+4259657740&4294967295,I=S+(w<<23&4294967295|w>>>9),w=_+(I^S^R)+b[1]+2763975236&4294967295,_=I+(w<<4&4294967295|w>>>28),w=R+(_^I^S)+b[4]+1272893353&4294967295,R=_+(w<<11&4294967295|w>>>21),w=S+(R^_^I)+b[7]+4139469664&4294967295,S=R+(w<<16&4294967295|w>>>16),w=I+(S^R^_)+b[10]+3200236656&4294967295,I=S+(w<<23&4294967295|w>>>9),w=_+(I^S^R)+b[13]+681279174&4294967295,_=I+(w<<4&4294967295|w>>>28),w=R+(_^I^S)+b[0]+3936430074&4294967295,R=_+(w<<11&4294967295|w>>>21),w=S+(R^_^I)+b[3]+3572445317&4294967295,S=R+(w<<16&4294967295|w>>>16),w=I+(S^R^_)+b[6]+76029189&4294967295,I=S+(w<<23&4294967295|w>>>9),w=_+(I^S^R)+b[9]+3654602809&4294967295,_=I+(w<<4&4294967295|w>>>28),w=R+(_^I^S)+b[12]+3873151461&4294967295,R=_+(w<<11&4294967295|w>>>21),w=S+(R^_^I)+b[15]+530742520&4294967295,S=R+(w<<16&4294967295|w>>>16),w=I+(S^R^_)+b[2]+3299628645&4294967295,I=S+(w<<23&4294967295|w>>>9),w=_+(S^(I|~R))+b[0]+4096336452&4294967295,_=I+(w<<6&4294967295|w>>>26),w=R+(I^(_|~S))+b[7]+1126891415&4294967295,R=_+(w<<10&4294967295|w>>>22),w=S+(_^(R|~I))+b[14]+2878612391&4294967295,S=R+(w<<15&4294967295|w>>>17),w=I+(R^(S|~_))+b[5]+4237533241&4294967295,I=S+(w<<21&4294967295|w>>>11),w=_+(S^(I|~R))+b[12]+1700485571&4294967295,_=I+(w<<6&4294967295|w>>>26),w=R+(I^(_|~S))+b[3]+2399980690&4294967295,R=_+(w<<10&4294967295|w>>>22),w=S+(_^(R|~I))+b[10]+4293915773&4294967295,S=R+(w<<15&4294967295|w>>>17),w=I+(R^(S|~_))+b[1]+2240044497&4294967295,I=S+(w<<21&4294967295|w>>>11),w=_+(S^(I|~R))+b[8]+1873313359&4294967295,_=I+(w<<6&4294967295|w>>>26),w=R+(I^(_|~S))+b[15]+4264355552&4294967295,R=_+(w<<10&4294967295|w>>>22),w=S+(_^(R|~I))+b[6]+2734768916&4294967295,S=R+(w<<15&4294967295|w>>>17),w=I+(R^(S|~_))+b[13]+1309151649&4294967295,I=S+(w<<21&4294967295|w>>>11),w=_+(S^(I|~R))+b[4]+4149444226&4294967295,_=I+(w<<6&4294967295|w>>>26),w=R+(I^(_|~S))+b[11]+3174756917&4294967295,R=_+(w<<10&4294967295|w>>>22),w=S+(_^(R|~I))+b[2]+718787259&4294967295,S=R+(w<<15&4294967295|w>>>17),w=I+(R^(S|~_))+b[9]+3951481745&4294967295,T.g[0]=T.g[0]+_&4294967295,T.g[1]=T.g[1]+(S+(w<<21&4294967295|w>>>11))&4294967295,T.g[2]=T.g[2]+S&4294967295,T.g[3]=T.g[3]+R&4294967295}r.prototype.u=function(T,_){_===void 0&&(_=T.length);for(var I=_-this.blockSize,b=this.B,S=this.h,R=0;R<_;){if(S==0)for(;R<=I;)i(this,T,R),R+=this.blockSize;if(typeof T=="string"){for(;R<_;)if(b[S++]=T.charCodeAt(R++),S==this.blockSize){i(this,b),S=0;break}}else for(;R<_;)if(b[S++]=T[R++],S==this.blockSize){i(this,b),S=0;break}}this.h=S,this.o+=_},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var _=1;_<T.length-8;++_)T[_]=0;var I=8*this.o;for(_=T.length-8;_<T.length;++_)T[_]=I&255,I/=256;for(this.u(T),T=Array(16),_=I=0;4>_;++_)for(var b=0;32>b;b+=8)T[I++]=this.g[_]>>>b&255;return T};function o(T,_){var I=a;return Object.prototype.hasOwnProperty.call(I,T)?I[T]:I[T]=_(T)}function s(T,_){this.h=_;for(var I=[],b=!0,S=T.length-1;0<=S;S--){var R=T[S]|0;b&&R==_||(I[S]=R,b=!1)}this.g=I}var a={};function c(T){return-128<=T&&128>T?o(T,function(_){return new s([_|0],0>_?-1:0)}):new s([T|0],0>T?-1:0)}function l(T){if(isNaN(T)||!isFinite(T))return f;if(0>T)return D(l(-T));for(var _=[],I=1,b=0;T>=I;b++)_[b]=T/I|0,I*=4294967296;return new s(_,0)}function d(T,_){if(T.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(T.charAt(0)=="-")return D(d(T.substring(1),_));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=l(Math.pow(_,8)),b=f,S=0;S<T.length;S+=8){var R=Math.min(8,T.length-S),w=parseInt(T.substring(S,S+R),_);8>R?(R=l(Math.pow(_,R)),b=b.j(R).add(l(w))):(b=b.j(I),b=b.add(l(w)))}return b}var f=c(0),g=c(1),m=c(16777216);n=s.prototype,n.m=function(){if(A(this))return-D(this).m();for(var T=0,_=1,I=0;I<this.g.length;I++){var b=this.i(I);T+=(0<=b?b:4294967296+b)*_,_*=4294967296}return T},n.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(E(this))return"0";if(A(this))return"-"+D(this).toString(T);for(var _=l(Math.pow(T,6)),I=this,b="";;){var S=W(I,_).g;I=M(I,S.j(_));var R=((0<I.g.length?I.g[0]:I.h)>>>0).toString(T);if(I=S,E(I))return R+b;for(;6>R.length;)R="0"+R;b=R+b}},n.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function E(T){if(T.h!=0)return!1;for(var _=0;_<T.g.length;_++)if(T.g[_]!=0)return!1;return!0}function A(T){return T.h==-1}n.l=function(T){return T=M(this,T),A(T)?-1:E(T)?0:1};function D(T){for(var _=T.g.length,I=[],b=0;b<_;b++)I[b]=~T.g[b];return new s(I,~T.h).add(g)}n.abs=function(){return A(this)?D(this):this},n.add=function(T){for(var _=Math.max(this.g.length,T.g.length),I=[],b=0,S=0;S<=_;S++){var R=b+(this.i(S)&65535)+(T.i(S)&65535),w=(R>>>16)+(this.i(S)>>>16)+(T.i(S)>>>16);b=w>>>16,R&=65535,w&=65535,I[S]=w<<16|R}return new s(I,I[I.length-1]&-2147483648?-1:0)};function M(T,_){return T.add(D(_))}n.j=function(T){if(E(this)||E(T))return f;if(A(this))return A(T)?D(this).j(D(T)):D(D(this).j(T));if(A(T))return D(this.j(D(T)));if(0>this.l(m)&&0>T.l(m))return l(this.m()*T.m());for(var _=this.g.length+T.g.length,I=[],b=0;b<2*_;b++)I[b]=0;for(b=0;b<this.g.length;b++)for(var S=0;S<T.g.length;S++){var R=this.i(b)>>>16,w=this.i(b)&65535,Tn=T.i(S)>>>16,gi=T.i(S)&65535;I[2*b+2*S]+=w*gi,L(I,2*b+2*S),I[2*b+2*S+1]+=R*gi,L(I,2*b+2*S+1),I[2*b+2*S+1]+=w*Tn,L(I,2*b+2*S+1),I[2*b+2*S+2]+=R*Tn,L(I,2*b+2*S+2)}for(b=0;b<_;b++)I[b]=I[2*b+1]<<16|I[2*b];for(b=_;b<2*_;b++)I[b]=0;return new s(I,0)};function L(T,_){for(;(T[_]&65535)!=T[_];)T[_+1]+=T[_]>>>16,T[_]&=65535,_++}function H(T,_){this.g=T,this.h=_}function W(T,_){if(E(_))throw Error("division by zero");if(E(T))return new H(f,f);if(A(T))return _=W(D(T),_),new H(D(_.g),D(_.h));if(A(_))return _=W(T,D(_)),new H(D(_.g),_.h);if(30<T.g.length){if(A(T)||A(_))throw Error("slowDivide_ only works with positive integers.");for(var I=g,b=_;0>=b.l(T);)I=Te(I),b=Te(b);var S=te(I,1),R=te(b,1);for(b=te(b,2),I=te(I,2);!E(b);){var w=R.add(b);0>=w.l(T)&&(S=S.add(I),R=w),b=te(b,1),I=te(I,1)}return _=M(T,S.j(_)),new H(S,_)}for(S=f;0<=T.l(_);){for(I=Math.max(1,Math.floor(T.m()/_.m())),b=Math.ceil(Math.log(I)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),R=l(I),w=R.j(_);A(w)||0<w.l(T);)I-=b,R=l(I),w=R.j(_);E(R)&&(R=g),S=S.add(R),T=M(T,w)}return new H(S,T)}n.A=function(T){return W(this,T).h},n.and=function(T){for(var _=Math.max(this.g.length,T.g.length),I=[],b=0;b<_;b++)I[b]=this.i(b)&T.i(b);return new s(I,this.h&T.h)},n.or=function(T){for(var _=Math.max(this.g.length,T.g.length),I=[],b=0;b<_;b++)I[b]=this.i(b)|T.i(b);return new s(I,this.h|T.h)},n.xor=function(T){for(var _=Math.max(this.g.length,T.g.length),I=[],b=0;b<_;b++)I[b]=this.i(b)^T.i(b);return new s(I,this.h^T.h)};function Te(T){for(var _=T.g.length+1,I=[],b=0;b<_;b++)I[b]=T.i(b)<<1|T.i(b-1)>>>31;return new s(I,T.h)}function te(T,_){var I=_>>5;_%=32;for(var b=T.g.length-I,S=[],R=0;R<b;R++)S[R]=0<_?T.i(R+I)>>>_|T.i(R+I+1)<<32-_:T.i(R+I);return new s(S,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,zw=PO.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=d,ri=PO.Integer=s}).apply(typeof MO<"u"?MO:typeof self<"u"?self:typeof window<"u"?window:{});var Sg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ii={};var Gw,B8,oc,Ww,Gl,Cg,Kw,Qw,Yw;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,h,p){return u==Array.prototype||u==Object.prototype||(u[h]=p.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Sg=="object"&&Sg];for(var h=0;h<u.length;++h){var p=u[h];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=t(this);function i(u,h){if(h)e:{var p=r;u=u.split(".");for(var y=0;y<u.length-1;y++){var C=u[y];if(!(C in p))break e;p=p[C]}u=u[u.length-1],y=p[u],h=h(y),h!=y&&h!=null&&e(p,u,{configurable:!0,writable:!0,value:h})}}function o(u,h){u instanceof String&&(u+="");var p=0,y=!1,C={next:function(){if(!y&&p<u.length){var N=p++;return{value:h(N,u[N]),done:!1}}return y=!0,{done:!0,value:void 0}}};return C[Symbol.iterator]=function(){return C},C}i("Array.prototype.values",function(u){return u||function(){return o(this,function(h,p){return p})}});var s=s||{},a=this||self;function c(u){var h=typeof u;return h=h!="object"?h:u?Array.isArray(u)?"array":h:"null",h=="array"||h=="object"&&typeof u.length=="number"}function l(u){var h=typeof u;return h=="object"&&u!=null||h=="function"}function d(u,h,p){return u.call.apply(u.bind,arguments)}function f(u,h,p){if(!u)throw Error();if(2<arguments.length){var y=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,y),u.apply(h,C)}}return function(){return u.apply(h,arguments)}}function g(u,h,p){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,g.apply(null,arguments)}function m(u,h){var p=Array.prototype.slice.call(arguments,1);return function(){var y=p.slice();return y.push.apply(y,arguments),u.apply(this,y)}}function E(u,h){function p(){}p.prototype=h.prototype,u.aa=h.prototype,u.prototype=new p,u.prototype.constructor=u,u.Qb=function(y,C,N){for(var U=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)U[ke-2]=arguments[ke];return h.prototype[C].apply(y,U)}}function A(u){let h=u.length;if(0<h){let p=Array(h);for(let y=0;y<h;y++)p[y]=u[y];return p}return[]}function D(u,h){for(let p=1;p<arguments.length;p++){let y=arguments[p];if(c(y)){let C=u.length||0,N=y.length||0;u.length=C+N;for(let U=0;U<N;U++)u[C+U]=y[U]}else u.push(y)}}class M{constructor(h,p){this.i=h,this.j=p,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function L(u){return/^[\s\xa0]*$/.test(u)}function H(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function W(u){return W[" "](u),u}W[" "]=function(){};var Te=H().indexOf("Gecko")!=-1&&!(H().toLowerCase().indexOf("webkit")!=-1&&H().indexOf("Edge")==-1)&&!(H().indexOf("Trident")!=-1||H().indexOf("MSIE")!=-1)&&H().indexOf("Edge")==-1;function te(u,h,p){for(let y in u)h.call(p,u[y],y,u)}function T(u,h){for(let p in u)h.call(void 0,u[p],p,u)}function _(u){let h={};for(let p in u)h[p]=u[p];return h}let I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(u,h){let p,y;for(let C=1;C<arguments.length;C++){y=arguments[C];for(p in y)u[p]=y[p];for(let N=0;N<I.length;N++)p=I[N],Object.prototype.hasOwnProperty.call(y,p)&&(u[p]=y[p])}}function S(u){var h=1;u=u.split(":");let p=[];for(;0<h&&u.length;)p.push(u.shift()),h--;return u.length&&p.push(u.join(":")),p}function R(u){a.setTimeout(()=>{throw u},0)}function w(){var u=me;let h=null;return u.g&&(h=u.g,u.g=u.g.next,u.g||(u.h=null),h.next=null),h}class Tn{constructor(){this.h=this.g=null}add(h,p){let y=gi.get();y.set(h,p),this.h?this.h.next=y:this.g=y,this.h=y}}var gi=new M(()=>new K,u=>u.reset());class K{constructor(){this.next=this.g=this.h=null}set(h,p){this.h=h,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let Y,Z=!1,me=new Tn,Xe=()=>{let u=a.Promise.resolve(void 0);Y=()=>{u.then(bn)}};var bn=()=>{for(var u;u=w();){try{u.h.call(u.g)}catch(p){R(p)}var h=gi;h.j(u),100>h.h&&(h.h++,u.next=h.g,h.g=u)}Z=!1};function ze(){this.s=this.s,this.C=this.C}ze.prototype.s=!1,ze.prototype.ma=function(){this.s||(this.s=!0,this.N())},ze.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Fe(u,h){this.type=u,this.g=this.target=h,this.defaultPrevented=!1}Fe.prototype.h=function(){this.defaultPrevented=!0};var Le=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,h=Object.defineProperty({},"passive",{get:function(){u=!0}});try{let p=()=>{};a.addEventListener("test",p,h),a.removeEventListener("test",p,h)}catch{}return u})();function mi(u,h){if(Fe.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var p=this.type=u.type,y=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=h,h=u.relatedTarget){if(Te){e:{try{W(h.nodeName);var C=!0;break e}catch{}C=!1}C||(h=null)}}else p=="mouseover"?h=u.fromElement:p=="mouseout"&&(h=u.toElement);this.relatedTarget=h,y?(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Km[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&mi.aa.h.call(this)}}E(mi,Fe);var Km={2:"touch",3:"pen",4:"mouse"};mi.prototype.h=function(){mi.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ge="closure_listenable_"+(1e6*Math.random()|0),Rr=0;function Xt(u,h,p,y,C){this.listener=u,this.proxy=null,this.src=h,this.type=p,this.capture=!!y,this.ha=C,this.key=++Rr,this.da=this.fa=!1}function Nr(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function yi(u){this.src=u,this.g={},this.h=0}yi.prototype.add=function(u,h,p,y,C){var N=u.toString();u=this.g[N],u||(u=this.g[N]=[],this.h++);var U=Ym(u,h,y,C);return-1<U?(h=u[U],p||(h.fa=!1)):(h=new Xt(h,this.src,N,!!y,C),h.fa=p,u.push(h)),h};function Qm(u,h){var p=h.type;if(p in u.g){var y=u.g[p],C=Array.prototype.indexOf.call(y,h,void 0),N;(N=0<=C)&&Array.prototype.splice.call(y,C,1),N&&(Nr(h),u.g[p].length==0&&(delete u.g[p],u.h--))}}function Ym(u,h,p,y){for(var C=0;C<u.length;++C){var N=u[C];if(!N.da&&N.listener==h&&N.capture==!!p&&N.ha==y)return C}return-1}var Jm="closure_lm_"+(1e6*Math.random()|0),Zm={};function KD(u,h,p,y,C){if(y&&y.once)return YD(u,h,p,y,C);if(Array.isArray(h)){for(var N=0;N<h.length;N++)KD(u,h[N],p,y,C);return null}return p=ny(p),u&&u[Ge]?u.K(h,p,l(y)?!!y.capture:!!y,C):QD(u,h,p,!1,y,C)}function QD(u,h,p,y,C,N){if(!h)throw Error("Invalid event type");var U=l(C)?!!C.capture:!!C,ke=ey(u);if(ke||(u[Jm]=ke=new yi(u)),p=ke.add(h,p,y,U,N),p.proxy)return p;if(y=EL(),p.proxy=y,y.src=u,y.listener=p,u.addEventListener)Le||(C=U),C===void 0&&(C=!1),u.addEventListener(h.toString(),y,C);else if(u.attachEvent)u.attachEvent(ZD(h.toString()),y);else if(u.addListener&&u.removeListener)u.addListener(y);else throw Error("addEventListener and attachEvent are unavailable.");return p}function EL(){function u(p){return h.call(u.src,u.listener,p)}let h=IL;return u}function YD(u,h,p,y,C){if(Array.isArray(h)){for(var N=0;N<h.length;N++)YD(u,h[N],p,y,C);return null}return p=ny(p),u&&u[Ge]?u.L(h,p,l(y)?!!y.capture:!!y,C):QD(u,h,p,!0,y,C)}function JD(u,h,p,y,C){if(Array.isArray(h))for(var N=0;N<h.length;N++)JD(u,h[N],p,y,C);else y=l(y)?!!y.capture:!!y,p=ny(p),u&&u[Ge]?(u=u.i,h=String(h).toString(),h in u.g&&(N=u.g[h],p=Ym(N,p,y,C),-1<p&&(Nr(N[p]),Array.prototype.splice.call(N,p,1),N.length==0&&(delete u.g[h],u.h--)))):u&&(u=ey(u))&&(h=u.g[h.toString()],u=-1,h&&(u=Ym(h,p,y,C)),(p=-1<u?h[u]:null)&&Xm(p))}function Xm(u){if(typeof u!="number"&&u&&!u.da){var h=u.src;if(h&&h[Ge])Qm(h.i,u);else{var p=u.type,y=u.proxy;h.removeEventListener?h.removeEventListener(p,y,u.capture):h.detachEvent?h.detachEvent(ZD(p),y):h.addListener&&h.removeListener&&h.removeListener(y),(p=ey(h))?(Qm(p,u),p.h==0&&(p.src=null,h[Jm]=null)):Nr(u)}}}function ZD(u){return u in Zm?Zm[u]:Zm[u]="on"+u}function IL(u,h){if(u.da)u=!0;else{h=new mi(h,this);var p=u.listener,y=u.ha||u.src;u.fa&&Xm(u),u=p.call(y,h)}return u}function ey(u){return u=u[Jm],u instanceof yi?u:null}var ty="__closure_events_fn_"+(1e9*Math.random()>>>0);function ny(u){return typeof u=="function"?u:(u[ty]||(u[ty]=function(h){return u.handleEvent(h)}),u[ty])}function kt(){ze.call(this),this.i=new yi(this),this.M=this,this.F=null}E(kt,ze),kt.prototype[Ge]=!0,kt.prototype.removeEventListener=function(u,h,p,y){JD(this,u,h,p,y)};function qt(u,h){var p,y=u.F;if(y)for(p=[];y;y=y.F)p.push(y);if(u=u.M,y=h.type||h,typeof h=="string")h=new Fe(h,u);else if(h instanceof Fe)h.target=h.target||u;else{var C=h;h=new Fe(y,u),b(h,C)}if(C=!0,p)for(var N=p.length-1;0<=N;N--){var U=h.g=p[N];C=Td(U,y,!0,h)&&C}if(U=h.g=u,C=Td(U,y,!0,h)&&C,C=Td(U,y,!1,h)&&C,p)for(N=0;N<p.length;N++)U=h.g=p[N],C=Td(U,y,!1,h)&&C}kt.prototype.N=function(){if(kt.aa.N.call(this),this.i){var u=this.i,h;for(h in u.g){for(var p=u.g[h],y=0;y<p.length;y++)Nr(p[y]);delete u.g[h],u.h--}}this.F=null},kt.prototype.K=function(u,h,p,y){return this.i.add(String(u),h,!1,p,y)},kt.prototype.L=function(u,h,p,y){return this.i.add(String(u),h,!0,p,y)};function Td(u,h,p,y){if(h=u.i.g[String(h)],!h)return!0;h=h.concat();for(var C=!0,N=0;N<h.length;++N){var U=h[N];if(U&&!U.da&&U.capture==p){var ke=U.listener,St=U.ha||U.src;U.fa&&Qm(u.i,U),C=ke.call(St,y)!==!1&&C}}return C&&!y.defaultPrevented}function XD(u,h,p){if(typeof u=="function")p&&(u=g(u,p));else if(u&&typeof u.handleEvent=="function")u=g(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:a.setTimeout(u,h||0)}function eS(u){u.g=XD(()=>{u.g=null,u.i&&(u.i=!1,eS(u))},u.l);let h=u.h;u.h=null,u.m.apply(null,h)}class wL extends ze{constructor(h,p){super(),this.m=h,this.l=p,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:eS(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xc(u){ze.call(this),this.h=u,this.g={}}E(xc,ze);var tS=[];function nS(u){te(u.g,function(h,p){this.g.hasOwnProperty(p)&&Xm(h)},u),u.g={}}xc.prototype.N=function(){xc.aa.N.call(this),nS(this)},xc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ry=a.JSON.stringify,TL=a.JSON.parse,bL=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function iy(){}iy.prototype.h=null;function rS(u){return u.h||(u.h=u.i())}function iS(){}var Fc={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function oy(){Fe.call(this,"d")}E(oy,Fe);function sy(){Fe.call(this,"c")}E(sy,Fe);var Io={},oS=null;function bd(){return oS=oS||new kt}Io.La="serverreachability";function sS(u){Fe.call(this,Io.La,u)}E(sS,Fe);function Lc(u){let h=bd();qt(h,new sS(h))}Io.STAT_EVENT="statevent";function aS(u,h){Fe.call(this,Io.STAT_EVENT,u),this.stat=h}E(aS,Fe);function zt(u){let h=bd();qt(h,new aS(h,u))}Io.Ma="timingevent";function cS(u,h){Fe.call(this,Io.Ma,u),this.size=h}E(cS,Fe);function Vc(u,h){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},h)}function jc(){this.g=!0}jc.prototype.xa=function(){this.g=!1};function DL(u,h,p,y,C,N){u.info(function(){if(u.g)if(N)for(var U="",ke=N.split("&"),St=0;St<ke.length;St++){var De=ke[St].split("=");if(1<De.length){var Ot=De[0];De=De[1];var xt=Ot.split("_");U=2<=xt.length&&xt[1]=="type"?U+(Ot+"="+De+"&"):U+(Ot+"=redacted&")}}else U=null;else U=N;return"XMLHTTP REQ ("+y+") [attempt "+C+"]: "+h+`
`+p+`
`+U})}function SL(u,h,p,y,C,N,U){u.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+C+"]: "+h+`
`+p+`
`+N+" "+U})}function Bs(u,h,p,y){u.info(function(){return"XMLHTTP TEXT ("+h+"): "+AL(u,p)+(y?" "+y:"")})}function CL(u,h){u.info(function(){return"TIMEOUT: "+h})}jc.prototype.info=function(){};function AL(u,h){if(!u.g)return h;if(!h)return null;try{var p=JSON.parse(h);if(p){for(u=0;u<p.length;u++)if(Array.isArray(p[u])){var y=p[u];if(!(2>y.length)){var C=y[1];if(Array.isArray(C)&&!(1>C.length)){var N=C[0];if(N!="noop"&&N!="stop"&&N!="close")for(var U=1;U<C.length;U++)C[U]=""}}}}return ry(p)}catch{return h}}var Dd={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},uS={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ay;function Sd(){}E(Sd,iy),Sd.prototype.g=function(){return new XMLHttpRequest},Sd.prototype.i=function(){return{}},ay=new Sd;function vi(u,h,p,y){this.j=u,this.i=h,this.l=p,this.R=y||1,this.U=new xc(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new lS}function lS(){this.i=null,this.g="",this.h=!1}var dS={},cy={};function uy(u,h,p){u.L=1,u.v=Nd(Mr(h)),u.m=p,u.P=!0,hS(u,null)}function hS(u,h){u.F=Date.now(),Cd(u),u.A=Mr(u.v);var p=u.A,y=u.R;Array.isArray(y)||(y=[String(y)]),SS(p.i,"t",y),u.C=0,p=u.j.J,u.h=new lS,u.g=qS(u.j,p?h:null,!u.m),0<u.O&&(u.M=new wL(g(u.Y,u,u.g),u.O)),h=u.U,p=u.g,y=u.ca;var C="readystatechange";Array.isArray(C)||(C&&(tS[0]=C.toString()),C=tS);for(var N=0;N<C.length;N++){var U=KD(p,C[N],y||h.handleEvent,!1,h.h||h);if(!U)break;h.g[U.key]=U}h=u.H?_(u.H):{},u.m?(u.u||(u.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,h)):(u.u="GET",u.g.ea(u.A,u.u,null,h)),Lc(),DL(u.i,u.u,u.A,u.l,u.R,u.m)}vi.prototype.ca=function(u){u=u.target;let h=this.M;h&&Pr(u)==3?h.j():this.Y(u)},vi.prototype.Y=function(u){try{if(u==this.g)e:{let xt=Pr(this.g);var h=this.g.Ba();let qs=this.g.Z();if(!(3>xt)&&(xt!=3||this.g&&(this.h.h||this.g.oa()||kS(this.g)))){this.J||xt!=4||h==7||(h==8||0>=qs?Lc(3):Lc(2)),ly(this);var p=this.g.Z();this.X=p;t:if(fS(this)){var y=kS(this.g);u="";var C=y.length,N=Pr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){wo(this),Uc(this);var U="";break t}this.h.i=new a.TextDecoder}for(h=0;h<C;h++)this.h.h=!0,u+=this.h.i.decode(y[h],{stream:!(N&&h==C-1)});y.length=0,this.h.g+=u,this.C=0,U=this.h.g}else U=this.g.oa();if(this.o=p==200,SL(this.i,this.u,this.A,this.l,this.R,xt,p),this.o){if(this.T&&!this.K){t:{if(this.g){var ke,St=this.g;if((ke=St.g?St.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(ke)){var De=ke;break t}}De=null}if(p=De)Bs(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,dy(this,p);else{this.o=!1,this.s=3,zt(12),wo(this),Uc(this);break e}}if(this.P){p=!0;let Ln;for(;!this.J&&this.C<U.length;)if(Ln=RL(this,U),Ln==cy){xt==4&&(this.s=4,zt(14),p=!1),Bs(this.i,this.l,null,"[Incomplete Response]");break}else if(Ln==dS){this.s=4,zt(15),Bs(this.i,this.l,U,"[Invalid Chunk]"),p=!1;break}else Bs(this.i,this.l,Ln,null),dy(this,Ln);if(fS(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xt!=4||U.length!=0||this.h.h||(this.s=1,zt(16),p=!1),this.o=this.o&&p,!p)Bs(this.i,this.l,U,"[Invalid Chunked Response]"),wo(this),Uc(this);else if(0<U.length&&!this.W){this.W=!0;var Ot=this.j;Ot.g==this&&Ot.ba&&!Ot.M&&(Ot.j.info("Great, no buffering proxy detected. Bytes received: "+U.length),yy(Ot),Ot.M=!0,zt(11))}}else Bs(this.i,this.l,U,null),dy(this,U);xt==4&&wo(this),this.o&&!this.J&&(xt==4?US(this.j,this):(this.o=!1,Cd(this)))}else GL(this.g),p==400&&0<U.indexOf("Unknown SID")?(this.s=3,zt(12)):(this.s=0,zt(13)),wo(this),Uc(this)}}}catch{}finally{}};function fS(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function RL(u,h){var p=u.C,y=h.indexOf(`
`,p);return y==-1?cy:(p=Number(h.substring(p,y)),isNaN(p)?dS:(y+=1,y+p>h.length?cy:(h=h.slice(y,y+p),u.C=y+p,h)))}vi.prototype.cancel=function(){this.J=!0,wo(this)};function Cd(u){u.S=Date.now()+u.I,pS(u,u.I)}function pS(u,h){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Vc(g(u.ba,u),h)}function ly(u){u.B&&(a.clearTimeout(u.B),u.B=null)}vi.prototype.ba=function(){this.B=null;let u=Date.now();0<=u-this.S?(CL(this.i,this.A),this.L!=2&&(Lc(),zt(17)),wo(this),this.s=2,Uc(this)):pS(this,this.S-u)};function Uc(u){u.j.G==0||u.J||US(u.j,u)}function wo(u){ly(u);var h=u.M;h&&typeof h.ma=="function"&&h.ma(),u.M=null,nS(u.U),u.g&&(h=u.g,u.g=null,h.abort(),h.ma())}function dy(u,h){try{var p=u.j;if(p.G!=0&&(p.g==u||hy(p.h,u))){if(!u.K&&hy(p.h,u)&&p.G==3){try{var y=p.Da.g.parse(h)}catch{y=null}if(Array.isArray(y)&&y.length==3){var C=y;if(C[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<u.F)xd(p),kd(p);else break e;my(p),zt(18)}}else p.za=C[1],0<p.za-p.T&&37500>C[2]&&p.F&&p.v==0&&!p.C&&(p.C=Vc(g(p.Za,p),6e3));if(1>=yS(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else bo(p,11)}else if((u.K||p.g==u)&&xd(p),!L(h))for(C=p.Da.g.parse(h),h=0;h<C.length;h++){let De=C[h];if(p.T=De[0],De=De[1],p.G==2)if(De[0]=="c"){p.K=De[1],p.ia=De[2];let Ot=De[3];Ot!=null&&(p.la=Ot,p.j.info("VER="+p.la));let xt=De[4];xt!=null&&(p.Aa=xt,p.j.info("SVER="+p.Aa));let qs=De[5];qs!=null&&typeof qs=="number"&&0<qs&&(y=1.5*qs,p.L=y,p.j.info("backChannelRequestTimeoutMs_="+y)),y=p;let Ln=u.g;if(Ln){let Ld=Ln.g?Ln.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ld){var N=y.h;N.g||Ld.indexOf("spdy")==-1&&Ld.indexOf("quic")==-1&&Ld.indexOf("h2")==-1||(N.j=N.l,N.g=new Set,N.h&&(fy(N,N.h),N.h=null))}if(y.D){let vy=Ln.g?Ln.g.getResponseHeader("X-HTTP-Session-Id"):null;vy&&(y.ya=vy,Ve(y.I,y.D,vy))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-u.F,p.j.info("Handshake RTT: "+p.R+"ms")),y=p;var U=u;if(y.qa=HS(y,y.J?y.ia:null,y.W),U.K){vS(y.h,U);var ke=U,St=y.L;St&&(ke.I=St),ke.B&&(ly(ke),Cd(ke)),y.g=U}else VS(y);0<p.i.length&&Od(p)}else De[0]!="stop"&&De[0]!="close"||bo(p,7);else p.G==3&&(De[0]=="stop"||De[0]=="close"?De[0]=="stop"?bo(p,7):gy(p):De[0]!="noop"&&p.l&&p.l.ta(De),p.v=0)}}Lc(4)}catch{}}var NL=class{constructor(u,h){this.g=u,this.map=h}};function gS(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function mS(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function yS(u){return u.h?1:u.g?u.g.size:0}function hy(u,h){return u.h?u.h==h:u.g?u.g.has(h):!1}function fy(u,h){u.g?u.g.add(h):u.h=h}function vS(u,h){u.h&&u.h==h?u.h=null:u.g&&u.g.has(h)&&u.g.delete(h)}gS.prototype.cancel=function(){if(this.i=_S(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let u of this.g.values())u.cancel();this.g.clear()}};function _S(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let h=u.i;for(let p of u.g.values())h=h.concat(p.D);return h}return A(u.i)}function ML(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(c(u)){for(var h=[],p=u.length,y=0;y<p;y++)h.push(u[y]);return h}h=[],p=0;for(y in u)h[p++]=u[y];return h}function PL(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(c(u)||typeof u=="string"){var h=[];u=u.length;for(var p=0;p<u;p++)h.push(p);return h}h=[],p=0;for(let y in u)h[p++]=y;return h}}}function ES(u,h){if(u.forEach&&typeof u.forEach=="function")u.forEach(h,void 0);else if(c(u)||typeof u=="string")Array.prototype.forEach.call(u,h,void 0);else for(var p=PL(u),y=ML(u),C=y.length,N=0;N<C;N++)h.call(void 0,y[N],p&&p[N],u)}var IS=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function kL(u,h){if(u){u=u.split("&");for(var p=0;p<u.length;p++){var y=u[p].indexOf("="),C=null;if(0<=y){var N=u[p].substring(0,y);C=u[p].substring(y+1)}else N=u[p];h(N,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function To(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof To){this.h=u.h,Ad(this,u.j),this.o=u.o,this.g=u.g,Rd(this,u.s),this.l=u.l;var h=u.i,p=new Hc;p.i=h.i,h.g&&(p.g=new Map(h.g),p.h=h.h),wS(this,p),this.m=u.m}else u&&(h=String(u).match(IS))?(this.h=!1,Ad(this,h[1]||"",!0),this.o=Bc(h[2]||""),this.g=Bc(h[3]||"",!0),Rd(this,h[4]),this.l=Bc(h[5]||"",!0),wS(this,h[6]||"",!0),this.m=Bc(h[7]||"")):(this.h=!1,this.i=new Hc(null,this.h))}To.prototype.toString=function(){var u=[],h=this.j;h&&u.push($c(h,TS,!0),":");var p=this.g;return(p||h=="file")&&(u.push("//"),(h=this.o)&&u.push($c(h,TS,!0),"@"),u.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&u.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push($c(p,p.charAt(0)=="/"?FL:xL,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",$c(p,VL)),u.join("")};function Mr(u){return new To(u)}function Ad(u,h,p){u.j=p?Bc(h,!0):h,u.j&&(u.j=u.j.replace(/:$/,""))}function Rd(u,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);u.s=h}else u.s=null}function wS(u,h,p){h instanceof Hc?(u.i=h,jL(u.i,u.h)):(p||(h=$c(h,LL)),u.i=new Hc(h,u.h))}function Ve(u,h,p){u.i.set(h,p)}function Nd(u){return Ve(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Bc(u,h){return u?h?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function $c(u,h,p){return typeof u=="string"?(u=encodeURI(u).replace(h,OL),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function OL(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var TS=/[#\/\?@]/g,xL=/[#\?:]/g,FL=/[#\?]/g,LL=/[#\?@]/g,VL=/#/g;function Hc(u,h){this.h=this.g=null,this.i=u||null,this.j=!!h}function _i(u){u.g||(u.g=new Map,u.h=0,u.i&&kL(u.i,function(h,p){u.add(decodeURIComponent(h.replace(/\+/g," ")),p)}))}n=Hc.prototype,n.add=function(u,h){_i(this),this.i=null,u=$s(this,u);var p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(h),this.h+=1,this};function bS(u,h){_i(u),h=$s(u,h),u.g.has(h)&&(u.i=null,u.h-=u.g.get(h).length,u.g.delete(h))}function DS(u,h){return _i(u),h=$s(u,h),u.g.has(h)}n.forEach=function(u,h){_i(this),this.g.forEach(function(p,y){p.forEach(function(C){u.call(h,C,y,this)},this)},this)},n.na=function(){_i(this);let u=Array.from(this.g.values()),h=Array.from(this.g.keys()),p=[];for(let y=0;y<h.length;y++){let C=u[y];for(let N=0;N<C.length;N++)p.push(h[y])}return p},n.V=function(u){_i(this);let h=[];if(typeof u=="string")DS(this,u)&&(h=h.concat(this.g.get($s(this,u))));else{u=Array.from(this.g.values());for(let p=0;p<u.length;p++)h=h.concat(u[p])}return h},n.set=function(u,h){return _i(this),this.i=null,u=$s(this,u),DS(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[h]),this.h+=1,this},n.get=function(u,h){return u?(u=this.V(u),0<u.length?String(u[0]):h):h};function SS(u,h,p){bS(u,h),0<p.length&&(u.i=null,u.g.set($s(u,h),A(p)),u.h+=p.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let u=[],h=Array.from(this.g.keys());for(var p=0;p<h.length;p++){var y=h[p];let N=encodeURIComponent(String(y)),U=this.V(y);for(y=0;y<U.length;y++){var C=N;U[y]!==""&&(C+="="+encodeURIComponent(String(U[y]))),u.push(C)}}return this.i=u.join("&")};function $s(u,h){return h=String(h),u.j&&(h=h.toLowerCase()),h}function jL(u,h){h&&!u.j&&(_i(u),u.i=null,u.g.forEach(function(p,y){var C=y.toLowerCase();y!=C&&(bS(this,y),SS(this,C,p))},u)),u.j=h}function UL(u,h){let p=new jc;if(a.Image){let y=new Image;y.onload=m(Ei,p,"TestLoadImage: loaded",!0,h,y),y.onerror=m(Ei,p,"TestLoadImage: error",!1,h,y),y.onabort=m(Ei,p,"TestLoadImage: abort",!1,h,y),y.ontimeout=m(Ei,p,"TestLoadImage: timeout",!1,h,y),a.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=u}else h(!1)}function BL(u,h){let p=new jc,y=new AbortController,C=setTimeout(()=>{y.abort(),Ei(p,"TestPingServer: timeout",!1,h)},1e4);fetch(u,{signal:y.signal}).then(N=>{clearTimeout(C),N.ok?Ei(p,"TestPingServer: ok",!0,h):Ei(p,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(C),Ei(p,"TestPingServer: error",!1,h)})}function Ei(u,h,p,y,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),y(p)}catch{}}function $L(){this.g=new bL}function HL(u,h,p){let y=p||"";try{ES(u,function(C,N){let U=C;l(C)&&(U=ry(C)),h.push(y+N+"="+encodeURIComponent(U))})}catch(C){throw h.push(y+"type="+encodeURIComponent("_badmap")),C}}function qc(u){this.l=u.Ub||null,this.j=u.eb||!1}E(qc,iy),qc.prototype.g=function(){return new Md(this.l,this.j)},qc.prototype.i=(function(u){return function(){return u}})({});function Md(u,h){kt.call(this),this.D=u,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(Md,kt),n=Md.prototype,n.open=function(u,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=h,this.readyState=1,Gc(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(h.body=u),(this.D||a).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,zc(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Gc(this)),this.g&&(this.readyState=3,Gc(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;CS(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function CS(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var h=u.value?u.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!u.done}))&&(this.response=this.responseText+=h)}u.done?zc(this):Gc(this),this.readyState==3&&CS(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,zc(this))},n.Qa=function(u){this.g&&(this.response=u,zc(this))},n.ga=function(){this.g&&zc(this)};function zc(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Gc(u)}n.setRequestHeader=function(u,h){this.u.append(u,h)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let u=[],h=this.h.entries();for(var p=h.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=h.next();return u.join(`\r
`)};function Gc(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Md.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function AS(u){let h="";return te(u,function(p,y){h+=y,h+=":",h+=p,h+=`\r
`}),h}function py(u,h,p){e:{for(y in p){var y=!1;break e}y=!0}y||(p=AS(p),typeof u=="string"?p!=null&&encodeURIComponent(String(p)):Ve(u,h,p))}function We(u){kt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(We,kt);var qL=/^https?$/i,zL=["POST","PUT"];n=We.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,h,p,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);h=h?h.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ay.g(),this.v=this.o?rS(this.o):rS(ay),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(h,String(u),!0),this.B=!1}catch(N){RS(this,N);return}if(u=p||"",p=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var C in y)p.set(C,y[C]);else if(typeof y.keys=="function"&&typeof y.get=="function")for(let N of y.keys())p.set(N,y.get(N));else throw Error("Unknown input type for opt_headers: "+String(y));y=Array.from(p.keys()).find(N=>N.toLowerCase()=="content-type"),C=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(zL,h,void 0))||y||C||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[N,U]of p)this.g.setRequestHeader(N,U);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{PS(this),this.u=!0,this.g.send(u),this.u=!1}catch(N){RS(this,N)}};function RS(u,h){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=h,u.m=5,NS(u),Pd(u)}function NS(u){u.A||(u.A=!0,qt(u,"complete"),qt(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,qt(this,"complete"),qt(this,"abort"),Pd(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Pd(this,!0)),We.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?MS(this):this.bb())},n.bb=function(){MS(this)};function MS(u){if(u.h&&typeof s<"u"&&(!u.v[1]||Pr(u)!=4||u.Z()!=2)){if(u.u&&Pr(u)==4)XD(u.Ea,0,u);else if(qt(u,"readystatechange"),Pr(u)==4){u.h=!1;try{let U=u.Z();e:switch(U){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var p;if(!(p=h)){var y;if(y=U===0){var C=String(u.D).match(IS)[1]||null;!C&&a.self&&a.self.location&&(C=a.self.location.protocol.slice(0,-1)),y=!qL.test(C?C.toLowerCase():"")}p=y}if(p)qt(u,"complete"),qt(u,"success");else{u.m=6;try{var N=2<Pr(u)?u.g.statusText:""}catch{N=""}u.l=N+" ["+u.Z()+"]",NS(u)}}finally{Pd(u)}}}}function Pd(u,h){if(u.g){PS(u);let p=u.g,y=u.v[0]?()=>{}:null;u.g=null,u.v=null,h||qt(u,"ready");try{p.onreadystatechange=y}catch{}}}function PS(u){u.I&&(a.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function Pr(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<Pr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var h=this.g.responseText;return u&&h.indexOf(u)==0&&(h=h.substring(u.length)),TL(h)}};function kS(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function GL(u){let h={};u=(u.g&&2<=Pr(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let y=0;y<u.length;y++){if(L(u[y]))continue;var p=S(u[y]);let C=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();let N=h[C]||[];h[C]=N,N.push(p)}T(h,function(y){return y.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Wc(u,h,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||h}function OS(u){this.Aa=0,this.i=[],this.j=new jc,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Wc("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Wc("baseRetryDelayMs",5e3,u),this.cb=Wc("retryDelaySeedMs",1e4,u),this.Wa=Wc("forwardChannelMaxRetries",2,u),this.wa=Wc("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new gS(u&&u.concurrentRequestLimit),this.Da=new $L,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=OS.prototype,n.la=8,n.G=1,n.connect=function(u,h,p,y){zt(0),this.W=u,this.H=h||{},p&&y!==void 0&&(this.H.OSID=p,this.H.OAID=y),this.F=this.X,this.I=HS(this,null,this.W),Od(this)};function gy(u){if(xS(u),u.G==3){var h=u.U++,p=Mr(u.I);if(Ve(p,"SID",u.K),Ve(p,"RID",h),Ve(p,"TYPE","terminate"),Kc(u,p),h=new vi(u,u.j,h),h.L=2,h.v=Nd(Mr(p)),p=!1,a.navigator&&a.navigator.sendBeacon)try{p=a.navigator.sendBeacon(h.v.toString(),"")}catch{}!p&&a.Image&&(new Image().src=h.v,p=!0),p||(h.g=qS(h.j,null),h.g.ea(h.v)),h.F=Date.now(),Cd(h)}$S(u)}function kd(u){u.g&&(yy(u),u.g.cancel(),u.g=null)}function xS(u){kd(u),u.u&&(a.clearTimeout(u.u),u.u=null),xd(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function Od(u){if(!mS(u.h)&&!u.s){u.s=!0;var h=u.Ga;Y||Xe(),Z||(Y(),Z=!0),me.add(h,u),u.B=0}}function WL(u,h){return yS(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=h.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Vc(g(u.Ga,u,h),BS(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;let C=new vi(this,this.j,u),N=this.o;if(this.S&&(N?(N=_(N),b(N,this.S)):N=this.S),this.m!==null||this.O||(C.H=N,N=null),this.P)e:{for(var h=0,p=0;p<this.i.length;p++){t:{var y=this.i[p];if("__data__"in y.map&&(y=y.map.__data__,typeof y=="string")){y=y.length;break t}y=void 0}if(y===void 0)break;if(h+=y,4096<h){h=p;break e}if(h===4096||p===this.i.length-1){h=p+1;break e}}h=1e3}else h=1e3;h=LS(this,C,h),p=Mr(this.I),Ve(p,"RID",u),Ve(p,"CVER",22),this.D&&Ve(p,"X-HTTP-Session-Id",this.D),Kc(this,p),N&&(this.O?h="headers="+encodeURIComponent(String(AS(N)))+"&"+h:this.m&&py(p,this.m,N)),fy(this.h,C),this.Ua&&Ve(p,"TYPE","init"),this.P?(Ve(p,"$req",h),Ve(p,"SID","null"),C.T=!0,uy(C,p,null)):uy(C,p,h),this.G=2}}else this.G==3&&(u?FS(this,u):this.i.length==0||mS(this.h)||FS(this))};function FS(u,h){var p;h?p=h.l:p=u.U++;let y=Mr(u.I);Ve(y,"SID",u.K),Ve(y,"RID",p),Ve(y,"AID",u.T),Kc(u,y),u.m&&u.o&&py(y,u.m,u.o),p=new vi(u,u.j,p,u.B+1),u.m===null&&(p.H=u.o),h&&(u.i=h.D.concat(u.i)),h=LS(u,p,1e3),p.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),fy(u.h,p),uy(p,y,h)}function Kc(u,h){u.H&&te(u.H,function(p,y){Ve(h,y,p)}),u.l&&ES({},function(p,y){Ve(h,y,p)})}function LS(u,h,p){p=Math.min(u.i.length,p);var y=u.l?g(u.l.Na,u.l,u):null;e:{var C=u.i;let N=-1;for(;;){let U=["count="+p];N==-1?0<p?(N=C[0].g,U.push("ofs="+N)):N=0:U.push("ofs="+N);let ke=!0;for(let St=0;St<p;St++){let De=C[St].g,Ot=C[St].map;if(De-=N,0>De)N=Math.max(0,C[St].g-100),ke=!1;else try{HL(Ot,U,"req"+De+"_")}catch{y&&y(Ot)}}if(ke){y=U.join("&");break e}}}return u=u.i.splice(0,p),h.D=u,y}function VS(u){if(!u.g&&!u.u){u.Y=1;var h=u.Fa;Y||Xe(),Z||(Y(),Z=!0),me.add(h,u),u.v=0}}function my(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Vc(g(u.Fa,u),BS(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,jS(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Vc(g(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,zt(10),kd(this),jS(this))};function yy(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function jS(u){u.g=new vi(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var h=Mr(u.qa);Ve(h,"RID","rpc"),Ve(h,"SID",u.K),Ve(h,"AID",u.T),Ve(h,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ve(h,"TO",u.ja),Ve(h,"TYPE","xmlhttp"),Kc(u,h),u.m&&u.o&&py(h,u.m,u.o),u.L&&(u.g.I=u.L);var p=u.g;u=u.ia,p.L=1,p.v=Nd(Mr(h)),p.m=null,p.P=!0,hS(p,u)}n.Za=function(){this.C!=null&&(this.C=null,kd(this),my(this),zt(19))};function xd(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function US(u,h){var p=null;if(u.g==h){xd(u),yy(u),u.g=null;var y=2}else if(hy(u.h,h))p=h.D,vS(u.h,h),y=1;else return;if(u.G!=0){if(h.o)if(y==1){p=h.m?h.m.length:0,h=Date.now()-h.F;var C=u.B;y=bd(),qt(y,new cS(y,p)),Od(u)}else VS(u);else if(C=h.s,C==3||C==0&&0<h.X||!(y==1&&WL(u,h)||y==2&&my(u)))switch(p&&0<p.length&&(h=u.h,h.i=h.i.concat(p)),C){case 1:bo(u,5);break;case 4:bo(u,10);break;case 3:bo(u,6);break;default:bo(u,2)}}}function BS(u,h){let p=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(p*=2),p*h}function bo(u,h){if(u.j.info("Error code "+h),h==2){var p=g(u.fb,u),y=u.Xa;let C=!y;y=new To(y||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Ad(y,"https"),Nd(y),C?UL(y.toString(),p):BL(y.toString(),p)}else zt(2);u.G=0,u.l&&u.l.sa(h),$S(u),xS(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),zt(2)):(this.j.info("Failed to ping google.com"),zt(1))};function $S(u){if(u.G=0,u.ka=[],u.l){let h=_S(u.h);(h.length!=0||u.i.length!=0)&&(D(u.ka,h),D(u.ka,u.i),u.h.i.length=0,A(u.i),u.i.length=0),u.l.ra()}}function HS(u,h,p){var y=p instanceof To?Mr(p):new To(p);if(y.g!="")h&&(y.g=h+"."+y.g),Rd(y,y.s);else{var C=a.location;y=C.protocol,h=h?h+"."+C.hostname:C.hostname,C=+C.port;var N=new To(null);y&&Ad(N,y),h&&(N.g=h),C&&Rd(N,C),p&&(N.l=p),y=N}return p=u.D,h=u.ya,p&&h&&Ve(y,p,h),Ve(y,"VER",u.la),Kc(u,y),y}function qS(u,h,p){if(h&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=u.Ca&&!u.pa?new We(new qc({eb:p})):new We(u.pa),h.Ha(u.J),h}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function zS(){}n=zS.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Fd(){}Fd.prototype.g=function(u,h){return new hn(u,h)};function hn(u,h){kt.call(this),this.g=new OS(h),this.l=u,this.h=h&&h.messageUrlParams||null,u=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(u?u["X-WebChannel-Content-Type"]=h.messageContentType:u={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(u?u["X-WebChannel-Client-Profile"]=h.va:u={"X-WebChannel-Client-Profile":h.va}),this.g.S=u,(u=h&&h.Sb)&&!L(u)&&(this.g.m=u),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!L(h)&&(this.g.D=h,u=this.h,u!==null&&h in u&&(u=this.h,h in u&&delete u[h])),this.j=new Hs(this)}E(hn,kt),hn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},hn.prototype.close=function(){gy(this.g)},hn.prototype.o=function(u){var h=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.u&&(p={},p.__data__=ry(u),u=p);h.i.push(new NL(h.Ya++,u)),h.G==3&&Od(h)},hn.prototype.N=function(){this.g.l=null,delete this.j,gy(this.g),delete this.g,hn.aa.N.call(this)};function GS(u){oy.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var h=u.__sm__;if(h){e:{for(let p in h){u=p;break e}u=void 0}(this.i=u)&&(u=this.i,h=h!==null&&u in h?h[u]:void 0),this.data=h}else this.data=u}E(GS,oy);function WS(){sy.call(this),this.status=1}E(WS,sy);function Hs(u){this.g=u}E(Hs,zS),Hs.prototype.ua=function(){qt(this.g,"a")},Hs.prototype.ta=function(u){qt(this.g,new GS(u))},Hs.prototype.sa=function(u){qt(this.g,new WS)},Hs.prototype.ra=function(){qt(this.g,"b")},Fd.prototype.createWebChannel=Fd.prototype.g,hn.prototype.send=hn.prototype.o,hn.prototype.open=hn.prototype.m,hn.prototype.close=hn.prototype.close,Yw=ii.createWebChannelTransport=function(){return new Fd},Qw=ii.getStatEventTarget=function(){return bd()},Kw=ii.Event=Io,Cg=ii.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Dd.NO_ERROR=0,Dd.TIMEOUT=8,Dd.HTTP_ERROR=6,Gl=ii.ErrorCode=Dd,uS.COMPLETE="complete",Ww=ii.EventType=uS,iS.EventType=Fc,Fc.OPEN="a",Fc.CLOSE="b",Fc.ERROR="c",Fc.MESSAGE="d",kt.prototype.listen=kt.prototype.K,oc=ii.WebChannel=iS,B8=ii.FetchXmlHttpFactory=qc,We.prototype.listenOnce=We.prototype.L,We.prototype.getLastError=We.prototype.Ka,We.prototype.getLastErrorCode=We.prototype.Ba,We.prototype.getStatus=We.prototype.Z,We.prototype.getResponseJson=We.prototype.Oa,We.prototype.getResponseText=We.prototype.oa,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Ha,Gw=ii.XhrIo=We}).apply(typeof Sg<"u"?Sg:typeof self<"u"?self:typeof window<"u"?window:{});var kO="@firebase/firestore",OO="4.8.0";var bt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};bt.UNAUTHENTICATED=new bt(null),bt.GOOGLE_CREDENTIALS=new bt("google-credentials-uid"),bt.FIRST_PARTY=new bt("first-party-uid"),bt.MOCK_USER=new bt("mock-user");var Sc="11.10.0";var Cs=new vr("@firebase/firestore");function sc(){return Cs.logLevel}function G(n,...e){if(Cs.logLevel<=ve.DEBUG){let t=e.map(Ub);Cs.debug(`Firestore (${Sc}): ${n}`,...t)}}function ai(n,...e){if(Cs.logLevel<=ve.ERROR){let t=e.map(Ub);Cs.error(`Firestore (${Sc}): ${n}`,...t)}}function fo(n,...e){if(Cs.logLevel<=ve.WARN){let t=e.map(Ub);Cs.warn(`Firestore (${Sc}): ${n}`,...t)}}function Ub(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function ee(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,Cx(n,r,t)}function Cx(n,e,t){let r=`FIRESTORE (${Sc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw ai(r),new Error(r)}function Ne(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||Cx(e,i,r)}function ae(n,e){return n}var k={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},$=class extends Jt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var oi=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Og=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},tT=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(bt.UNAUTHENTICATED))}shutdown(){}},nT=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},rT=class{constructor(e){this.t=e,this.currentUser=bt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ne(this.o===void 0,42304);let r=this.i,i=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve(),o=new oi;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new oi,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(()=>v(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new oi)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ne(typeof r.accessToken=="string",31837,{l:r}),new Og(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Ne(e===null||typeof e=="string",2055,{h:e}),new bt(e)}},iT=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=bt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},oT=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new iT(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(bt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},xg=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},sT=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,cn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ne(this.o===void 0,3512);let r=o=>{o.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,G("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new xg(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ne(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new xg(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function $8(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function Ax(){return new TextEncoder}var Zl=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=$8(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function pe(n,e){return n<e?-1:n>e?1:0}function aT(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return pe(r,i);{let o=Ax(),s=H8(o.encode(xO(n,t)),o.encode(xO(e,t)));return s!==0?s:pe(r,i)}}t+=r>65535?2:1}return pe(n.length,e.length)}function xO(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function H8(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return pe(n[t],e[t]);return pe(n.length,e.length)}function pc(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var FO="__name__",Fg=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&ee(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&ee(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return pe(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):aT(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ri.fromString(e.substring(4,e.length-2))}},$e=class n extends Fg{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new $(k.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},q8=/^[_a-zA-Z][_a-zA-Z0-9]*$/,wn=class n extends Fg{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return q8.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===FO}static keyField(){return new n([FO])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new $(k.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new $(k.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new $(k.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new $(k.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var X=class n{constructor(e){this.path=e}static fromPath(e){return new n($e.fromString(e))}static fromName(e){return new n($e.fromString(e).popFirst(5))}static empty(){return new n($e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&$e.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return $e.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new $e(e.slice()))}};function Rx(n,e,t){if(!t)throw new $(k.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function z8(n,e,t,r){if(e===!0&&r===!0)throw new $(k.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function LO(n){if(!X.isDocumentKey(n))throw new $(k.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function VO(n){if(X.isDocumentKey(n))throw new $(k.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Nx(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function pm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ee(12329,{type:typeof n})}function ao(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new $(k.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=pm(n);throw new $(k.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function ft(n,e){let t={typeString:n};return e&&(t.value=e),t}function ld(n,e){if(!Nx(n))throw new $(k.INVALID_ARGUMENT,"JSON must be an object");let t;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}let s=n[r];if(i&&typeof s!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new $(k.INVALID_ARGUMENT,t);return!0}var jO=-62135596800,UO=1e6,pt=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*UO);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new $(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new $(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<jO)throw new $(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/UO}_compareTo(e){return this.seconds===e.seconds?pe(this.nanoseconds,e.nanoseconds):pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ld(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-jO;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};pt._jsonSchemaVersion="firestore/timestamp/1.0",pt._jsonSchema={type:ft("string",pt._jsonSchemaVersion),seconds:ft("number"),nanoseconds:ft("number")};var le=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new pt(0,0))}static max(){return new n(new pt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Xl=-1,cT=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};cT.UNKNOWN_ID=-1;function G8(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=le.fromTimestamp(r===1e9?new pt(t+1,0):new pt(t,r));return new As(i,X.empty(),e)}function W8(n){return new As(n.readTime,n.key,Xl)}var As=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(le.min(),X.empty(),Xl)}static max(){return new n(le.max(),X.empty(),Xl)}};function K8(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=X.comparator(n.documentKey,e.documentKey),t!==0?t:pe(n.largestBatchId,e.largestBatchId))}var Q8="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",uT=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Cc(n){return v(this,null,function*(){if(n.code!==k.FAILED_PRECONDITION||n.message!==Q8)throw n;G("LocalStore","Unexpectedly lost primary lease")})}var x=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},c=>r(c))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let c=0;c<o;c++){let l=c;t(e[l]).next(d=>{s[l]=d,++a,a===o&&r(s)},d=>i(d))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function Y8(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ac(n){return n.name==="IndexedDbTransactionError"}var Bb=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ae&&this.ae(t),t}}n.ue=-1;return n})(),$b=-1;function gm(n){return n==null}function ed(n){return n===0&&1/n==-1/0}function J8(n){return typeof n=="number"&&Number.isInteger(n)&&!ed(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var Mx="";function Z8(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=BO(e)),e=X8(n.get(t),e);return BO(e)}function X8(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case Mx:t+="";break;default:t+=o}}return t}function BO(n){return n+Mx+""}var e5="remoteDocuments",Px="owner";var kx="mutationQueues";var Ox="mutations";var xx="documentMutations",t5="remoteDocumentsV14";var Fx="remoteDocumentGlobal";var Lx="targets";var Vx="targetDocuments";var jx="targetGlobal",Ux="collectionParents";var Bx="clientMetadata";var $x="bundles";var Hx="namedQueries";var n5="indexConfiguration";var r5="indexState";var i5="indexEntries";var qx="documentOverlays";var o5="globals";var s5=[kx,Ox,xx,e5,Lx,Px,jx,Vx,Bx,Fx,Ux,$x,Hx],qge=[...s5,qx],a5=[kx,Ox,xx,t5,Lx,Px,jx,Vx,Bx,Fx,Ux,$x,Hx,qx],c5=a5,u5=[...c5,n5,r5,i5];var zge=[...u5,o5];function $O(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function _o(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function zx(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Ze=class n{constructor(e,t){this.comparator=e,this.root=t||Tr.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Tr.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Tr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new lc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new lc(this.root,e,this.comparator,!1)}getReverseIterator(){return new lc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new lc(this.root,e,this.comparator,!0)}},lc=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Tr=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ee(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw ee(27949);return e+(this.isRed()?0:1)}};Tr.EMPTY=null,Tr.RED=!0,Tr.BLACK=!1;Tr.EMPTY=new class{constructor(){this.size=0}get key(){throw ee(57766)}get value(){throw ee(16141)}get color(){throw ee(16727)}get left(){throw ee(29726)}get right(){throw ee(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new Tr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Dt=class n{constructor(e){this.comparator=e,this.data=new Ze(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Lg(this.data.getIterator())}getIteratorFrom(e){return new Lg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Lg=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var xn=class n{constructor(e){this.fields=e,e.sort(wn.comparator)}static empty(){return new n([])}unionWith(e){let t=new Dt(wn.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return pc(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var Vg=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Ht=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Vg("Invalid base64 string: "+o):o}})(e);return new n(t)}static fromUint8Array(e){let t=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Ht.EMPTY_BYTE_STRING=new Ht("");var l5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ci(n){if(Ne(!!n,39018),typeof n=="string"){let e=0,t=l5.exec(n);if(Ne(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Be(n.seconds),nanos:Be(n.nanos)}}function Be(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ui(n){return typeof n=="string"?Ht.fromBase64String(n):Ht.fromUint8Array(n)}var Gx="server_timestamp",Wx="__type__",Kx="__previous_value__",Qx="__local_write_time__";function Hb(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[Wx])===null||t===void 0?void 0:t.stringValue)===Gx}function mm(n){let e=n.mapValue.fields[Kx];return Hb(e)?mm(e):e}function td(n){let e=ci(n.mapValue.fields[Qx].timestampValue);return new pt(e.seconds,e.nanos)}var lT=class{constructor(e,t,r,i,o,s,a,c,l,d){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l,this.isUsingEmulator=d}},jg="(default)",Ug=class n{constructor(e,t){this.projectId=e,this.database=t||jg}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===jg}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var qb="__type__",Yx="__max__",Ag={mapValue:{fields:{__type__:{stringValue:Yx}}}},zb="__vector__",gc="value";function po(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Hb(n)?4:Zx(n)?9007199254740991:Jx(n)?10:11:ee(28295,{value:n})}function Sr(n,e){if(n===e)return!0;let t=po(n);if(t!==po(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return td(n).isEqual(td(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=ci(i.timestampValue),a=ci(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,o){return ui(i.bytesValue).isEqual(ui(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,o){return Be(i.geoPointValue.latitude)===Be(o.geoPointValue.latitude)&&Be(i.geoPointValue.longitude)===Be(o.geoPointValue.longitude)})(n,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return Be(i.integerValue)===Be(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Be(i.doubleValue),a=Be(o.doubleValue);return s===a?ed(s)===ed(a):isNaN(s)&&isNaN(a)}return!1})(n,e);case 9:return pc(n.arrayValue.values||[],e.arrayValue.values||[],Sr);case 10:case 11:return(function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if($O(s)!==$O(a))return!1;for(let c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!Sr(s[c],a[c])))return!1;return!0})(n,e);default:return ee(52216,{left:n})}}function nd(n,e){return(n.values||[]).find(t=>Sr(t,e))!==void 0}function mc(n,e){if(n===e)return 0;let t=po(n),r=po(e);if(t!==r)return pe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return pe(n.booleanValue,e.booleanValue);case 2:return(function(o,s){let a=Be(o.integerValue||o.doubleValue),c=Be(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1})(n,e);case 3:return HO(n.timestampValue,e.timestampValue);case 4:return HO(td(n),td(e));case 5:return aT(n.stringValue,e.stringValue);case 6:return(function(o,s){let a=ui(o),c=ui(s);return a.compareTo(c)})(n.bytesValue,e.bytesValue);case 7:return(function(o,s){let a=o.split("/"),c=s.split("/");for(let l=0;l<a.length&&l<c.length;l++){let d=pe(a[l],c[l]);if(d!==0)return d}return pe(a.length,c.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,s){let a=pe(Be(o.latitude),Be(s.latitude));return a!==0?a:pe(Be(o.longitude),Be(s.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return qO(n.arrayValue,e.arrayValue);case 10:return(function(o,s){var a,c,l,d;let f=o.fields||{},g=s.fields||{},m=(a=f[gc])===null||a===void 0?void 0:a.arrayValue,E=(c=g[gc])===null||c===void 0?void 0:c.arrayValue,A=pe(((l=m?.values)===null||l===void 0?void 0:l.length)||0,((d=E?.values)===null||d===void 0?void 0:d.length)||0);return A!==0?A:qO(m,E)})(n.mapValue,e.mapValue);case 11:return(function(o,s){if(o===Ag.mapValue&&s===Ag.mapValue)return 0;if(o===Ag.mapValue)return 1;if(s===Ag.mapValue)return-1;let a=o.fields||{},c=Object.keys(a),l=s.fields||{},d=Object.keys(l);c.sort(),d.sort();for(let f=0;f<c.length&&f<d.length;++f){let g=aT(c[f],d[f]);if(g!==0)return g;let m=mc(a[c[f]],l[d[f]]);if(m!==0)return m}return pe(c.length,d.length)})(n.mapValue,e.mapValue);default:throw ee(23264,{le:t})}}function HO(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return pe(n,e);let t=ci(n),r=ci(e),i=pe(t.seconds,r.seconds);return i!==0?i:pe(t.nanos,r.nanos)}function qO(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=mc(t[i],r[i]);if(o)return o}return pe(t.length,r.length)}function yc(n){return dT(n)}function dT(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){let r=ci(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return ui(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return X.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=dT(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${dT(t.fields[s])}`;return i+"}"})(n.mapValue):ee(61005,{value:n})}function Mg(n){switch(po(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=mm(n);return e?16+Mg(e):16;case 5:return 2*n.stringValue.length;case 6:return ui(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((i,o)=>i+Mg(o),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return _o(r.fields,(o,s)=>{i+=o.length+Mg(s)}),i})(n.mapValue);default:throw ee(13486,{value:n})}}function zO(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function hT(n){return!!n&&"integerValue"in n}function Gb(n){return!!n&&"arrayValue"in n}function GO(n){return!!n&&"nullValue"in n}function WO(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Pg(n){return!!n&&"mapValue"in n}function Jx(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[qb])===null||t===void 0?void 0:t.stringValue)===zb}function Kl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return _o(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Kl(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Kl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Zx(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===Yx}var Wge={mapValue:{fields:{[qb]:{stringValue:zb},[gc]:{arrayValue:{}}}}};var In=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Pg(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Kl(t)}setAll(e){let t=wn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=Kl(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());Pg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Sr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Pg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){_o(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(Kl(this.value))}};function Xx(n){let e=[];return _o(n.fields,(t,r)=>{let i=new wn([t]);if(Pg(r)){let o=Xx(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new xn(e)}var Yn=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,le.min(),le.min(),le.min(),In.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,le.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,le.min(),le.min(),In.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,le.min(),le.min(),In.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=In.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=In.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var vc=class{constructor(e,t){this.position=e,this.inclusive=t}};function KO(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=X.comparator(X.fromName(s.referenceValue),t.key):r=mc(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function QO(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Sr(n.position[t],e.position[t]))return!1;return!0}var Rs=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function d5(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var Bg=class{},ht=class n extends Bg{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new pT(e,t,r):t==="array-contains"?new yT(e,r):t==="in"?new vT(e,r):t==="not-in"?new _T(e,r):t==="array-contains-any"?new ET(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new gT(e,r):new mT(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(mc(t,this.value)):t!==null&&po(this.value)===po(t)&&this.matchesComparison(mc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Jn=class n extends Bg{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new n(e,t)}matches(e){return e1(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function e1(n){return n.op==="and"}function t1(n){return h5(n)&&e1(n)}function h5(n){for(let e of n.filters)if(e instanceof Jn)return!1;return!0}function fT(n){if(n instanceof ht)return n.field.canonicalString()+n.op.toString()+yc(n.value);if(t1(n))return n.filters.map(e=>fT(e)).join(",");{let e=n.filters.map(t=>fT(t)).join(",");return`${n.op}(${e})`}}function n1(n,e){return n instanceof ht?(function(r,i){return i instanceof ht&&r.op===i.op&&r.field.isEqual(i.field)&&Sr(r.value,i.value)})(n,e):n instanceof Jn?(function(r,i){return i instanceof Jn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&n1(s,i.filters[a]),!0):!1})(n,e):void ee(19439)}function r1(n){return n instanceof ht?(function(t){return`${t.field.canonicalString()} ${t.op} ${yc(t.value)}`})(n):n instanceof Jn?(function(t){return t.op.toString()+" {"+t.getFilters().map(r1).join(" ,")+"}"})(n):"Filter"}var pT=class extends ht{constructor(e,t,r){super(e,t,r),this.key=X.fromName(r.referenceValue)}matches(e){let t=X.comparator(e.key,this.key);return this.matchesComparison(t)}},gT=class extends ht{constructor(e,t){super(e,"in",t),this.keys=i1("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},mT=class extends ht{constructor(e,t){super(e,"not-in",t),this.keys=i1("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function i1(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>X.fromName(r.referenceValue))}var yT=class extends ht{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return Gb(t)&&nd(t.arrayValue,this.value)}},vT=class extends ht{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&nd(this.value.arrayValue,t)}},_T=class extends ht{constructor(e,t){super(e,"not-in",t)}matches(e){if(nd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!nd(this.value.arrayValue,t)}},ET=class extends ht{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!Gb(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>nd(this.value.arrayValue,r))}};var IT=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Pe=null}};function YO(n,e=null,t=[],r=[],i=null,o=null,s=null){return new IT(n,e,t,r,i,o,s)}function Wb(n){let e=ae(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>fT(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>(function(o){return o.field.canonicalString()+o.dir})(r)).join(","),gm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>yc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>yc(r)).join(",")),e.Pe=t}return e.Pe}function Kb(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!d5(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!n1(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!QO(n.startAt,e.startAt)&&QO(n.endAt,e.endAt)}function wT(n){return X.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var go=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function f5(n,e,t,r,i,o,s,a){return new go(n,e,t,r,i,o,s,a)}function Qb(n){return new go(n)}function JO(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function o1(n){return n.collectionGroup!==null}function Ql(n){let e=ae(n);if(e.Te===null){e.Te=[];let t=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Dt(wn.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Te.push(new Rs(o,r))}),t.has(wn.keyField().canonicalString())||e.Te.push(new Rs(wn.keyField(),r))}return e.Te}function br(n){let e=ae(n);return e.Ie||(e.Ie=p5(e,Ql(n))),e.Ie}function p5(n,e){if(n.limitType==="F")return YO(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Rs(i.field,o)});let t=n.endAt?new vc(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new vc(n.startAt.position,n.startAt.inclusive):null;return YO(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function TT(n,e){let t=n.filters.concat([e]);return new go(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function bT(n,e,t){return new go(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function ym(n,e){return Kb(br(n),br(e))&&n.limitType===e.limitType}function s1(n){return`${Wb(br(n))}|lt:${n.limitType}`}function ac(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>r1(i)).join(", ")}]`),gm(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>yc(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>yc(i)).join(",")),`Target(${r})`})(br(n))}; limitType=${n.limitType})`}function vm(n,e){return e.isFoundDocument()&&(function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):X.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,i){for(let o of Ql(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(s,a,c){let l=KO(s,a,c);return s.inclusive?l<=0:l<0})(r.startAt,Ql(r),i)||r.endAt&&!(function(s,a,c){let l=KO(s,a,c);return s.inclusive?l>=0:l>0})(r.endAt,Ql(r),i))})(n,e)}function g5(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function a1(n){return(e,t)=>{let r=!1;for(let i of Ql(n)){let o=m5(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function m5(n,e,t){let r=n.field.isKeyField()?X.comparator(e.key,t.key):(function(o,s,a){let c=s.data.field(o),l=a.data.field(o);return c!==null&&l!==null?mc(c,l):ee(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ee(19790,{direction:n.dir})}}var li=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){_o(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return zx(this.inner)}size(){return this.innerSize}};var y5=new Ze(X.comparator);function di(){return y5}var c1=new Ze(X.comparator);function Wl(...n){let e=c1;for(let t of n)e=e.insert(t.key,t);return e}function u1(n){let e=c1;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Ts(){return Yl()}function l1(){return Yl()}function Yl(){return new li(n=>n.toString(),(n,e)=>n.isEqual(e))}var v5=new Ze(X.comparator),_5=new Dt(X.comparator);function Ee(...n){let e=_5;for(let t of n)e=e.add(t);return e}var E5=new Dt(pe);function I5(){return E5}function Yb(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ed(e)?"-0":e}}function d1(n){return{integerValue:""+n}}function w5(n,e){return J8(e)?d1(e):Yb(n,e)}var _c=class{constructor(){this._=void 0}};function T5(n,e,t){return n instanceof Ec?(function(i,o){let s={fields:{[Wx]:{stringValue:Gx},[Qx]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Hb(o)&&(o=mm(o)),o&&(s.fields[Kx]=o),{mapValue:s}})(t,e):n instanceof Ns?f1(n,e):n instanceof Ms?p1(n,e):(function(i,o){let s=h1(i,o),a=ZO(s)+ZO(i.Ee);return hT(s)&&hT(i.Ee)?d1(a):Yb(i.serializer,a)})(n,e)}function b5(n,e,t){return n instanceof Ns?f1(n,e):n instanceof Ms?p1(n,e):t}function h1(n,e){return n instanceof Ic?(function(r){return hT(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}var Ec=class extends _c{},Ns=class extends _c{constructor(e){super(),this.elements=e}};function f1(n,e){let t=g1(e);for(let r of n.elements)t.some(i=>Sr(i,r))||t.push(r);return{arrayValue:{values:t}}}var Ms=class extends _c{constructor(e){super(),this.elements=e}};function p1(n,e){let t=g1(e);for(let r of n.elements)t=t.filter(i=>!Sr(i,r));return{arrayValue:{values:t}}}var Ic=class extends _c{constructor(e,t){super(),this.serializer=e,this.Ee=t}};function ZO(n){return Be(n.integerValue||n.doubleValue)}function g1(n){return Gb(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function D5(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof Ns&&i instanceof Ns||r instanceof Ms&&i instanceof Ms?pc(r.elements,i.elements,Sr):r instanceof Ic&&i instanceof Ic?Sr(r.Ee,i.Ee):r instanceof Ec&&i instanceof Ec})(n.transform,e.transform)}var DT=class{constructor(e,t){this.version=e,this.transformResults=t}},si=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function kg(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var wc=class{};function m1(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new rd(n.key,si.none()):new Ps(n.key,n.data,si.none());{let t=n.data,r=In.empty(),i=new Dt(wn.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Cr(n.key,r,new xn(i.toArray()),si.none())}}function S5(n,e,t){n instanceof Ps?(function(i,o,s){let a=i.value.clone(),c=ex(i.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()})(n,e,t):n instanceof Cr?(function(i,o,s){if(!kg(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=ex(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(y1(i)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()})(n,e,t):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,t)}function Jl(n,e,t,r){return n instanceof Ps?(function(o,s,a,c){if(!kg(o.precondition,s))return a;let l=o.value.clone(),d=tx(o.fieldTransforms,c,s);return l.setAll(d),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null})(n,e,t,r):n instanceof Cr?(function(o,s,a,c){if(!kg(o.precondition,s))return a;let l=tx(o.fieldTransforms,c,s),d=s.data;return d.setAll(y1(o)),d.setAll(l),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))})(n,e,t,r):(function(o,s,a){return kg(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a})(n,e,t)}function C5(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=h1(r.transform,i||null);o!=null&&(t===null&&(t=In.empty()),t.set(r.field,o))}return t||null}function XO(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&pc(r,i,(o,s)=>D5(o,s))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Ps=class extends wc{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Cr=class extends wc{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function y1(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function ex(n,e,t){let r=new Map;Ne(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,b5(s,a,t[i]))}return r}function tx(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,T5(o,s,e))}return r}var rd=class extends wc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},ST=class extends wc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var CT=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&S5(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=Jl(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=Jl(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=l1();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let c=m1(s,a);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(le.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ee())}isEqual(e){return this.batchId===e.batchId&&pc(this.mutations,e.mutations,(t,r)=>XO(t,r))&&pc(this.baseMutations,e.baseMutations,(t,r)=>XO(t,r))}},AT=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ne(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=(function(){return v5})(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var RT=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var NT=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var lt,we;function A5(n){switch(n){case k.OK:return ee(64938);case k.CANCELLED:case k.UNKNOWN:case k.DEADLINE_EXCEEDED:case k.RESOURCE_EXHAUSTED:case k.INTERNAL:case k.UNAVAILABLE:case k.UNAUTHENTICATED:return!1;case k.INVALID_ARGUMENT:case k.NOT_FOUND:case k.ALREADY_EXISTS:case k.PERMISSION_DENIED:case k.FAILED_PRECONDITION:case k.ABORTED:case k.OUT_OF_RANGE:case k.UNIMPLEMENTED:case k.DATA_LOSS:return!0;default:return ee(15467,{code:n})}}function v1(n){if(n===void 0)return ai("GRPC error has no .code"),k.UNKNOWN;switch(n){case lt.OK:return k.OK;case lt.CANCELLED:return k.CANCELLED;case lt.UNKNOWN:return k.UNKNOWN;case lt.DEADLINE_EXCEEDED:return k.DEADLINE_EXCEEDED;case lt.RESOURCE_EXHAUSTED:return k.RESOURCE_EXHAUSTED;case lt.INTERNAL:return k.INTERNAL;case lt.UNAVAILABLE:return k.UNAVAILABLE;case lt.UNAUTHENTICATED:return k.UNAUTHENTICATED;case lt.INVALID_ARGUMENT:return k.INVALID_ARGUMENT;case lt.NOT_FOUND:return k.NOT_FOUND;case lt.ALREADY_EXISTS:return k.ALREADY_EXISTS;case lt.PERMISSION_DENIED:return k.PERMISSION_DENIED;case lt.FAILED_PRECONDITION:return k.FAILED_PRECONDITION;case lt.ABORTED:return k.ABORTED;case lt.OUT_OF_RANGE:return k.OUT_OF_RANGE;case lt.UNIMPLEMENTED:return k.UNIMPLEMENTED;case lt.DATA_LOSS:return k.DATA_LOSS;default:return ee(39323,{code:n})}}(we=lt||(lt={}))[we.OK=0]="OK",we[we.CANCELLED=1]="CANCELLED",we[we.UNKNOWN=2]="UNKNOWN",we[we.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",we[we.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",we[we.NOT_FOUND=5]="NOT_FOUND",we[we.ALREADY_EXISTS=6]="ALREADY_EXISTS",we[we.PERMISSION_DENIED=7]="PERMISSION_DENIED",we[we.UNAUTHENTICATED=16]="UNAUTHENTICATED",we[we.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",we[we.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",we[we.ABORTED=10]="ABORTED",we[we.OUT_OF_RANGE=11]="OUT_OF_RANGE",we[we.UNIMPLEMENTED=12]="UNIMPLEMENTED",we[we.INTERNAL=13]="INTERNAL",we[we.UNAVAILABLE=14]="UNAVAILABLE",we[we.DATA_LOSS=15]="DATA_LOSS";var nx=null;var R5=new ri([4294967295,4294967295],0);function rx(n){let e=Ax().encode(n),t=new zw;return t.update(e),new Uint8Array(t.digest())}function ix(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ri([t,r],0),new ri([i,o],0)]}var MT=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new bs(`Invalid padding: ${t}`);if(r<0)throw new bs(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new bs(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new bs(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=ri.fromNumber(this.fe)}pe(e,t,r){let i=e.add(t.multiply(ri.fromNumber(r)));return i.compare(R5)===1&&(i=new ri([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let t=rx(e),[r,i]=ix(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);if(!this.ye(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.fe===0)return;let t=rx(e),[r,i]=ix(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);this.we(s)}}we(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},bs=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var $g=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,id.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(le.min(),i,new Ze(pe),di(),Ee())}},id=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,Ee(),Ee(),Ee())}};var dc=class{constructor(e,t,r,i){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=i}},Hg=class{constructor(e,t){this.targetId=e,this.De=t}},qg=class{constructor(e,t,r=Ht.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},zg=class{constructor(){this.ve=0,this.Ce=ox(),this.Fe=Ht.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Ee(),t=Ee(),r=Ee();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ee(38017,{changeType:o})}}),new id(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=ox()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Ne(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},PT=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=di(),this.je=Rg(),this.Je=Rg(),this.He=new Ze(pe)}Ye(e){for(let t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(let t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{let r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:ee(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((r,i)=>{this.nt(i)&&t(i)})}it(e){let t=e.targetId,r=e.De.count,i=this.st(t);if(i){let o=i.target;if(wT(o))if(r===0){let s=new X(o.path);this.Xe(t,s,Yn.newNoDocument(s,le.min()))}else Ne(r===1,20013,{expectedCount:r});else{let s=this.ot(t);if(s!==r){let a=this._t(e),c=a?this.ut(a,e,s):1;if(c!==0){this.rt(t);let l=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,l)}nx?.ct((function(d,f,g,m,E){var A,D,M,L,H,W;let Te={localCacheCount:d,existenceFilterCount:f.count,databaseId:g.database,projectId:g.projectId},te=f.unchangedNames;return te&&(Te.bloomFilter={applied:E===0,hashCount:(A=te?.hashCount)!==null&&A!==void 0?A:0,bitmapLength:(L=(M=(D=te?.bits)===null||D===void 0?void 0:D.bitmap)===null||M===void 0?void 0:M.length)!==null&&L!==void 0?L:0,padding:(W=(H=te?.bits)===null||H===void 0?void 0:H.padding)!==null&&W!==void 0?W:0,mightContain:T=>{var _;return(_=m?.mightContain(T))!==null&&_!==void 0&&_}}),Te})(s,e.De,this.We.lt(),a,c))}}}}_t(e){let t=e.De.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=ui(r).toUint8Array()}catch(c){if(c instanceof Vg)return fo("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new MT(s,i,o)}catch(c){return fo(c instanceof bs?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.fe===0?null:a}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){let r=this.We.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.We.lt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Xe(t,o,null),i++)}),i}Pt(e){let t=new Map;this.Ge.forEach((o,s)=>{let a=this.st(s);if(a){if(o.current&&wT(a.target)){let c=new X(a.target.path);this.Tt(c).has(s)||this.It(s,c)||this.Xe(s,c,Yn.newNoDocument(c,e))}o.Ne&&(t.set(s,o.Le()),o.ke())}});let r=Ee();this.Je.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{let l=this.st(c);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ze.forEach((o,s)=>s.setReadTime(e));let i=new $g(e,t,this.He,this.ze,r);return this.ze=di(),this.je=Rg(),this.Je=Rg(),this.He=new Ze(pe),i}Ze(e,t){if(!this.nt(e))return;let r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;let i=this.tt(e);this.It(e,t)?i.qe(t,1):i.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){let t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new zg,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new Dt(pe),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new Dt(pe),this.je=this.je.insert(e,t)),t}nt(e){let t=this.st(e)!==null;return t||G("WatchChangeAggregator","Detected inactive target",e),t}st(e){let t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new zg),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}};function Rg(){return new Ze(X.comparator)}function ox(){return new Ze(X.comparator)}var N5={asc:"ASCENDING",desc:"DESCENDING"},M5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},P5={and:"AND",or:"OR"},kT=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function OT(n,e){return n.useProto3Json||gm(e)?e:{value:e}}function Gg(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _1(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function k5(n,e){return Gg(n,e.toTimestamp())}function Dr(n){return Ne(!!n,49232),le.fromTimestamp((function(t){let r=ci(t);return new pt(r.seconds,r.nanos)})(n))}function Jb(n,e){return xT(n,e).canonicalString()}function xT(n,e){let t=(function(i){return new $e(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function E1(n){let e=$e.fromString(n);return Ne(D1(e),10190,{key:e.toString()}),e}function FT(n,e){return Jb(n.databaseId,e.path)}function Jw(n,e){let t=E1(e);if(t.get(1)!==n.databaseId.projectId)throw new $(k.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new $(k.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new X(w1(t))}function I1(n,e){return Jb(n.databaseId,e)}function O5(n){let e=E1(n);return e.length===4?$e.emptyPath():w1(e)}function LT(n){return new $e(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function w1(n){return Ne(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function sx(n,e,t){return{name:FT(n,e),fields:t.value.mapValue.fields}}function x5(n,e){let t;if("targetChange"in e){e.targetChange;let r=(function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:ee(39313,{state:l})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(l,d){return l.useProto3Json?(Ne(d===void 0||typeof d=="string",58123),Ht.fromBase64String(d||"")):(Ne(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Ht.fromUint8Array(d||new Uint8Array))})(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&(function(l){let d=l.code===void 0?k.UNKNOWN:v1(l.code);return new $(d,l.message||"")})(s);t=new qg(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Jw(n,r.document.name),o=Dr(r.document.updateTime),s=r.document.createTime?Dr(r.document.createTime):le.min(),a=new In({mapValue:{fields:r.document.fields}}),c=Yn.newFoundDocument(i,o,s,a),l=r.targetIds||[],d=r.removedTargetIds||[];t=new dc(l,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Jw(n,r.document),o=r.readTime?Dr(r.readTime):le.min(),s=Yn.newNoDocument(i,o),a=r.removedTargetIds||[];t=new dc([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Jw(n,r.document),o=r.removedTargetIds||[];t=new dc([],o,i,null)}else{if(!("filter"in e))return ee(11601,{At:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new NT(i,o),a=r.targetId;t=new Hg(a,s)}}return t}function F5(n,e){let t;if(e instanceof Ps)t={update:sx(n,e.key,e.value)};else if(e instanceof rd)t={delete:FT(n,e.key)};else if(e instanceof Cr)t={update:sx(n,e.key,e.data),updateMask:z5(e.fieldMask)};else{if(!(e instanceof ST))return ee(16599,{Rt:e.type});t={verify:FT(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>(function(o,s){let a=s.transform;if(a instanceof Ec)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ns)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ms)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ic)return{fieldPath:s.field.canonicalString(),increment:a.Ee};throw ee(20930,{transform:s.transform})})(0,r))),e.precondition.isNone||(t.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:k5(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ee(27497)})(n,e.precondition)),t}function L5(n,e){return n&&n.length>0?(Ne(e!==void 0,14353),n.map(t=>(function(i,o){let s=i.updateTime?Dr(i.updateTime):Dr(o);return s.isEqual(le.min())&&(s=Dr(o)),new DT(s,i.transformResults||[])})(t,e))):[]}function V5(n,e){return{documents:[I1(n,e.path)]}}function j5(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=I1(n,i);let o=(function(l){if(l.length!==0)return b1(Jn.create(l,"and"))})(e.filters);o&&(t.structuredQuery.where=o);let s=(function(l){if(l.length!==0)return l.map(d=>(function(g){return{field:cc(g.field),direction:$5(g.dir)}})(d))})(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=OT(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=(function(l){return{before:l.inclusive,values:l.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(l){return{before:!l.inclusive,values:l.position}})(e.endAt)),{Vt:t,parent:i}}function U5(n){let e=O5(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Ne(r===1,65062);let d=t.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];t.where&&(o=(function(f){let g=T1(f);return g instanceof Jn&&t1(g)?g.getFilters():[g]})(t.where));let s=[];t.orderBy&&(s=(function(f){return f.map(g=>(function(E){return new Rs(uc(E.field),(function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(E.direction))})(g))})(t.orderBy));let a=null;t.limit&&(a=(function(f){let g;return g=typeof f=="object"?f.value:f,gm(g)?null:g})(t.limit));let c=null;t.startAt&&(c=(function(f){let g=!!f.before,m=f.values||[];return new vc(m,g)})(t.startAt));let l=null;return t.endAt&&(l=(function(f){let g=!f.before,m=f.values||[];return new vc(m,g)})(t.endAt)),f5(e,i,s,o,a,"F",c,l)}function B5(n,e){let t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ee(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function T1(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=uc(t.unaryFilter.field);return ht.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=uc(t.unaryFilter.field);return ht.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=uc(t.unaryFilter.field);return ht.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=uc(t.unaryFilter.field);return ht.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ee(61313);default:return ee(60726)}})(n):n.fieldFilter!==void 0?(function(t){return ht.create(uc(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ee(58110);default:return ee(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Jn.create(t.compositeFilter.filters.map(r=>T1(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ee(1026)}})(t.compositeFilter.op))})(n):ee(30097,{filter:n})}function $5(n){return N5[n]}function H5(n){return M5[n]}function q5(n){return P5[n]}function cc(n){return{fieldPath:n.canonicalString()}}function uc(n){return wn.fromServerFormat(n.fieldPath)}function b1(n){return n instanceof ht?(function(t){if(t.op==="=="){if(WO(t.value))return{unaryFilter:{field:cc(t.field),op:"IS_NAN"}};if(GO(t.value))return{unaryFilter:{field:cc(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(WO(t.value))return{unaryFilter:{field:cc(t.field),op:"IS_NOT_NAN"}};if(GO(t.value))return{unaryFilter:{field:cc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cc(t.field),op:H5(t.op),value:t.value}}})(n):n instanceof Jn?(function(t){let r=t.getFilters().map(i=>b1(i));return r.length===1?r[0]:{compositeFilter:{op:q5(t.op),filters:r}}})(n):ee(54877,{filter:n})}function z5(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function D1(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var od=class n{constructor(e,t,r,i,o=le.min(),s=le.min(),a=Ht.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var VT=class{constructor(e){this.gt=e}};function G5(n){let e=U5({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?bT(e,e.limit,"L"):e}var Wg=class{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(Be(e.integerValue));else if("doubleValue"in e){let r=Be(e.doubleValue);isNaN(r)?this.Ct(t,13):(this.Ct(t,15),ed(r)?t.Ft(0):t.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(t,20),typeof r=="string"&&(r=ci(r)),t.Mt(`${r.seconds||""}`),t.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(ui(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(t,45),t.Ft(r.latitude||0),t.Ft(r.longitude||0)}else"mapValue"in e?Zx(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):Jx(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):ee(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){let r=e.fields||{};this.Ct(t,55);for(let i of Object.keys(r))this.xt(i,t),this.Dt(r[i],t)}Lt(e,t){var r,i;let o=e.fields||{};this.Ct(t,53);let s=gc,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(t,15),t.Ft(Be(a)),this.xt(s,t),this.Dt(o[s],t)}qt(e,t){let r=e.values||[];this.Ct(t,50);for(let i of r)this.Dt(i,t)}Bt(e,t){this.Ct(t,37),X.fromName(e).path.forEach(r=>{this.Ct(t,60),this.$t(r,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}};Wg.Ut=new Wg;var jT=class{constructor(){this.Dn=new UT}addToCollectionParentIndex(e,t){return this.Dn.add(t),x.resolve()}getCollectionParents(e,t){return x.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return x.resolve()}deleteFieldIndex(e,t){return x.resolve()}deleteAllFieldIndexes(e){return x.resolve()}createTargetIndexes(e,t){return x.resolve()}getDocumentsMatchingTarget(e,t){return x.resolve(null)}getIndexType(e,t){return x.resolve(0)}getFieldIndexes(e,t){return x.resolve([])}getNextCollectionGroupToUpdate(e){return x.resolve(null)}getMinOffset(e,t){return x.resolve(As.min())}getMinOffsetFromCollectionGroup(e,t){return x.resolve(As.min())}updateCollectionGroup(e,t,r){return x.resolve()}updateIndexEntries(e,t){return x.resolve()}},UT=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Dt($e.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Dt($e.comparator)).toArray()}};var Kge=new Uint8Array(0);var ax={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},S1=41943040,On=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};On.DEFAULT_COLLECTION_PERCENTILE=10,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,On.DEFAULT=new On(S1,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),On.DISABLED=new On(-1,0,0);var sd=class n{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new n(0)}static ur(){return new n(-1)}};var cx="LruGarbageCollector",W5=1048576;function ux([n,e],[t,r]){let i=pe(n,t);return i===0?pe(e,r):i}var BT=class{constructor(e){this.Tr=e,this.buffer=new Dt(ux),this.Ir=0}dr(){return++this.Ir}Er(e){let t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();ux(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},$T=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){G(cx,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>v(this,null,function*(){this.Ar=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ac(t)?G(cx,"Ignoring IndexedDB error during garbage collection: ",t):yield Cc(t)}yield this.Rr(3e5)}))}},HT=class{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return x.resolve(Bb.ue);let r=new BT(t);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(G("LruGarbageCollector","Garbage collection skipped; disabled"),x.resolve(ax)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(G("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ax):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,i,o,s,a,c,l,d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(G("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,t))).next(f=>(o=f,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(l=Date.now(),sc()<=ve.DEBUG&&G("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-d}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(c-a)+`ms
	Removed ${f} documents in `+(l-c)+`ms
Total Duration: ${l-d}ms`),x.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:f})))}};function K5(n,e){return new HT(n,e)}var qT=class{constructor(){this.changes=new li(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Yn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?x.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var zT=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var GT=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Jl(r.mutation,i,xn.empty(),pt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ee()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ee()){let i=Ts();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=Wl();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=Ts();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ee()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=di(),s=Yl(),a=(function(){return Yl()})();return t.forEach((c,l)=>{let d=r.get(l.key);i.has(l.key)&&(d===void 0||d.mutation instanceof Cr)?o=o.insert(l.key,l):d!==void 0?(s.set(l.key,d.mutation.getFieldMask()),Jl(d.mutation,l,d.mutation.getFieldMask(),pt.now())):s.set(l.key,xn.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((l,d)=>s.set(l,d)),t.forEach((l,d)=>{var f;return a.set(l,new zT(d,(f=s.get(l))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,t){let r=Yl(),i=new Ze((s,a)=>s-a),o=Ee();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(c=>{let l=t.get(c);if(l===null)return;let d=r.get(c)||xn.empty();d=a.applyToLocalView(l,d),r.set(c,d);let f=(i.get(a.batchId)||Ee()).add(c);i=i.insert(a.batchId,f)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),l=c.key,d=c.value,f=l1();d.forEach(g=>{if(!o.has(g)){let m=m1(t.get(g),r.get(g));m!==null&&f.set(g,m),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,f))}return x.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return(function(s){return X.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):o1(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):x.resolve(Ts()),a=Xl,c=o;return s.next(l=>x.forEach(l,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(d)?x.resolve():this.remoteDocumentCache.getEntry(e,d).next(g=>{c=c.insert(d,g)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,c,l,Ee())).next(d=>({batchId:a,changes:u1(d)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new X(t)).next(r=>{let i=Wl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=Wl();return this.indexManager.getCollectionParents(e,o).next(a=>x.forEach(a,c=>{let l=(function(f,g){return new go(g,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)})(t,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(d=>{d.forEach((f,g)=>{s=s.insert(f,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((c,l)=>{let d=l.getKey();s.get(d)===null&&(s=s.insert(d,Yn.newInvalidDocument(d)))});let a=Wl();return s.forEach((c,l)=>{let d=o.get(c);d!==void 0&&Jl(d.mutation,l,xn.empty(),pt.now()),vm(t,l)&&(a=a.insert(c,l))}),a})}};var WT=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return x.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:Dr(i.createTime)}})(t)),x.resolve()}getNamedQuery(e,t){return x.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,(function(i){return{name:i.name,query:G5(i.bundledQuery),readTime:Dr(i.readTime)}})(t)),x.resolve()}};var KT=class{constructor(){this.overlays=new Ze(X.comparator),this.kr=new Map}getOverlay(e,t){return x.resolve(this.overlays.get(t))}getOverlays(e,t){let r=Ts();return x.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.wt(e,t,o)}),x.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),x.resolve()}getOverlaysForCollection(e,t,r){let i=Ts(),o=t.length+1,s=new X(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let c=a.getNext().value,l=c.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return x.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Ze((l,d)=>l-d),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let d=o.get(l.largestBatchId);d===null&&(d=Ts(),o=o.insert(l.largestBatchId,d)),d.set(l.getKey(),l)}}let a=Ts(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,d)=>a.set(l,d)),!(a.size()>=i)););return x.resolve(a)}wt(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new RT(t,r));let o=this.kr.get(t);o===void 0&&(o=Ee(),this.kr.set(t,o)),this.kr.set(t,o.add(r.key))}};var QT=class{constructor(){this.sessionToken=Ht.EMPTY_BYTE_STRING}getSessionToken(e){return x.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,x.resolve()}};var ad=class{constructor(){this.qr=new Dt(dt.Qr),this.$r=new Dt(dt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){let r=new dt(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Wr(new dt(e,t))}Gr(e,t){e.forEach(r=>this.removeReference(r,t))}zr(e){let t=new X(new $e([])),r=new dt(t,e),i=new dt(t,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let t=new X(new $e([])),r=new dt(t,e),i=new dt(t,e+1),o=Ee();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new dt(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},dt=class{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return X.comparator(e.key,t.key)||pe(e.Hr,t.Hr)}static Ur(e,t){return pe(e.Hr,t.Hr)||X.comparator(e.key,t.key)}};var YT=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new Dt(dt.Qr)}checkEmpty(e){return x.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new CT(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.Yr=this.Yr.add(new dt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return x.resolve(s)}lookupMutationBatch(e,t){return x.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Xr(r),o=i<0?0:i;return x.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return x.resolve(this.mutationQueue.length===0?$b:this.er-1)}getAllMutationBatches(e){return x.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new dt(t,0),i=new dt(t,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{let a=this.Zr(s.Hr);o.push(a)}),x.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Dt(pe);return t.forEach(i=>{let o=new dt(i,0),s=new dt(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],a=>{r=r.add(a.Hr)})}),x.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;X.isDocumentKey(o)||(o=o.child(""));let s=new dt(new X(o),0),a=new Dt(pe);return this.Yr.forEachWhile(c=>{let l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(c.Hr)),!0)},s),x.resolve(this.ei(a))}ei(e){let t=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Ne(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return x.forEach(t.mutations,i=>{let o=new dt(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,t){let r=new dt(t,0),i=this.Yr.firstAfterOrEqual(r);return x.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,x.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var JT=class{constructor(e){this.ni=e,this.docs=(function(){return new Ze(X.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return x.resolve(r?r.document.mutableCopy():Yn.newInvalidDocument(t))}getEntries(e,t){let r=di();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Yn.newInvalidDocument(i))}),x.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=di(),s=t.path,a=new X(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:l,value:{document:d}}=c.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||K8(W8(d),r)<=0||(i.has(d.key)||vm(t,d))&&(o=o.insert(d.key,d.mutableCopy()))}return x.resolve(o)}getAllFromCollectionGroup(e,t,r,i){ee(9500)}ri(e,t){return x.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new ZT(this)}getSize(e){return x.resolve(this.size)}},ZT=class extends qT{constructor(e){super(),this.Or=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),x.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}};var XT=class{constructor(e){this.persistence=e,this.ii=new li(t=>Wb(t),Kb),this.lastRemoteSnapshotVersion=le.min(),this.highestTargetId=0,this.si=0,this.oi=new ad,this.targetCount=0,this._i=sd.ar()}forEachTarget(e,t){return this.ii.forEach((r,i)=>t(i)),x.resolve()}getLastRemoteSnapshotVersion(e){return x.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return x.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),x.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),x.resolve()}hr(e){this.ii.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this._i=new sd(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,x.resolve()}updateTargetData(e,t){return this.hr(t),x.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,x.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.ii.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),x.waitFor(o).next(()=>i)}getTargetCount(e){return x.resolve(this.targetCount)}getTargetData(e,t){let r=this.ii.get(t)||null;return x.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),x.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),x.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),x.resolve()}getMatchingKeysForTargetId(e,t){let r=this.oi.Jr(t);return x.resolve(r)}containsKey(e,t){return x.resolve(this.oi.containsKey(t))}};var Kg=class{constructor(e,t){this.ai={},this.overlays={},this.ui=new Bb(0),this.ci=!1,this.ci=!0,this.li=new QT,this.referenceDelegate=e(this),this.hi=new XT(this),this.indexManager=new jT,this.remoteDocumentCache=(function(i){return new JT(i)})(r=>this.referenceDelegate.Pi(r)),this.serializer=new VT(t),this.Ti=new WT(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new KT,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new YT(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){G("MemoryPersistence","Starting transaction:",e);let i=new eb(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,t){return x.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,t)))}},eb=class extends uT{constructor(e){super(),this.currentSequenceNumber=e}},tb=class n{constructor(e){this.persistence=e,this.Ai=new ad,this.Ri=null}static Vi(e){return new n(e)}get mi(){if(this.Ri)return this.Ri;throw ee(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),x.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),x.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),x.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return x.forEach(this.mi,r=>{let i=X.fromPath(r);return this.fi(e,i).next(o=>{o||t.removeEntry(i,le.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return x.or([()=>x.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}},Qg=class n{constructor(e,t){this.persistence=e,this.gi=new li(r=>Z8(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=K5(this,t)}static Vi(e,t){return new n(e,t)}Ii(){}di(e){return x.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){let t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}yr(e){let t=0;return this.gr(e,r=>{t++}).next(()=>t)}gr(e,t){return x.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?x.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,t).next(a=>{a||(r++,o.removeEntry(s,le.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),x.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),x.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),x.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),x.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Mg(e.data.value)),t}Sr(e,t,r){return x.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.gi.get(t);return x.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var nb=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=i}static Es(e,t){let r=Ee(),i=Ee();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var rb=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var ib=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return $M()?8:Y8(Tt())>0?6:4})()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.ps(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new rb;return this.ws(e,t,s).next(a=>{if(o.result=a,this.Rs)return this.Ss(e,t,s,a.size)})}).next(()=>o.result)}Ss(e,t,r,i){return r.documentReadCount<this.Vs?(sc()<=ve.DEBUG&&G("QueryEngine","SDK will not create cache indexes for query:",ac(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),x.resolve()):(sc()<=ve.DEBUG&&G("QueryEngine","Query:",ac(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(sc()<=ve.DEBUG&&G("QueryEngine","The SDK decides to create cache indexes for query:",ac(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,br(t))):x.resolve())}ps(e,t){if(JO(t))return x.resolve(null);let r=br(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=bT(t,null,"F"),r=br(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=Ee(...o);return this.gs.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let l=this.bs(t,a);return this.Ds(t,l,s,c.readTime)?this.ps(e,bT(t,null,"F")):this.vs(e,l,t,c)}))})))}ys(e,t,r,i){return JO(t)||i.isEqual(le.min())?x.resolve(null):this.gs.getDocuments(e,r).next(o=>{let s=this.bs(t,o);return this.Ds(t,s,r,i)?x.resolve(null):(sc()<=ve.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ac(t)),this.vs(e,s,t,G8(i,Xl)).next(a=>a))})}bs(e,t){let r=new Dt(a1(e));return t.forEach((i,o)=>{vm(e,o)&&(r=r.add(o))}),r}Ds(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,t,r){return sc()<=ve.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",ac(t)),this.gs.getDocumentsMatchingQuery(e,t,As.min(),r)}vs(e,t,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var Zb="LocalStore",Q5=3e8,ob=class{constructor(e,t,r,i){this.persistence=e,this.Cs=t,this.serializer=i,this.Fs=new Ze(pe),this.Ms=new li(o=>Wb(o),Kb),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new GT(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}};function Y5(n,e,t,r){return new ob(n,e,t,r)}function C1(n,e){return v(this,null,function*(){let t=ae(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ns(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],c=Ee();for(let l of i){s.push(l.batchId);for(let d of l.mutations)c=c.add(d.key)}for(let l of o){a.push(l.batchId);for(let d of l.mutations)c=c.add(d.key)}return t.localDocuments.getDocuments(r,c).next(l=>({Bs:l,removedBatchIds:s,addedBatchIds:a}))})})})}function J5(n,e){let t=ae(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.Os.newChangeBuffer({trackRemovals:!0});return(function(a,c,l,d){let f=l.batch,g=f.keys(),m=x.resolve();return g.forEach(E=>{m=m.next(()=>d.getEntry(c,E)).next(A=>{let D=l.docVersions.get(E);Ne(D!==null,48541),A.version.compareTo(D)<0&&(f.applyToRemoteDocument(A,l),A.isValidDocument()&&(A.setReadTime(l.commitVersion),d.addEntry(A)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(c,f))})(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(a){let c=Ee();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c})(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function A1(n){let e=ae(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function Z5(n,e){let t=ae(n),r=e.snapshotVersion,i=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Os.newChangeBuffer({trackRemovals:!0});i=t.Fs;let a=[];e.targetChanges.forEach((d,f)=>{let g=i.get(f);if(!g)return;a.push(t.hi.removeMatchingKeys(o,d.removedDocuments,f).next(()=>t.hi.addMatchingKeys(o,d.addedDocuments,f)));let m=g.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(Ht.EMPTY_BYTE_STRING,le.min()).withLastLimboFreeSnapshotVersion(le.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),i=i.insert(f,m),(function(A,D,M){return A.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=Q5?!0:M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0})(g,m,d)&&a.push(t.hi.updateTargetData(o,m))});let c=di(),l=Ee();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(X5(o,s,e.documentUpdates).next(d=>{c=d.Ls,l=d.ks})),!r.isEqual(le.min())){let d=t.hi.getLastRemoteSnapshotVersion(o).next(f=>t.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(d)}return x.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,c,l)).next(()=>c)}).then(o=>(t.Fs=i,o))}function X5(n,e,t){let r=Ee(),i=Ee();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=di();return t.forEach((a,c)=>{let l=o.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(le.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||c.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):G(Zb,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{Ls:s,ks:i}})}function e9(n,e){let t=ae(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=$b),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function t9(n,e){let t=ae(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.hi.getTargetData(r,e).next(o=>o?(i=o,x.resolve(i)):t.hi.allocateTargetId(r).next(s=>(i=new od(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r})}function sb(n,e,t){return v(this,null,function*(){let r=ae(n),i=r.Fs.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Ac(s))throw s;G(Zb,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)})}function lx(n,e,t){let r=ae(n),i=le.min(),o=Ee();return r.persistence.runTransaction("Execute query","readwrite",s=>(function(c,l,d){let f=ae(c),g=f.Ms.get(d);return g!==void 0?x.resolve(f.Fs.get(g)):f.hi.getTargetData(l,d)})(r,s,br(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,t?i:le.min(),t?o:Ee())).next(a=>(n9(r,g5(e),a),{documents:a,qs:o})))}function n9(n,e,t){let r=n.xs.get(e)||le.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.xs.set(e,r)}var Yg=class{constructor(){this.activeTargetIds=I5()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var ab=class{constructor(){this.Fo=new Yg,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new Yg,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var cb=class{xo(e){}shutdown(){}};var dx="ConnectivityMonitor",Jg=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){G(dx,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){G(dx,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Ng=null;function ub(){return Ng===null?Ng=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ng++,"0x"+Ng.toString(16)}var Zw="RestConnection",r9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},lb=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===jg?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,t,r,i,o){let s=ub(),a=this.Go(e,t.toUriEncodedString());G(Zw,`Sending RPC '${e}' ${s}:`,a,r);let c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(c,i,o);let{host:l}=new URL(a),d=Yi(l);return this.jo(e,a,c,r,d).then(f=>(G(Zw,`Received RPC '${e}' ${s}: `,f),f),f=>{throw fo(Zw,`RPC '${e}' ${s} failed with error: `,f,"url: ",a,"request:",r),f})}Jo(e,t,r,i,o,s){return this.Wo(e,t,r,i,o)}zo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Sc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,t){let r=r9[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}};var db=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var $t="WebChannelConnection",hb=class extends lb{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,i,o){let s=ub();return new Promise((a,c)=>{let l=new Gw;l.setWithCredentials(!0),l.listenOnce(Ww.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Gl.NO_ERROR:let f=l.getResponseJson();G($t,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),a(f);break;case Gl.TIMEOUT:G($t,`RPC '${e}' ${s} timed out`),c(new $(k.DEADLINE_EXCEEDED,"Request time out"));break;case Gl.HTTP_ERROR:let g=l.getStatus();if(G($t,`RPC '${e}' ${s} failed with status:`,g,"response text:",l.getResponseText()),g>0){let m=l.getResponseJson();Array.isArray(m)&&(m=m[0]);let E=m?.error;if(E&&E.status&&E.message){let A=(function(M){let L=M.toLowerCase().replace(/_/g,"-");return Object.values(k).indexOf(L)>=0?L:k.UNKNOWN})(E.status);c(new $(A,E.message))}else c(new $(k.UNKNOWN,"Server responded with status "+l.getStatus()))}else c(new $(k.UNAVAILABLE,"Connection failed."));break;default:ee(9055,{c_:e,streamId:s,l_:l.getLastErrorCode(),h_:l.getLastError()})}}finally{G($t,`RPC '${e}' ${s} completed.`)}});let d=JSON.stringify(i);G($t,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",d,r,15)})}P_(e,t,r){let i=ub(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Yw(),a=Qw(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.useFetchStreams=!0),this.zo(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;let d=o.join("");G($t,`Creating RPC '${e}' stream ${i}: ${d}`,c);let f=s.createWebChannel(d,c);this.T_(f);let g=!1,m=!1,E=new db({Ho:D=>{m?G($t,`Not sending because RPC '${e}' stream ${i} is closed:`,D):(g||(G($t,`Opening RPC '${e}' stream ${i} transport.`),f.open(),g=!0),G($t,`RPC '${e}' stream ${i} sending:`,D),f.send(D))},Yo:()=>f.close()}),A=(D,M,L)=>{D.listen(M,H=>{try{L(H)}catch(W){setTimeout(()=>{throw W},0)}})};return A(f,oc.EventType.OPEN,()=>{m||(G($t,`RPC '${e}' stream ${i} transport opened.`),E.s_())}),A(f,oc.EventType.CLOSE,()=>{m||(m=!0,G($t,`RPC '${e}' stream ${i} transport closed`),E.__(),this.I_(f))}),A(f,oc.EventType.ERROR,D=>{m||(m=!0,fo($t,`RPC '${e}' stream ${i} transport errored. Name:`,D.name,"Message:",D.message),E.__(new $(k.UNAVAILABLE,"The operation could not be completed")))}),A(f,oc.EventType.MESSAGE,D=>{var M;if(!m){let L=D.data[0];Ne(!!L,16349);let H=L,W=H?.error||((M=H[0])===null||M===void 0?void 0:M.error);if(W){G($t,`RPC '${e}' stream ${i} received error:`,W);let Te=W.status,te=(function(I){let b=lt[I];if(b!==void 0)return v1(b)})(Te),T=W.message;te===void 0&&(te=k.INTERNAL,T="Unknown error status: "+Te+" with message "+W.message),m=!0,E.__(new $(te,T)),f.close()}else G($t,`RPC '${e}' stream ${i} received:`,L),E.a_(L)}}),A(a,Kw.STAT_EVENT,D=>{D.stat===Cg.PROXY?G($t,`RPC '${e}' stream ${i} detected buffering proxy`):D.stat===Cg.NOPROXY&&G($t,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{E.o_()},0),E}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}};function Xw(){return typeof document<"u"?document:null}function _m(n){return new kT(n,!0)}var Zg=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,t-r);i>0&&G("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var hx="PersistentStream",Xg=class{constructor(e,t,r,i,o,s,a,c){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new Zg(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}stop(){return v(this,null,function*(){this.M_()&&(yield this.close(0))})}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}L_(){return v(this,null,function*(){if(this.x_())return this.close(0)})}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}close(e,t){return v(this,null,function*(){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===k.RESOURCE_EXHAUSTED?(ai(t.toString()),ai("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===k.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.n_(t)})}U_(){}auth(){this.state=1;let e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===t&&this.W_(r,i)},r=>{e(()=>{let i=new $(k.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,t){let r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(()=>v(this,null,function*(){this.state=0,this.start()}))}G_(e){return G(hx,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(G(hx,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},fb=class extends Xg{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let t=x5(this.serializer,e),r=(function(o){if(!("targetChange"in o))return le.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?le.min():s.readTime?Dr(s.readTime):le.min()})(e);return this.listener.J_(t,r)}H_(e){let t={};t.database=LT(this.serializer),t.addTarget=(function(o,s){let a,c=s.target;if(a=wT(c)?{documents:V5(o,c)}:{query:j5(o,c).Vt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=_1(o,s.resumeToken);let l=OT(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(le.min())>0){a.readTime=Gg(o,s.snapshotVersion.toTimestamp());let l=OT(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a})(this.serializer,e);let r=B5(this.serializer,e);r&&(t.labels=r),this.k_(t)}Y_(e){let t={};t.database=LT(this.serializer),t.removeTarget=e,this.k_(t)}},pb=class extends Xg{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return Ne(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ne(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Ne(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();let t=L5(e.writeResults,e.commitTime),r=Dr(e.commitTime);return this.listener.ta(r,t)}na(){let e={};e.database=LT(this.serializer),this.k_(e)}X_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>F5(this.serializer,r))};this.k_(t)}};var gb=class{},mb=class extends gb{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new $(k.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,xT(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new $(k.UNKNOWN,o.toString())})}Jo(e,t,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Jo(e,xT(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new $(k.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},yb=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(ai(t),this._a=!1):G("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var ks="RemoteStore",vb=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{r.enqueueAndForget(()=>v(this,null,function*(){xs(this)&&(G(ks,"Restarting streams for network reachability change."),yield(function(c){return v(this,null,function*(){let l=ae(c);l.Ia.add(4),yield dd(l),l.Aa.set("Unknown"),l.Ia.delete(4),yield Em(l)})})(this))}))}),this.Aa=new yb(r,i)}};function Em(n){return v(this,null,function*(){if(xs(n))for(let e of n.da)yield e(!0)})}function dd(n){return v(this,null,function*(){for(let e of n.da)yield e(!1)})}function R1(n,e){let t=ae(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),nD(t)?tD(t):Rc(t).x_()&&eD(t,e))}function Xb(n,e){let t=ae(n),r=Rc(t);t.Ta.delete(e),r.x_()&&N1(t,e),t.Ta.size===0&&(r.x_()?r.B_():xs(t)&&t.Aa.set("Unknown"))}function eD(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(le.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Rc(n).H_(e)}function N1(n,e){n.Ra.$e(e),Rc(n).Y_(e)}function tD(n){n.Ra=new PT({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),Rc(n).start(),n.Aa.aa()}function nD(n){return xs(n)&&!Rc(n).M_()&&n.Ta.size>0}function xs(n){return ae(n).Ia.size===0}function M1(n){n.Ra=void 0}function i9(n){return v(this,null,function*(){n.Aa.set("Online")})}function o9(n){return v(this,null,function*(){n.Ta.forEach((e,t)=>{eD(n,e)})})}function s9(n,e){return v(this,null,function*(){M1(n),nD(n)?(n.Aa.la(e),tD(n)):n.Aa.set("Unknown")})}function a9(n,e,t){return v(this,null,function*(){if(n.Aa.set("Online"),e instanceof qg&&e.state===2&&e.cause)try{yield(function(i,o){return v(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.Ta.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Ta.delete(a),i.Ra.removeTarget(a))})})(n,e)}catch(r){G(ks,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield em(n,r)}else if(e instanceof dc?n.Ra.Ye(e):e instanceof Hg?n.Ra.it(e):n.Ra.et(e),!t.isEqual(le.min()))try{let r=yield A1(n.localStore);t.compareTo(r)>=0&&(yield(function(o,s){let a=o.Ra.Pt(s);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){let d=o.Ta.get(l);d&&o.Ta.set(l,d.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,l)=>{let d=o.Ta.get(c);if(!d)return;o.Ta.set(c,d.withResumeToken(Ht.EMPTY_BYTE_STRING,d.snapshotVersion)),N1(o,c);let f=new od(d.target,c,l,d.sequenceNumber);eD(o,f)}),o.remoteSyncer.applyRemoteEvent(a)})(n,t))}catch(r){G(ks,"Failed to raise snapshot:",r),yield em(n,r)}})}function em(n,e,t){return v(this,null,function*(){if(!Ac(e))throw e;n.Ia.add(1),yield dd(n),n.Aa.set("Offline"),t||(t=()=>A1(n.localStore)),n.asyncQueue.enqueueRetryable(()=>v(null,null,function*(){G(ks,"Retrying IndexedDB access"),yield t(),n.Ia.delete(1),yield Em(n)}))})}function P1(n,e){return e().catch(t=>em(n,t,e))}function Im(n){return v(this,null,function*(){let e=ae(n),t=mo(e),r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:$b;for(;c9(e);)try{let i=yield e9(e.localStore,r);if(i===null){e.Pa.length===0&&t.B_();break}r=i.batchId,u9(e,i)}catch(i){yield em(e,i)}k1(e)&&O1(e)})}function c9(n){return xs(n)&&n.Pa.length<10}function u9(n,e){n.Pa.push(e);let t=mo(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function k1(n){return xs(n)&&!mo(n).M_()&&n.Pa.length>0}function O1(n){mo(n).start()}function l9(n){return v(this,null,function*(){mo(n).na()})}function d9(n){return v(this,null,function*(){let e=mo(n);for(let t of n.Pa)e.X_(t.mutations)})}function h9(n,e,t){return v(this,null,function*(){let r=n.Pa.shift(),i=AT.from(r,e,t);yield P1(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Im(n)})}function f9(n,e){return v(this,null,function*(){e&&mo(n).Z_&&(yield(function(r,i){return v(this,null,function*(){if((function(s){return A5(s)&&s!==k.ABORTED})(i.code)){let o=r.Pa.shift();mo(r).N_(),yield P1(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Im(r)}})})(n,e)),k1(n)&&O1(n)})}function fx(n,e){return v(this,null,function*(){let t=ae(n);t.asyncQueue.verifyOperationInProgress(),G(ks,"RemoteStore received new credentials");let r=xs(t);t.Ia.add(3),yield dd(t),r&&t.Aa.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),yield Em(t)})}function p9(n,e){return v(this,null,function*(){let t=ae(n);e?(t.Ia.delete(2),yield Em(t)):e||(t.Ia.add(2),yield dd(t),t.Aa.set("Unknown"))})}function Rc(n){return n.Va||(n.Va=(function(t,r,i){let o=ae(t);return o.ia(),new fb(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Zo:i9.bind(null,n),e_:o9.bind(null,n),n_:s9.bind(null,n),J_:a9.bind(null,n)}),n.da.push(e=>v(null,null,function*(){e?(n.Va.N_(),nD(n)?tD(n):n.Aa.set("Unknown")):(yield n.Va.stop(),M1(n))}))),n.Va}function mo(n){return n.ma||(n.ma=(function(t,r,i){let o=ae(t);return o.ia(),new pb(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:l9.bind(null,n),n_:f9.bind(null,n),ea:d9.bind(null,n),ta:h9.bind(null,n)}),n.da.push(e=>v(null,null,function*(){e?(n.ma.N_(),yield Im(n)):(yield n.ma.stop(),n.Pa.length>0&&(G(ks,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))}))),n.ma}var _b=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new oi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new $(k.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function rD(n,e){if(ai("AsyncQueue",`${e}: ${n}`),Ac(n))return new $(k.UNAVAILABLE,`${e}: ${n}`);throw n}var tm=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||X.comparator(t.key,r.key):(t,r)=>X.comparator(t.key,r.key),this.keyedMap=Wl(),this.sortedSet=new Ze(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var nm=class{constructor(){this.fa=new Ze(X.comparator)}track(e){let t=e.doc.key,r=this.fa.get(t);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(t,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(t):e.type===1&&r.type===2?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):ee(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){let e=[];return this.fa.inorderTraversal((t,r)=>{e.push(r)}),e}},Tc=class n{constructor(e,t,r,i,o,s,a,c,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,tm.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ym(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var Eb=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},Ib=class{constructor(){this.queries=px(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){let i=ae(t),o=i.queries;i.queries=px(),o.forEach((s,a)=>{for(let c of a.wa)c.onError(r)})})(this,new $(k.ABORTED,"Firestore shutting down"))}};function px(){return new li(n=>s1(n),ym)}function g9(n,e){return v(this,null,function*(){let t=ae(n),r=3,i=e.query,o=t.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new Eb,r=e.ba()?0:1);try{switch(r){case 0:o.ya=yield t.onListen(i,!0);break;case 1:o.ya=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=rD(s,`Initialization of query '${ac(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.wa.push(e),e.va(t.onlineState),o.ya&&e.Ca(o.ya)&&iD(t)})}function m9(n,e){return v(this,null,function*(){let t=ae(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.wa.indexOf(e);s>=0&&(o.wa.splice(s,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function y9(n,e){let t=ae(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.wa)a.Ca(i)&&(r=!0);s.ya=i}}r&&iD(t)}function v9(n,e,t){let r=ae(n),i=r.queries.get(e);if(i)for(let o of i.wa)o.onError(t);r.queries.delete(e)}function iD(n){n.Da.forEach(e=>{e.next()})}var wb,gx;(gx=wb||(wb={})).Fa="default",gx.Cache="cache";var Tb=class{constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Tc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;let r=t!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=Tc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==wb.Cache}};var rm=class{constructor(e){this.key=e}},im=class{constructor(e){this.key=e}},bb=class{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Ee(),this.mutatedKeys=Ee(),this.Xa=a1(e),this.eu=new tm(this.Xa)}get tu(){return this.Ha}nu(e,t){let r=t?t.ru:new nm,i=t?t.eu:this.eu,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{let g=i.get(d),m=vm(this.query,f)?f:null,E=!!g&&this.mutatedKeys.has(g.key),A=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations),D=!1;g&&m?g.data.isEqual(m.data)?E!==A&&(r.track({type:3,doc:m}),D=!0):this.iu(g,m)||(r.track({type:2,doc:m}),D=!0,(c&&this.Xa(m,c)>0||l&&this.Xa(m,l)<0)&&(a=!0)):!g&&m?(r.track({type:0,doc:m}),D=!0):g&&!m&&(r.track({type:1,doc:g}),D=!0,(c||l)&&(a=!0)),D&&(m?(s=s.add(m),o=A?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{eu:s,ru:r,Ds:a,mutatedKeys:o}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let s=e.ru.pa();s.sort((d,f)=>(function(m,E){let A=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ee(20277,{At:D})}};return A(m)-A(E)})(d.type,f.type)||this.Xa(d.doc,f.doc)),this.su(r),i=i!=null&&i;let a=t&&!i?this.ou():[],c=this.Za.size===0&&this.current&&!i?1:0,l=c!==this.Ya;return this.Ya=c,s.length!==0||l?{snapshot:new Tc(this.query,e.eu,o,s,e.mutatedKeys,c===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new nm,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=Ee(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});let t=[];return e.forEach(r=>{this.Za.has(r)||t.push(new im(r))}),this.Za.forEach(r=>{e.has(r)||t.push(new rm(r))}),t}uu(e){this.Ha=e.qs,this.Za=Ee();let t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return Tc.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},oD="SyncEngine",Db=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},Sb=class{constructor(e){this.key=e,this.lu=!1}},Cb=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new li(a=>s1(a),ym),this.Tu=new Map,this.Iu=new Set,this.du=new Ze(X.comparator),this.Eu=new Map,this.Au=new ad,this.Ru={},this.Vu=new Map,this.mu=sd.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};function _9(n,e,t=!0){return v(this,null,function*(){let r=U1(n),i,o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=yield x1(r,e,t,!0),i})}function E9(n,e){return v(this,null,function*(){let t=U1(n);yield x1(t,e,!0,!1)})}function x1(n,e,t,r){return v(this,null,function*(){let i=yield t9(n.localStore,br(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield I9(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&R1(n.remoteStore,i),a})}function I9(n,e,t,r,i){return v(this,null,function*(){n.gu=(f,g,m)=>(function(A,D,M,L){return v(this,null,function*(){let H=D.view.nu(M);H.Ds&&(H=yield lx(A.localStore,D.query,!1).then(({documents:T})=>D.view.nu(T,H)));let W=L&&L.targetChanges.get(D.targetId),Te=L&&L.targetMismatches.get(D.targetId)!=null,te=D.view.applyChanges(H,A.isPrimaryClient,W,Te);return yx(A,D.targetId,te._u),te.snapshot})})(n,f,g,m);let o=yield lx(n.localStore,e,!0),s=new bb(e,o.qs),a=s.nu(o.documents),c=id.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=s.applyChanges(a,n.isPrimaryClient,c);yx(n,t,l._u);let d=new Db(e,t,s);return n.Pu.set(e,d),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),l.snapshot})}function w9(n,e,t){return v(this,null,function*(){let r=ae(n),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(s=>!ym(s,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield sb(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&Xb(r.remoteStore,i.targetId),Ab(r,i.targetId)}).catch(Cc))):(Ab(r,i.targetId),yield sb(r.localStore,i.targetId,!0))})}function T9(n,e){return v(this,null,function*(){let t=ae(n),r=t.Pu.get(e),i=t.Tu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Xb(t.remoteStore,r.targetId))})}function b9(n,e,t){return v(this,null,function*(){let r=M9(n);try{let i=yield(function(s,a){let c=ae(s),l=pt.now(),d=a.reduce((m,E)=>m.add(E.key),Ee()),f,g;return c.persistence.runTransaction("Locally write mutations","readwrite",m=>{let E=di(),A=Ee();return c.Os.getEntries(m,d).next(D=>{E=D,E.forEach((M,L)=>{L.isValidDocument()||(A=A.add(M))})}).next(()=>c.localDocuments.getOverlayedDocuments(m,E)).next(D=>{f=D;let M=[];for(let L of a){let H=C5(L,f.get(L.key).overlayedDocument);H!=null&&M.push(new Cr(L.key,H,Xx(H.value.mapValue),si.exists(!0)))}return c.mutationQueue.addMutationBatch(m,l,M,a)}).next(D=>{g=D;let M=D.applyToLocalDocumentSet(f,A);return c.documentOverlayCache.saveOverlays(m,D.batchId,M)})}).then(()=>({batchId:g.batchId,changes:u1(f)}))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(s,a,c){let l=s.Ru[s.currentUser.toKey()];l||(l=new Ze(pe)),l=l.insert(a,c),s.Ru[s.currentUser.toKey()]=l})(r,i.batchId,t),yield hd(r,i.changes),yield Im(r.remoteStore)}catch(i){let o=rD(i,"Failed to persist write");t.reject(o)}})}function F1(n,e){return v(this,null,function*(){let t=ae(n);try{let r=yield Z5(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Eu.get(o);s&&(Ne(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?Ne(s.lu,14607):i.removedDocuments.size>0&&(Ne(s.lu,42227),s.lu=!1))}),yield hd(t,r,e)}catch(r){yield Cc(r)}})}function mx(n,e,t){let r=ae(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Pu.forEach((o,s)=>{let a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),(function(s,a){let c=ae(s);c.onlineState=a;let l=!1;c.queries.forEach((d,f)=>{for(let g of f.wa)g.va(a)&&(l=!0)}),l&&iD(c)})(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function D9(n,e,t){return v(this,null,function*(){let r=ae(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new Ze(X.comparator);s=s.insert(o,Yn.newNoDocument(o,le.min()));let a=Ee().add(o),c=new $g(le.min(),new Map,new Ze(pe),s,a);yield F1(r,c),r.du=r.du.remove(o),r.Eu.delete(e),sD(r)}else yield sb(r.localStore,e,!1).then(()=>Ab(r,e,t)).catch(Cc)})}function S9(n,e){return v(this,null,function*(){let t=ae(n),r=e.batch.batchId;try{let i=yield J5(t.localStore,e);V1(t,r,null),L1(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield hd(t,i)}catch(i){yield Cc(i)}})}function C9(n,e,t){return v(this,null,function*(){let r=ae(n);try{let i=yield(function(s,a){let c=ae(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let d;return c.mutationQueue.lookupMutationBatch(l,a).next(f=>(Ne(f!==null,37113),d=f.keys(),c.mutationQueue.removeMutationBatch(l,f))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,d,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,d)).next(()=>c.localDocuments.getDocuments(l,d))})})(r.localStore,e);V1(r,e,t),L1(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield hd(r,i)}catch(i){yield Cc(i)}})}function L1(n,e){(n.Vu.get(e)||[]).forEach(t=>{t.resolve()}),n.Vu.delete(e)}function V1(n,e,t){let r=ae(n),i=r.Ru[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function Ab(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Tu.get(e))n.Pu.delete(r),t&&n.hu.pu(r,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(r=>{n.Au.containsKey(r)||j1(n,r)})}function j1(n,e){n.Iu.delete(e.path.canonicalString());let t=n.du.get(e);t!==null&&(Xb(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),sD(n))}function yx(n,e,t){for(let r of t)r instanceof rm?(n.Au.addReference(r.key,e),A9(n,r)):r instanceof im?(G(oD,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,e),n.Au.containsKey(r.key)||j1(n,r.key)):ee(19791,{yu:r})}function A9(n,e){let t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Iu.has(r)||(G(oD,"New document in limbo: "+t),n.Iu.add(r),sD(n))}function sD(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){let e=n.Iu.values().next().value;n.Iu.delete(e);let t=new X($e.fromString(e)),r=n.mu.next();n.Eu.set(r,new Sb(t)),n.du=n.du.insert(t,r),R1(n.remoteStore,new od(br(Qb(t.path)),r,"TargetPurposeLimboResolution",Bb.ue))}}function hd(n,e,t){return v(this,null,function*(){let r=ae(n),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((a,c)=>{s.push(r.gu(c,e,t).then(l=>{var d;if((l||t)&&r.isPrimaryClient){let f=l?!l.fromCache:(d=t?.targetChanges.get(c.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(l){i.push(l);let f=nb.Es(c.targetId,l);o.push(f)}}))}),yield Promise.all(s),r.hu.J_(i),yield(function(c,l){return v(this,null,function*(){let d=ae(c);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>x.forEach(l,g=>x.forEach(g.Is,m=>d.persistence.referenceDelegate.addReference(f,g.targetId,m)).next(()=>x.forEach(g.ds,m=>d.persistence.referenceDelegate.removeReference(f,g.targetId,m)))))}catch(f){if(!Ac(f))throw f;G(Zb,"Failed to update sequence numbers: "+f)}for(let f of l){let g=f.targetId;if(!f.fromCache){let m=d.Fs.get(g),E=m.snapshotVersion,A=m.withLastLimboFreeSnapshotVersion(E);d.Fs=d.Fs.insert(g,A)}}})})(r.localStore,o))})}function R9(n,e){return v(this,null,function*(){let t=ae(n);if(!t.currentUser.isEqual(e)){G(oD,"User change. New user:",e.toKey());let r=yield C1(t.localStore,e);t.currentUser=e,(function(o,s){o.Vu.forEach(a=>{a.forEach(c=>{c.reject(new $(k.CANCELLED,s))})}),o.Vu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield hd(t,r.Bs)}})}function N9(n,e){let t=ae(n),r=t.Eu.get(e);if(r&&r.lu)return Ee().add(r.key);{let i=Ee(),o=t.Tu.get(e);if(!o)return i;for(let s of o){let a=t.Pu.get(s);i=i.unionWith(a.view.tu)}return i}}function U1(n){let e=ae(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=F1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=N9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=D9.bind(null,e),e.hu.J_=y9.bind(null,e.eventManager),e.hu.pu=v9.bind(null,e.eventManager),e}function M9(n){let e=ae(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=S9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=C9.bind(null,e),e}var B1=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return v(this,null,function*(){this.serializer=_m(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),yield this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)})}Cu(t,r){return null}Fu(t,r){return null}vu(t){return Y5(this.persistence,new ib,t.initialUser,this.serializer)}Du(t){return new Kg(tb.Vi,this.serializer)}bu(t){return new ab}terminate(){return v(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),Rb=class extends B1{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){Ne(this.persistence.referenceDelegate instanceof Qg,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new $T(r,e.asyncQueue,t)}Du(e){let t=this.cacheSizeBytes!==void 0?On.withCacheSize(this.cacheSizeBytes):On.DEFAULT;return new Kg(r=>Qg.Vi(r,t),this.serializer)}};var P9=(()=>{class n{initialize(t,r){return v(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>mx(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=R9.bind(null,this.syncEngine),yield p9(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return(function(){return new Ib})()}createDatastore(t){let r=_m(t.databaseInfo.databaseId),i=(function(s){return new hb(s)})(t.databaseInfo);return(function(s,a,c,l){return new mb(s,a,c,l)})(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return(function(i,o,s,a,c){return new vb(i,o,s,a,c)})(this.localStore,this.datastore,t.asyncQueue,r=>mx(this.syncEngine,r,0),(function(){return Jg.C()?new Jg:new cb})())}createSyncEngine(t,r){return(function(o,s,a,c,l,d,f){let g=new Cb(o,s,a,c,l,d);return f&&(g.fu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return v(this,null,function*(){var t,r;yield(function(o){return v(this,null,function*(){let s=ae(o);G(ks,"RemoteStore shutting down."),s.Ia.add(5),yield dd(s),s.Ea.shutdown(),s.Aa.set("Unknown")})})(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var Nb=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):ai("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var yo="FirestoreClient",Mb=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=bt.UNAUTHENTICATED,this.clientId=Zl.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>v(this,null,function*(){G(yo,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(G(yo,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new oi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>v(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=rD(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function eT(n,e){return v(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),G(yo,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>v(null,null,function*(){r.isEqual(i)||(yield C1(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>{fo("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{G("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{fo("Terminating Firestore due to IndexedDb database deletion failed",i)})}),n._offlineComponents=e})}function vx(n,e){return v(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield k9(n);G(yo,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>fx(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>fx(e.remoteStore,i)),n._onlineComponents=e})}function k9(n){return v(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){G(yo,"Using user provided OfflineComponentProvider");try{yield eT(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===k.FAILED_PRECONDITION||i.code===k.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;fo("Error using user provided cache. Falling back to memory cache: "+t),yield eT(n,new B1)}}else G(yo,"Using default OfflineComponentProvider"),yield eT(n,new Rb(void 0));return n._offlineComponents})}function $1(n){return v(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(G(yo,"Using user provided OnlineComponentProvider"),yield vx(n,n._uninitializedComponentsProvider._online)):(G(yo,"Using default OnlineComponentProvider"),yield vx(n,new P9))),n._onlineComponents})}function O9(n){return $1(n).then(e=>e.syncEngine)}function _x(n){return v(this,null,function*(){let e=yield $1(n),t=e.eventManager;return t.onListen=_9.bind(null,e.syncEngine),t.onUnlisten=w9.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=E9.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=T9.bind(null,e.syncEngine),t})}function H1(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var Ex=new Map;var q1="firestore.googleapis.com",Ix=!0,om=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new $(k.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=q1,this.ssl=Ix}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:Ix;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=S1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<W5)throw new $(k.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}z8("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=H1((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new $(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new $(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new $(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},bc=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new om({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new $(k.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new $(k.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new om(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new tT;switch(r.type){case"firstParty":return new oT(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new $(k.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return v(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){let r=Ex.get(t);r&&(G("ComponentProvider","Removing Datastore"),Ex.delete(t),r.terminate())})(this),Promise.resolve()}};function z1(n,e,t,r={}){var i;n=ao(n,bc);let o=Yi(e),s=n._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),c=`${e}:${t}`;o&&(Pp(`https://${c}`),kp("Firestore",!0)),s.host!==q1&&s.host!==c&&fo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:c,ssl:o,emulatorOptions:r});if(!yr(l,a)&&(n._setSettings(l),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=bt.MOCK_USER;else{d=FM(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new $(k.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new bt(g)}n._authCredentials=new nT(new Og(d,f))}}var Os=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Pt=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new co(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(ld(t,n._jsonSchema))return new n(e,r||null,new X($e.fromString(t.referencePath)))}};Pt._jsonSchemaVersion="firestore/documentReference/1.0",Pt._jsonSchema={type:ft("string",Pt._jsonSchemaVersion),referencePath:ft("string")};var co=class n extends Os{constructor(e,t,r){super(e,t,Qb(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Pt(this.firestore,null,new X(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function G1(n,e,...t){if(n=Ue(n),Rx("collection","path",e),n instanceof bc){let r=$e.fromString(e,...t);return VO(r),new co(n,null,r)}{if(!(n instanceof Pt||n instanceof co))throw new $(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child($e.fromString(e,...t));return VO(r),new co(n.firestore,null,r)}}function aD(n,e,...t){if(n=Ue(n),arguments.length===1&&(e=Zl.newId()),Rx("doc","path",e),n instanceof bc){let r=$e.fromString(e,...t);return LO(r),new Pt(n,null,new X(r))}{if(!(n instanceof Pt||n instanceof co))throw new $(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child($e.fromString(e,...t));return LO(r),new Pt(n.firestore,n instanceof co?n.converter:null,new X(r))}}var wx="AsyncQueue",sm=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Zg(this,"async_queue_retry"),this.oc=()=>{let r=Xw();r&&G(wx,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let t=Xw();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let t=Xw();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let t=new oi;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}cc(){return v(this,null,function*(){if(this.Zu.length!==0){try{yield this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Ac(e))throw e;G(wx,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}})}uc(e){let t=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,ai("INTERNAL UNHANDLED ERROR: ",Tx(r)),r}).then(r=>(this.nc=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);let i=_b.createAndSchedule(this,e,t,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&ee(47125,{hc:Tx(this.tc)})}verifyOperationInProgress(){}Pc(){return v(this,null,function*(){let e;do e=this._c,yield e;while(e!==this._c)})}Tc(e){for(let t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let t=this.ec.indexOf(e);this.ec.splice(t,1)}};function Tx(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function bx(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1})(n,["next","error","complete"])}var vo=class extends bc{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new sm,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return v(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new sm(e),this._firestoreClient=void 0,yield e}})}};function W1(n,e){let t=typeof n=="object"?n:Qr(),r=typeof n=="string"?n:e||jg,i=_r(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=xM("firestore");o&&z1(i,...o)}return i}function K1(n){if(n._terminated)throw new $(k.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||x9(n),n._firestoreClient}function x9(n){var e,t,r;let i=n._freezeSettings(),o=(function(a,c,l,d){return new lT(a,c,l,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,H1(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new Mb(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&(function(a){let c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}})(n._componentsProvider))}var uo=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(Ht.fromBase64String(e))}catch(t){throw new $(k.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(Ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ld(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};uo._jsonSchemaVersion="firestore/bytes/1.0",uo._jsonSchema={type:ft("string",uo._jsonSchemaVersion),bytes:ft("string")};var Dc=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new $(k.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var cd=class{constructor(e){this._methodName=e}};var lo=class n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new $(k.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new $(k.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return pe(this._lat,e._lat)||pe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if(ld(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};lo._jsonSchemaVersion="firestore/geoPoint/1.0",lo._jsonSchema={type:ft("string",lo._jsonSchemaVersion),latitude:ft("number"),longitude:ft("number")};var ho=class n{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ld(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new n(e.vectorValues);throw new $(k.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};ho._jsonSchemaVersion="firestore/vectorValue/1.0",ho._jsonSchema={type:ft("string",ho._jsonSchemaVersion),vectorValues:ft("object")};var F9=/^__.*__$/,Pb=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Cr(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ps(e,this.data,t,this.fieldTransforms)}},am=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Cr(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function Q1(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ee(40011,{Ec:n})}}var kb=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return um(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(Q1(this.Ec)&&F9.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},Ob=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||_m(e)}Dc(e,t,r,i=!1){return new kb({Ec:e,methodName:t,bc:r,path:wn.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function cD(n){let e=n._freezeSettings(),t=_m(n._databaseId);return new Ob(n._databaseId,!!e.ignoreUndefinedProperties,t)}function L9(n,e,t,r,i,o={}){let s=n.Dc(o.merge||o.mergeFields?2:0,e,t,i);uD("Data must be an object, but it was:",s,r);let a=Y1(r,s),c,l;if(o.merge)c=new xn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let d=[];for(let f of o.mergeFields){let g=xb(e,f,t);if(!s.contains(g))throw new $(k.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);Z1(d,g)||d.push(g)}c=new xn(d),l=s.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,l=s.fieldTransforms;return new Pb(new In(a),c,l)}var cm=class n extends cd{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function V9(n,e,t,r){let i=n.Dc(1,e,t);uD("Data must be an object, but it was:",i,r);let o=[],s=In.empty();_o(r,(c,l)=>{let d=lD(e,c,t);l=Ue(l);let f=i.gc(d);if(l instanceof cm)o.push(d);else{let g=fd(l,f);g!=null&&(o.push(d),s.set(d,g))}});let a=new xn(o);return new am(s,a,i.fieldTransforms)}function j9(n,e,t,r,i,o){let s=n.Dc(1,e,t),a=[xb(e,r,t)],c=[i];if(o.length%2!=0)throw new $(k.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<o.length;g+=2)a.push(xb(e,o[g])),c.push(o[g+1]);let l=[],d=In.empty();for(let g=a.length-1;g>=0;--g)if(!Z1(l,a[g])){let m=a[g],E=c[g];E=Ue(E);let A=s.gc(m);if(E instanceof cm)l.push(m);else{let D=fd(E,A);D!=null&&(l.push(m),d.set(m,D))}}let f=new xn(l);return new am(d,f,s.fieldTransforms)}function U9(n,e,t,r=!1){return fd(t,n.Dc(r?4:3,e))}function fd(n,e){if(J1(n=Ue(n)))return uD("Unsupported field value:",e,n),Y1(n,e);if(n instanceof cd)return(function(r,i){if(!Q1(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(r,i){let o=[],s=0;for(let a of r){let c=fd(a,i.yc(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}})(n,e)}return(function(r,i){if((r=Ue(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return w5(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=pt.fromDate(r);return{timestampValue:Gg(i.serializer,o)}}if(r instanceof pt){let o=new pt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Gg(i.serializer,o)}}if(r instanceof lo)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof uo)return{bytesValue:_1(i.serializer,r._byteString)};if(r instanceof Pt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Jb(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ho)return(function(s,a){return{mapValue:{fields:{[qb]:{stringValue:zb},[gc]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.wc("VectorValues must only contain numeric values.");return Yb(a.serializer,l)})}}}}}})(r,i);throw i.wc(`Unsupported field value: ${pm(r)}`)})(n,e)}function Y1(n,e){let t={};return zx(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_o(n,(r,i)=>{let o=fd(i,e.Vc(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function J1(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof pt||n instanceof lo||n instanceof uo||n instanceof Pt||n instanceof cd||n instanceof ho)}function uD(n,e,t){if(!J1(t)||!Nx(t)){let r=pm(t);throw r==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+r)}}function xb(n,e,t){if((e=Ue(e))instanceof Dc)return e._internalPath;if(typeof e=="string")return lD(n,e);throw um("Field path arguments must be of type string or ",n,!1,void 0,t)}var B9=new RegExp("[~\\*/\\[\\]]");function lD(n,e,t){if(e.search(B9)>=0)throw um(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Dc(...e.split("."))._internalPath}catch{throw um(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function um(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new $(k.INVALID_ARGUMENT,a+n+c)}function Z1(n,e){return n.some(t=>t.isEqual(e))}var lm=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Fb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(wm("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},Fb=class extends lm{data(){return super.data()}};function wm(n,e){return typeof e=="string"?lD(n,e):e instanceof Dc?e._internalPath:e._delegate._internalPath}function $9(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new $(k.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var ud=class{},dm=class extends ud{};function X1(n,e,...t){let r=[];e instanceof ud&&r.push(e),r=r.concat(t),(function(o){let s=o.filter(c=>c instanceof Lb).length,a=o.filter(c=>c instanceof hm).length;if(s>1||s>0&&a>0)throw new $(k.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(let i of r)n=i._apply(n);return n}var hm=class n extends dm{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return nF(e._query,t),new Os(e.firestore,e.converter,TT(e._query,t))}_parse(e){let t=cD(e.firestore);return(function(o,s,a,c,l,d,f){let g;if(l.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new $(k.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){Sx(f,d);let E=[];for(let A of f)E.push(Dx(c,o,A));g={arrayValue:{values:E}}}else g=Dx(c,o,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||Sx(f,d),g=U9(a,s,f,d==="in"||d==="not-in");return ht.create(l,d,g)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function eF(n,e,t){let r=e,i=wm("where",n);return hm._create(i,r,t)}var Lb=class n extends ud{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Jn.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:((function(i,o){let s=i,a=o.getFlattenedFilters();for(let c of a)nF(s,c),s=TT(s,c)})(e._query,t),new Os(e.firestore,e.converter,TT(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var Vb=class n extends dm{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new n(e,t)}_apply(e){let t=(function(i,o,s){if(i.startAt!==null)throw new $(k.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new $(k.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Rs(o,s)})(e._query,this._field,this._direction);return new Os(e.firestore,e.converter,(function(i,o){let s=i.explicitOrderBy.concat([o]);return new go(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,t))}};function tF(n,e="asc"){let t=e,r=wm("orderBy",n);return Vb._create(r,t)}function Dx(n,e,t){if(typeof(t=Ue(t))=="string"){if(t==="")throw new $(k.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!o1(e)&&t.indexOf("/")!==-1)throw new $(k.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child($e.fromString(t));if(!X.isDocumentKey(r))throw new $(k.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return zO(n,new X(r))}if(t instanceof Pt)return zO(n,t._key);throw new $(k.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${pm(t)}.`)}function Sx(n,e){if(!Array.isArray(n)||n.length===0)throw new $(k.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function nF(n,e){let t=(function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null})(n.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new $(k.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new $(k.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var jb=class{convertValue(e,t="none"){switch(po(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Be(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ui(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ee(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return _o(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[gc].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Be(s.doubleValue));return new ho(o)}convertGeoPoint(e){return new lo(Be(e.latitude),Be(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=mm(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(td(e));default:return null}}convertTimestamp(e){let t=ci(e);return new pt(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=$e.fromString(e);Ne(D1(r),9688,{name:e});let i=new Ug(r.get(1),r.get(3)),o=new X(r.popFirst(5));return i.isEqual(t)||ai(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function H9(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var Ds=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Ss=class n extends lm{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new hc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(wm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new $(k.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=n._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};Ss._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ss._jsonSchema={type:ft("string",Ss._jsonSchemaVersion),bundleSource:ft("string","DocumentSnapshot"),bundleName:ft("string"),bundle:ft("string")};var hc=class extends Ss{data(e={}){return super.data(e)}},fc=class n{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Ds(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new hc(this._firestore,this._userDataWriter,r.key,r,new Ds(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new $(k.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let c=new hc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ds(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let c=new hc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ds(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,d=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),d=s.indexOf(a.doc.key)),{type:q9(a.type),doc:c,oldIndex:l,newIndex:d}})}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new $(k.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Zl.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function q9(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ee(61501,{type:n})}}fc._jsonSchemaVersion="firestore/querySnapshot/1.0",fc._jsonSchema={type:ft("string",fc._jsonSchemaVersion),bundleSource:ft("string","QuerySnapshot"),bundleName:ft("string"),bundle:ft("string")};var fm=class extends jb{constructor(e){super(),this.firestore=e}convertBytes(e){return new uo(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Pt(this.firestore,null,t)}};function rF(n,e,t,...r){n=ao(n,Pt);let i=ao(n.firestore,vo),o=cD(i),s;return s=typeof(e=Ue(e))=="string"||e instanceof Dc?j9(o,"updateDoc",n._key,e,t,r):V9(o,"updateDoc",n._key,e),hD(i,[s.toMutation(n._key,si.exists(!0))])}function iF(n){return hD(ao(n.firestore,vo),[new rd(n._key,si.none())])}function oF(n,e){let t=ao(n.firestore,vo),r=aD(n),i=H9(n.converter,e);return hD(t,[L9(cD(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,si.exists(!1))]).then(()=>r)}function dD(n,...e){var t,r,i;n=Ue(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||bx(e[s])||(o=e[s++]);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(bx(e[s])){let f=e[s];e[s]=(t=f.next)===null||t===void 0?void 0:t.bind(f),e[s+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[s+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let c,l,d;if(n instanceof Pt)l=ao(n.firestore,vo),d=Qb(n._key.path),c={next:f=>{e[s]&&e[s](z9(l,n,f))},error:e[s+1],complete:e[s+2]};else{let f=ao(n,Os);l=ao(f.firestore,vo),d=f._query;let g=new fm(l);c={next:m=>{e[s]&&e[s](new fc(l,g,f,m))},error:e[s+1],complete:e[s+2]},$9(n._query)}return(function(g,m,E,A){let D=new Nb(A),M=new Tb(m,D,E);return g.asyncQueue.enqueueAndForget(()=>v(null,null,function*(){return g9(yield _x(g),M)})),()=>{D.Ou(),g.asyncQueue.enqueueAndForget(()=>v(null,null,function*(){return m9(yield _x(g),M)}))}})(K1(l),d,a,c)}function hD(n,e){return(function(r,i){let o=new oi;return r.asyncQueue.enqueueAndForget(()=>v(null,null,function*(){return b9(yield O9(r),i,o)})),o.promise})(K1(n),e)}function z9(n,e,t){let r=t.docs.get(e._key),i=new fm(n);return new Ss(n,i,e._key,r,new Ds(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){Sc=i})(Zi),Mt(new it("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new vo(new rT(r.getProvider("auth-internal")),new sT(s,r.getProvider("app-check-internal")),(function(l,d){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new $(k.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ug(l.options.projectId,d)})(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Me(kO,OO,e),Me(kO,OO,"esm2017")})();var Tm=function(){return Tm=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Tm.apply(this,arguments)};var K9={includeMetadataChanges:!1};function sF(n,e){return e===void 0&&(e=K9),new ie(function(t){var r=dD(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function aF(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:Tm(Tm({},r),(t={},t[e.idField]=n.id,t))}function cF(n){return sF(n,{includeMetadataChanges:!0}).pipe(oe(function(e){return e.docs}))}function uF(n,e){return e===void 0&&(e={}),cF(n).pipe(oe(function(t){return t.map(function(r){return aF(r,e)})}))}var hi=class{constructor(e){return e}},lF="firestore",fD=class{constructor(){return us(lF)}};var pD=new B("angularfire2.firestore-instances");function Q9(n,e){let t=Ka(lF,n,e);return t&&new hi(t)}function Y9(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new hi(r)}}var J9={provide:fD,deps:[[new yn,pD]]},Z9={provide:hi,useFactory:Q9,deps:[[new yn,pD],Zr]};function dF(n,...e){return Me("angularfire",Yr.full,"fst"),Dn([Z9,J9,{provide:pD,useFactory:Y9(n),multi:!0,deps:[Se,mt,Jr,ls,[new yn,zl],[new yn,rc],...e]}])}var pd=Je(uF,!0);var bm=Je(oF,!0,2);var Fs=Je(G1,!0,2);var hF=Je(iF,!0,2);var gD=Je(aD,!0,2);var fF=Je(W1,!0);var mD=Je(tF,!0,2),yD=Je(X1,!0,2);var pF=Je(rF,!0,2);var gF=Je(eF,!0,2);var Dm=class n{constructor(e){this.firestore=e}getTenants(){let e=Fs(this.firestore,"tenants");return pd(e,{idField:"id"})}addTenant(e){let t=Fs(this.firestore,"tenants");return bm(t,e)}updateTenant(e,t){let r=gD(this.firestore,`tenants/${e}`);return pF(r,F({},t))}deleteTenant(e){let t=gD(this.firestore,`tenants/${e}`);return hF(t)}static \u0275fac=function(t){return new(t||n)(Q(hi))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})};var Sm=class n{constructor(e){this.firestore=e}addInvoice(e){let t=Fs(this.firestore,"invoices");return bm(t,de(F({},e),{createdAt:Date.now()}))}getInvoicesByPeriod(e){let t=Fs(this.firestore,"invoices"),r=yD(t,gF("period","==",e),mD("createdAt","desc"));return pd(r,{idField:"id"})}getAllInvoices(){let e=Fs(this.firestore,"invoices"),t=yD(e,mD("createdAt","desc"));return pd(t,{idField:"id"})}static \u0275fac=function(t){return new(t||n)(Q(hi))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})};var yF=n=>[n,"XOF","symbol","1.0-0","fr-FR"];function tK(n,e){if(n&1){let t=W_();j(0,"tr")(1,"td"),z(2),V(),j(3,"td"),z(4),V(),j(5,"td"),z(6),V(),j(7,"td",35)(8,"button",3),rt("click",function(){let i=Eu(t).$implicit,o=dr();return Iu(o.editTenant(i))}),z(9,"\xC9diter"),V(),j(10,"button",36),rt("click",function(){let i=Eu(t).$implicit,o=dr();return Iu(o.removeTenant(i))}),z(11,"Supprimer"),V()()()}if(n&2){let t=e.$implicit;be(2),Nt(t.name),be(2),Nt(t.apartment),be(2),ju("",t.percent,"%")}}function nK(n,e){n&1&&(j(0,"tr")(1,"td",37),z(2,"Aucun locataire \u2014 ajoutez-en un."),V()())}function rK(n,e){if(n&1&&(j(0,"tr")(1,"td"),z(2),V(),j(3,"td"),z(4),V(),j(5,"td"),z(6),Uu(7,"currency"),V()()),n&2){let t=e.$implicit;be(2),Nt(t.name),be(2),Nt(t.percent),be(2),Nt(Mf(7,3,Nf(9,yF,t.amount)))}}function iK(n,e){if(n&1&&(j(0,"div",38)(1,"h3",39),z(2,"Montants \xE0 payer"),V(),j(3,"div",34)(4,"table",10)(5,"thead")(6,"tr")(7,"th"),z(8,"Locataire"),V(),j(9,"th"),z(10,"%"),V(),j(11,"th"),z(12,"Montant \xE0 payer"),V()()(),j(13,"tbody"),zn(14,rK,8,11,"tr",12),V()()()()),n&2){let t=dr();be(14),at("ngForOf",t.results())}}function oK(n,e){if(n&1&&(j(0,"tr")(1,"td"),z(2),Uu(3,"date"),V(),j(4,"td"),z(5),V(),j(6,"td"),z(7),Uu(8,"currency"),V(),j(9,"td"),z(10),V()()),n&2){let t=e.$implicit,r=dr();be(2),Nt(Y_(3,4,t.createdAt,"short")),be(3),Nt(t.period),be(2),Nt(Mf(8,7,Nf(13,yF,t.total))),be(3),Nt(r.getSummary(t))}}function sK(n,e){n&1&&(j(0,"tr")(1,"td",37),z(2,"Aucune facture enregistr\xE9e pour cette recherche."),V()())}var Cm=class n{constructor(e,t,r,i){this.fb=e;this.tenantSrv=t;this.invoiceSrv=r;this.auth=i;this.tenantForm=this.fb.group({name:["",[je.required,je.minLength(2)]],apartment:["",[je.required]],percent:[0,[je.required,je.min(0),je.max(100)]]}),this.billForm=this.fb.group({period:["Jan\u2013F\xE9v 2025",je.required],total:[102800,[je.required,je.min(0)]]}),this.tenantSrv.getTenants().subscribe(o=>this.tenants.set(o)),this.loadInvoices()}tenants=yt([]);tenantForm;editId=null;billForm;results=yt([]);invoices=yt([]);filterPeriod="";resetTenantForm(){this.editId=null,this.tenantForm.reset({name:"",apartment:"",percent:0})}editTenant(e){this.editId=e.id||null,this.tenantForm.patchValue({name:e.name,apartment:e.apartment,percent:e.percent})}saveTenant(){return v(this,null,function*(){if(this.tenantForm.invalid)return;let e=this.tenantForm.value;this.editId?yield this.tenantSrv.updateTenant(this.editId,e):yield this.tenantSrv.addTenant(e),this.resetTenantForm()})}removeTenant(e){return v(this,null,function*(){e.id&&(yield this.tenantSrv.deleteTenant(e.id))})}calculate(){let e=Number(this.billForm.value.total||0),t=this.tenants().map(r=>({name:r.name,percent:r.percent,amount:Math.round(r.percent/100*e)}));this.results.set(t)}calculateAndSave(){return v(this,null,function*(){this.calculate();let e={period:this.billForm.value.period,total:Number(this.billForm.value.total),results:this.results(),createdAt:Date.now()};yield this.invoiceSrv.addInvoice(e),this.loadInvoices()})}loadInvoices(){return v(this,null,function*(){this.filterPeriod&&this.filterPeriod.trim()!==""?this.invoiceSrv.getInvoicesByPeriod(this.filterPeriod).subscribe(e=>this.invoices.set(e)):this.invoiceSrv.getAllInvoices().subscribe(e=>this.invoices.set(e))})}getSummary(e){return e?.results?e.results.map(t=>`${t.name} ${t.amount}F`).join(", "):""}logout(){return v(this,null,function*(){yield this.auth.logout()})}static \u0275fac=function(t){return new(t||n)(J(tc),J(Dm),J(Sm),J(wr))};static \u0275cmp=Hn({type:n,selectors:[["app-dashboard"]],decls:77,vars:10,consts:[[1,"max-w-6xl","mx-auto","py-8","px-4"],[1,"flex","items-center","justify-between","mb-6"],[1,"text-2xl","md:text-3xl","font-bold"],[1,"text-sm","link",3,"click"],[1,"grid","md:grid-cols-2","gap-8"],[1,"card"],[1,"flex","items-center","justify-between","mb-2"],[1,"text-xl","font-semibold"],[1,"btn","btn-primary","px-3","py-2",3,"click"],[1,"table","overflow-x-auto","mb-4"],[1,"min-w-full"],[2,"width","140px"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-3",3,"ngSubmit","formGroup"],["type","text","placeholder","Nom","formControlName","name",1,"input"],["type","text","placeholder","Appartement","formControlName","apartment",1,"input"],["type","number","placeholder","% part","formControlName","percent",1,"input"],[1,"md:col-span-3","flex","gap-3"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","button",1,"btn","px-4","py-3","bg-gray-200",3,"click"],[1,"text-sm","text-gray-500","mt-2"],[1,"text-xl","font-semibold","mb-2"],[1,"space-y-4",3,"ngSubmit","formGroup"],[1,"text-sm","text-gray-600"],["type","text","placeholder","Jan\u2013F\xE9v 2025","formControlName","period",1,"input"],[1,"flex","gap-2"],["type","number","formControlName","total","placeholder","102800",1,"input"],[1,"px-3","py-2","rounded-lg","bg-gray-100","border","text-gray-700"],["type","submit",1,"btn","btn-primary"],["class","mt-6",4,"ngIf"],[1,"card","mt-8"],[1,"flex","items-center","gap-3","mb-4"],["placeholder","Filtrer par p\xE9riode (ex: Jan\u2013F\xE9v 2025)",1,"input","w-48",3,"ngModelChange","ngModel"],[1,"table","overflow-x-auto"],[1,"space-x-2"],[1,"text-sm","text-red-600","hover:underline",3,"click"],["colspan","4",1,"text-center","text-gray-500","py-3"],[1,"mt-6"],[1,"text-lg","font-semibold","mb-2"]],template:function(t,r){t&1&&(j(0,"div",0)(1,"div",1)(2,"h1",2),z(3,"Gestion des factures"),V(),j(4,"button",3),rt("click",function(){return r.logout()}),z(5,"Se d\xE9connecter"),V()(),j(6,"div",4)(7,"div",5)(8,"div",6)(9,"h2",7),z(10,"Locataires"),V(),j(11,"button",8),rt("click",function(){return r.resetTenantForm()}),z(12,"Nouveau"),V()(),j(13,"div",9)(14,"table",10)(15,"thead")(16,"tr")(17,"th"),z(18,"Nom"),V(),j(19,"th"),z(20,"Appartement"),V(),j(21,"th"),z(22,"Pourcentage"),V(),j(23,"th",11),z(24,"Actions"),V()()(),j(25,"tbody"),zn(26,tK,12,3,"tr",12)(27,nK,3,0,"tr",13),V()()(),j(28,"form",14),rt("ngSubmit",function(){return r.saveTenant()}),Et(29,"input",15)(30,"input",16)(31,"input",17),j(32,"div",18)(33,"button",19),z(34),V(),j(35,"button",20),rt("click",function(){return r.resetTenantForm()}),z(36,"Annuler"),V()()(),j(37,"div",21),z(38,"La somme des pourcentages devrait \xEAtre 100% (validation non bloquante)."),V()(),j(39,"div",5)(40,"h2",22),z(41,"Ajouter une facture"),V(),j(42,"form",23),rt("ngSubmit",function(){return r.calculateAndSave()}),j(43,"div")(44,"label",24),z(45,"P\xE9riode"),V(),Et(46,"input",25),V(),j(47,"div")(48,"label",24),z(49,"Montant total CIE"),V(),j(50,"div",26),Et(51,"input",27),j(52,"span",28),z(53,"FCFA"),V()()(),j(54,"button",29),z(55,"Calculer & Enregistrer"),V()(),zn(56,iK,15,1,"div",30),V()(),j(57,"div",31)(58,"div",32)(59,"h2",7),z(60,"Historique des factures"),V(),j(61,"input",33),Rf("ngModelChange",function(o){return K_(r.filterPeriod,o)||(r.filterPeriod=o),o}),rt("ngModelChange",function(){return r.loadInvoices()}),V()(),j(62,"div",34)(63,"table",10)(64,"thead")(65,"tr")(66,"th"),z(67,"Date"),V(),j(68,"th"),z(69,"P\xE9riode"),V(),j(70,"th"),z(71,"Montant total"),V(),j(72,"th"),z(73,"D\xE9tail (r\xE9sum\xE9)"),V()()(),j(74,"tbody"),zn(75,oK,11,15,"tr",12)(76,sK,3,0,"tr",13),V()()()()()),t&2&&(be(26),at("ngForOf",r.tenants()),be(),at("ngIf",r.tenants().length===0),be(),at("formGroup",r.tenantForm),be(5),at("disabled",r.tenantForm.invalid),be(),Nt(r.editId?"Mettre \xE0 jour":"Ajouter"),be(8),at("formGroup",r.billForm),be(14),at("ngIf",r.results().length),be(5),Af("ngModel",r.filterPeriod),be(14),at("ngForOf",r.invoices()),be(),at("ngIf",r.invoices().length===0))},dependencies:[zi,zf,Jo,nc,ec,eo,QI,Za,Xa,ms,ys,Ik,KI,gE,pE],encapsulation:2})};var vF=()=>{let n=O(wr),e=O(En);return n.loggedIn()?!0:(e.navigate(["/login"]),!1)};var _F=[{path:"",pathMatch:"full",redirectTo:"login"},{path:"login",component:bg},{path:"register",component:Dg},{path:"dashboard",component:Cm,canActivate:[vF]},{path:"**",redirectTo:"login"}];var ge=(function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n})(ge||{}),Zn="*";function EF(n,e=null){return{type:ge.Sequence,steps:n,options:e}}function vD(n){return{type:ge.Style,styles:n,offset:null}}var fi=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(e=0,t=0){this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},Nc=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(e){this.players=e;let t=0,r=0,i=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++r==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let t=e*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){let e=this.players.reduce((t,r)=>t===null||r.totalTime>t.totalTime?r:t,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},gd="!";function IF(n){return new P(3e3,!1)}function aK(){return new P(3100,!1)}function cK(){return new P(3101,!1)}function uK(n){return new P(3001,!1)}function lK(n){return new P(3003,!1)}function dK(n){return new P(3004,!1)}function TF(n,e){return new P(3005,!1)}function bF(){return new P(3006,!1)}function DF(){return new P(3007,!1)}function SF(n,e){return new P(3008,!1)}function CF(n){return new P(3002,!1)}function AF(n,e,t,r,i){return new P(3010,!1)}function RF(){return new P(3011,!1)}function NF(){return new P(3012,!1)}function MF(){return new P(3200,!1)}function PF(){return new P(3202,!1)}function kF(){return new P(3013,!1)}function OF(n){return new P(3014,!1)}function xF(n){return new P(3015,!1)}function FF(n){return new P(3016,!1)}function LF(n,e){return new P(3404,!1)}function hK(n){return new P(3502,!1)}function VF(n){return new P(3503,!1)}function jF(){return new P(3300,!1)}function UF(n){return new P(3504,!1)}function BF(n){return new P(3301,!1)}function $F(n,e){return new P(3302,!1)}function HF(n){return new P(3303,!1)}function qF(n,e){return new P(3400,!1)}function zF(n){return new P(3401,!1)}function GF(n){return new P(3402,!1)}function WF(n,e){return new P(3505,!1)}function pi(n){switch(n.length){case 0:return new fi;case 1:return n[0];default:return new Nc(n)}}function wD(n,e,t=new Map,r=new Map){let i=[],o=[],s=-1,a=null;if(e.forEach(c=>{let l=c.get("offset"),d=l==s,f=d&&a||new Map;c.forEach((g,m)=>{let E=m,A=g;if(m!=="offset")switch(E=n.normalizePropertyName(E,i),A){case gd:A=t.get(m);break;case Zn:A=r.get(m);break;default:A=n.normalizeStyleValue(m,E,A,i);break}f.set(E,A)}),d||o.push(f),a=f,s=l}),i.length)throw hK(i);return o}function Am(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&_D(t,"start",n)));break;case"done":n.onDone(()=>r(t&&_D(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&_D(t,"destroy",n)));break}}function _D(n,e,t){let r=t.totalTime,i=!!t.disabled,o=Rm(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,r??n.totalTime,i),s=n._data;return s!=null&&(o._data=s),o}function Rm(n,e,t,r,i="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function ln(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function TD(n){let e=n.indexOf(":"),t=n.substring(1,e),r=n.slice(e+1);return[t,r]}var fK=typeof document>"u"?null:document.documentElement;function Nm(n){let e=n.parentNode||n.host||null;return e===fK?null:e}function pK(n){return n.substring(1,6)=="ebkit"}var Ls=null,wF=!1;function KF(n){Ls||(Ls=gK()||{},wF=Ls.style?"WebkitAppearance"in Ls.style:!1);let e=!0;return Ls.style&&!pK(n)&&(e=n in Ls.style,!e&&wF&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Ls.style)),e}function gK(){return typeof document<"u"?document.body:null}function bD(n,e){for(;e;){if(e===n)return!0;e=Nm(e)}return!1}function DD(n,e,t){if(t)return Array.from(n.querySelectorAll(e));let r=n.querySelector(e);return r?[r]:[]}var mK=1e3,SD="{{",yK="}}",CD="ng-enter",Mm="ng-leave",md="ng-trigger",yd=".ng-trigger",AD="ng-animating",Pm=".ng-animating";function Ar(n){if(typeof n=="number")return n;let e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:ED(parseFloat(e[1]),e[2])}function ED(n,e){switch(e){case"s":return n*mK;default:return n}}function vd(n,e,t){return n.hasOwnProperty("duration")?n:_K(n,e,t)}var vK=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i;function _K(n,e,t){let r,i=0,o="";if(typeof n=="string"){let s=n.match(vK);if(s===null)return e.push(IF(n)),{duration:0,delay:0,easing:""};r=ED(parseFloat(s[1]),s[2]);let a=s[3];a!=null&&(i=ED(parseFloat(a),s[4]));let c=s[5];c&&(o=c)}else r=n;if(!t){let s=!1,a=e.length;r<0&&(e.push(aK()),s=!0),i<0&&(e.push(cK()),s=!0),s&&e.splice(a,0,IF(n))}return{duration:r,delay:i,easing:o}}function QF(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}function Xn(n,e,t){e.forEach((r,i)=>{let o=km(i);t&&!t.has(i)&&t.set(i,n.style[o]),n.style[o]=r})}function Eo(n,e){e.forEach((t,r)=>{let i=km(r);n.style[i]=""})}function Mc(n){return Array.isArray(n)?n.length==1?n[0]:EF(n):n}function YF(n,e,t){let r=e.params||{},i=RD(n);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||t.push(uK(o))})}var ID=new RegExp(`${SD}\\s*(.+?)\\s*${yK}`,"g");function RD(n){let e=[];if(typeof n=="string"){let t;for(;t=ID.exec(n);)e.push(t[1]);ID.lastIndex=0}return e}function Pc(n,e,t){let r=`${n}`,i=r.replace(ID,(o,s)=>{let a=e[s];return a==null&&(t.push(lK(s)),a=""),a.toString()});return i==r?n:i}var EK=/-+([a-z0-9])/g;function km(n){return n.replace(EK,(...e)=>e[1].toUpperCase())}function JF(n,e){return n===0||e===0}function ZF(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((o,s)=>{r.has(s)||i.push(s),r.set(s,o)}),i.length)for(let o=1;o<e.length;o++){let s=e[o];i.forEach(a=>s.set(a,Om(n,a)))}}return e}function dn(n,e,t){switch(e.type){case ge.Trigger:return n.visitTrigger(e,t);case ge.State:return n.visitState(e,t);case ge.Transition:return n.visitTransition(e,t);case ge.Sequence:return n.visitSequence(e,t);case ge.Group:return n.visitGroup(e,t);case ge.Animate:return n.visitAnimate(e,t);case ge.Keyframes:return n.visitKeyframes(e,t);case ge.Style:return n.visitStyle(e,t);case ge.Reference:return n.visitReference(e,t);case ge.AnimateChild:return n.visitAnimateChild(e,t);case ge.AnimateRef:return n.visitAnimateRef(e,t);case ge.Query:return n.visitQuery(e,t);case ge.Stagger:return n.visitStagger(e,t);default:throw dK(e.type)}}function Om(n,e){return window.getComputedStyle(n)[e]}var GD=(()=>{class n{validateStyleProperty(t){return KF(t)}containsElement(t,r){return bD(t,r)}getParentElement(t){return Nm(t)}query(t,r,i){return DD(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,o,s,a=[],c){return new fi(i,o)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})(),js=class{static NOOP=new GD},Us=class{};var IK=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),jm=class extends Us{normalizePropertyName(e,t){return km(e)}normalizeStyleValue(e,t,r,i){let o="",s=r.toString().trim();if(IK.has(t)&&r!==0&&r!=="0")if(typeof r=="number")o="px";else{let a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(TF(e,r))}return s+o}};var Um="*";function wK(n,e){let t=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(r=>TK(r,t,e)):t.push(n),t}function TK(n,e,t){if(n[0]==":"){let c=bK(n,t);if(typeof c=="function"){e.push(c);return}n=c}let r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return t.push(xF(n)),e;let i=r[1],o=r[2],s=r[3];e.push(XF(i,s));let a=i==Um&&s==Um;o[0]=="<"&&!a&&e.push(XF(s,i))}function bK(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(FF(n)),"* => *"}}var xm=new Set(["true","1"]),Fm=new Set(["false","0"]);function XF(n,e){let t=xm.has(n)||Fm.has(n),r=xm.has(e)||Fm.has(e);return(i,o)=>{let s=n==Um||n==i,a=e==Um||e==o;return!s&&t&&typeof i=="boolean"&&(s=i?xm.has(n):Fm.has(n)),!a&&r&&typeof o=="boolean"&&(a=o?xm.has(e):Fm.has(e)),s&&a}}var uL=":self",DK=new RegExp(`s*${uL}s*,?`,"g");function lL(n,e,t,r){return new xD(n).build(e,t,r)}var eL="",xD=class{_driver;constructor(e){this._driver=e}build(e,t,r){let i=new FD(t);return this._resetContextStyleTimingState(i),dn(this,Mc(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector=eL,e.collectedStyles=new Map,e.collectedStyles.set(eL,new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0,o=[],s=[];return e.name.charAt(0)=="@"&&t.errors.push(bF()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==ge.State){let c=a,l=c.name;l.toString().split(/\s*,\s*/).forEach(d=>{c.name=d,o.push(this.visitState(c,t))}),c.name=l}else if(a.type==ge.Transition){let c=this.visitTransition(a,t);r+=c.queryCount,i+=c.depCount,s.push(c)}else t.errors.push(DF())}),{type:ge.Trigger,name:e.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}visitState(e,t){let r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){let o=new Set,s=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{RD(c).forEach(l=>{s.hasOwnProperty(l)||o.add(l)})})}),o.size&&t.errors.push(SF(e.name,[...o.values()]))}return{type:ge.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let r=dn(this,Mc(e.animation),t),i=wK(e.expr,t.errors);return{type:ge.Transition,matchers:i,animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Vs(e.options)}}visitSequence(e,t){return{type:ge.Sequence,steps:e.steps.map(r=>dn(this,r,t)),options:Vs(e.options)}}visitGroup(e,t){let r=t.currentTime,i=0,o=e.steps.map(s=>{t.currentTime=r;let a=dn(this,s,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:ge.Group,steps:o,options:Vs(e.options)}}visitAnimate(e,t){let r=RK(e.timings,t.errors);t.currentAnimateTimings=r;let i,o=e.styles?e.styles:vD({});if(o.type==ge.Keyframes)i=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;let l={};r.easing&&(l.easing=r.easing),s=vD(l)}t.currentTime+=r.duration+r.delay;let c=this.visitStyle(s,t);c.isEmptyStep=a,i=c}return t.currentAnimateTimings=null,{type:ge.Animate,timings:r,style:i,options:null}}visitStyle(e,t){let r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){let r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)typeof a=="string"?a===Zn?r.push(a):t.errors.push(CF(a)):r.push(new Map(Object.entries(a)));let o=!1,s=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let c of a.values())if(c.toString().indexOf(SD)>=0){o=!0;break}}}),{type:ge.Style,styles:r,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){let r=t.currentAnimateTimings,i=t.currentTime,o=t.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,c)=>{let l=t.collectedStyles.get(t.currentQuerySelector),d=l.get(c),f=!0;d&&(o!=i&&o>=d.startTime&&i<=d.endTime&&(t.errors.push(AF(c,d.startTime,d.endTime,o,i)),f=!1),o=d.startTime),f&&l.set(c,{startTime:o,endTime:i}),t.options&&YF(a,t.options,t.errors)})})}visitKeyframes(e,t){let r={type:ge.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(RF()),r;let i=1,o=0,s=[],a=!1,c=!1,l=0,d=e.steps.map(M=>{let L=this._makeStyleAst(M,t),H=L.offset!=null?L.offset:AK(L.styles),W=0;return H!=null&&(o++,W=L.offset=H),c=c||W<0||W>1,a=a||W<l,l=W,s.push(W),L});c&&t.errors.push(NF()),a&&t.errors.push(MF());let f=e.steps.length,g=0;o>0&&o<f?t.errors.push(PF()):o==0&&(g=i/(f-1));let m=f-1,E=t.currentTime,A=t.currentAnimateTimings,D=A.duration;return d.forEach((M,L)=>{let H=g>0?L==m?1:g*L:s[L],W=H*D;t.currentTime=E+A.delay+W,A.duration=W,this._validateStyleAst(M,t),M.offset=H,r.styles.push(M)}),r}visitReference(e,t){return{type:ge.Reference,animation:dn(this,Mc(e.animation),t),options:Vs(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:ge.AnimateChild,options:Vs(e.options)}}visitAnimateRef(e,t){return{type:ge.AnimateRef,animation:this.visitReference(e.animation,t),options:Vs(e.options)}}visitQuery(e,t){let r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;let[o,s]=SK(e.selector);t.currentQuerySelector=r.length?r+" "+o:o,ln(t.collectedStyles,t.currentQuerySelector,new Map);let a=dn(this,Mc(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:ge.Query,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:Vs(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(kF());let r=e.timings==="full"?{duration:0,delay:0,easing:"full"}:vd(e.timings,t.errors,!0);return{type:ge.Stagger,animation:dn(this,Mc(e.animation),t),timings:r,options:null}}};function SK(n){let e=!!n.split(/\s*,\s*/).find(t=>t==uL);return e&&(n=n.replace(DK,"")),n=n.replace(/@\*/g,yd).replace(/@\w+/g,t=>yd+"-"+t.slice(1)).replace(/:animating/g,Pm),[n,e]}function CK(n){return n?F({},n):null}var FD=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(e){this.errors=e}};function AK(n){if(typeof n=="string")return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){let r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}function RK(n,e){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let o=vd(n,e).duration;return ND(o,0,"")}let t=n;if(t.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=ND(0,0,"");return o.dynamic=!0,o.strValue=t,o}let i=vd(t,e);return ND(i.duration,i.delay,i.easing)}function Vs(n){return n?(n=F({},n),n.params&&(n.params=CK(n.params))):n={},n}function ND(n,e,t){return{duration:n,delay:e,easing:t}}function WD(n,e,t,r,i,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}var Ed=class{_map=new Map;get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},NK=1,MK=":enter",PK=new RegExp(MK,"g"),kK=":leave",OK=new RegExp(kK,"g");function dL(n,e,t,r,i,o=new Map,s=new Map,a,c,l=[]){return new LD().buildKeyframes(n,e,t,r,i,o,s,a,c,l)}var LD=class{buildKeyframes(e,t,r,i,o,s,a,c,l,d=[]){l=l||new Ed;let f=new VD(e,t,l,i,o,d,[]);f.options=c;let g=c.delay?Ar(c.delay):0;f.currentTimeline.delayNextStep(g),f.currentTimeline.setStyles([s],null,f.errors,c),dn(this,r,f);let m=f.timelines.filter(E=>E.containsAnimation());if(m.length&&a.size){let E;for(let A=m.length-1;A>=0;A--){let D=m[A];if(D.element===t){E=D;break}}E&&!E.allowOnlyTimelineStyles()&&E.setStyles([a],null,f.errors,c)}return m.length?m.map(E=>E.buildKeyframes()):[WD(t,[],[],[],0,g,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let r=t.subInstructions.get(t.element);if(r){let i=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(r,i,i.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){let r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(let i of e){let o=i?.delay;if(o){let s=typeof o=="number"?o:Ar(Pc(o,i?.params??{},t.errors));r.delayNextStep(s)}}}_visitSubInstructions(e,t,r){let o=t.currentTimeline.currentTime,s=r.duration!=null?Ar(r.duration):null,a=r.delay!=null?Ar(r.delay):null;return s!==0&&e.forEach(c=>{let l=t.appendInstructionToTimeline(c,s,a);o=Math.max(o,l.duration+l.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),dn(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let r=t.subContextCount,i=t,o=e.options;if(o&&(o.params||o.delay)&&(i=t.createSubContext(o),i.transformIntoNewTimeline(),o.delay!=null)){i.previousNode.type==ge.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Bm);let s=Ar(o.delay);i.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>dn(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let r=[],i=t.currentTimeline.currentTime,o=e.options&&e.options.delay?Ar(e.options.delay):0;e.steps.forEach(s=>{let a=t.createSubContext(e.options);o&&a.delayNextStep(o),dn(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let r=e.strValue,i=t.params?Pc(r,t.params,t.errors):r;return vd(i,t.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());let o=e.style;o.type==ge.Keyframes?this.visitKeyframes(o,t):(t.incrementTime(r.duration),this.visitStyle(o,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();let o=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(o):r.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let r=t.currentAnimateTimings,i=t.currentTimeline.duration,o=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(c=>{let l=c.offset||0;a.forwardTime(l*o),a.setStyles(c.styles,c.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+o),t.previousNode=e}visitQuery(e,t){let r=t.currentTimeline.currentTime,i=e.options||{},o=i.delay?Ar(i.delay):0;o&&(t.previousNode.type===ge.Style||r==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Bm);let s=r,a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let c=null;a.forEach((l,d)=>{t.currentQueryIndex=d;let f=t.createSubContext(e.options,l);o&&f.delayNextStep(o),l===t.element&&(c=f.currentTimeline),dn(this,e.animation,f),f.currentTimeline.applyStylesToKeyframe();let g=f.currentTimeline.currentTime;s=Math.max(s,g)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let r=t.parentContext,i=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1),c=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=r.currentStaggerTime;break}let d=t.currentTimeline;c&&d.delayNextStep(c);let f=d.currentTime;dn(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-f+(i.startTime-r.currentTimeline.startTime)}},Bm={},VD=class n{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=Bm;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(e,t,r,i,o,s,a,c){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.currentTimeline=c||new $m(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let r=e,i=this.options;r.duration!=null&&(i.duration=Ar(r.duration)),r.delay!=null&&(i.delay=Ar(r.delay));let o=r.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=Pc(o[a],s,this.errors))})}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){let i=t||this.element,o=new n(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=Bm,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){let i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},o=new jD(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,o,s){let a=[];if(i&&a.push(this.element),e.length>0){e=e.replace(PK,"."+this._enterClassName),e=e.replace(OK,"."+this._leaveClassName);let c=r!=1,l=this._driver.query(this.element,e,c);r!==0&&(l=r<0?l.slice(l.length+r,l.length):l.slice(0,r)),a.push(...l)}return!o&&a.length==0&&s.push(OF(t)),a}},$m=class n{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new n(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=NK,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||Zn),this._currentKeyframe.set(t,Zn);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);let o=i&&i.params||{},s=xK(e,this._globalTimelineStyles);for(let[a,c]of s){let l=Pc(c,o,r);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Zn),this._updateStyle(a,l)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{let i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,r=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,c)=>{let l=new Map([...this._backFill,...a]);l.forEach((d,f)=>{d===gd?e.add(f):d===Zn&&t.add(f)}),r||l.set("offset",c/this.duration),i.push(l)});let o=[...e.values()],s=[...t.values()];if(r){let a=i[0],c=new Map(a);a.set("offset",0),c.set("offset",1),i=[a,c]}return WD(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}},jD=class extends $m{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(e,t,r,i,o,s,a=!1){super(e,t,s.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){let o=[],s=r+t,a=t/s,c=new Map(e[0]);c.set("offset",0),o.push(c);let l=new Map(e[0]);l.set("offset",tL(a)),o.push(l);let d=e.length-1;for(let f=1;f<=d;f++){let g=new Map(e[f]),m=g.get("offset"),E=t+m*r;g.set("offset",tL(E/s)),o.push(g)}r=s,t=0,i="",e=o}return WD(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}};function tL(n,e=3){let t=Math.pow(10,e-1);return Math.round(n*t)/t}function xK(n,e){let t=new Map,r;return n.forEach(i=>{if(i==="*"){r??=e.keys();for(let o of r)t.set(o,Zn)}else for(let[o,s]of i)t.set(o,s)}),t}function nL(n,e,t,r,i,o,s,a,c,l,d,f,g){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:d,totalTime:f,errors:g}}var MD={},Hm=class{_triggerName;ast;_stateStyles;constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return FK(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return e!==void 0&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,o,s,a,c,l,d){let f=[],g=this.ast.options&&this.ast.options.params||MD,m=a&&a.params||MD,E=this.buildStyles(r,m,f),A=c&&c.params||MD,D=this.buildStyles(i,A,f),M=new Set,L=new Map,H=new Map,W=i==="void",Te={params:hL(A,g),delay:this.ast.options?.delay},te=d?[]:dL(e,t,this.ast.animation,o,s,E,D,Te,l,f),T=0;return te.forEach(_=>{T=Math.max(_.duration+_.delay,T)}),f.length?nL(t,this._triggerName,r,i,W,E,D,[],[],L,H,T,f):(te.forEach(_=>{let I=_.element,b=ln(L,I,new Set);_.preStyleProps.forEach(R=>b.add(R));let S=ln(H,I,new Set);_.postStyleProps.forEach(R=>S.add(R)),I!==t&&M.add(I)}),nL(t,this._triggerName,r,i,W,E,D,te,[...M.values()],L,H,T))}};function FK(n,e,t,r,i){return n.some(o=>o(e,t,r,i))}function hL(n,e){let t=F({},e);return Object.entries(n).forEach(([r,i])=>{i!=null&&(t[r]=i)}),t}var UD=class{styles;defaultParams;normalizer;constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){let r=new Map,i=hL(e,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=Pc(s,i,t));let c=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,c,s,t),r.set(a,s)})}),r}};function LK(n,e,t){return new BD(n,e,t)}var BD=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,t.states.forEach(i=>{let o=i.options&&i.options.params||{};this.states.set(i.name,new UD(i.style,o,r))}),rL(this.states,"true","1"),rL(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new Hm(e,i,this.states))}),this.fallbackTransition=VK(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(s=>s.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}};function VK(n,e,t){let r=[(s,a)=>!0],i={type:ge.Sequence,steps:[],options:null},o={type:ge.Transition,animation:i,matchers:r,options:null,queryCount:0,depCount:0};return new Hm(n,o,e)}function rL(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}var jK=new Ed,$D=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r}register(e,t){let r=[],i=[],o=lL(this._driver,t,r,i);if(r.length)throw VF(r);this._animations.set(e,o)}_buildPlayer(e,t,r){let i=e.element,o=wD(this._normalizer,e.keyframes,t,r);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){let i=[],o=this._animations.get(e),s,a=new Map;if(o?(s=dL(this._driver,t,o,CD,Mm,new Map,new Map,r,jK,i),s.forEach(d=>{let f=ln(a,d.element,new Map);d.postStyleProps.forEach(g=>f.set(g,null))})):(i.push(jF()),s=[]),i.length)throw UF(i);a.forEach((d,f)=>{d.forEach((g,m)=>{d.set(m,this._driver.computeStyle(f,m,Zn))})});let c=s.map(d=>{let f=a.get(d.element);return this._buildPlayer(d,new Map,f)}),l=pi(c);return this._playersById.set(e,l),l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw BF(e);return t}listen(e,t,r,i){let o=Rm(t,"","","");return Am(this._getPlayer(e),r,o,i),()=>{}}command(e,t,r,i){if(r=="register"){this.register(e,i[0]);return}if(r=="create"){let s=i[0]||{};this.create(e,t,s);return}let o=this._getPlayer(e);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e);break}}},iL="ng-animate-queued",UK=".ng-animate-queued",PD="ng-animate-disabled",BK=".ng-animate-disabled",$K="ng-star-inserted",HK=".ng-star-inserted",qK=[],fL={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},zK={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},er="__ng_removed",Id=class{namespaceId;value;options;get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let r=e&&e.hasOwnProperty("value"),i=r?e.value:e;if(this.value=WK(i),r){let o=e,{value:s}=o,a=_y(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let r=this.options.params;Object.keys(t).forEach(i=>{r[i]==null&&(r[i]=t[i])})}}},_d="void",kD=new Id(_d),HD=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this._hostClassName="ng-tns-"+e,Fn(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw $F(r,t);if(r==null||r.length==0)throw HF(t);if(!KK(r))throw qF(r,t);let o=ln(this._elementListeners,e,[]),s={name:t,phase:r,callback:i};o.push(s);let a=ln(this._engine.statesByElement,e,new Map);return a.has(t)||(Fn(e,md),Fn(e,md+"-"+t),a.set(t,kD)),()=>{this._engine.afterFlush(()=>{let c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw zF(e);return t}trigger(e,t,r,i=!0){let o=this._getTrigger(t),s=new wd(this.id,t,e),a=this._engine.statesByElement.get(e);a||(Fn(e,md),Fn(e,md+"-"+t),this._engine.statesByElement.set(e,a=new Map));let c=a.get(t),l=new Id(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),a.set(t,l),c||(c=kD),!(l.value===_d)&&c.value===l.value){if(!JK(c.params,l.params)){let A=[],D=o.matchStyles(c.value,c.params,A),M=o.matchStyles(l.value,l.params,A);A.length?this._engine.reportError(A):this._engine.afterFlush(()=>{Eo(e,D),Xn(e,M)})}return}let g=ln(this._engine.playersByElement,e,[]);g.forEach(A=>{A.namespaceId==this.id&&A.triggerName==t&&A.queued&&A.destroy()});let m=o.matchTransition(c.value,l.value,e,l.params),E=!1;if(!m){if(!i)return;m=o.fallbackTransition,E=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:m,fromState:c,toState:l,player:s,isFallbackTransition:E}),E||(Fn(e,iL),s.onStart(()=>{kc(e,iL)})),s.onDone(()=>{let A=this.players.indexOf(s);A>=0&&this.players.splice(A,1);let D=this._engine.playersByElement.get(e);if(D){let M=D.indexOf(s);M>=0&&D.splice(M,1)}}),this.players.push(s),g.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let r=this._engine.driver.query(e,yd,!0);r.forEach(i=>{if(i[er])return;let o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){let o=this._engine.statesByElement.get(e),s=new Map;if(o){let a=[];if(o.forEach((c,l)=>{if(s.set(l,c.value),this._triggers.has(l)){let d=this.trigger(e,l,_d,i);d&&a.push(d)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),r&&pi(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){let i=new Set;t.forEach(o=>{let s=o.name;if(i.has(s))return;i.add(s);let c=this._triggers.get(s).fallbackTransition,l=r.get(s)||kD,d=new Id(_d),f=new wd(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:c,fromState:l,toState:d,player:f,isFallbackTransition:!0})})}}removeNode(e,t){let r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){let o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else{let s=e;for(;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{let o=e[er];(!o||o===fL)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Fn(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach(r=>{let i=r.player;if(i.destroyed)return;let o=r.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==r.triggerName){let c=Rm(o,r.triggerName,r.fromState.value,r.toState.value);c._data=e,Am(r.player,a.phase,c,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{let o=r.transition.ast.depCount,s=i.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},qD=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(e,t)=>{};_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){let r=new HD(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){let r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){let c=i.get(a);if(c){let l=r.indexOf(c);r.splice(l+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);let i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,r=this.statesByElement.get(e);if(r){for(let i of r.values())if(i.namespaceId){let o=this._fetchNamespace(i.namespaceId);o&&t.add(o)}}return t}trigger(e,t,r,i){if(Lm(t)){let o=this._fetchNamespace(e);if(o)return o.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!Lm(t))return;let o=t[er];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){let s=this._fetchNamespace(e);s&&s.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Fn(e,PD)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),kc(e,PD))}removeNode(e,t,r){if(Lm(t)){let i=e?this._fetchNamespace(e):null;i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r);let o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,r,i,o){this.collectedLeaveElements.push(t),t[er]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,r,i,o){return Lm(t)?this._fetchNamespace(e).listen(t,r,i,o):()=>{}}_buildInstruction(e,t,r,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,yd,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,Pm,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return pi(this.players).onDone(()=>e());e()})}processLeaveNode(e){let t=e[er];if(t&&t.setForRemoval){if(e[er]=fL,t.namespaceId){this.destroyInnerAnimations(e);let r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(PD)&&this.markElementAsDisabled(e,!1),this.driver.query(e,BK,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let i=this.collectedEnterElements[r];Fn(i,$K)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let i=this.collectedLeaveElements[r];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],t.length?pi(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw GF(e)}_flushAnimations(e,t){let r=new Ed,i=[],o=new Map,s=[],a=new Map,c=new Map,l=new Map,d=new Set;this.disabledNodes.forEach(K=>{d.add(K);let Y=this.driver.query(K,UK,!0);for(let Z=0;Z<Y.length;Z++)d.add(Y[Z])});let f=this.bodyNode,g=Array.from(this.statesByElement.keys()),m=aL(g,this.collectedEnterElements),E=new Map,A=0;m.forEach((K,Y)=>{let Z=CD+A++;E.set(Y,Z),K.forEach(me=>Fn(me,Z))});let D=[],M=new Set,L=new Set;for(let K=0;K<this.collectedLeaveElements.length;K++){let Y=this.collectedLeaveElements[K],Z=Y[er];Z&&Z.setForRemoval&&(D.push(Y),M.add(Y),Z.hasAnimation?this.driver.query(Y,HK,!0).forEach(me=>M.add(me)):L.add(Y))}let H=new Map,W=aL(g,Array.from(M));W.forEach((K,Y)=>{let Z=Mm+A++;H.set(Y,Z),K.forEach(me=>Fn(me,Z))}),e.push(()=>{m.forEach((K,Y)=>{let Z=E.get(Y);K.forEach(me=>kc(me,Z))}),W.forEach((K,Y)=>{let Z=H.get(Y);K.forEach(me=>kc(me,Z))}),D.forEach(K=>{this.processLeaveNode(K)})});let Te=[],te=[];for(let K=this._namespaceList.length-1;K>=0;K--)this._namespaceList[K].drainQueuedTransitions(t).forEach(Z=>{let me=Z.player,Xe=Z.element;if(Te.push(me),this.collectedEnterElements.length){let Ge=Xe[er];if(Ge&&Ge.setForMove){if(Ge.previousTriggersValues&&Ge.previousTriggersValues.has(Z.triggerName)){let Rr=Ge.previousTriggersValues.get(Z.triggerName),Xt=this.statesByElement.get(Z.element);if(Xt&&Xt.has(Z.triggerName)){let Nr=Xt.get(Z.triggerName);Nr.value=Rr,Xt.set(Z.triggerName,Nr)}}me.destroy();return}}let bn=!f||!this.driver.containsElement(f,Xe),ze=H.get(Xe),Fe=E.get(Xe),Le=this._buildInstruction(Z,r,Fe,ze,bn);if(Le.errors&&Le.errors.length){te.push(Le);return}if(bn){me.onStart(()=>Eo(Xe,Le.fromStyles)),me.onDestroy(()=>Xn(Xe,Le.toStyles)),i.push(me);return}if(Z.isFallbackTransition){me.onStart(()=>Eo(Xe,Le.fromStyles)),me.onDestroy(()=>Xn(Xe,Le.toStyles)),i.push(me);return}let mi=[];Le.timelines.forEach(Ge=>{Ge.stretchStartingKeyframe=!0,this.disabledNodes.has(Ge.element)||mi.push(Ge)}),Le.timelines=mi,r.append(Xe,Le.timelines);let Km={instruction:Le,player:me,element:Xe};s.push(Km),Le.queriedElements.forEach(Ge=>ln(a,Ge,[]).push(me)),Le.preStyleProps.forEach((Ge,Rr)=>{if(Ge.size){let Xt=c.get(Rr);Xt||c.set(Rr,Xt=new Set),Ge.forEach((Nr,yi)=>Xt.add(yi))}}),Le.postStyleProps.forEach((Ge,Rr)=>{let Xt=l.get(Rr);Xt||l.set(Rr,Xt=new Set),Ge.forEach((Nr,yi)=>Xt.add(yi))})});if(te.length){let K=[];te.forEach(Y=>{K.push(WF(Y.triggerName,Y.errors))}),Te.forEach(Y=>Y.destroy()),this.reportError(K)}let T=new Map,_=new Map;s.forEach(K=>{let Y=K.element;r.has(Y)&&(_.set(Y,Y),this._beforeAnimationBuild(K.player.namespaceId,K.instruction,T))}),i.forEach(K=>{let Y=K.element;this._getPreviousPlayers(Y,!1,K.namespaceId,K.triggerName,null).forEach(me=>{ln(T,Y,[]).push(me),me.destroy()})});let I=D.filter(K=>cL(K,c,l)),b=new Map;sL(b,this.driver,L,l,Zn).forEach(K=>{cL(K,c,l)&&I.push(K)});let R=new Map;m.forEach((K,Y)=>{sL(R,this.driver,new Set(K),c,gd)}),I.forEach(K=>{let Y=b.get(K),Z=R.get(K);b.set(K,new Map([...Y?.entries()??[],...Z?.entries()??[]]))});let w=[],Tn=[],gi={};s.forEach(K=>{let{element:Y,player:Z,instruction:me}=K;if(r.has(Y)){if(d.has(Y)){Z.onDestroy(()=>Xn(Y,me.toStyles)),Z.disabled=!0,Z.overrideTotalTime(me.totalTime),i.push(Z);return}let Xe=gi;if(_.size>1){let ze=Y,Fe=[];for(;ze=ze.parentNode;){let Le=_.get(ze);if(Le){Xe=Le;break}Fe.push(ze)}Fe.forEach(Le=>_.set(Le,Xe))}let bn=this._buildAnimation(Z.namespaceId,me,T,o,R,b);if(Z.setRealPlayer(bn),Xe===gi)w.push(Z);else{let ze=this.playersByElement.get(Xe);ze&&ze.length&&(Z.parentPlayer=pi(ze)),i.push(Z)}}else Eo(Y,me.fromStyles),Z.onDestroy(()=>Xn(Y,me.toStyles)),Tn.push(Z),d.has(Y)&&i.push(Z)}),Tn.forEach(K=>{let Y=o.get(K.element);if(Y&&Y.length){let Z=pi(Y);K.setRealPlayer(Z)}}),i.forEach(K=>{K.parentPlayer?K.syncPlayerEvents(K.parentPlayer):K.destroy()});for(let K=0;K<D.length;K++){let Y=D[K],Z=Y[er];if(kc(Y,Mm),Z&&Z.hasAnimation)continue;let me=[];if(a.size){let bn=a.get(Y);bn&&bn.length&&me.push(...bn);let ze=this.driver.query(Y,Pm,!0);for(let Fe=0;Fe<ze.length;Fe++){let Le=a.get(ze[Fe]);Le&&Le.length&&me.push(...Le)}}let Xe=me.filter(bn=>!bn.destroyed);Xe.length?QK(this,Y,Xe):this.processLeaveNode(Y)}return D.length=0,w.forEach(K=>{this.players.push(K),K.onDone(()=>{K.destroy();let Y=this.players.indexOf(K);this.players.splice(Y,1)}),K.play()}),w}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,o){let s=[];if(t){let a=this.playersByQueriedElement.get(e);a&&(s=a)}else{let a=this.playersByElement.get(e);if(a){let c=!o||o==_d;a.forEach(l=>{l.queued||!c&&l.triggerName!=i||s.push(l)})}}return(r||i)&&(s=s.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(e,t,r){let i=t.triggerName,o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:i;for(let c of t.timelines){let l=c.element,d=l!==o,f=ln(r,l,[]);this._getPreviousPlayers(l,d,s,a,t.toState).forEach(m=>{let E=m.getRealPlayer();E.beforeDestroy&&E.beforeDestroy(),m.destroy(),f.push(m)})}Eo(o,t.fromStyles)}_buildAnimation(e,t,r,i,o,s){let a=t.triggerName,c=t.element,l=[],d=new Set,f=new Set,g=t.timelines.map(E=>{let A=E.element;d.add(A);let D=A[er];if(D&&D.removedBeforeQueried)return new fi(E.duration,E.delay);let M=A!==c,L=YK((r.get(A)||qK).map(T=>T.getRealPlayer())).filter(T=>{let _=T;return _.element?_.element===A:!1}),H=o.get(A),W=s.get(A),Te=wD(this._normalizer,E.keyframes,H,W),te=this._buildPlayer(E,Te,L);if(E.subTimeline&&i&&f.add(A),M){let T=new wd(e,a,A);T.setRealPlayer(te),l.push(T)}return te});l.forEach(E=>{ln(this.playersByQueriedElement,E.element,[]).push(E),E.onDone(()=>GK(this.playersByQueriedElement,E.element,E))}),d.forEach(E=>Fn(E,AD));let m=pi(g);return m.onDestroy(()=>{d.forEach(E=>kc(E,AD)),Xn(c,t.toStyles)}),f.forEach(E=>{ln(i,E,[]).push(m)}),m}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new fi(e.duration,e.delay)}},wd=class{namespaceId;triggerName;element;_player=new fi;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>Am(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){ln(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};function GK(n,e,t){let r=n.get(e);if(r){if(r.length){let i=r.indexOf(t);r.splice(i,1)}r.length==0&&n.delete(e)}return r}function WK(n){return n??null}function Lm(n){return n&&n.nodeType===1}function KK(n){return n=="start"||n=="done"}function oL(n,e){let t=n.style.display;return n.style.display=e??"none",t}function sL(n,e,t,r,i){let o=[];t.forEach(c=>o.push(oL(c)));let s=[];r.forEach((c,l)=>{let d=new Map;c.forEach(f=>{let g=e.computeStyle(l,f,i);d.set(f,g),(!g||g.length==0)&&(l[er]=zK,s.push(l))}),n.set(l,d)});let a=0;return t.forEach(c=>oL(c,o[a++])),s}function aL(n,e){let t=new Map;if(n.forEach(a=>t.set(a,[])),e.length==0)return t;let r=1,i=new Set(e),o=new Map;function s(a){if(!a)return r;let c=o.get(a);if(c)return c;let l=a.parentNode;return t.has(l)?c=l:i.has(l)?c=r:c=s(l),o.set(a,c),c}return e.forEach(a=>{let c=s(a);c!==r&&t.get(c).push(a)}),t}function Fn(n,e){n.classList?.add(e)}function kc(n,e){n.classList?.remove(e)}function QK(n,e,t){pi(t).onDone(()=>n.processLeaveNode(e))}function YK(n){let e=[];return pL(n,e),e}function pL(n,e){for(let t=0;t<n.length;t++){let r=n[t];r instanceof Nc?pL(r.players,e):e.push(r)}}function JK(n,e){let t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){let o=t[i];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}function cL(n,e,t){let r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(o=>i.add(o)):e.set(n,r),t.delete(n),!0}var Oc=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(e,t)=>{};constructor(e,t,r){this._driver=t,this._normalizer=r,this._transitionEngine=new qD(e.body,t,r),this._timelineEngine=new $D(e.body,t,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(e,t,r,i,o){let s=e+"-"+i,a=this._triggerCache[s];if(!a){let c=[],l=[],d=lL(this._driver,o,c,l);if(c.length)throw LF(i,c);a=LK(i,d,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r){this._transitionEngine.removeNode(e,t,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if(r.charAt(0)=="@"){let[o,s]=TD(r),a=i;this._timelineEngine.command(o,t,s,a)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,o){if(r.charAt(0)=="@"){let[s,a]=TD(r);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,r,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function ZK(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=OD(e[0]),e.length>1&&(r=OD(e[e.length-1]))):e instanceof Map&&(t=OD(e)),t||r?new XK(n,t,r):null}var XK=(()=>{class n{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Xn(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Xn(this._element,this._initialStyles),this._endStyles&&(Xn(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Eo(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Eo(this._element,this._endStyles),this._endStyles=null),Xn(this._element,this._initialStyles),this._state=3)}}return n})();function OD(n){let e=null;return n.forEach((t,r)=>{e7(r)&&(e=e||new Map,e.set(r,t))}),e}function e7(n){return n==="display"||n==="position"}var qm=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer=null;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer()&&this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return this.domPlayer;this._initialized=!0;let e=this.keyframes,t=this._triggerWebAnimation(this.element,e,this.options);if(!t)return this._onFinish(),null;this.domPlayer=t,this._finalKeyframe=e.length?e[e.length-1]:new Map;let r=()=>this._onFinish();return t.addEventListener("finish",r),this.onDestroy(()=>{t.removeEventListener("finish",r)}),t}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer?.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){let i=this._convertKeyframesToObject(t);try{return e.animate(i,r)}catch{return null}}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){let e=this._buildPlayer();e&&(this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),e.play())}pause(){this.init(),this.domPlayer?.pause()}finish(){this.init(),this.domPlayer&&(this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish())}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer?.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer||this.init(),this.domPlayer&&(this.domPlayer.currentTime=e*this.time)}getPosition(){return this.domPlayer?+(this.domPlayer.currentTime??0)/this.time:this._initialized?1:0}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{i!=="offset"&&e.set(i,this._finished?r:Om(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},zm=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,t){return bD(e,t)}getParentElement(e){return Nm(e)}query(e,t,r){return DD(e,t,r)}computeStyle(e,t,r){return Om(e,t)}animate(e,t,r,i,o,s=[]){let a=i==0?"both":"forwards",c={duration:r,delay:i,fill:a};o&&(c.easing=o);let l=new Map,d=s.filter(m=>m instanceof qm);JF(r,i)&&d.forEach(m=>{m.currentSnapshot.forEach((E,A)=>l.set(A,E))});let f=QF(t).map(m=>new Map(m));f=ZF(e,f,l);let g=ZK(e,f);return new qm(e,f,c,g)}};var Vm="@",gL="@.disabled",Gm=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r,i){if(i){this.delegate.removeChild(e,t,r,i);return}this.parentNode(t)&&this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){t.charAt(0)==Vm&&t==gL?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r,i){return this.delegate.listen(e,t,r,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},zD=class extends Gm{factory;constructor(e,t,r,i,o){super(t,r,i,o),this.factory=e,this.namespaceId=t}setProperty(e,t,r){t.charAt(0)==Vm?t.charAt(1)=="."&&t==gL?(r=r===void 0?!0:!!r,this.disableAnimations(e,r)):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r,i){if(t.charAt(0)==Vm){let o=t7(e),s=t.slice(1),a="";return s.charAt(0)!=Vm&&([s,a]=n7(s)),this.engine.listen(this.namespaceId,o,s,a,c=>{let l=c._data||-1;this.factory.scheduleListenerCallback(l,r,c)})}return this.delegate.listen(e,t,r,i)}};function t7(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function n7(n){let e=n.indexOf("."),t=n.substring(0,e),r=n.slice(e+1);return[t,r]}var Wm=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(e,t,r){this.delegate=e,this.engine=t,this._zone=r,t.onRemovalComplete=(i,o)=>{o?.removeChild(null,i)}}createRenderer(e,t){let i=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let l=this._rendererCache,d=l.get(i);if(!d){let f=()=>l.delete(i);d=new Gm("",i,this.engine,f),l.set(i,d)}return d}let o=t.id,s=t.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);let a=l=>{Array.isArray(l)?l.forEach(a):this.engine.registerTrigger(o,s,e,l.name,l)};return t.data.animation.forEach(a),new zD(this,s,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,r){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(r));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),i.push([t,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(e){this.engine.flush(),this.delegate.componentReplaced?.(e)}};var i7=(()=>{class n extends Oc{constructor(t,r,i){super(t,r,i)}ngOnDestroy(){this.flush()}static \u0275fac=function(r){return new(r||n)(Q(tt),Q(js),Q(Us))};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})();function o7(){return new jm}function s7(n,e,t){return new Wm(n,e,t)}var mL=[{provide:Us,useFactory:o7},{provide:Oc,useClass:i7},{provide:Br,useFactory:s7,deps:[Ju,Oc,Se]}],rve=[{provide:js,useClass:GD},{provide:vf,useValue:"NoopAnimations"},...mL],a7=[{provide:js,useFactory:()=>new zm},{provide:vf,useFactory:()=>"BrowserAnimations"},...mL];function yL(){return Pu("NgEagerAnimations"),[...a7]}var vL={providers:[yL()]};var _L={production:!1,firebase:{apiKey:"AIzaSyAaMlW2sXETkZAjW35RRATQdasQEd79-lA",authDomain:"billdb-ed1c5.firebaseapp.com",databaseURL:"https://billdb-ed1c5.firebaseio.com",projectId:"billdb-ed1c5",storageBucket:"billdb-ed1c5.firebasestorage.app",messagingSenderId:"1015027202177",appId:"1:1015027202177:web:b7ae44b371301b4e2cb580",measurementId:"G-L93N0HX7JW",web_push_key:"BBSYVqVm5z1wEV2R2OIIJPmvpGGbQdyNu6hVRPRmhrvd7lVK3MkmjPI2AvKrpM7cnCLyY7ZtuDXLYTClVvUKcjg"}};TE(zp,{providers:[YE(_F),SE(),...vL.providers,aP(()=>cP(_L.firebase)),SO(()=>AO()),dF(()=>fF())]}).catch(n=>console.error(n));

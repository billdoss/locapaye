var jF=Object.defineProperty,UF=Object.defineProperties;var BF=Object.getOwnPropertyDescriptors;var Md=Object.getOwnPropertySymbols,$F=Object.getPrototypeOf,EC=Object.prototype.hasOwnProperty,IC=Object.prototype.propertyIsEnumerable,HF=Reflect.get;var _C=(n,e,t)=>e in n?jF(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,F=(n,e)=>{for(var t in e||={})EC.call(e,t)&&_C(n,t,e[t]);if(Md)for(var t of Md(e))IC.call(e,t)&&_C(n,t,e[t]);return n},de=(n,e)=>UF(n,BF(e));var oy=(n,e)=>{var t={};for(var r in n)EC.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&Md)for(var r of Md(n))e.indexOf(r)<0&&IC.call(n,r)&&(t[r]=n[r]);return t};var gi=(n,e,t)=>HF($F(n),t,e);var _=(n,e,t)=>new Promise((r,i)=>{var o=c=>{try{a(t.next(c))}catch(l){i(l)}},s=c=>{try{a(t.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((t=t.apply(n,e)).next())});var sy;function Pd(){return sy}function Xn(n){let e=sy;return sy=n,e}var wC=Symbol("NotFound");function Ls(n){return n===wC||n?.name==="\u0275NotFound"}var xt=null,kd=!1,ay=1,zF=null,Ot=Symbol("SIGNAL");function fe(n){let e=xt;return xt=n,e}function Ld(){return xt}var Vs={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function js(n){if(kd)throw new Error("");if(xt===null)return;xt.consumerOnSignalRead(n);let e=xt.producersTail;if(e!==void 0&&e.producer===n)return;let t,r=xt.recomputing;if(r&&(t=e!==void 0?e.nextProducer:xt.producers,t!==void 0&&t.producer===n)){xt.producersTail=t,t.lastReadVersion=n.version;return}let i=n.consumersTail;if(i!==void 0&&i.consumer===xt&&(!r||GF(i,xt)))return;let o=Bs(xt),s={producer:n,consumer:xt,nextProducer:t,prevConsumer:i,lastReadVersion:n.version,nextConsumer:void 0};xt.producersTail=s,e!==void 0?e.nextProducer=s:xt.producers=s,o&&CC(n,s)}function TC(){ay++}function Vd(n){if(!(Bs(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===ay)){if(!n.producerMustRecompute(n)&&!Hc(n)){Fd(n);return}n.producerRecomputeValue(n),Fd(n)}}function cy(n){if(n.consumers===void 0)return;let e=kd;kd=!0;try{for(let t=n.consumers;t!==void 0;t=t.nextConsumer){let r=t.consumer;r.dirty||qF(r)}}finally{kd=e}}function uy(){return xt?.consumerAllowSignalWrites!==!1}function qF(n){n.dirty=!0,cy(n),n.consumerMarkedDirty?.(n)}function Fd(n){n.dirty=!1,n.lastCleanEpoch=ay}function Us(n){return n&&bC(n),fe(n)}function bC(n){n.producersTail=void 0,n.recomputing=!0}function $c(n,e){fe(e),n&&DC(n)}function DC(n){n.recomputing=!1;let e=n.producersTail,t=e!==void 0?e.nextProducer:n.producers;if(t!==void 0){if(Bs(n))do t=ly(t);while(t!==void 0);e!==void 0?e.nextProducer=void 0:n.producers=void 0}}function Hc(n){for(let e=n.producers;e!==void 0;e=e.nextProducer){let t=e.producer,r=e.lastReadVersion;if(r!==t.version||(Vd(t),r!==t.version))return!0}return!1}function zc(n){if(Bs(n)){let e=n.producers;for(;e!==void 0;)e=ly(e)}n.producers=void 0,n.producersTail=void 0,n.consumers=void 0,n.consumersTail=void 0}function CC(n,e){let t=n.consumersTail,r=Bs(n);if(t!==void 0?(e.nextConsumer=t.nextConsumer,t.nextConsumer=e):(e.nextConsumer=void 0,n.consumers=e),e.prevConsumer=t,n.consumersTail=e,!r)for(let i=n.producers;i!==void 0;i=i.nextProducer)CC(i.producer,i)}function ly(n){let e=n.producer,t=n.nextProducer,r=n.nextConsumer,i=n.prevConsumer;if(n.nextConsumer=void 0,n.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!Bs(e)){let o=e.producers;for(;o!==void 0;)o=ly(o)}return t}function Bs(n){return n.consumerIsAlwaysLive||n.consumers!==void 0}function jd(n){zF?.(n)}function GF(n,e){let t=e.producersTail;if(t!==void 0){let r=e.producers;do{if(r===n)return!0;if(r===t)break;r=r.nextProducer}while(r!==void 0)}return!1}function Ud(n,e){return Object.is(n,e)}function Bd(n,e){let t=Object.create(WF);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(Vd(t),js(t),t.value===Bc)throw t.error;return t.value};return r[Ot]=t,jd(t),r}var xd=Symbol("UNSET"),Od=Symbol("COMPUTING"),Bc=Symbol("ERRORED"),WF=de(F({},Vs),{value:xd,dirty:!0,error:null,equal:Ud,kind:"computed",producerMustRecompute(n){return n.value===xd||n.value===Od},producerRecomputeValue(n){if(n.value===Od)throw new Error("");let e=n.value;n.value=Od;let t=Us(n),r,i=!1;try{r=n.computation(),fe(null),i=e!==xd&&e!==Bc&&r!==Bc&&n.equal(e,r)}catch(o){r=Bc,n.error=o}finally{$c(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function KF(){throw new Error}var SC=KF;function AC(n){SC(n)}function dy(n){SC=n}var QF=null;function hy(n,e){let t=Object.create($d);t.value=n,e!==void 0&&(t.equal=e);let r=()=>RC(t);return r[Ot]=t,jd(t),[r,s=>$s(t,s),s=>fy(t,s)]}function RC(n){return js(n),n.value}function $s(n,e){uy()||AC(n),n.equal(n.value,e)||(n.value=e,YF(n))}function fy(n,e){uy()||AC(n),$s(n,e(n.value))}var $d=de(F({},Vs),{equal:Ud,value:void 0,kind:"signal"});function YF(n){n.version++,TC(),cy(n),QF?.(n)}function ce(n){return typeof n=="function"}function Hs(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Hd=Hs(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Io(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Ge=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(ce(r))try{r()}catch(o){e=o instanceof Hd?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{NC(o)}catch(s){e=e??[],s instanceof Hd?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Hd(e)}}add(e){var t;if(e&&e!==this)if(this.closed)NC(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Io(t,e)}remove(e){let{_finalizers:t}=this;t&&Io(t,e),e instanceof n&&e._removeParent(this)}};Ge.EMPTY=(()=>{let n=new Ge;return n.closed=!0,n})();var py=Ge.EMPTY;function zd(n){return n instanceof Ge||n&&"closed"in n&&ce(n.remove)&&ce(n.add)&&ce(n.unsubscribe)}function NC(n){ce(n)?n():n.unsubscribe()}var On={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var zs={setTimeout(n,e,...t){let{delegate:r}=zs;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=zs;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function qd(n){zs.setTimeout(()=>{let{onUnhandledError:e}=On;if(e)e(n);else throw n})}function qc(){}var MC=gy("C",void 0,void 0);function PC(n){return gy("E",void 0,n)}function kC(n){return gy("N",n,void 0)}function gy(n,e,t){return{kind:n,value:e,error:t}}var wo=null;function qs(n){if(On.useDeprecatedSynchronousErrorHandling){let e=!wo;if(e&&(wo={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=wo;if(wo=null,t)throw r}}else n()}function xC(n){On.useDeprecatedSynchronousErrorHandling&&wo&&(wo.errorThrown=!0,wo.error=n)}var To=class extends Ge{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,zd(e)&&e.add(this)):this.destination=XF}static create(e,t,r){return new Gs(e,t,r)}next(e){this.isStopped?yy(kC(e),this):this._next(e)}error(e){this.isStopped?yy(PC(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?yy(MC,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},JF=Function.prototype.bind;function my(n,e){return JF.call(n,e)}var vy=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Gd(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Gd(r)}else Gd(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Gd(t)}}},Gs=class extends To{constructor(e,t,r){super();let i;if(ce(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&On.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&my(e.next,o),error:e.error&&my(e.error,o),complete:e.complete&&my(e.complete,o)}):i=e}this.destination=new vy(i)}};function Gd(n){On.useDeprecatedSynchronousErrorHandling?xC(n):qd(n)}function ZF(n){throw n}function yy(n,e){let{onStoppedNotification:t}=On;t&&zs.setTimeout(()=>t(n,e))}var XF={closed:!0,next:qc,error:ZF,complete:qc};var Ws=typeof Symbol=="function"&&Symbol.observable||"@@observable";function un(n){return n}function Wd(...n){return _y(n)}function _y(n){return n.length===0?un:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var ie=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=tL(t)?t:new Gs(t,r,i);return qs(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=OC(r),new r((i,o)=>{let s=new Gs({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Ws](){return this}pipe(...t){return _y(t)(this)}toPromise(t){return t=OC(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function OC(n){var e;return(e=n??On.Promise)!==null&&e!==void 0?e:Promise}function eL(n){return n&&ce(n.next)&&ce(n.error)&&ce(n.complete)}function tL(n){return n&&n instanceof To||eL(n)&&zd(n)}function Ey(n){return ce(n?.lift)}function Ie(n){return e=>{if(Ey(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function _e(n,e,t,r,i){return new Iy(n,e,t,r,i)}var Iy=class extends To{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Ks(){return Ie((n,e)=>{let t=null;n._refCount++;let r=_e(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var Qs=class extends ie{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Ey(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ge;let t=this.getSubject();e.add(this.source.subscribe(_e(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ge.EMPTY)}return e}refCount(){return Ks()(this)}};var FC=Hs(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var rt=(()=>{class n extends ie{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Kd(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new FC}next(t){qs(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){qs(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){qs(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?py:(this.currentObservers=null,o.push(t),new Ge(()=>{this.currentObservers=null,Io(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new ie;return t.source=this,t}}return n.create=(e,t)=>new Kd(e,t),n})(),Kd=class extends rt{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:py}};var Ct=class extends rt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var wy={now(){return(wy.delegate||Date).now()},delegate:void 0};var Qd=class extends Ge{constructor(e,t){super()}schedule(e,t=0){return this}};var Gc={setInterval(n,e,...t){let{delegate:r}=Gc;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Gc;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Ys=class extends Qd{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return Gc.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&Gc.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Io(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Js=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};Js.now=wy.now;var Zs=class extends Js{constructor(e,t=Js.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var Ty=new Zs(Ys);var Yd=class extends Ys{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var Jd=class extends Zs{};var by=new Jd(Yd);var Jt=new ie(n=>n.complete());function LC(n){return n&&ce(n.schedule)}function VC(n){return n[n.length-1]}function Zd(n){return ce(VC(n))?n.pop():void 0}function mi(n){return LC(VC(n))?n.pop():void 0}function Dy(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function UC(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{l(r.next(d))}catch(f){s(f)}}function c(d){try{l(r.throw(d))}catch(f){s(f)}}function l(d){d.done?o(d.value):i(d.value).then(a,c)}l((r=r.apply(n,e||[])).next())})}function jC(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function bo(n){return this instanceof bo?(this.v=n,this):new bo(n)}function BC(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(m){return function(E){return Promise.resolve(E).then(m,f)}}function a(m,E){r[m]&&(i[m]=function(A){return new Promise(function(D,M){o.push([m,A,D,M])>1||c(m,A)})},E&&(i[m]=E(i[m])))}function c(m,E){try{l(r[m](E))}catch(A){g(o[0][3],A)}}function l(m){m.value instanceof bo?Promise.resolve(m.value.v).then(d,f):g(o[0][2],m)}function d(m){c("next",m)}function f(m){c("throw",m)}function g(m,E){m(E),o.shift(),o.length&&c(o[0][0],o[0][1])}}function $C(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof jC=="function"?jC(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,c){s=n[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var Xd=n=>n&&typeof n.length=="number"&&typeof n!="function";function eh(n){return ce(n?.then)}function th(n){return ce(n[Ws])}function nh(n){return Symbol.asyncIterator&&ce(n?.[Symbol.asyncIterator])}function rh(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function nL(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ih=nL();function oh(n){return ce(n?.[ih])}function sh(n){return BC(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield bo(t.read());if(i)return yield bo(void 0);yield yield bo(r)}}finally{t.releaseLock()}})}function ah(n){return ce(n?.getReader)}function it(n){if(n instanceof ie)return n;if(n!=null){if(th(n))return rL(n);if(Xd(n))return iL(n);if(eh(n))return oL(n);if(nh(n))return HC(n);if(oh(n))return sL(n);if(ah(n))return aL(n)}throw rh(n)}function rL(n){return new ie(e=>{let t=n[Ws]();if(ce(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function iL(n){return new ie(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function oL(n){return new ie(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,qd)})}function sL(n){return new ie(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function HC(n){return new ie(e=>{cL(n,e).catch(t=>e.error(t))})}function aL(n){return HC(sh(n))}function cL(n,e){var t,r,i,o;return UC(this,void 0,void 0,function*(){try{for(t=$C(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function Zt(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function yi(n,e=0){return Ie((t,r)=>{t.subscribe(_e(r,i=>Zt(r,n,()=>r.next(i),e),()=>Zt(r,n,()=>r.complete(),e),i=>Zt(r,n,()=>r.error(i),e)))})}function vi(n,e=0){return Ie((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function zC(n,e){return it(n).pipe(vi(e),yi(e))}function qC(n,e){return it(n).pipe(vi(e),yi(e))}function GC(n,e){return new ie(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function WC(n,e){return new ie(t=>{let r;return Zt(t,e,()=>{r=n[ih](),Zt(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>ce(r?.return)&&r.return()})}function ch(n,e){if(!n)throw new Error("Iterable cannot be null");return new ie(t=>{Zt(t,e,()=>{let r=n[Symbol.asyncIterator]();Zt(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function KC(n,e){return ch(sh(n),e)}function QC(n,e){if(n!=null){if(th(n))return zC(n,e);if(Xd(n))return GC(n,e);if(eh(n))return qC(n,e);if(nh(n))return ch(n,e);if(oh(n))return WC(n,e);if(ah(n))return KC(n,e)}throw rh(n)}function Be(n,e){return e?QC(n,e):it(n)}function ne(...n){let e=mi(n);return Be(n,e)}function Xs(n,e){let t=ce(n)?n:()=>n,r=i=>i.error(t());return new ie(e?i=>e.schedule(r,0,i):r)}function Cy(n){return!!n&&(n instanceof ie||ce(n.lift)&&ce(n.subscribe))}var Mr=Hs(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function oe(n,e){return Ie((t,r)=>{let i=0;t.subscribe(_e(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:uL}=Array;function lL(n,e){return uL(e)?n(...e):n(e)}function uh(n){return oe(e=>lL(n,e))}var{isArray:dL}=Array,{getPrototypeOf:hL,prototype:fL,keys:pL}=Object;function lh(n){if(n.length===1){let e=n[0];if(dL(e))return{args:e,keys:null};if(gL(e)){let t=pL(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function gL(n){return n&&typeof n=="object"&&hL(n)===fL}function dh(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function hh(...n){let e=mi(n),t=Zd(n),{args:r,keys:i}=lh(n);if(r.length===0)return Be([],e);let o=new ie(mL(r,e,i?s=>dh(i,s):un));return t?o.pipe(uh(t)):o}function mL(n,e,t=un){return r=>{YC(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)YC(e,()=>{let l=Be(n[c],e),d=!1;l.subscribe(_e(r,f=>{o[c]=f,d||(d=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function YC(n,e,t){n?Zt(t,n,e):e()}function JC(n,e,t,r,i,o,s,a){let c=[],l=0,d=0,f=!1,g=()=>{f&&!c.length&&!l&&e.complete()},m=A=>l<r?E(A):c.push(A),E=A=>{o&&e.next(A),l++;let D=!1;it(t(A,d++)).subscribe(_e(e,M=>{i?.(M),o?m(M):e.next(M)},()=>{D=!0},void 0,()=>{if(D)try{for(l--;c.length&&l<r;){let M=c.shift();s?Zt(e,s,()=>E(M)):E(M)}g()}catch(M){e.error(M)}}))};return n.subscribe(_e(e,m,()=>{f=!0,g()})),()=>{a?.()}}function ht(n,e,t=1/0){return ce(e)?ht((r,i)=>oe((o,s)=>e(r,o,i,s))(it(n(r,i))),t):(typeof e=="number"&&(t=e),Ie((r,i)=>JC(r,i,n,t)))}function ZC(n=1/0){return ht(un,n)}function XC(){return ZC(1)}function ea(...n){return XC()(Be(n,mi(n)))}function Wc(n){return new ie(e=>{it(n()).subscribe(e)})}function Sy(...n){let e=Zd(n),{args:t,keys:r}=lh(n),i=new ie(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let d=0;d<s;d++){let f=!1;it(t[d]).subscribe(_e(o,g=>{f||(f=!0,l--),a[d]=g},()=>c--,void 0,()=>{(!c||!f)&&(l||o.next(r?dh(r,a):a),o.complete())}))}});return e?i.pipe(uh(e)):i}function zt(n,e){return Ie((t,r)=>{let i=0;t.subscribe(_e(r,o=>n.call(e,o,i++)&&r.next(o)))})}function _i(n){return Ie((e,t)=>{let r=null,i=!1,o;r=e.subscribe(_e(t,void 0,void 0,s=>{o=it(n(s,_i(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function eS(n,e,t,r,i){return(o,s)=>{let a=t,c=e,l=0;o.subscribe(_e(s,d=>{let f=l++;c=a?n(c,d,f):(a=!0,d),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function Ei(n,e){return ce(e)?ht(n,e,1):ht(n,1)}function Ii(n){return Ie((e,t)=>{let r=!1;e.subscribe(_e(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Pr(n){return n<=0?()=>Jt:Ie((e,t)=>{let r=0;e.subscribe(_e(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function fh(n=yL){return Ie((e,t)=>{let r=!1;e.subscribe(_e(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function yL(){return new Mr}function Do(n){return Ie((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function kr(n,e){let t=arguments.length>=2;return r=>r.pipe(n?zt((i,o)=>n(i,o,r)):un,Pr(1),t?Ii(e):fh(()=>new Mr))}function ta(n){return n<=0?()=>Jt:Ie((e,t)=>{let r=[];e.subscribe(_e(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Ay(n,e){let t=arguments.length>=2;return r=>r.pipe(n?zt((i,o)=>n(i,o,r)):un,ta(1),t?Ii(e):fh(()=>new Mr))}function ph(n,e){return Ie(eS(n,e,arguments.length>=2,!0))}function gh(...n){let e=mi(n);return Ie((t,r)=>{(e?ea(n,t,e):ea(n,t)).subscribe(r)})}function Ft(n,e){return Ie((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(_e(r,c=>{i?.unsubscribe();let l=0,d=o++;it(n(c,d)).subscribe(i=_e(r,f=>r.next(e?e(c,f,d,l++):f),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function mh(n){return Ie((e,t)=>{it(n).subscribe(_e(t,()=>t.complete(),qc)),!t.closed&&e.subscribe(t)})}function vt(n,e,t){let r=ce(n)||e||t?{next:n,error:e,complete:t}:n;return r?Ie((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(_e(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):un}function tS(n){let e=fe(null);try{return n()}finally{fe(e)}}var So=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},By=new So("20.3.9");var Eh="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",P=class extends Error{code;constructor(e,t){super(Mo(e,t)),this.code=e}};function vL(n){return`NG0${Math.abs(n)}`}function Mo(n,e){return`${vL(n)}${e?": "+e:""}`}var Fr=globalThis;function Ae(n){for(let e in n)if(n[e]===Ae)return e;throw Error("")}function iS(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Or(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(Or).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function $y(n,e){return n?e?`${n} ${e}`:n:e||""}var _L=Ae({__forward_ref__:Ae});function tr(n){return n.__forward_ref__=tr,n.toString=function(){return Or(this())},n}function St(n){return Hy(n)?n():n}function Hy(n){return typeof n=="function"&&n.hasOwnProperty(_L)&&n.__forward_ref__===tr}function q(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function dn(n){return{providers:n.providers||[],imports:n.imports||[]}}function Jc(n){return EL(n,Ih)}function zy(n){return Jc(n)!==null}function EL(n,e){return n.hasOwnProperty(e)&&n[e]||null}function IL(n){let e=n?.[Ih]??null;return e||null}function Ny(n){return n&&n.hasOwnProperty(vh)?n[vh]:null}var Ih=Ae({\u0275prov:Ae}),vh=Ae({\u0275inj:Ae}),B=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=q({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function qy(n){return n&&!!n.\u0275providers}var Gy=Ae({\u0275cmp:Ae}),Wy=Ae({\u0275dir:Ae}),Ky=Ae({\u0275pipe:Ae}),Qy=Ae({\u0275mod:Ae}),Qc=Ae({\u0275fac:Ae}),Po=Ae({__NG_ELEMENT_ID__:Ae}),nS=Ae({__NG_ENV_ID__:Ae});function Zc(n){return typeof n=="string"?n:n==null?"":String(n)}function oS(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Zc(n)}var sS=Ae({ngErrorCode:Ae}),wL=Ae({ngErrorMessage:Ae}),TL=Ae({ngTokenPath:Ae});function Yy(n,e){return aS("",-200,e)}function wh(n,e){throw new P(-201,!1)}function aS(n,e,t){let r=new P(e,n);return r[sS]=e,r[wL]=n,t&&(r[TL]=t),r}function bL(n){return n[sS]}var My;function cS(){return My}function qt(n){let e=My;return My=n,e}function Jy(n,e,t){let r=Jc(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(e!==void 0)return e;wh(n,"Injector")}var DL={},Co=DL,Py="__NG_DI_FLAG__",ky=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=Ao(t)||0;try{return this.injector.get(e,r&8?null:Co,r)}catch(i){if(Ls(i))return i;throw i}}};function CL(n,e=0){let t=Pd();if(t===void 0)throw new P(-203,!1);if(t===null)return Jy(n,void 0,e);{let r=SL(e),i=t.retrieve(n,r);if(Ls(i)){if(r.optional)return null;throw i}return i}}function Q(n,e=0){return(cS()||CL)(St(n),e)}function x(n,e){return Q(n,Ao(e))}function Ao(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function SL(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function xy(n){let e=[];for(let t=0;t<n.length;t++){let r=St(n[t]);if(Array.isArray(r)){if(r.length===0)throw new P(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],c=AL(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(Q(i,o))}else e.push(Q(r))}return e}function uS(n,e){return n[Py]=e,n.prototype[Py]=e,n}function AL(n){return n[Py]}function wi(n,e){let t=n.hasOwnProperty(Qc);return t?n[Qc]:null}function Th(n,e){n.forEach(t=>Array.isArray(t)?Th(t,e):e(t))}function Zy(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Xc(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function lS(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function dS(n,e,t){let r=ra(n,e);return r>=0?n[r|1]=t:(r=~r,lS(n,r,e,t)),r}function bh(n,e){let t=ra(n,e);if(t>=0)return n[t|1]}function ra(n,e){return RL(n,e,1)}function RL(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var Di={},ln=[],Ci=new B(""),Xy=new B("",-1),ev=new B(""),Yc=class{get(e,t=Co){if(t===Co){let i=aS("",-201);throw i.name="\u0275NotFound",i}return t}};function tv(n){return n[Qy]||null}function Si(n){return n[Gy]||null}function nv(n){return n[Wy]||null}function hS(n){return n[Ky]||null}function wn(n){return{\u0275providers:n}}function fS(...n){return{\u0275providers:rv(!0,n),\u0275fromNgModule:!0}}function rv(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return Th(e,s=>{let a=s;_h(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&pS(i,o),t}function pS(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];iv(i,o=>{e(o,r)})}}function _h(n,e,t,r){if(n=St(n),!n)return!1;let i=null,o=Ny(n),s=!o&&Si(n);if(!o&&!s){let c=n.ngModule;if(o=Ny(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)_h(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{Th(o.imports,d=>{_h(d,e,t,r)&&(l||=[],l.push(d))})}finally{}l!==void 0&&pS(l,e)}if(!a){let l=wi(i)||(()=>new i);e({provide:i,useFactory:l,deps:ln},i),e({provide:ev,useValue:i,multi:!0},i),e({provide:Ci,useValue:()=>Q(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=n;iv(c,d=>{e(d,l)})}}else return!1;return i!==n&&n.providers!==void 0}function iv(n,e){for(let t of n)qy(t)&&(t=t.\u0275providers),Array.isArray(t)?iv(t,e):e(t)}var NL=Ae({provide:String,useValue:Ae});function gS(n){return n!==null&&typeof n=="object"&&NL in n}function ML(n){return!!(n&&n.useExisting)}function PL(n){return!!(n&&n.useFactory)}function Ro(n){return typeof n=="function"}function mS(n){return!!n.useClass}var eu=new B(""),yh={},rS={},Ry;function tu(){return Ry===void 0&&(Ry=new Yc),Ry}var We=class{},No=class extends We{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,Fy(e,s=>this.processProvider(s)),this.records.set(Xy,na(void 0,this)),i.has("environment")&&this.records.set(We,na(void 0,this));let o=this.records.get(eu);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(ev,ln,{self:!0}))}retrieve(e,t){let r=Ao(t)||0;try{return this.get(e,Co,r)}catch(i){if(Ls(i))return i;throw i}}destroy(){Kc(this),this._destroyed=!0;let e=fe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),fe(e)}}onDestroy(e){return Kc(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Kc(this);let t=Xn(this),r=qt(void 0),i;try{return e()}finally{Xn(t),qt(r)}}get(e,t=Co,r){if(Kc(this),e.hasOwnProperty(nS))return e[nS](this);let i=Ao(r),o,s=Xn(this),a=qt(void 0);try{if(!(i&4)){let l=this.records.get(e);if(l===void 0){let d=LL(e)&&Jc(e);d&&this.injectableDefInScope(d)?l=na(Oy(e),yh):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,i)}let c=i&2?tu():this.parent;return t=i&8&&t===Co?null:t,c.get(e,t)}catch(c){let l=bL(c);throw l===-200||l===-201?new P(l,null):c}finally{qt(a),Xn(s)}}resolveInjectorInitializers(){let e=fe(null),t=Xn(this),r=qt(void 0),i;try{let o=this.get(Ci,ln,{self:!0});for(let s of o)s()}finally{Xn(t),qt(r),fe(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Or(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=St(e);let t=Ro(e)?e:St(e&&e.provide),r=xL(e);if(!Ro(e)&&e.multi===!0){let i=this.records.get(t);i||(i=na(void 0,yh,!0),i.factory=()=>xy(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=fe(null);try{if(t.value===rS)throw Yy(Or(e));return t.value===yh&&(t.value=rS,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&FL(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{fe(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=St(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Oy(n){let e=Jc(n),t=e!==null?e.factory:wi(n);if(t!==null)return t;if(n instanceof B)throw new P(204,!1);if(n instanceof Function)return kL(n);throw new P(204,!1)}function kL(n){if(n.length>0)throw new P(204,!1);let t=IL(n);return t!==null?()=>t.factory(n):()=>new n}function xL(n){if(gS(n))return na(void 0,n.useValue);{let e=ov(n);return na(e,yh)}}function ov(n,e,t){let r;if(Ro(n)){let i=St(n);return wi(i)||Oy(i)}else if(gS(n))r=()=>St(n.useValue);else if(PL(n))r=()=>n.useFactory(...xy(n.deps||[]));else if(ML(n))r=(i,o)=>Q(St(n.useExisting),o!==void 0&&o&8?8:void 0);else{let i=St(n&&(n.useClass||n.provide));if(OL(n))r=()=>new i(...xy(n.deps));else return wi(i)||Oy(i)}return r}function Kc(n){if(n.destroyed)throw new P(205,!1)}function na(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function OL(n){return!!n.deps}function FL(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function LL(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function Fy(n,e){for(let t of n)Array.isArray(t)?Fy(t,e):t&&qy(t)?Fy(t.\u0275providers,e):e(t)}function Ze(n,e){let t;n instanceof No?(Kc(n),t=n):t=new ky(n);let r,i=Xn(t),o=qt(void 0);try{return e()}finally{Xn(i),qt(o)}}function yS(){return cS()!==void 0||Pd()!=null}var Fn=0,he=1,ue=2,At=3,Tn=4,bn=5,nu=6,ia=7,Lt=8,Ai=9,nr=10,Ke=11,oa=12,sv=13,ko=14,Dn=15,xo=16,Oo=17,Fo=18,ru=19,av=20,xr=21,Dh=22,iu=23,hn=24,Ch=25,ou=26,Vt=27,vS=1;var Ri=7,su=8,au=9,Xt=10;function rr(n){return Array.isArray(n)&&typeof n[vS]=="object"}function Ln(n){return Array.isArray(n)&&n[vS]===!0}function cv(n){return(n.flags&4)!==0}function Ni(n){return n.componentOffset>-1}function cu(n){return(n.flags&1)===1}function ir(n){return!!n.template}function sa(n){return(n[ue]&512)!==0}function Lo(n){return(n[ue]&256)===256}var _S="svg",ES="math";function Cn(n){for(;Array.isArray(n);)n=n[Fn];return n}function uv(n,e){return Cn(e[n])}function Vn(n,e){return Cn(e[n.index])}function Sh(n,e){return n.data[e]}function lv(n,e){return n[e]}function dv(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function Sn(n,e){let t=e[n];return rr(t)?t:t[Fn]}function Ah(n){return(n[ue]&128)===128}function IS(n){return Ln(n[At])}function uu(n,e){return e==null?null:n[e]}function hv(n){n[Oo]=0}function fv(n){n[ue]&1024||(n[ue]|=1024,Ah(n)&&du(n))}function wS(n,e){for(;n>0;)e=e[ko],n--;return e}function lu(n){return!!(n[ue]&9216||n[hn]?.dirty)}function Rh(n){n[nr].changeDetectionScheduler?.notify(8),n[ue]&64&&(n[ue]|=1024),lu(n)&&du(n)}function du(n){n[nr].changeDetectionScheduler?.notify(0);let e=Ti(n);for(;e!==null&&!(e[ue]&8192||(e[ue]|=8192,!Ah(e)));)e=Ti(e)}function pv(n,e){if(Lo(n))throw new P(911,!1);n[xr]===null&&(n[xr]=[]),n[xr].push(e)}function TS(n,e){if(n[xr]===null)return;let t=n[xr].indexOf(e);t!==-1&&n[xr].splice(t,1)}function Ti(n){let e=n[At];return Ln(e)?e[At]:e}function bS(n){return n[ia]??=[]}function DS(n){return n.cleanup??=[]}var ye={lFrame:BS(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Ly=!1;function CS(){return ye.lFrame.elementDepthCount}function SS(){ye.lFrame.elementDepthCount++}function AS(){ye.lFrame.elementDepthCount--}function gv(){return ye.bindingsEnabled}function RS(){return ye.skipHydrationRootTNode!==null}function NS(n){return ye.skipHydrationRootTNode===n}function MS(){ye.skipHydrationRootTNode=null}function Re(){return ye.lFrame.lView}function en(){return ye.lFrame.tView}function hu(n){return ye.lFrame.contextLView=n,n[Lt]}function fu(n){return ye.lFrame.contextLView=null,n}function Gt(){let n=mv();for(;n!==null&&n.type===64;)n=n.parent;return n}function mv(){return ye.lFrame.currentTNode}function PS(){let n=ye.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function aa(n,e){let t=ye.lFrame;t.currentTNode=n,t.isParent=e}function yv(){return ye.lFrame.isParent}function kS(){ye.lFrame.isParent=!1}function vv(){return Ly}function _v(n){let e=Ly;return Ly=n,e}function Nh(){let n=ye.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function xS(n){return ye.lFrame.bindingIndex=n}function pu(){return ye.lFrame.bindingIndex++}function OS(n){let e=ye.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function FS(){return ye.lFrame.inI18n}function LS(n,e){let t=ye.lFrame;t.bindingIndex=t.bindingRootIndex=n,Mh(e)}function VS(){return ye.lFrame.currentDirectiveIndex}function Mh(n){ye.lFrame.currentDirectiveIndex=n}function jS(n){let e=ye.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function Ev(n){ye.lFrame.currentQueryIndex=n}function VL(n){let e=n[he];return e.type===2?e.declTNode:e.type===1?n[bn]:null}function Iv(n,e,t){if(t&4){let i=e,o=n;for(;i=i.parent,i===null&&!(t&1);)if(i=VL(o),i===null||(o=o[ko],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=ye.lFrame=US();return r.currentTNode=e,r.lView=n,!0}function Ph(n){let e=US(),t=n[he];ye.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function US(){let n=ye.lFrame,e=n===null?null:n.child;return e===null?BS(n):e}function BS(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function $S(){let n=ye.lFrame;return ye.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var wv=$S;function kh(){let n=$S();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function HS(n){return(ye.lFrame.contextLView=wS(n,ye.lFrame.contextLView))[Lt]}function Vo(){return ye.lFrame.selectedIndex}function Mi(n){ye.lFrame.selectedIndex=n}function xh(){let n=ye.lFrame;return Sh(n.tView,n.selectedIndex)}function zS(){return ye.lFrame.currentNamespace}var qS=!0;function Oh(){return qS}function Fh(n){qS=n}function Vy(n,e=null,t=null,r){let i=Tv(n,e,t,r);return i.resolveInjectorInitializers(),i}function Tv(n,e=null,t=null,r,i=new Set){let o=[t||ln,fS(n)];return r=r||(typeof n=="object"?void 0:Or(n)),new No(o,e||tu(),r||null,i)}var ft=class n{static THROW_IF_NOT_FOUND=Co;static NULL=new Yc;static create(e,t){if(Array.isArray(e))return Vy({name:""},t,e,"");{let r=e.name??"";return Vy({name:r},e.parent,e.providers,r)}}static \u0275prov=q({token:n,providedIn:"any",factory:()=>Q(Xy)});static __NG_ELEMENT_ID__=-1},Xe=new B(""),Lr=(()=>{class n{static __NG_ELEMENT_ID__=jL;static __NG_ENV_ID__=t=>t}return n})(),jy=class extends Lr{_lView;constructor(e){super(),this._lView=e}get destroyed(){return Lo(this._lView)}onDestroy(e){let t=this._lView;return pv(t,e),()=>TS(t,e)}};function jL(){return new jy(Re())}var er=class{_console=console;handleError(e){this._console.error("ERROR",e)}},tn=new B("",{providedIn:"root",factory:()=>{let n=x(We),e;return t=>{n.destroyed&&!e?setTimeout(()=>{throw t}):(e??=n.get(er),e.handleError(t))}}}),GS={provide:Ci,useValue:()=>void x(er),multi:!0};function bv(n){return typeof n=="function"&&n[Ot]!==void 0}function pt(n,e){let[t,r,i]=hy(n,e?.equal),o=t,s=o[Ot];return o.set=r,o.update=i,o.asReadonly=WS.bind(o),o}function WS(){let n=this[Ot];if(n.readonlyFn===void 0){let e=()=>this();e[Ot]=n,n.readonlyFn=e}return n.readonlyFn}function Dv(n){return bv(n)&&typeof n.set=="function"}var bi=class{},Lh=new B("",{providedIn:"root",factory:()=>!1});var Cv=new B(""),Sv=new B(""),or=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Ct(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new ie(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=q({token:n,providedIn:"root",factory:()=>new n})}return n})(),Pi=(()=>{class n{internalPendingTasks=x(or);scheduler=x(bi);errorHandler=x(tn);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let r=this.add();t().catch(this.errorHandler).finally(r)}static \u0275prov=q({token:n,providedIn:"root",factory:()=>new n})}return n})();function gu(...n){}var Av=(()=>{class n{static \u0275prov=q({token:n,providedIn:"root",factory:()=>new Uy})}return n})(),Uy=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,r]of this.queues)t===null?e||=this.flushQueue(r):e||=t.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}};function pa(n){return{toString:n}.toString()}var Vh="__parameters__";function KL(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function QL(n,e,t){return pa(()=>{let r=KL(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,d){let f=c.hasOwnProperty(Vh)?c[Vh]:Object.defineProperty(c,Vh,{value:[]})[Vh];for(;f.length<=d;)f.push(null);return(f[d]=f[d]||[]).push(s),c}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var fn=uS(QL("Optional"),8);function YL(n){return typeof n=="function"}var qh=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function C0(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var cr=(()=>{let n=()=>S0;return n.ngInherit=!0,n})();function S0(n){return n.type.prototype.ngOnChanges&&(n.setInput=ZL),JL}function JL(){let n=R0(this),e=n?.current;if(e){let t=n.previous;if(t===Di)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function ZL(n,e,t,r,i){let o=this.declaredInputs[r],s=R0(n)||XL(n,{previous:Di,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new qh(l&&l.currentValue,t,c===Di),C0(n,e,i,t)}var A0="__ngSimpleChanges__";function R0(n){return n[A0]||null}function XL(n,e){return n[A0]=e}var KS=[];var ke=function(n,e=null,t){for(let r=0;r<KS.length;r++){let i=KS[r];i(n,e,t)}};function eV(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=S0(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function N0(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:d}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),d!=null&&(n.destroyHooks??=[]).push(t,d)}}function $h(n,e,t){M0(n,e,3,t)}function Hh(n,e,t,r){(n[ue]&3)===t&&M0(n,e,t,r)}function Rv(n,e){let t=n[ue];(t&3)===e&&(t&=16383,t+=1,n[ue]=t)}function M0(n,e,t,r){let i=r!==void 0?n[Oo]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(n[Oo]+=65536),(a<o||o==-1)&&(tV(n,t,e,c),n[Oo]=(n[Oo]&4294901760)+c+2),c++}function QS(n,e){ke(4,n,e);let t=fe(null);try{e.call(n)}finally{fe(t),ke(5,n,e)}}function tV(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[ue]>>14<n[Oo]>>16&&(n[ue]&3)===e&&(n[ue]+=16384,QS(a,o)):QS(a,o)}var ua=-1,Uo=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=t,this.injectImpl=r}};function nV(n){return(n.flags&8)!==0}function rV(n){return(n.flags&16)!==0}function iV(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];oV(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function P0(n){return n===3||n===4||n===6}function oV(n){return n.charCodeAt(0)===64}function vu(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?YS(n,t,i,null,e[++r]):YS(n,t,i,null,null))}}return n}function YS(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function k0(n){return n!==ua}function Gh(n){return n&32767}function sV(n){return n>>16}function Wh(n,e){let t=sV(n),r=e;for(;t>0;)r=r[ko],t--;return r}var Uv=!0;function Kh(n){let e=Uv;return Uv=n,e}var aV=256,x0=aV-1,O0=5,cV=0,sr={};function uV(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Po)&&(r=t[Po]),r==null&&(r=t[Po]=cV++);let i=r&x0,o=1<<i;e.data[n+(i>>O0)]|=o}function Qh(n,e){let t=F0(n,e);if(t!==-1)return t;let r=e[he];r.firstCreatePass&&(n.injectorIndex=e.length,Nv(r.data,n),Nv(e,null),Nv(r.blueprint,null));let i=o_(n,e),o=n.injectorIndex;if(k0(i)){let s=Gh(i),a=Wh(i,e),c=a[he].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function Nv(n,e){n.push(0,0,0,0,0,0,0,0,e)}function F0(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function o_(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=B0(i),r===null)return ua;if(t++,i=i[ko],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return ua}function Bv(n,e,t){uV(n,e,t)}function lV(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(P0(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function L0(n,e,t){if(t&8||n!==void 0)return n;wh(e,"NodeInjector")}function V0(n,e,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=n[Ai],o=qt(void 0);try{return i?i.get(e,r,t&8):Jy(e,r,t&8)}finally{qt(o)}}return L0(r,e,t)}function j0(n,e,t,r=0,i){if(n!==null){if(e[ue]&2048&&!(r&2)){let s=gV(n,e,t,r,sr);if(s!==sr)return s}let o=U0(n,e,t,r,sr);if(o!==sr)return o}return V0(e,t,r,i)}function U0(n,e,t,r,i){let o=fV(t);if(typeof o=="function"){if(!Iv(e,n,r))return r&1?L0(i,t,r):V0(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&8))wh(t);else return s}finally{wv()}}else if(typeof o=="number"){let s=null,a=F0(n,e),c=ua,l=r&1?e[Dn][bn]:null;for((a===-1||r&4)&&(c=a===-1?o_(n,e):e[a+8],c===ua||!ZS(r,!1)?a=-1:(s=e[he],a=Gh(c),e=Wh(c,e)));a!==-1;){let d=e[he];if(JS(o,a,d.data)){let f=dV(a,e,t,s,r,l);if(f!==sr)return f}c=e[a+8],c!==ua&&ZS(r,e[he].data[a+8]===l)&&JS(o,a,e)?(s=d,a=Gh(c),e=Wh(c,e)):a=-1}}return i}function dV(n,e,t,r,i,o){let s=e[he],a=s.data[n+8],c=r==null?Ni(a)&&Uv:r!=s&&(a.type&3)!==0,l=i&1&&o===a,d=hV(a,s,t,c,l);return d!==null?Yh(e,s,d,a,i):sr}function hV(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,c=n.directiveStart,l=n.directiveEnd,d=o>>20,f=r?a:a+d,g=i?a+d:l;for(let m=f;m<g;m++){let E=s[m];if(m<c&&t===E||m>=c&&E.type===t)return m}if(i){let m=s[c];if(m&&ir(m)&&m.type===t)return c}return null}function Yh(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof Uo){let a=o;if(a.resolving){let m=oS(s[t]);throw Yy(m)}let c=Kh(a.canSeeViewProviders);a.resolving=!0;let l=s[t].type||s[t],d,f=a.injectImpl?qt(a.injectImpl):null,g=Iv(n,r,0);try{o=n[t]=a.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&eV(t,s[t],e)}finally{f!==null&&qt(f),Kh(c),a.resolving=!1,wv()}}return o}function fV(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Po)?n[Po]:void 0;return typeof e=="number"?e>=0?e&x0:pV:e}function JS(n,e,t){let r=1<<n;return!!(t[e+(n>>O0)]&r)}function ZS(n,e){return!(n&2)&&!(n&1&&e)}var jo=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return j0(this._tNode,this._lView,e,Ao(r),t)}};function pV(){return new jo(Gt(),Re())}function Ho(n){return pa(()=>{let e=n.prototype.constructor,t=e[Qc]||$v(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[Qc]||$v(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function $v(n){return Hy(n)?()=>{let e=$v(St(n));return e&&e()}:wi(n)}function gV(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[ue]&2048&&!sa(s);){let a=U0(o,s,t,r|2,sr);if(a!==sr)return a;let c=o.parent;if(!c){let l=s[av];if(l){let d=l.get(t,sr,r);if(d!==sr)return d}c=B0(s),s=s[ko]}o=c}return i}function B0(n){let e=n[he],t=e.type;return t===2?e.declTNode:t===1?n[bn]:null}function wu(n){return lV(Gt(),n)}function mV(){return cf(Gt(),Re())}function cf(n,e){return new xi(Vn(n,e))}var xi=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=mV}return n})();function $0(n){return(n.flags&128)===128}var s_=(function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n})(s_||{}),H0=new Map,yV=0;function vV(){return yV++}function _V(n){H0.set(n[ru],n)}function Hv(n){H0.delete(n[ru])}var XS="__ngContext__";function la(n,e){rr(e)?(n[XS]=e[ru],_V(e)):n[XS]=e}function z0(n){return G0(n[oa])}function q0(n){return G0(n[Tn])}function G0(n){for(;n!==null&&!Ln(n);)n=n[Tn];return n}var zv;function a_(n){zv=n}function W0(){if(zv!==void 0)return zv;if(typeof document<"u")return document;throw new P(210,!1)}var uf=new B("",{providedIn:"root",factory:()=>EV}),EV="ng",lf=new B(""),Oi=new B("",{providedIn:"platform",factory:()=>"unknown"});var df=new B(""),hf=new B("",{providedIn:"root",factory:()=>W0().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var IV="h",wV="b";var K0=!1,Q0=new B("",{providedIn:"root",factory:()=>K0});var TV=(n,e,t,r)=>{};function bV(n,e,t,r){TV(n,e,t,r)}function c_(n){return(n.flags&32)===32}var DV=()=>null;function Y0(n,e,t=!1){return DV(n,e,t)}function J0(n,e){let t=n.contentQueries;if(t!==null){let r=fe(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];Ev(o),a.contentQueries(2,e[s],s)}}}finally{fe(r)}}}function qv(n,e,t){Ev(0);let r=fe(null);try{e(n,t)}finally{fe(r)}}function Z0(n,e,t){if(cv(e)){let r=fe(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let c=t[s];a.contentQueries(1,c,s)}}}finally{fe(r)}}}var Vr=(function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n})(Vr||{});var jh;function CV(){if(jh===void 0&&(jh=null,Fr.trustedTypes))try{jh=Fr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return jh}function e0(n){return CV()?.createScriptURL(n)||n}var Jh=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Eh})`}};function ff(n){return n instanceof Jh?n.changingThisBreaksApplicationSecurity:n}function u_(n,e){let t=X0(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Eh})`)}return t===e}function X0(n){return n instanceof Jh&&n.getTypeName()||null}var SV=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function eA(n){return n=String(n),n.match(SV)?n:"unsafe:"+n}var pf=(function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n})(pf||{});function tA(n){let e=rA();return e?e.sanitize(pf.URL,n)||"":u_(n,"URL")?ff(n):eA(Zc(n))}function nA(n){let e=rA();if(e)return e0(e.sanitize(pf.RESOURCE_URL,n)||"");if(u_(n,"ResourceURL"))return e0(ff(n));throw new P(904,!1)}function AV(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?nA:tA}function l_(n,e,t){return AV(e,t)(n)}function rA(){let n=Re();return n&&n[nr].sanitizer}function iA(n){return n instanceof Function?n():n}function RV(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var oA="ng-template";function NV(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&RV(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(d_(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function d_(n){return n.type===4&&n.value!==oA}function MV(n,e,t){let r=n.type===4&&!t?oA:n.value;return e===r}function PV(n,e,t){let r=4,i=n.attrs,o=i!==null?OV(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!jn(r)&&!jn(c))return!1;if(s&&jn(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!MV(n,c,t)||c===""&&e.length===1){if(jn(r))return!1;s=!0}}else if(r&8){if(i===null||!NV(n,i,c,t)){if(jn(r))return!1;s=!0}}else{let l=e[++a],d=kV(c,i,d_(n),t);if(d===-1){if(jn(r))return!1;s=!0;continue}if(l!==""){let f;if(d>o?f="":f=i[d+1].toLowerCase(),r&2&&l!==f){if(jn(r))return!1;s=!0}}}}return jn(r)||s}function jn(n){return(n&1)===0}function kV(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return FV(e,n)}function xV(n,e,t=!1){for(let r=0;r<e.length;r++)if(PV(n,e[r],t))return!0;return!1}function OV(n){for(let e=0;e<n.length;e++){let t=n[e];if(P0(t))return e}return n.length}function FV(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function t0(n,e){return n?":not("+e.trim()+")":e}function LV(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!jn(s)&&(e+=t0(o,i),i=""),r=s,o=o||!jn(r);t++}return i!==""&&(e+=t0(o,i)),e}function VV(n){return n.map(LV).join(",")}function jV(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!jn(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var Br={};function UV(n,e){return n.createText(e)}function BV(n,e,t){n.setValue(e,t)}function sA(n,e,t){return n.createElement(e,t)}function Zh(n,e,t,r,i){n.insertBefore(e,t,r,i)}function aA(n,e,t){n.appendChild(e,t)}function n0(n,e,t,r,i){r!==null?Zh(n,e,t,r,i):aA(n,e,t)}function $V(n,e,t,r){n.removeChild(null,e,t,r)}function HV(n,e,t){n.setAttribute(e,"style",t)}function zV(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function cA(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&iV(n,e,r),i!==null&&zV(n,e,i),o!==null&&HV(n,e,o)}function h_(n,e,t,r,i,o,s,a,c,l,d){let f=Vt+r,g=f+i,m=qV(f,g),E=typeof l=="function"?l():l;return m[he]={type:n,blueprint:m,template:t,queries:null,viewQuery:a,declTNode:e,data:m.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:E,incompleteFirstPass:!1,ssrId:d}}function qV(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Br);return t}function GV(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=h_(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function f_(n,e,t,r,i,o,s,a,c,l,d){let f=e.blueprint.slice();return f[Fn]=i,f[ue]=r|4|128|8|64|1024,(l!==null||n&&n[ue]&2048)&&(f[ue]|=2048),hv(f),f[At]=f[ko]=n,f[Lt]=t,f[nr]=s||n&&n[nr],f[Ke]=a||n&&n[Ke],f[Ai]=c||n&&n[Ai]||null,f[bn]=o,f[ru]=vV(),f[nu]=d,f[av]=l,f[Dn]=e.type==2?n[Dn]:f,f}function WV(n,e,t){let r=Vn(e,n),i=GV(t),o=n[nr].rendererFactory,s=p_(n,f_(n,i,null,uA(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function uA(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function lA(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function p_(n,e){return n[oa]?n[sv][Tn]=e:n[oa]=e,n[sv]=e,e}function be(n=1){dA(en(),Re(),Vo()+n,!1)}function dA(n,e,t,r){if(!r)if((e[ue]&3)===3){let o=n.preOrderCheckHooks;o!==null&&$h(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Hh(e,o,0,t)}Mi(t)}var gf=(function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n})(gf||{});function Gv(n,e,t,r){let i=fe(null);try{let[o,s,a]=n.inputs[t],c=null;(s&gf.SignalBased)!==0&&(c=e[o][Ot]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,c,r,t,o):C0(e,c,o,r)}finally{fe(i)}}var ar=(function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n})(ar||{}),KV;function g_(n,e){return KV(n,e)}var da=new Set,m_=(function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n})(m_||{}),Tu=new B(""),r0=new Set;function bu(n){r0.has(n)||(r0.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var hA=!1,Wv=class extends rt{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,yS()&&(this.destroyRef=x(Lr,{optional:!0})??void 0,this.pendingTasks=x(or,{optional:!0})??void 0)}emit(e){let t=fe(null);try{super.next(e)}finally{fe(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Ge&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},et=Wv;function fA(n){let e,t;function r(){n=gu;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function i0(n){return queueMicrotask(()=>n()),()=>{n=gu}}var y_="isAngularZone",Xh=y_+"_ID",QV=0,Ce=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new et(!1);onMicrotaskEmpty=new et(!1);onStable=new et(!1);onError=new et(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=hA}=e;if(typeof Zone>"u")throw new P(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,ZV(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(y_)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new P(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new P(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,YV,gu,gu);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},YV={};function v_(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function JV(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){fA(()=>{n.callbackScheduled=!1,Kv(n),n.isCheckStableRunning=!0,v_(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Kv(n)}function ZV(n){let e=()=>{JV(n)},t=QV++;n._inner=n._inner.fork({name:"angular",properties:{[y_]:!0,[Xh]:t,[Xh+t]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(XV(c))return r.invokeTask(o,s,a,c);try{return o0(n),r.invokeTask(o,s,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),s0(n)}},onInvoke:(r,i,o,s,a,c,l)=>{try{return o0(n),r.invoke(o,s,a,c,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!e2(c)&&e(),s0(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,Kv(n),v_(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function Kv(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function o0(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function s0(n){n._nesting--,v_(n)}var ef=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new et;onMicrotaskEmpty=new et;onStable=new et;onError=new et;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function XV(n){return pA(n,"__ignore_ng_zone__")}function e2(n){return pA(n,"__scheduler_tick__")}function pA(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var gA=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=q({token:n,providedIn:"root",factory:()=>new n})}return n})();var t2=new B("",{providedIn:"root",factory:()=>({queue:new Set,isScheduled:!1,scheduler:null})});function mA(n,e){let t=n.get(t2);if(Array.isArray(e))for(let r of e)t.queue.add(r);else t.queue.add(e);t.scheduler&&t.scheduler(n)}function n2(n,e){for(let[t,r]of e)mA(n,r.animateFns)}function a0(n,e,t,r){let i=n?.[ou]?.enter;e!==null&&i&&i.has(t.index)&&n2(r,i)}function ca(n,e,t,r,i,o,s,a){if(i!=null){let c,l=!1;Ln(i)?c=i:rr(i)&&(l=!0,i=i[Fn]);let d=Cn(i);n===0&&r!==null?(a0(a,r,o,t),s==null?aA(e,r,d):Zh(e,r,d,s||null,!0)):n===1&&r!==null?(a0(a,r,o,t),Zh(e,r,d,s||null,!0)):n===2?c0(a,o,t,f=>{$V(e,d,l,f)}):n===3&&c0(a,o,t,()=>{e.destroyNode(d)}),c!=null&&g2(e,n,t,c,o,r,s)}}function r2(n,e){yA(n,e),e[Fn]=null,e[bn]=null}function i2(n,e,t,r,i,o){r[Fn]=i,r[bn]=e,mf(n,r,t,1,i,o)}function yA(n,e){e[nr].changeDetectionScheduler?.notify(9),mf(n,e,e[Ke],2,null,null)}function o2(n){let e=n[oa];if(!e)return Mv(n[he],n);for(;e;){let t=null;if(rr(e))t=e[oa];else{let r=e[Xt];r&&(t=r)}if(!t){for(;e&&!e[Tn]&&e!==n;)rr(e)&&Mv(e[he],e),e=e[At];e===null&&(e=n),rr(e)&&Mv(e[he],e),t=e&&e[Tn]}e=t}}function __(n,e){let t=n[au],r=t.indexOf(e);t.splice(r,1)}function vA(n,e){if(Lo(e))return;let t=e[Ke];t.destroyNode&&mf(n,e,t,3,null,null),o2(e)}function Mv(n,e){if(Lo(e))return;let t=fe(null);try{e[ue]&=-129,e[ue]|=256,e[hn]&&zc(e[hn]),c2(n,e),a2(n,e),e[he].type===1&&e[Ke].destroy();let r=e[xo];if(r!==null&&Ln(e[At])){r!==e[At]&&__(r,e);let i=e[Fo];i!==null&&i.detachView(n)}Hv(e)}finally{fe(t)}}function c0(n,e,t,r){let i=n?.[ou];if(i==null||i.leave==null||!i.leave.has(e.index))return r(!1);if(i.skipLeaveAnimations)return i.skipLeaveAnimations=!1,r(!1);n&&da.add(n),mA(t,()=>{if(i.leave&&i.leave.has(e.index)){let s=i.leave.get(e.index),a=[];if(s)for(let c=0;c<s.animateFns.length;c++){let l=s.animateFns[c],{promise:d}=l();a.push(d)}i.running=Promise.allSettled(a),s2(n,r)}else n&&da.delete(n),r(!1)})}function s2(n,e){let t=n[ou]?.running;if(t){t.then(()=>{n[ou].running=void 0,da.delete(n),e(!0)});return}e(!1)}function a2(n,e){let t=n.cleanup,r=e[ia];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[ia]=null);let i=e[xr];if(i!==null){e[xr]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[iu];if(o!==null){e[iu]=null;for(let s of o)s.destroy()}}function c2(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Uo)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];ke(4,a,c);try{c.call(a)}finally{ke(5,a,c)}}else{ke(4,i,o);try{o.call(i)}finally{ke(5,i,o)}}}}}function u2(n,e,t){return l2(n,e.parent,t)}function l2(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Fn];if(Ni(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===Vr.None||i===Vr.Emulated)return null}return Vn(r,t)}function d2(n,e,t){return f2(n,e,t)}function h2(n,e,t){return n.type&40?Vn(n,t):null}var f2=h2,u0;function E_(n,e,t,r){let i=u2(n,r,e),o=e[Ke],s=r.parent||e[bn],a=d2(s,r,e);if(i!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)n0(o,i,t[c],a,!1);else n0(o,i,t,a,!1);u0!==void 0&&u0(o,r,e,t,i)}function mu(n,e){if(e!==null){let t=e.type;if(t&3)return Vn(e,n);if(t&4)return Qv(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return mu(n,r);{let i=n[e.index];return Ln(i)?Qv(-1,i):Cn(i)}}else{if(t&128)return mu(n,e.next);if(t&32)return g_(e,n)()||Cn(n[e.index]);{let r=_A(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Ti(n[Dn]);return mu(i,r)}else return mu(n,e.next)}}}return null}function _A(n,e){if(e!==null){let r=n[Dn][bn],i=e.projection;return r.projection[i]}return null}function Qv(n,e){let t=Xt+n+1;if(t<e.length){let r=e[t],i=r[he].firstChild;if(i!==null)return mu(r,i)}return e[Ri]}function I_(n,e,t,r,i,o,s){for(;t!=null;){let a=r[Ai];if(t.type===128){t=t.next;continue}let c=r[t.index],l=t.type;if(s&&e===0&&(c&&la(Cn(c),r),t.flags|=2),!c_(t))if(l&8)I_(n,e,t.child,r,i,o,!1),ca(e,n,a,i,c,t,o,r);else if(l&32){let d=g_(t,r),f;for(;f=d();)ca(e,n,a,i,f,t,o,r);ca(e,n,a,i,c,t,o,r)}else l&16?p2(n,e,r,t,i,o):ca(e,n,a,i,c,t,o,r);t=s?t.projectionNext:t.next}}function mf(n,e,t,r,i,o){I_(t,r,n.firstChild,e,i,o,!1)}function p2(n,e,t,r,i,o){let s=t[Dn],c=s[bn].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let d=c[l];ca(e,n,t[Ai],i,d,r,o,t)}else{let l=c,d=s[At];$0(r)&&(l.flags|=128),I_(n,e,l,d,i,o,!0)}}function g2(n,e,t,r,i,o,s){let a=r[Ri],c=Cn(r);a!==c&&ca(e,n,t,o,a,i,s);for(let l=Xt;l<r.length;l++){let d=r[l];mf(d[he],d,n,e,o,a)}}function m2(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:ar.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=ar.Important),n.setStyle(t,r,i,o))}}function EA(n,e,t,r,i){let o=Vo(),s=r&2;try{Mi(-1),s&&e.length>Vt&&dA(n,e,Vt,!1),ke(s?2:0,i,t),t(r,i)}finally{Mi(o),ke(s?3:1,i,t)}}function w_(n,e,t){T2(n,e,t),(t.flags&64)===64&&b2(n,e,t)}function IA(n,e,t=Vn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function y2(n,e,t,r){let o=r.get(Q0,K0)||t===Vr.ShadowDom,s=n.selectRootElement(e,o);return v2(s),s}function v2(n){_2(n)}var _2=()=>null;function E2(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function wA(n,e,t,r,i,o){let s=e[he];if(T_(n,s,e,t,r)){Ni(n)&&w2(e,n.index);return}n.type&3&&(t=E2(t)),I2(n,e,t,r,i,o)}function I2(n,e,t,r,i,o){if(n.type&3){let s=Vn(n,e);r=o!=null?o(r,n.value||"",t):r,i.setProperty(s,t,r)}else n.type&12}function w2(n,e){let t=Sn(e,n);t[ue]&16||(t[ue]|=64)}function T2(n,e,t){let r=t.directiveStart,i=t.directiveEnd;Ni(t)&&WV(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||Qh(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],c=Yh(e,n,s,t);if(la(c,e),o!==null&&A2(e,s-r,c,a,t,o),ir(a)){let l=Sn(t.index,e);l[Lt]=Yh(e,n,s,t)}}}function b2(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=VS();try{Mi(o);for(let a=r;a<i;a++){let c=n.data[a],l=e[a];Mh(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&D2(c,l)}}finally{Mi(-1),Mh(s)}}function D2(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function TA(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];xV(e,o.selectors,!1)&&(r??=[],ir(o)?r.unshift(o):r.push(o))}return r}function C2(n,e,t,r,i,o){let s=Vn(n,e);S2(e[Ke],s,o,n.value,t,r,i)}function S2(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?Zc(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function A2(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],l=s[a+1];Gv(r,t,c,l)}}function R2(n,e,t,r,i){let o=Vt+t,s=e[he],a=i(s,e,n,r,t);e[o]=a,aa(n,!0);let c=n.type===2;return c?(cA(e[Ke],a,n),(CS()===0||cu(n))&&la(a,e),SS()):la(a,e),Oh()&&(!c||!c_(n))&&E_(s,e,a,n),n}function N2(n){let e=n;return yv()?kS():(e=e.parent,aa(e,!1)),e}function M2(n,e){let t=n[Ai];if(!t)return;let r;try{r=t.get(tn,null)}catch{r=null}r?.(e)}function T_(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let l=s[c],d=s[c+1],f=e.data[l];Gv(f,t[l],d,i),a=!0}if(o)for(let c of o){let l=t[c],d=e.data[c];Gv(d,l,r,i),a=!0}return a}function P2(n,e){let t=Sn(e,n),r=t[he];k2(r,t);let i=t[Fn];i!==null&&t[nu]===null&&(t[nu]=Y0(i,t[Ai])),ke(18),b_(r,t,t[Lt]),ke(19,t[Lt])}function k2(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function b_(n,e,t){Ph(e);try{let r=n.viewQuery;r!==null&&qv(1,r,t);let i=n.template;i!==null&&EA(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Fo]?.finishViewCreation(n),n.staticContentQueries&&J0(n,e),n.staticViewQueries&&qv(2,n.viewQuery,t);let o=n.components;o!==null&&x2(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[ue]&=-5,kh()}}function x2(n,e){for(let t=0;t<e.length;t++)P2(n,e[t])}function O2(n,e,t,r){let i=fe(null);try{let o=e.tView,a=n[ue]&4096?4096:16,c=f_(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];c[xo]=l;let d=n[Fo];return d!==null&&(c[Fo]=d.createEmbeddedView(o)),b_(o,c,t),c}finally{fe(i)}}function l0(n,e){return!e||e.firstChild===null||$0(n)}function _u(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(Cn(o)),Ln(o)&&bA(o,r);let s=t.type;if(s&8)_u(n,e,t.child,r);else if(s&32){let a=g_(t,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=_A(e,t);if(Array.isArray(a))r.push(...a);else{let c=Ti(e[Dn]);_u(c[he],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function bA(n,e){for(let t=Xt;t<n.length;t++){let r=n[t],i=r[he].firstChild;i!==null&&_u(r[he],r,i,e)}n[Ri]!==n[Fn]&&e.push(n[Ri])}function DA(n){if(n[Ch]!==null){for(let e of n[Ch])e.impl.addSequence(e);n[Ch].length=0}}var CA=[];function F2(n){return n[hn]??L2(n)}function L2(n){let e=CA.pop()??Object.create(j2);return e.lView=n,e}function V2(n){n.lView[hn]!==n&&(n.lView=null,CA.push(n))}var j2=de(F({},Vs),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{du(n.lView)},consumerOnSignalRead(){this.lView[hn]=this}});function U2(n){let e=n[hn]??Object.create(B2);return e.lView=n,e}var B2=de(F({},Vs),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=Ti(n.lView);for(;e&&!SA(e[he]);)e=Ti(e);e&&fv(e)},consumerOnSignalRead(){this.lView[hn]=this}});function SA(n){return n.type!==2}function AA(n){if(n[iu]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[iu])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[ue]&8192)}}var $2=100;function RA(n,e=0){let r=n[nr].rendererFactory,i=!1;i||r.begin?.();try{H2(n,e)}finally{i||r.end?.()}}function H2(n,e){let t=vv();try{_v(!0),Yv(n,e);let r=0;for(;lu(n);){if(r===$2)throw new P(103,!1);r++,Yv(n,1)}}finally{_v(t)}}function z2(n,e,t,r){if(Lo(e))return;let i=e[ue],o=!1,s=!1;Ph(e);let a=!0,c=null,l=null;o||(SA(n)?(l=F2(e),c=Us(l)):Ld()===null?(a=!1,l=U2(e),c=Us(l)):e[hn]&&(zc(e[hn]),e[hn]=null));try{hv(e),xS(n.bindingStartIndex),t!==null&&EA(n,e,t,2,r);let d=(i&3)===3;if(!o)if(d){let m=n.preOrderCheckHooks;m!==null&&$h(e,m,null)}else{let m=n.preOrderHooks;m!==null&&Hh(e,m,0,null),Rv(e,0)}if(s||q2(e),AA(e),NA(e,0),n.contentQueries!==null&&J0(n,e),!o)if(d){let m=n.contentCheckHooks;m!==null&&$h(e,m)}else{let m=n.contentHooks;m!==null&&Hh(e,m,1),Rv(e,1)}W2(n,e);let f=n.components;f!==null&&PA(e,f,0);let g=n.viewQuery;if(g!==null&&qv(2,g,r),!o)if(d){let m=n.viewCheckHooks;m!==null&&$h(e,m)}else{let m=n.viewHooks;m!==null&&Hh(e,m,2),Rv(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Dh]){for(let m of e[Dh])m();e[Dh]=null}o||(DA(e),e[ue]&=-73)}catch(d){throw o||du(e),d}finally{l!==null&&($c(l,c),a&&V2(l)),kh()}}function NA(n,e){for(let t=z0(n);t!==null;t=q0(t))for(let r=Xt;r<t.length;r++){let i=t[r];MA(i,e)}}function q2(n){for(let e=z0(n);e!==null;e=q0(e)){if(!(e[ue]&2))continue;let t=e[au];for(let r=0;r<t.length;r++){let i=t[r];fv(i)}}}function G2(n,e,t){ke(18);let r=Sn(e,n);MA(r,t),ke(19,r[Lt])}function MA(n,e){Ah(n)&&Yv(n,e)}function Yv(n,e){let r=n[he],i=n[ue],o=n[hn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Hc(o)),s||=!1,o&&(o.dirty=!1),n[ue]&=-9217,s)z2(r,n,r.template,n[Lt]);else if(i&8192){let a=fe(null);try{AA(n),NA(n,1);let c=r.components;c!==null&&PA(n,c,1),DA(n)}finally{fe(a)}}}function PA(n,e,t){for(let r=0;r<e.length;r++)G2(n,e[r],t)}function W2(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Mi(~i);else{let o=i,s=t[++r],a=t[++r];LS(s,o);let c=e[o];ke(24,c),a(2,c),ke(25,c)}}}finally{Mi(-1)}}function D_(n,e){let t=vv()?64:1088;for(n[nr].changeDetectionScheduler?.notify(e);n;){n[ue]|=t;let r=Ti(n);if(sa(n)&&!r)return n;n=r}return null}function kA(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function K2(n,e,t,r=!0){let i=e[he];if(Q2(i,e,n,t),r){let s=Qv(t,n),a=e[Ke],c=a.parentNode(n[Ri]);c!==null&&i2(i,n[bn],a,e,c,s)}let o=e[nu];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Jv(n,e){if(n.length<=Xt)return;let t=Xt+e,r=n[t];if(r){let i=r[xo];i!==null&&i!==n&&__(i,r),e>0&&(n[t-1][Tn]=r[Tn]);let o=Xc(n,Xt+e);r2(r[he],r);let s=o[Fo];s!==null&&s.detachView(o[he]),r[At]=null,r[Tn]=null,r[ue]&=-129}return r}function Q2(n,e,t,r){let i=Xt+r,o=t.length;r>0&&(t[i-1][Tn]=e),r<o-Xt?(e[Tn]=t[i],Zy(t,Xt+r,e)):(t.push(e),e[Tn]=null),e[At]=t;let s=e[xo];s!==null&&t!==s&&xA(s,e);let a=e[Fo];a!==null&&a.insertView(n),Rh(e),e[ue]|=128}function xA(n,e){let t=n[au],r=e[At];if(rr(r))n[ue]|=2;else{let i=r[At][Dn];e[Dn]!==i&&(n[ue]|=2)}t===null?n[au]=[e]:t.push(e)}var ki=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[he];return _u(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[Lt]}set context(e){this._lView[Lt]=e}get destroyed(){return Lo(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[At];if(Ln(e)){let t=e[su],r=t?t.indexOf(this):-1;r>-1&&(Jv(e,r),Xc(t,r))}this._attachedToViewContainer=!1}vA(this._lView[he],this._lView)}onDestroy(e){pv(this._lView,e)}markForCheck(){D_(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ue]&=-129}reattach(){Rh(this._lView),this._lView[ue]|=128}detectChanges(){this._lView[ue]|=1024,RA(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new P(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=sa(this._lView),t=this._lView[xo];t!==null&&!e&&__(t,this._lView),yA(this._lView[he],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new P(902,!1);this._appRef=e;let t=sa(this._lView),r=this._lView[xo];r!==null&&!t&&xA(r,this._lView),Rh(this._lView)}};var Du=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=Y2;constructor(t,r,i){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,i){let o=O2(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:i});return new ki(o)}}return n})();function Y2(){return J2(Gt(),Re())}function J2(n,e){return n.type&4?new Du(e,n,cf(n,e)):null}function C_(n,e,t,r,i){let o=n.data[e];if(o===null)o=Z2(n,e,t,r,i),FS()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=PS();o.injectorIndex=s===null?-1:s.injectorIndex}return aa(o,!0),o}function Z2(n,e,t,r,i){let o=mv(),s=yv(),a=s?o:o&&o.parent,c=n.data[e]=ej(n,a,t,e,r,i);return X2(n,c,o,s),c}function X2(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function ej(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return RS()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var TX=new RegExp(`^(\\d+)*(${wV}|${IV})*(.*)`);var tj=()=>null;function d0(n,e){return tj(n,e)}var OA=class{},yf=class{},Zv=class{resolveComponentFactory(e){throw new P(917,!1)}},Cu=class{static NULL=new Zv},jr=class{},zo=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>nj()}return n})();function nj(){let n=Re(),e=Gt(),t=Sn(e.index,n);return(rr(t)?t:n)[Ke]}var FA=(()=>{class n{static \u0275prov=q({token:n,providedIn:"root",factory:()=>null})}return n})();var zh={},Xv=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){let i=this.injector.get(e,zh,r);return i!==zh||t===zh?i:this.parentInjector.get(e,t,r)}};function h0(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=$y(i,a);else if(o==2){let c=a,l=e[++s];r=$y(r,c+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function J(n,e=0){let t=Re();if(t===null)return Q(n,e);let r=Gt();return j0(r,t,St(n),e)}function LA(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a=s,c=null,l=null;for(let d of s)if(d.resolveHostDirectives!==null){[a,c,l]=d.resolveHostDirectives(s);break}oj(n,e,t,a,o,c,l)}o!==null&&r!==null&&rj(t,r,o)}function rj(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new P(-301,!1);r.push(e[i],o)}}function ij(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function oj(n,e,t,r,i,o,s){let a=r.length,c=!1;for(let g=0;g<a;g++){let m=r[g];!c&&ir(m)&&(c=!0,ij(n,t,g)),Bv(Qh(t,e),n,m.type)}dj(t,n.data.length,a);for(let g=0;g<a;g++){let m=r[g];m.providersResolver&&m.providersResolver(m)}let l=!1,d=!1,f=lA(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let g=0;g<a;g++){let m=r[g];if(t.mergedAttrs=vu(t.mergedAttrs,m.hostAttrs),aj(n,t,e,f,m),lj(f,m,i),s!==null&&s.has(m)){let[A,D]=s.get(m);t.directiveToIndex.set(m.type,[f,A+t.directiveStart,D+t.directiveStart])}else(o===null||!o.has(m))&&t.directiveToIndex.set(m.type,f);m.contentQueries!==null&&(t.flags|=4),(m.hostBindings!==null||m.hostAttrs!==null||m.hostVars!==0)&&(t.flags|=64);let E=m.type.prototype;!l&&(E.ngOnChanges||E.ngOnInit||E.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),l=!0),!d&&(E.ngOnChanges||E.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),d=!0),f++}sj(n,t,o)}function sj(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))f0(0,e,i,r),f0(1,e,i,r),g0(e,r,!1);else{let o=t.get(i);p0(0,e,o,r),p0(1,e,o,r),g0(e,r,!0)}}}function f0(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),VA(e,o)}}function p0(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),VA(e,s)}}function VA(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function g0(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||d_(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!t&&i.hasOwnProperty(c)){let l=i[c];for(let d of l)if(d===e){s??=[],s.push(c,r[a+1]);break}}else if(t&&o.hasOwnProperty(c)){let l=o[c];for(let d=0;d<l.length;d+=2)if(l[d]===e){s??=[],s.push(l[d+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function aj(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=wi(i.type,!0)),s=new Uo(o,ir(i),J,null);n.blueprint[r]=s,t[r]=s,cj(n,e,r,lA(n,t,i.hostVars,Br),i)}function cj(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;uj(s)!=a&&s.push(a),s.push(t,r,o)}}function uj(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function lj(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;ir(e)&&(t[""]=n)}}function dj(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function jA(n,e,t,r,i,o,s,a){let c=e[he],l=c.consts,d=uu(l,s),f=C_(c,n,t,r,d);return o&&LA(c,e,f,uu(l,a),i),f.mergedAttrs=vu(f.mergedAttrs,f.attrs),f.attrs!==null&&h0(f,f.attrs,!1),f.mergedAttrs!==null&&h0(f,f.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,f),f}function UA(n,e){N0(n,e),cv(e)&&n.queries.elementEnd(e)}function S_(n){return $A(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function BA(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function $A(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function A_(n,e,t){return n[e]=t}function Ur(n,e,t){if(t===Br)return!1;let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function hj(n,e,t,r){let i=Ur(n,e,t);return Ur(n,e+1,r)||i}function Pv(n,e,t){return function r(i){let o=Ni(n)?Sn(n.index,e):e;D_(o,5);let s=e[Lt],a=m0(e,s,t,i),c=r.__ngNextListenerFn__;for(;c;)a=m0(e,s,c,i)&&a,c=c.__ngNextListenerFn__;return a}}function m0(n,e,t,r){let i=fe(null);try{return ke(6,e,t),t(r)!==!1}catch(o){return M2(n,o),!1}finally{ke(7,e,t),fe(i)}}function fj(n,e,t,r,i,o,s,a){let c=cu(n),l=!1,d=null;if(!r&&c&&(d=gj(e,t,o,n.index)),d!==null){let f=d.__ngLastListenerFn__||d;f.__ngNextListenerFn__=s,d.__ngLastListenerFn__=s,l=!0}else{let f=Vn(n,t),g=r?r(f):f;bV(t,g,o,a);let m=i.listen(g,o,a);if(!pj(o)){let E=r?A=>r(Cn(A[n.index])):n.index;HA(E,e,t,o,a,m,!1)}}return l}function pj(n){return n.startsWith("animation")||n.startsWith("transition")}function gj(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[ia],c=i[o+2];return a&&a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function HA(n,e,t,r,i,o,s){let a=e.firstCreatePass?DS(e):null,c=bS(t),l=c.length;c.push(i,o),a&&a.push(r,n,l,(l+1)*(s?-1:1))}function y0(n,e,t,r,i,o){let s=e[t],a=e[he],l=a.data[t].outputs[r],f=s[l].subscribe(o);HA(n.index,a,e,i,o,f,!0)}var e_=Symbol("BINDING");var tf=class extends Cu{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Si(e);return new ha(t,this.ngModule)}};function mj(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&gf.SignalBased)!==0};return i&&(o.transform=i),o})}function yj(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function vj(n,e,t){let r=e instanceof We?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new Xv(t,r):t}function _j(n){let e=n.get(jr,null);if(e===null)throw new P(407,!1);let t=n.get(FA,null),r=n.get(bi,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function Ej(n,e){let t=zA(n);return sA(e,t,t==="svg"?_S:t==="math"?ES:null)}function zA(n){return(n.selectors[0][0]||"div").toLowerCase()}var ha=class extends yf{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=mj(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=yj(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=VV(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i,o,s){ke(22);let a=fe(null);try{let c=this.componentDef,l=Ij(r,c,s,o),d=vj(c,i||this.ngModule,e),f=_j(d),g=f.rendererFactory.createRenderer(null,c),m=r?y2(g,r,c.encapsulation,d):Ej(c,g),E=s?.some(v0)||o?.some(M=>typeof M!="function"&&M.bindings.some(v0)),A=f_(null,l,null,512|uA(c),null,null,f,g,d,null,Y0(m,d,!0));A[Vt]=m,Ph(A);let D=null;try{let M=jA(Vt,A,2,"#host",()=>l.directiveRegistry,!0,0);cA(g,m,M),la(m,A),w_(l,A,M),Z0(l,M,A),UA(l,M),t!==void 0&&Tj(M,this.ngContentSelectors,t),D=Sn(M.index,A),A[Lt]=D[Lt],b_(l,A,null)}catch(M){throw D!==null&&Hv(D),Hv(A),M}finally{ke(23),kh()}return new nf(this.componentType,A,!!E)}finally{fe(a)}}};function Ij(n,e,t,r){let i=n?["ng-version","20.3.9"]:jV(e.selectors[0]),o=null,s=null,a=0;if(t)for(let d of t)a+=d[e_].requiredVars,d.create&&(d.targetIdx=0,(o??=[]).push(d)),d.update&&(d.targetIdx=0,(s??=[]).push(d));if(r)for(let d=0;d<r.length;d++){let f=r[d];if(typeof f!="function")for(let g of f.bindings){a+=g[e_].requiredVars;let m=d+1;g.create&&(g.targetIdx=m,(o??=[]).push(g)),g.update&&(g.targetIdx=m,(s??=[]).push(g))}}let c=[e];if(r)for(let d of r){let f=typeof d=="function"?d:d.type,g=nv(f);c.push(g)}return h_(0,null,wj(o,s),1,a,c,null,null,null,[i],null)}function wj(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let r of n)r.create();if(t&2&&e)for(let r of e)r.update()}}function v0(n){let e=n[e_].kind;return e==="input"||e==="twoWay"}var nf=class extends OA{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=Sh(t[he],Vt),this.location=cf(this._tNode,t),this.instance=Sn(this._tNode.index,t)[Lt],this.hostView=this.changeDetectorRef=new ki(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=T_(r,i[he],i,e,t);this.previousInputValues.set(e,t);let s=Sn(r.index,i);D_(s,1)}get injector(){return new jo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Tj(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var qo=(()=>{class n{static __NG_ELEMENT_ID__=bj}return n})();function bj(){let n=Gt();return Cj(n,Re())}var Dj=qo,qA=class extends Dj{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return cf(this._hostTNode,this._hostLView)}get injector(){return new jo(this._hostTNode,this._hostLView)}get parentInjector(){let e=o_(this._hostTNode,this._hostLView);if(k0(e)){let t=Wh(e,this._hostLView),r=Gh(e),i=t[he].data[r+8];return new jo(i,t)}else return new jo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=_0(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Xt}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=d0(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,l0(this._hostTNode,s)),a}createComponent(e,t,r,i,o,s,a){let c=e&&!YL(e),l;if(c)l=t;else{let D=t||{};l=D.index,r=D.injector,i=D.projectableNodes,o=D.environmentInjector||D.ngModuleRef,s=D.directives,a=D.bindings}let d=c?e:new ha(Si(e)),f=r||this.parentInjector;if(!o&&d.ngModule==null){let M=(c?f:this.parentInjector).get(We,null);M&&(o=M)}let g=Si(d.componentType??{}),m=d0(this._lContainer,g?.id??null),E=m?.firstChild??null,A=d.create(f,i,E,o,s,a);return this.insertImpl(A.hostView,l,l0(this._hostTNode,m)),A}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(IS(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[At],l=new qA(c,c[bn],c[At]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return K2(s,i,o,r),e.attachToViewContainerRef(),Zy(kv(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=_0(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Jv(this._lContainer,t);r&&(Xc(kv(this._lContainer),t),vA(r[he],r))}detach(e){let t=this._adjustIndex(e,-1),r=Jv(this._lContainer,t);return r&&Xc(kv(this._lContainer),t)!=null?new ki(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function _0(n){return n[su]}function kv(n){return n[su]||(n[su]=[])}function Cj(n,e){let t,r=e[n.index];return Ln(r)?t=r:(t=kA(r,e,null,n),e[n.index]=t,p_(e,t)),Aj(t,e,n,r),new qA(t,n,e)}function Sj(n,e){let t=n[Ke],r=t.createComment(""),i=Vn(e,n),o=t.parentNode(i);return Zh(t,o,r,t.nextSibling(i),!1),r}var Aj=Mj,Rj=()=>!1;function Nj(n,e,t){return Rj(n,e,t)}function Mj(n,e,t,r){if(n[Ri])return;let i;t.type&8?i=Cn(r):i=Sj(e,t),n[Ri]=i}var Bo=class{},vf=class{};var rf=class extends Bo{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new tf(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=tv(e);this._bootstrapComponents=iA(o.bootstrap),this._r3Injector=Tv(e,t,[{provide:Bo,useValue:this},{provide:Cu,useValue:this.componentFactoryResolver},...r],Or(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},of=class extends vf{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new rf(this.moduleType,e,[])}};var Eu=class extends Bo{injector;componentFactoryResolver=new tf(this);instance=null;constructor(e){super();let t=new No([...e.providers,{provide:Bo,useValue:this},{provide:Cu,useValue:this.componentFactoryResolver}],e.parent||tu(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Su(n,e,t=null){return new Eu({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var Pj=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=rv(!1,t.type),i=r.length>0?Su([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=q({token:n,providedIn:"environment",factory:()=>new n(Q(We))})}return n})();function Un(n){return pa(()=>{let e=GA(n),t=de(F({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===s_.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(Pj).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Vr.Emulated,styles:n.styles||ln,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&bu("NgStandalone"),WA(t);let r=n.dependencies;return t.directiveDefs=E0(r,kj),t.pipeDefs=E0(r,hS),t.id=Fj(t),t})}function kj(n){return Si(n)||nv(n)}function An(n){return pa(()=>({type:n.type,bootstrap:n.bootstrap||ln,declarations:n.declarations||ln,imports:n.imports||ln,exports:n.exports||ln,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function xj(n,e){if(n==null)return Di;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,c;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,c=i[3]||null):(o=i,s=i,a=gf.None,c=null),t[o]=[r,a,c],e[o]=s}return t}function Oj(n){if(n==null)return Di;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function gt(n){return pa(()=>{let e=GA(n);return WA(e),e})}function _f(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function GA(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||Di,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||ln,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:xj(n.inputs,e),outputs:Oj(n.outputs),debugInfo:null}}function WA(n){n.features?.forEach(e=>e(n))}function E0(n,e){return n?()=>{let t=typeof n=="function"?n():n,r=[];for(let i of t){let o=e(i);o!==null&&r.push(o)}return r}:null}function Fj(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Lj(n){return Object.getPrototypeOf(n.prototype).constructor}function Bn(n){let e=Lj(n.type),t=!0,r=[n];for(;e;){let i;if(ir(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new P(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=xv(n.inputs),s.declaredInputs=xv(n.declaredInputs),s.outputs=xv(n.outputs);let a=i.hostBindings;a&&$j(n,a);let c=i.viewQuery,l=i.contentQueries;if(c&&Uj(n,c),l&&Bj(n,l),Vj(n,i),iS(n.outputs,i.outputs),ir(i)&&i.data.animation){let d=n.data;d.animation=(d.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===Bn&&(t=!1)}}e=Object.getPrototypeOf(e)}jj(r)}function Vj(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function jj(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=vu(i.hostAttrs,t=vu(t,i.hostAttrs))}}function xv(n){return n===Di?{}:n===ln?[]:n}function Uj(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function Bj(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function $j(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function Hj(n,e,t,r,i,o,s,a){if(t.firstCreatePass){n.mergedAttrs=vu(n.mergedAttrs,n.attrs);let d=n.tView=h_(2,n,i,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,n),d.queries=t.queries.embeddedTView(n))}a&&(n.flags|=a),aa(n,!1);let c=qj(t,e,n,r);Oh()&&E_(t,e,c,n),la(c,e);let l=kA(c,e,c,n);e[r+Vt]=l,p_(e,l),Nj(l,n,e)}function zj(n,e,t,r,i,o,s,a,c,l,d){let f=t+Vt,g;return e.firstCreatePass?(g=C_(e,f,4,s||null,a||null),gv()&&LA(e,n,g,uu(e.consts,l),TA),N0(e,g)):g=e.data[f],Hj(g,n,e,t,r,i,o,c),cu(g)&&w_(e,n,g),l!=null&&IA(n,g,d),g}function $n(n,e,t,r,i,o,s,a){let c=Re(),l=en(),d=uu(l.consts,o);return zj(c,l,n,e,t,r,i,d,void 0,s,a),$n}var qj=Gj;function Gj(n,e,t,r){return Fh(!0),e[Ke].createComment("")}var R_=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var N_=new B("");function Fi(n){return!!n&&typeof n.then=="function"}function M_(n){return!!n&&typeof n.subscribe=="function"}var KA=new B("");var P_=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=x(KA,{optional:!0})??[];injector=x(ft);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=Ze(this.injector,i);if(Fi(o))t.push(o);else if(M_(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ef=new B("");function QA(){dy(()=>{let n="";throw new P(600,n)})}function YA(n){return n.isBoundToModule}var Wj=10;var Li=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=x(tn);afterRenderManager=x(gA);zonelessEnabled=x(Lh);rootEffectScheduler=x(Av);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new rt;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=x(or);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(oe(t=>!t))}constructor(){x(Tu,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=x(We);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=ft.NULL){return this._injector.get(Ce).run(()=>{ke(10);let s=t instanceof yf;if(!this._injector.get(P_).done){let E="";throw new P(405,E)}let c;s?c=t:c=this._injector.get(Cu).resolveComponentFactory(t),this.componentTypes.push(c.componentType);let l=YA(c)?void 0:this._injector.get(Bo),d=r||c.selector,f=c.create(i,[],d,l),g=f.location.nativeElement,m=f.injector.get(N_,null);return m?.registerApplication(g),f.onDestroy(()=>{this.detachView(f.hostView),yu(this.components,f),m?.unregisterApplication(g)}),this._loadComponent(f),ke(11,f),f})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){ke(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(m_.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new P(101,!1);let t=fe(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,fe(t),this.afterTick.next(),ke(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(jr,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<Wj;)ke(14),this.synchronizeOnce(),ke(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!lu(i))continue;let o=r&&!this.zonelessEnabled?0:1;RA(i,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>lu(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;yu(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(Ef,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>yu(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new P(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function yu(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function Au(n,e,t,r){let i=Re(),o=pu();if(Ur(i,o,e)){let s=en(),a=xh();C2(a,i,n,e,t,r)}return Au}var NX=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function ot(n,e,t){let r=Re(),i=pu();if(Ur(r,i,e)){let o=en(),s=xh();wA(s,r,n,e,r[Ke],t)}return ot}function I0(n,e,t,r,i){T_(e,n,t,i?"class":"style",r)}function j(n,e,t,r){let i=Re(),o=i[he],s=n+Vt,a=o.firstCreatePass?jA(s,i,2,e,TA,gv(),t,r):o.data[s];if(R2(a,i,n,e,Kj),cu(a)){let c=i[he];w_(c,i,a),Z0(c,a,i)}return r!=null&&IA(i,a),j}function V(){let n=en(),e=Gt(),t=N2(e);return n.firstCreatePass&&UA(n,t),NS(t)&&MS(),AS(),t.classesWithoutHost!=null&&nV(t)&&I0(n,t,Re(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&rV(t)&&I0(n,t,Re(),t.stylesWithoutHost,!1),V}function _t(n,e,t,r){return j(n,e,t,r),V(),_t}var Kj=(n,e,t,r,i)=>(Fh(!0),sA(e[Ke],r,zS()));function k_(){return Re()}var Uh=void 0;function Qj(n){let e=Math.floor(Math.abs(n)),t=n.toString().replace(/^[^.]*\.?/,"").length;return e===1&&t===0?1:5}var Yj=["en",[["a","p"],["AM","PM"]],[["AM","PM"]],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Uh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Uh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Uh,"{1} 'at' {0}",Uh],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",Qj],Ov={};function Wt(n){let e=Jj(n),t=w0(e);if(t)return t;let r=e.split("-")[0];if(t=w0(r),t)return t;if(r==="en")return Yj;throw new P(701,!1)}function w0(n){return n in Ov||(Ov[n]=Fr.ng&&Fr.ng.common&&Fr.ng.common.locales&&Fr.ng.common.locales[n]),Ov[n]}var $e=(function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n})($e||{});function Jj(n){return n.toLowerCase().replace(/_/g,"-")}var Ru="en-US",Zj="USD";var Xj=Ru;function JA(n){typeof n=="string"&&(Xj=n.toLowerCase().replace(/_/g,"-"))}function tt(n,e,t){let r=Re(),i=en(),o=Gt();return ZA(i,r,r[Ke],o,n,e,t),tt}function ZA(n,e,t,r,i,o,s){let a=!0,c=null;if((r.type&3||s)&&(c??=Pv(r,e,o),fj(r,n,e,s,t,i,o,c)&&(a=!1)),a){let l=r.outputs?.[i],d=r.hostDirectiveOutputs?.[i];if(d&&d.length)for(let f=0;f<d.length;f+=2){let g=d[f],m=d[f+1];c??=Pv(r,e,o),y0(r,e,g,m,i,c)}if(l&&l.length)for(let f of l)c??=Pv(r,e,o),y0(r,e,f,i,i,c)}}function ur(n=1){return HS(n)}function Bh(n,e){return n<<17|e<<2}function $o(n){return n>>17&32767}function eU(n){return(n&2)==2}function tU(n,e){return n&131071|e<<17}function t_(n){return n|2}function fa(n){return(n&131068)>>2}function Fv(n,e){return n&-131069|e<<2}function nU(n){return(n&1)===1}function n_(n){return n|1}function rU(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=$o(s),c=fa(s);n[r]=t;let l=!1,d;if(Array.isArray(t)){let f=t;d=f[1],(d===null||ra(f,d)>0)&&(l=!0)}else d=t;if(i)if(c!==0){let g=$o(n[a+1]);n[r+1]=Bh(g,a),g!==0&&(n[g+1]=Fv(n[g+1],r)),n[a+1]=tU(n[a+1],r)}else n[r+1]=Bh(a,0),a!==0&&(n[a+1]=Fv(n[a+1],r)),a=r;else n[r+1]=Bh(c,0),a===0?a=r:n[c+1]=Fv(n[c+1],r),c=r;l&&(n[r+1]=t_(n[r+1])),T0(n,d,r,!0),T0(n,d,r,!1),iU(e,d,n,r,o),s=Bh(a,c),o?e.classBindings=s:e.styleBindings=s}function iU(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&ra(o,e)>=0&&(t[r+1]=n_(t[r+1]))}function T0(n,e,t,r){let i=n[t+1],o=e===null,s=r?$o(i):fa(i),a=!1;for(;s!==0&&(a===!1||o);){let c=n[s],l=n[s+1];oU(c,e)&&(a=!0,n[s+1]=r?n_(l):t_(l)),s=r?$o(l):fa(l)}a&&(n[t+1]=r?t_(i):n_(i))}function oU(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?ra(n,e)>=0:!1}function Nu(n,e){return sU(n,e,null,!0),Nu}function sU(n,e,t,r){let i=Re(),o=en(),s=OS(2);if(o.firstUpdatePass&&cU(o,n,s,r),e!==Br&&Ur(i,s,e)){let a=o.data[Vo()];fU(o,a,i,i[Ke],n,i[s+1]=pU(e,t),r,s)}}function aU(n,e){return e>=n.expandoStartIndex}function cU(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[Vo()],s=aU(n,t);gU(o,r)&&e===null&&!s&&(e=!1),e=uU(i,o,e,r),rU(i,o,e,t,s,r)}}function uU(n,e,t,r){let i=jS(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=Lv(null,n,e,t,r),t=Iu(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=Lv(i,n,e,t,r),o===null){let c=lU(n,e,r);c!==void 0&&Array.isArray(c)&&(c=Lv(null,n,e,c[1],r),c=Iu(c,e.attrs,r),dU(n,e,r,c))}else o=hU(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function lU(n,e,t){let r=t?e.classBindings:e.styleBindings;if(fa(r)!==0)return n[$o(r)]}function dU(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[$o(i)]=r}function hU(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=Iu(r,s,t)}return Iu(r,e.attrs,t)}function Lv(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=Iu(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function Iu(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),dS(n,s,t?!0:e[++o]))}return n===void 0?null:n}function fU(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let c=n.data,l=c[a+1],d=nU(l)?b0(c,e,t,i,fa(l),s):void 0;if(!sf(d)){sf(o)||eU(l)&&(o=b0(c,null,t,i,a,s));let f=uv(Vo(),t);m2(r,s,f,i,o)}}function b0(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let c=n[i],l=Array.isArray(c),d=l?c[1]:c,f=d===null,g=t[i+1];g===Br&&(g=f?ln:void 0);let m=f?bh(g,r):d===r?g:void 0;if(l&&!sf(m)&&(m=bh(c,r)),sf(m)&&(a=m,s))return a;let E=n[i+1];i=s?$o(E):fa(E)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=bh(c,r))}return a}function sf(n){return n!==void 0}function pU(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Or(ff(n)))),n}function gU(n,e){return(n.flags&(e?8:16))!==0}function z(n,e=""){let t=Re(),r=en(),i=n+Vt,o=r.firstCreatePass?C_(r,i,1,e,null):r.data[i],s=mU(r,t,o,e,n);t[i]=s,Oh()&&E_(r,t,s,o),aa(o,!1)}var mU=(n,e,t,r,i)=>(Fh(!0),UV(e[Ke],r));function yU(n,e,t,r=""){return Ur(n,pu(),t)?e+Zc(t)+r:Br}function Rt(n){return Mu("",n),Rt}function Mu(n,e,t){let r=Re(),i=yU(r,n,e,t);return i!==Br&&vU(r,Vo(),i),Mu}function vU(n,e,t){let r=uv(e,n);BV(n[Ke],r,t)}function If(n,e,t){Dv(e)&&(e=e());let r=Re(),i=pu();if(Ur(r,i,e)){let o=en(),s=xh();wA(s,r,n,e,r[Ke],t)}return If}function x_(n,e){let t=Dv(n);return t&&n.set(e),t}function wf(n,e){let t=Re(),r=en(),i=Gt();return ZA(r,t,t[Ke],i,n,e),wf}function _U(n,e,t){let r=en();if(r.firstCreatePass){let i=ir(n);r_(t,r.data,r.blueprint,i,!0),r_(e,r.data,r.blueprint,i,!1)}}function r_(n,e,t,r,i){if(n=St(n),Array.isArray(n))for(let o=0;o<n.length;o++)r_(n[o],e,t,r,i);else{let o=en(),s=Re(),a=Gt(),c=Ro(n)?n:St(n.provide),l=ov(n),d=a.providerIndexes&1048575,f=a.directiveStart,g=a.providerIndexes>>20;if(Ro(n)||!n.multi){let m=new Uo(l,i,J,null),E=jv(c,e,i?d:d+g,f);E===-1?(Bv(Qh(a,s),o,c),Vv(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(m),s.push(m)):(t[E]=m,s[E]=m)}else{let m=jv(c,e,d+g,f),E=jv(c,e,d,d+g),A=m>=0&&t[m],D=E>=0&&t[E];if(i&&!D||!i&&!A){Bv(Qh(a,s),o,c);let M=wU(i?IU:EU,t.length,i,r,l,n);!i&&D&&(t[E].providerFactory=M),Vv(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(M),s.push(M)}else{let M=XA(t[i?E:m],l,!i&&r);Vv(o,n,m>-1?m:E,M)}!i&&r&&D&&t[E].componentProviders++}}}function Vv(n,e,t,r){let i=Ro(e),o=mS(e);if(i||o){let c=(o?St(e.useClass):e).prototype.ngOnDestroy;if(c){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let d=l.indexOf(t);d===-1?l.push(t,[r,c]):l[d+1].push(r,c)}else l.push(t,c)}}}function XA(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function jv(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function EU(n,e,t,r,i){return i_(this.multi,[])}function IU(n,e,t,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=Yh(r,r[he],this.providerFactory.index,i);s=c.slice(0,a),i_(o,s);for(let l=a;l<c.length;l++)s.push(c[l])}else s=[],i_(o,s);return s}function i_(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function wU(n,e,t,r,i,o){let s=new Uo(n,t,J,null);return s.multi=[],s.index=e,s.componentProviders=0,XA(s,i,r&&!t),s}function Go(n,e=[]){return t=>{t.providersResolver=(r,i)=>_U(r,i?i(n):n,e)}}function Tf(n,e,t,r){return TU(Re(),Nh(),n,e,t,r)}function O_(n,e){let t=n[e];return t===Br?void 0:t}function TU(n,e,t,r,i,o){let s=e+t;return Ur(n,s,i)?A_(n,s+1,o?r.call(o,i):r(i)):O_(n,s+1)}function bU(n,e,t,r,i,o,s){let a=e+t;return hj(n,a,i,o)?A_(n,a+2,s?r.call(s,i,o):r(i,o)):O_(n,a+2)}function DU(n,e,t,r,i,o){let s=e+t,a=!1;for(let c=0;c<i.length;c++)Ur(n,s++,i[c])&&(a=!0);return a?A_(n,s,r.apply(o,i)):O_(n,s)}function Pu(n,e){let t=en(),r,i=n+Vt;t.firstCreatePass?(r=CU(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=wi(r.type,!0)),s,a=qt(J);try{let c=Kh(!1),l=o();return Kh(c),dv(t,Re(),i,l),l}finally{qt(a)}}function CU(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function F_(n,e,t,r){let i=n+Vt,o=Re(),s=lv(o,i);return eR(o,i)?bU(o,Nh(),e,s.transform,t,r,s):s.transform(t,r)}function bf(n,e,t){let r=n+Vt,i=Re(),o=lv(i,r);return eR(i,r)?DU(i,Nh(),e,o.transform,t,o):o.transform.apply(o,t)}function eR(n,e){return n[he].data[e].pure}var af=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},L_=(()=>{class n{compileModuleSync(t){return new of(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=tv(t),o=iA(i.declarations).reduce((s,a)=>{let c=Si(a);return c&&s.push(new ha(c)),s},[]);return new af(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var SU=(()=>{class n{zone=x(Ce);changeDetectionScheduler=x(bi);applicationRef=x(Li);applicationErrorHandler=x(tn);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function tR({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new Ce(de(F({},nR()),{scheduleInRootZone:t})),[{provide:Ce,useFactory:n},{provide:Ci,multi:!0,useFactory:()=>{let r=x(SU,{optional:!0});return()=>r.initialize()}},{provide:Ci,multi:!0,useFactory:()=>{let r=x(AU);return()=>{r.initialize()}}},e===!0?{provide:Cv,useValue:!0}:[],{provide:Sv,useValue:t??hA},{provide:tn,useFactory:()=>{let r=x(Ce),i=x(We),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(er),o.handleError(s))})}}}]}function nR(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var AU=(()=>{class n{subscription=new Ge;initialized=!1;zone=x(Ce);pendingTasks=x(or);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ce.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ce.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var rR=(()=>{class n{applicationErrorHandler=x(tn);appRef=x(Li);taskService=x(or);ngZone=x(Ce);zonelessEnabled=x(Lh);tracing=x(Tu,{optional:!0});disableScheduling=x(Cv,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Ge;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Xh):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(x(Sv,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof ef||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?i0:fA;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Xh+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,i0(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function RU(){return typeof $localize<"u"&&$localize.locale||Ru}var ga=new B("",{providedIn:"root",factory:()=>x(ga,{optional:!0,skipSelf:!0})||RU()}),V_=new B("",{providedIn:"root",factory:()=>Zj});function Et(n){return tS(n)}function ma(n,e){return Bd(n,e?.equal)}var iR=class{[Ot];constructor(e){this[Ot]=e}destroy(){this[Ot].destroy()}};var uR=Symbol("InputSignalNode#UNSET"),qU=de(F({},$d),{transformFn:void 0,applyValueToInputSignal(n,e){$s(n,e)}});function lR(n,e){let t=Object.create(qU);t.value=n,t.transformFn=e?.transform;function r(){if(js(t),t.value===uR){let i=null;throw new P(-950,i)}return t.value}return r[Ot]=t,r}var Cf=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>wu(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},GU=new B("");GU.__NG_ELEMENT_ID__=n=>{let e=Gt();if(e===null)throw new P(204,!1);if(e.type&2)return e.value;if(n&8)return null;throw new P(204,!1)};function oR(n,e){return lR(n,e)}function WU(n){return lR(uR,n)}var dR=(oR.required=WU,oR);var j_=new B(""),KU=new B("");function ku(n){return!n.moduleRef}function QU(n){let e=ku(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Ce);return t.run(()=>{ku(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(tn),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),ku(n)){let o=()=>e.destroy(),s=n.platformInjector.get(j_);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(j_);s.add(o),n.moduleRef.onDestroy(()=>{yu(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return JU(r,t,()=>{let o=e.get(or),s=o.add(),a=e.get(P_);return a.runInitializers(),a.donePromise.then(()=>{let c=e.get(ga,Ru);if(JA(c||Ru),!e.get(KU,!0))return ku(n)?e.get(Li):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(ku(n)){let d=e.get(Li);return n.rootComponent!==void 0&&d.bootstrap(n.rootComponent),d}else return YU?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>void o.remove(s))})})}var YU;function JU(n,e,t){try{let r=t();return Fi(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n(r)),r}}var Df=null;function ZU(n=[],e){return ft.create({name:e,providers:[{provide:eu,useValue:"platform"},{provide:j_,useValue:new Set([()=>Df=null])},...n]})}function XU(n=[]){if(Df)return Df;let e=ZU(n);return Df=e,QA(),eB(e),e}function eB(n){let e=n.get(lf,null);Ze(n,()=>{e?.forEach(t=>t())})}function z_(){return!1}var ya=(()=>{class n{static __NG_ELEMENT_ID__=tB}return n})();function tB(n){return nB(Gt(),Re(),(n&16)===16)}function nB(n,e,t){if(Ni(n)&&!t){let r=Sn(n.index,e);return new ki(r,r)}else if(n.type&175){let r=e[Dn];return new ki(r,e)}return null}var U_=class{constructor(){}supports(e){return S_(e)}create(e){return new B_(e)}},rB=(n,e)=>e,B_=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||rB}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<sR(r,i,o)?t:r,a=sR(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,d=c-i;if(l!=d){for(let g=0;g<l;g++){let m=g<o.length?o[g]:o[g]=0,E=m+g;d<=E&&E<l&&(o[g]=m+1)}let f=s.previousIndex;o[f]=d-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!S_(e))throw new P(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,BA(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new $_(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Sf),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Sf),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},$_=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},H_=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Sf=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new H_,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function sR(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function aR(){return new q_([new U_])}var q_=(()=>{class n{factories;static \u0275prov=q({token:n,providedIn:"root",factory:aR});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:()=>{let r=x(n,{optional:!0,skipSelf:!0});return n.create(t,r||aR())}}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new P(901,!1)}}return n})();function hR(n){let{rootComponent:e,appProviders:t,platformProviders:r,platformRef:i}=n;ke(8);try{let o=i?.injector??XU(r),s=[tR({}),{provide:bi,useExisting:rR},GS,...t||[]],a=new Eu({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return QU({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{ke(9)}}function va(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}var gR=null;function Rn(){return gR}function G_(n){gR??=n}var xu=class{},W_=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:()=>x(mR),providedIn:"platform"})}return n})();var mR=(()=>{class n extends W_{_location;_history;_doc=x(Xe);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Rn().getBaseHref(this._doc)}onPopState(t){let r=Rn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=Rn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function yR(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function fR(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function Vi(n){return n&&n[0]!=="?"?`?${n}`:n}var _a=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:()=>x(_R),providedIn:"root"})}return n})(),vR=new B(""),_R=(()=>{class n extends _a{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??x(Xe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return yR(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Vi(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Vi(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Vi(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(Q(W_),Q(vR,8))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ea=(()=>{class n{_subject=new rt;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=sB(fR(pR(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Vi(r))}normalize(t){return n.stripTrailingSlash(oB(this._basePath,pR(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Vi(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Vi(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Vi;static joinWithSlash=yR;static stripTrailingSlash=fR;static \u0275fac=function(r){return new(r||n)(Q(_a))};static \u0275prov=q({token:n,factory:()=>iB(),providedIn:"root"})}return n})();function iB(){return new Ea(Q(_a))}function oB(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function pR(n){return n.replace(/\/index.html$/,"")}function sB(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var DR={ADP:[void 0,void 0,0],AFN:[void 0,"\u060B",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058F",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20BC"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09F3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xA5","\xA5"],COP:[void 0,"$",2],CRC:[void 0,"\u20A1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010D",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xA3"],ESP:[void 0,"\u20A7",0],EUR:["\u20AC"],FJD:[void 0,"$"],FKP:[void 0,"\xA3"],GBP:["\xA3"],GEL:[void 0,"\u20BE"],GHS:[void 0,"GH\u20B5"],GIP:[void 0,"\xA3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xA5",void 0,0],KHR:[void 0,"\u17DB"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20A9",0],KRW:["\u20A9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20B8"],LAK:[void 0,"\u20AD",0],LBP:[void 0,"L\xA3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20AE",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20A6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20B1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20B2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20BD"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xA3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xA3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xA3",0],THB:[void 0,"\u0E3F"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20BA"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20B4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20AB",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xA4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},X_=(function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n})(X_||{});var jt=(function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n})(jt||{}),Me=(function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n})(Me||{}),nn=(function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n})(nn||{}),rn={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function CR(n){return Wt(n)[$e.LocaleId]}function SR(n,e,t){let r=Wt(n),i=[r[$e.DayPeriodsFormat],r[$e.DayPeriodsStandalone]],o=Nn(i,e);return Nn(o,t)}function AR(n,e,t){let r=Wt(n),i=[r[$e.DaysFormat],r[$e.DaysStandalone]],o=Nn(i,e);return Nn(o,t)}function RR(n,e,t){let r=Wt(n),i=[r[$e.MonthsFormat],r[$e.MonthsStandalone]],o=Nn(i,e);return Nn(o,t)}function NR(n,e){let r=Wt(n)[$e.Eras];return Nn(r,e)}function Ou(n,e){let t=Wt(n);return Nn(t[$e.DateFormat],e)}function Fu(n,e){let t=Wt(n);return Nn(t[$e.TimeFormat],e)}function Lu(n,e){let r=Wt(n)[$e.DateTimeFormat];return Nn(r,e)}function lr(n,e){let t=Wt(n),r=t[$e.NumberSymbols][e];if(typeof r>"u"){if(e===rn.CurrencyDecimal)return t[$e.NumberSymbols][rn.Decimal];if(e===rn.CurrencyGroup)return t[$e.NumberSymbols][rn.Group]}return r}function MR(n,e){return Wt(n)[$e.NumberFormats][e]}function aB(n){return Wt(n)[$e.Currencies]}function PR(n){if(!n[$e.ExtraData])throw new P(2303,!1)}function kR(n){let e=Wt(n);return PR(e),(e[$e.ExtraData][2]||[]).map(r=>typeof r=="string"?K_(r):[K_(r[0]),K_(r[1])])}function xR(n,e,t){let r=Wt(n);PR(r);let i=[r[$e.ExtraData][0],r[$e.ExtraData][1]],o=Nn(i,e)||[];return Nn(o,t)||[]}function Nn(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new P(2304,!1)}function K_(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}function OR(n,e,t="en"){let r=aB(t)[n]||DR[n]||[],i=r[1];return e==="narrow"&&typeof i=="string"?i:r[0]||n}var cB=2;function FR(n){let e,t=DR[n];return t&&(e=t[2]),typeof e=="number"?e:cB}var uB=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Rf={},lB=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function LR(n,e,t,r){let i=_B(n);e=$r(t,e)||e;let s=[],a;for(;e;)if(a=lB.exec(e),a){s=s.concat(a.slice(1));let d=s.pop();if(!d)break;e=d}else{s.push(e);break}let c=i.getTimezoneOffset();r&&(c=jR(r,c),i=vB(i,r));let l="";return s.forEach(d=>{let f=mB(d);l+=f?f(i,t,c):d==="''"?"'":d.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function xf(n,e,t){let r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function $r(n,e){let t=CR(n);if(Rf[t]??={},Rf[t][e])return Rf[t][e];let r="";switch(e){case"shortDate":r=Ou(n,nn.Short);break;case"mediumDate":r=Ou(n,nn.Medium);break;case"longDate":r=Ou(n,nn.Long);break;case"fullDate":r=Ou(n,nn.Full);break;case"shortTime":r=Fu(n,nn.Short);break;case"mediumTime":r=Fu(n,nn.Medium);break;case"longTime":r=Fu(n,nn.Long);break;case"fullTime":r=Fu(n,nn.Full);break;case"short":let i=$r(n,"shortTime"),o=$r(n,"shortDate");r=Nf(Lu(n,nn.Short),[i,o]);break;case"medium":let s=$r(n,"mediumTime"),a=$r(n,"mediumDate");r=Nf(Lu(n,nn.Medium),[s,a]);break;case"long":let c=$r(n,"longTime"),l=$r(n,"longDate");r=Nf(Lu(n,nn.Long),[c,l]);break;case"full":let d=$r(n,"fullTime"),f=$r(n,"fullDate");r=Nf(Lu(n,nn.Full),[d,f]);break}return r&&(Rf[t][e]=r),r}function Nf(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return e!=null&&r in e?e[r]:t})),n}function Hn(n,e,t="-",r,i){let o="";(n<0||i&&n<=0)&&(i?n=-n+1:(n=-n,o=t));let s=String(n);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function dB(n,e){return Hn(n,3).substring(0,e)}function st(n,e,t=0,r=!1,i=!1){return function(o,s){let a=hB(n,o);if((t>0||a>-t)&&(a+=t),n===3)a===0&&t===-12&&(a=12);else if(n===6)return dB(a,e);let c=lr(s,rn.MinusSign);return Hn(a,e,c,r,i)}}function hB(n,e){switch(n){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new P(2301,!1)}}function xe(n,e,t=jt.Format,r=!1){return function(i,o){return fB(i,o,n,e,t,r)}}function fB(n,e,t,r,i,o){switch(t){case 2:return RR(e,i,r)[n.getMonth()];case 1:return AR(e,i,r)[n.getDay()];case 0:let s=n.getHours(),a=n.getMinutes();if(o){let l=kR(e),d=xR(e,i,r),f=l.findIndex(g=>{if(Array.isArray(g)){let[m,E]=g,A=s>=m.hours&&a>=m.minutes,D=s<E.hours||s===E.hours&&a<E.minutes;if(m.hours<E.hours){if(A&&D)return!0}else if(A||D)return!0}else if(g.hours===s&&g.minutes===a)return!0;return!1});if(f!==-1)return d[f]}return SR(e,i,r)[s<12?0:1];case 3:return NR(e,r)[n.getFullYear()<=0?0:1];default:let c=t;throw new P(2302,!1)}}function Mf(n){return function(e,t,r){let i=-1*r,o=lr(t,rn.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case 0:return(i>=0?"+":"")+Hn(s,2,o)+Hn(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+Hn(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+Hn(s,2,o)+":"+Hn(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+Hn(s,2,o)+":"+Hn(Math.abs(i%60),2,o);default:throw new P(2310,!1)}}}var pB=0,kf=4;function gB(n){let e=xf(n,pB,1).getDay();return xf(n,0,1+(e<=kf?kf:kf+7)-e)}function VR(n){let e=n.getDay(),t=e===0?-3:kf-e;return xf(n.getFullYear(),n.getMonth(),n.getDate()+t)}function Q_(n,e=!1){return function(t,r){let i;if(e){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();i=1+Math.floor((s+o)/7)}else{let o=VR(t),s=gB(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return Hn(i,n,lr(r,rn.MinusSign))}}function Pf(n,e=!1){return function(t,r){let o=VR(t).getFullYear();return Hn(o,n,lr(r,rn.MinusSign),e)}}var Y_={};function mB(n){if(Y_[n])return Y_[n];let e;switch(n){case"G":case"GG":case"GGG":e=xe(3,Me.Abbreviated);break;case"GGGG":e=xe(3,Me.Wide);break;case"GGGGG":e=xe(3,Me.Narrow);break;case"y":e=st(0,1,0,!1,!0);break;case"yy":e=st(0,2,0,!0,!0);break;case"yyy":e=st(0,3,0,!1,!0);break;case"yyyy":e=st(0,4,0,!1,!0);break;case"Y":e=Pf(1);break;case"YY":e=Pf(2,!0);break;case"YYY":e=Pf(3);break;case"YYYY":e=Pf(4);break;case"M":case"L":e=st(1,1,1);break;case"MM":case"LL":e=st(1,2,1);break;case"MMM":e=xe(2,Me.Abbreviated);break;case"MMMM":e=xe(2,Me.Wide);break;case"MMMMM":e=xe(2,Me.Narrow);break;case"LLL":e=xe(2,Me.Abbreviated,jt.Standalone);break;case"LLLL":e=xe(2,Me.Wide,jt.Standalone);break;case"LLLLL":e=xe(2,Me.Narrow,jt.Standalone);break;case"w":e=Q_(1);break;case"ww":e=Q_(2);break;case"W":e=Q_(1,!0);break;case"d":e=st(2,1);break;case"dd":e=st(2,2);break;case"c":case"cc":e=st(7,1);break;case"ccc":e=xe(1,Me.Abbreviated,jt.Standalone);break;case"cccc":e=xe(1,Me.Wide,jt.Standalone);break;case"ccccc":e=xe(1,Me.Narrow,jt.Standalone);break;case"cccccc":e=xe(1,Me.Short,jt.Standalone);break;case"E":case"EE":case"EEE":e=xe(1,Me.Abbreviated);break;case"EEEE":e=xe(1,Me.Wide);break;case"EEEEE":e=xe(1,Me.Narrow);break;case"EEEEEE":e=xe(1,Me.Short);break;case"a":case"aa":case"aaa":e=xe(0,Me.Abbreviated);break;case"aaaa":e=xe(0,Me.Wide);break;case"aaaaa":e=xe(0,Me.Narrow);break;case"b":case"bb":case"bbb":e=xe(0,Me.Abbreviated,jt.Standalone,!0);break;case"bbbb":e=xe(0,Me.Wide,jt.Standalone,!0);break;case"bbbbb":e=xe(0,Me.Narrow,jt.Standalone,!0);break;case"B":case"BB":case"BBB":e=xe(0,Me.Abbreviated,jt.Format,!0);break;case"BBBB":e=xe(0,Me.Wide,jt.Format,!0);break;case"BBBBB":e=xe(0,Me.Narrow,jt.Format,!0);break;case"h":e=st(3,1,-12);break;case"hh":e=st(3,2,-12);break;case"H":e=st(3,1);break;case"HH":e=st(3,2);break;case"m":e=st(4,1);break;case"mm":e=st(4,2);break;case"s":e=st(5,1);break;case"ss":e=st(5,2);break;case"S":e=st(6,1);break;case"SS":e=st(6,2);break;case"SSS":e=st(6,3);break;case"Z":case"ZZ":case"ZZZ":e=Mf(0);break;case"ZZZZZ":e=Mf(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Mf(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=Mf(2);break;default:return null}return Y_[n]=e,e}function jR(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function yB(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function vB(n,e,t){let i=n.getTimezoneOffset(),o=jR(e,i);return yB(n,-1*(o-i))}function _B(n){if(ER(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[i,o=1,s=1]=n.split("-").map(a=>+a);return xf(i,o-1,s)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(uB))return EB(r)}let e=new Date(n);if(!ER(e))throw new P(2311,!1);return e}function EB(n){let e=new Date(0),t=0,r=0,i=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let s=Number(n[4]||0)-t,a=Number(n[5]||0)-r,c=Number(n[6]||0),l=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return o.call(e,s,a,c,l),e}function ER(n){return n instanceof Date&&!isNaN(n.valueOf())}var IB=/^(\d+)?\.((\d+)(-(\d+))?)?$/,IR=22,Of=".",Vu="0",wB=";",TB=",",J_="#",wR="\xA4";function bB(n,e,t,r,i,o,s=!1){let a="",c=!1;if(!isFinite(n))a=lr(t,rn.Infinity);else{let l=SB(n);s&&(l=CB(l));let d=e.minInt,f=e.minFrac,g=e.maxFrac;if(o){let L=o.match(IB);if(L===null)throw new P(2306,!1);let H=L[1],W=L[3],Te=L[5];H!=null&&(d=Z_(H)),W!=null&&(f=Z_(W)),Te!=null?g=Z_(Te):W!=null&&f>g&&(g=f)}AB(l,f,g);let m=l.digits,E=l.integerLen,A=l.exponent,D=[];for(c=m.every(L=>!L);E<d;E++)m.unshift(0);for(;E<0;E++)m.unshift(0);E>0?D=m.splice(E,m.length):(D=m,m=[0]);let M=[];for(m.length>=e.lgSize&&M.unshift(m.splice(-e.lgSize,m.length).join(""));m.length>e.gSize;)M.unshift(m.splice(-e.gSize,m.length).join(""));m.length&&M.unshift(m.join("")),a=M.join(lr(t,r)),D.length&&(a+=lr(t,i)+D.join("")),A&&(a+=lr(t,rn.Exponential)+"+"+A)}return n<0&&!c?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function UR(n,e,t,r,i){let o=MR(e,X_.Currency),s=DB(o,lr(e,rn.MinusSign));return s.minFrac=FR(r),s.maxFrac=s.minFrac,bB(n,s,e,rn.CurrencyGroup,rn.CurrencyDecimal,i).replace(wR,t).replace(wR,"").trim()}function DB(n,e="-"){let t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(wB),i=r[0],o=r[1],s=i.indexOf(Of)!==-1?i.split(Of):[i.substring(0,i.lastIndexOf(Vu)+1),i.substring(i.lastIndexOf(Vu)+1)],a=s[0],c=s[1]||"";t.posPre=a.substring(0,a.indexOf(J_));for(let d=0;d<c.length;d++){let f=c.charAt(d);f===Vu?t.minFrac=t.maxFrac=d+1:f===J_?t.maxFrac=d+1:t.posSuf+=f}let l=a.split(TB);if(t.gSize=l[1]?l[1].length:0,t.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,o){let d=i.length-t.posPre.length-t.posSuf.length,f=o.indexOf(J_);t.negPre=o.substring(0,f).replace(/'/g,""),t.negSuf=o.slice(f+d).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}function CB(n){if(n.digits[0]===0)return n;let e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(e===0?n.digits.push(0,0):e===1&&n.digits.push(0),n.integerLen+=2),n}function SB(n){let e=Math.abs(n)+"",t=0,r,i,o,s,a;for((i=e.indexOf(Of))>-1&&(e=e.replace(Of,"")),(o=e.search(/e/i))>0?(i<0&&(i=o),i+=+e.slice(o+1),e=e.substring(0,o)):i<0&&(i=e.length),o=0;e.charAt(o)===Vu;o++);if(o===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===Vu;)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(e.charAt(o))}return i>IR&&(r=r.splice(0,IR-1),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}function AB(n,e,t){if(e>t)throw new P(2307,!1);let r=n.digits,i=r.length-n.integerLen,o=Math.min(Math.max(e,i),t),s=o+n.integerLen,a=r[s];if(s>0){r.splice(Math.max(n.integerLen,s));for(let f=s;f<r.length;f++)r[f]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let f=1;f<s;f++)r[f]=0}if(a>=5)if(s-1<0){for(let f=0;f>s;f--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let c=o!==0,l=e+n.integerLen,d=r.reduceRight(function(f,g,m,E){return g=g+f,E[m]=g<10?g:g-10,c&&(E[m]===0&&m>=l?E.pop():c=!1),g>=10?1:0},0);d&&(r.unshift(d),n.integerLen++)}function Z_(n){let e=parseInt(n);if(isNaN(e))throw new P(2305,!1);return e}var Ff=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Vf=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Ff(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),TR(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);TR(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(J(qo),J(Du),J(q_))};static \u0275dir=gt({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function TR(n,e){n.context.$implicit=e.item}var Wo=(()=>{class n{_viewContainer;_context=new Lf;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){bR(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){bR(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(J(qo),J(Du))};static \u0275dir=gt({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),Lf=class{$implicit=null;ngIf=null};function bR(n,e){if(n&&!n.createEmbeddedView)throw new P(2020,!1)}function BR(n,e){return new P(2100,!1)}var RB="mediumDate",$R=new B(""),HR=new B(""),eE=(()=>{class n{locale;defaultTimezone;defaultOptions;constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,o){if(t==null||t===""||t!==t)return null;try{let s=r??this.defaultOptions?.dateFormat??RB,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return LR(t,s,o||this.locale,a)}catch(s){throw BR(n,s.message)}}static \u0275fac=function(r){return new(r||n)(J(ga,16),J($R,24),J(HR,24))};static \u0275pipe=_f({name:"date",type:n,pure:!0})}return n})();var tE=(()=>{class n{_locale;_defaultCurrencyCode;constructor(t,r="USD"){this._locale=t,this._defaultCurrencyCode=r}transform(t,r=this._defaultCurrencyCode,i="symbol",o,s){if(!NB(t))return null;s||=this._locale,typeof i=="boolean"&&(i=i?"symbol":"code");let a=r||this._defaultCurrencyCode;i!=="code"&&(i==="symbol"||i==="symbol-narrow"?a=OR(a,i==="symbol"?"wide":"narrow",s):a=i);try{let c=MB(t);return UR(c,s,a,r,o)}catch(c){throw BR(n,c.message)}}static \u0275fac=function(r){return new(r||n)(J(ga,16),J(V_,16))};static \u0275pipe=_f({name:"currency",type:n,pure:!0})}return n})();function NB(n){return!(n==null||n===""||n!==n)}function MB(n){if(typeof n=="string"&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if(typeof n!="number")throw new P(2309,!1);return n}var ji=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=An({type:n});static \u0275inj=dn({})}return n})();function ju(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Ko=class{};var zR="browser";var Uu=class{_doc;constructor(e){this._doc=e}manager},Uf=(()=>{class n extends Uu{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(Q(Xe))};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})(),$f=new B(""),sE=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(s=>{s.manager=this});let i=t.filter(s=>!(s instanceof Uf));this._plugins=i.slice().reverse();let o=t.find(s=>s instanceof Uf);o&&this._plugins.push(o)}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new P(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(Q($f),Q(Ce))};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})(),nE="ng-app-id";function qR(n){for(let e of n)e.remove()}function GR(n,e){let t=e.createElement("style");return t.textContent=n,t}function PB(n,e,t,r){let i=n.head?.querySelectorAll(`style[${nE}="${e}"],link[${nE}="${e}"]`);if(i)for(let o of i)o.removeAttribute(nE),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function iE(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var aE=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,PB(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,GR);r?.forEach(i=>this.addUsage(i,this.external,iE))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(qR(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])qR(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,GR(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,iE(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(Q(Xe),Q(uf),Q(hf,8),Q(Oi))};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})(),rE={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},cE=/%COMP%/g;var KR="%COMP%",kB=`_nghost-${KR}`,xB=`_ngcontent-${KR}`,OB=!0,FB=new B("",{providedIn:"root",factory:()=>OB});function LB(n){return xB.replace(cE,n)}function VB(n){return kB.replace(cE,n)}function QR(n,e){return e.map(t=>t.replace(cE,n))}var Hu=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,c,l=null,d=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.tracingService=d,this.platformIsServer=!1,this.defaultRenderer=new Bu(t,s,c,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof Bf?i.applyToHost(t):i instanceof $u&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer,g=this.tracingService;switch(r.encapsulation){case Vr.Emulated:o=new Bf(c,l,r,this.appId,d,s,a,f,g);break;case Vr.ShadowDom:return new oE(c,l,t,r,s,a,this.nonce,f,g);default:o=new $u(c,l,r,d,s,a,f,g);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(Q(sE),Q(aE),Q(uf),Q(FB),Q(Xe),Q(Oi),Q(Ce),Q(hf),Q(Tu,8))};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})(),Bu=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(rE[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(WR(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(WR(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new P(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=rE[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=rE[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(ar.DashCase|ar.Important)?e.style.setProperty(t,r,i&ar.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&ar.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=Rn().getGlobalEventTarget(this.doc,e),!e))throw new P(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function WR(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var oE=class extends Bu{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,c,l){super(e,o,s,c,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=i.styles;d=QR(i.id,d);for(let g of d){let m=document.createElement("style");a&&m.setAttribute("nonce",a),m.textContent=g,this.shadowRoot.appendChild(m)}let f=i.getExternalStyles?.();if(f)for(let g of f){let m=iE(g,o);a&&m.setAttribute("nonce",a),this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},$u=class extends Bu{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,c,l){super(e,o,s,a,c),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let d=r.styles;this.styles=l?QR(l,d):d,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&da.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Bf=class extends $u{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,c,l){let d=i+"-"+r.id;super(e,t,r,o,s,a,c,l,d),this.contentAttr=LB(d),this.hostAttr=VB(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var Hf=class n extends xu{supportsDOMEvents=!0;static makeCurrent(){G_(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=jB();return t==null?null:UB(t)}resetBaseElement(){zu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return ju(document.cookie,e)}},zu=null;function jB(){return zu=zu||document.head.querySelector("base"),zu?zu.getAttribute("href"):null}function UB(n){return new URL(n,document.baseURI).pathname}var BB=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})(),YR=["alt","control","meta","shift"],$B={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},HB={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},JR=(()=>{class n extends Uu{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Rn().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),YR.forEach(l=>{let d=r.indexOf(l);d>-1&&(r.splice(d,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(t,r){let i=$B[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),YR.forEach(s=>{if(s!==i){let a=HB[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(Q(Xe))};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})();function uE(n,e,t){let r=F({rootComponent:n,platformRef:t?.platformRef},zB(e));return hR(r)}function zB(n){return{appProviders:[...QB,...n?.providers??[]],platformProviders:KB}}function qB(){Hf.makeCurrent()}function GB(){return new er}function WB(){return a_(document),document}var KB=[{provide:Oi,useValue:zR},{provide:lf,useValue:qB,multi:!0},{provide:Xe,useFactory:WB}];var QB=[{provide:eu,useValue:"root"},{provide:er,useFactory:GB},{provide:$f,useClass:Uf,multi:!0,deps:[Xe]},{provide:$f,useClass:JR,multi:!0,deps:[Xe]},Hu,aE,sE,{provide:jr,useExisting:Hu},{provide:Ko,useClass:BB},[]];var wa=class{},Wu=class{},Qo=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=t.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}addHeaderEntry(e,t){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var qf=class{encodeKey(e){return ZR(e)}encodeValue(e){return ZR(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function YB(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}var JB=/%(\d[a-f0-9])/gi,ZB={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function ZR(n){return encodeURIComponent(n).replace(JB,(e,t)=>ZB[t]??e)}function zf(n){return`${n}`}var Ui=class n{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new qf,e.fromString){if(e.fromObject)throw new P(2805,!1);this.map=YB(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(zf):[zf(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(zf(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(zf(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Gf=class{map=new Map;set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function XB(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function XR(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function eN(n){return typeof Blob<"u"&&n instanceof Blob}function tN(n){return typeof FormData<"u"&&n instanceof FormData}function e$(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var nN="Content-Type",rN="Accept",iN="X-Request-URL",oN="text/plain",sN="application/json",t$=`${sN}, ${oN}, */*`,qu=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(e,t,r,i){this.url=t,this.method=e.toUpperCase();let o;if(XB(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o){if(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),o.priority&&(this.priority=o.priority),o.cache&&(this.cache=o.cache),o.credentials&&(this.credentials=o.credentials),typeof o.timeout=="number"){if(o.timeout<1||!Number.isInteger(o.timeout))throw new P(2822,"");this.timeout=o.timeout}o.mode&&(this.mode=o.mode),o.redirect&&(this.redirect=o.redirect),o.integrity&&(this.integrity=o.integrity),o.referrer&&(this.referrer=o.referrer),this.transferCache=o.transferCache}if(this.headers??=new Qo,this.context??=new Gf,!this.params)this.params=new Ui,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),c=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||XR(this.body)||eN(this.body)||tN(this.body)||e$(this.body)?this.body:this.body instanceof Ui?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||tN(this.body)?null:eN(this.body)?this.body.type||null:XR(this.body)?null:typeof this.body=="string"?oN:this.body instanceof Ui?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?sN:null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.keepalive??this.keepalive,s=e.priority||this.priority,a=e.cache||this.cache,c=e.mode||this.mode,l=e.redirect||this.redirect,d=e.credentials||this.credentials,f=e.referrer||this.referrer,g=e.integrity||this.integrity,m=e.transferCache??this.transferCache,E=e.timeout??this.timeout,A=e.body!==void 0?e.body:this.body,D=e.withCredentials??this.withCredentials,M=e.reportProgress??this.reportProgress,L=e.headers||this.headers,H=e.params||this.params,W=e.context??this.context;return e.setHeaders!==void 0&&(L=Object.keys(e.setHeaders).reduce((Te,te)=>Te.set(te,e.setHeaders[te]),L)),e.setParams&&(H=Object.keys(e.setParams).reduce((Te,te)=>Te.set(te,e.setParams[te]),H)),new n(t,r,A,{params:H,headers:L,context:W,reportProgress:M,responseType:i,withCredentials:D,transferCache:m,keepalive:o,cache:a,priority:s,timeout:E,mode:c,redirect:l,credentials:d,referrer:f,integrity:g})}},Ia=(function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n})(Ia||{}),Ta=class{headers;status;statusText;url;ok;type;redirected;constructor(e,t=200,r="OK"){this.headers=e.headers||new Qo,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.redirected=e.redirected,this.ok=this.status>=200&&this.status<300}},Wf=class n extends Ta{constructor(e={}){super(e)}type=Ia.ResponseHeader;clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Kf=class n extends Ta{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=Ia.Response;clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0,redirected:e.redirected??this.redirected})}},Gu=class extends Ta{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},n$=200,r$=204;function lE(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,credentials:n.credentials,transferCache:n.transferCache,timeout:n.timeout,keepalive:n.keepalive,priority:n.priority,cache:n.cache,mode:n.mode,redirect:n.redirect,integrity:n.integrity,referrer:n.referrer}}var i$=(()=>{class n{handler;constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof qu)o=t;else{let c;i.headers instanceof Qo?c=i.headers:c=new Qo(i.headers);let l;i.params&&(i.params instanceof Ui?l=i.params:l=new Ui({fromObject:i.params})),o=new qu(t,r,i.body!==void 0?i.body:null,{headers:c,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache,keepalive:i.keepalive,priority:i.priority,cache:i.cache,mode:i.mode,redirect:i.redirect,credentials:i.credentials,referrer:i.referrer,integrity:i.integrity,timeout:i.timeout})}let s=ne(o).pipe(Ei(c=>this.handler.handle(c)));if(t instanceof qu||i.observe==="events")return s;let a=s.pipe(zt(c=>c instanceof Kf));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(oe(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new P(2806,!1);return c.body}));case"blob":return a.pipe(oe(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new P(2807,!1);return c.body}));case"text":return a.pipe(oe(c=>{if(c.body!==null&&typeof c.body!="string")throw new P(2808,!1);return c.body}));case"json":default:return a.pipe(oe(c=>c.body))}case"response":return a;default:throw new P(2809,!1)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new Ui().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,lE(i,r))}post(t,r,i={}){return this.request("POST",t,lE(i,r))}put(t,r,i={}){return this.request("PUT",t,lE(i,r))}static \u0275fac=function(r){return new(r||n)(Q(wa))};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})();var o$=new B("");function s$(n,e){return e(n)}function a$(n,e,t){return(r,i)=>Ze(t,()=>e(r,o=>n(o,i)))}var aN=new B(""),c$=new B(""),cN=new B("",{providedIn:"root",factory:()=>!0});var Qf=(()=>{class n extends wa{backend;injector;chain=null;pendingTasks=x(Pi);contributeToStability=x(cN);constructor(t,r){super(),this.backend=t,this.injector=r}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(aN),...this.injector.get(c$,[])]));this.chain=r.reduceRight((i,o)=>a$(i,o,this.injector),s$)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(Do(r))}else return this.chain(t,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||n)(Q(Wu),Q(We))};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})();var u$=/^\)\]\}',?\n/,l$=RegExp(`^${iN}:`,"m");function d$(n){return"responseURL"in n&&n.responseURL?n.responseURL:l$.test(n.getAllResponseHeaders())?n.getResponseHeader(iN):null}var dE=(()=>{class n{xhrFactory;constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new P(-2800,!1);let r=this.xhrFactory;return ne(null).pipe(Ft(()=>new ie(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((D,M)=>s.setRequestHeader(D,M.join(","))),t.headers.has(rN)||s.setRequestHeader(rN,t$),!t.headers.has(nN)){let D=t.detectContentTypeHeader();D!==null&&s.setRequestHeader(nN,D)}if(t.timeout&&(s.timeout=t.timeout),t.responseType){let D=t.responseType.toLowerCase();s.responseType=D!=="json"?D:"text"}let a=t.serializeBody(),c=null,l=()=>{if(c!==null)return c;let D=s.statusText||"OK",M=new Qo(s.getAllResponseHeaders()),L=d$(s)||t.url;return c=new Wf({headers:M,status:s.status,statusText:D,url:L}),c},d=()=>{let{headers:D,status:M,statusText:L,url:H}=l(),W=null;M!==r$&&(W=typeof s.response>"u"?s.responseText:s.response),M===0&&(M=W?n$:0);let Te=M>=200&&M<300;if(t.responseType==="json"&&typeof W=="string"){let te=W;W=W.replace(u$,"");try{W=W!==""?JSON.parse(W):null}catch(T){W=te,Te&&(Te=!1,W={error:T,text:W})}}Te?(o.next(new Kf({body:W,headers:D,status:M,statusText:L,url:H||void 0})),o.complete()):o.error(new Gu({error:W,headers:D,status:M,statusText:L,url:H||void 0}))},f=D=>{let{url:M}=l(),L=new Gu({error:D,status:s.status||0,statusText:s.statusText||"Unknown Error",url:M||void 0});o.error(L)},g=f;t.timeout&&(g=D=>{let{url:M}=l(),L=new Gu({error:new DOMException("Request timed out","TimeoutError"),status:s.status||0,statusText:s.statusText||"Request timeout",url:M||void 0});o.error(L)});let m=!1,E=D=>{m||(o.next(l()),m=!0);let M={type:Ia.DownloadProgress,loaded:D.loaded};D.lengthComputable&&(M.total=D.total),t.responseType==="text"&&s.responseText&&(M.partialText=s.responseText),o.next(M)},A=D=>{let M={type:Ia.UploadProgress,loaded:D.loaded};D.lengthComputable&&(M.total=D.total),o.next(M)};return s.addEventListener("load",d),s.addEventListener("error",f),s.addEventListener("timeout",g),s.addEventListener("abort",f),t.reportProgress&&(s.addEventListener("progress",E),a!==null&&s.upload&&s.upload.addEventListener("progress",A)),s.send(a),o.next({type:Ia.Sent}),()=>{s.removeEventListener("error",f),s.removeEventListener("abort",f),s.removeEventListener("load",d),s.removeEventListener("timeout",g),t.reportProgress&&(s.removeEventListener("progress",E),a!==null&&s.upload&&s.upload.removeEventListener("progress",A)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||n)(Q(Ko))};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})(),uN=new B(""),h$="XSRF-TOKEN",f$=new B("",{providedIn:"root",factory:()=>h$}),p$="X-XSRF-TOKEN",g$=new B("",{providedIn:"root",factory:()=>p$}),Ku=class{},m$=(()=>{class n{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,r){this.doc=t,this.cookieName=r}getToken(){let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=ju(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(r){return new(r||n)(Q(Xe),Q(f$))};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})();function y$(n,e){let t=n.url.toLowerCase();if(!x(uN)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=x(Ku).getToken(),i=x(g$);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}function hE(...n){let e=[i$,dE,Qf,{provide:wa,useExisting:Qf},{provide:Wu,useFactory:()=>x(o$,{optional:!0})??x(dE)},{provide:aN,useValue:y$,multi:!0},{provide:uN,useValue:!0},{provide:Ku,useClass:m$}];for(let t of n)e.push(...t.\u0275providers);return wn(e)}var lN=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(Q(Xe))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var se="primary",ul=Symbol("RouteTitle"),yE=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Zo(n){return new yE(n)}function vN(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function _$(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!dr(n[t],e[t]))return!1;return!0}function dr(n,e){let t=n?vE(n):void 0,r=e?vE(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!_N(n[i],e[i]))return!1;return!0}function vE(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function _N(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function EN(n){return n.length>0?n[n.length-1]:null}function qr(n){return Cy(n)?n:Fi(n)?Be(Promise.resolve(n)):ne(n)}var E$={exact:wN,subset:TN},IN={exact:I$,subset:w$,ignored:()=>!0};function dN(n,e,t){return E$[t.paths](n.root,e.root,t.matrixParams)&&IN[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function I$(n,e){return dr(n,e)}function wN(n,e,t){if(!Yo(n.segments,e.segments)||!Zf(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!wN(n.children[r],e.children[r],t))return!1;return!0}function w$(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>_N(n[t],e[t]))}function TN(n,e,t){return bN(n,e,e.segments,t)}function bN(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Yo(i,t)||e.hasChildren()||!Zf(i,t,r))}else if(n.segments.length===t.length){if(!Yo(n.segments,t)||!Zf(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!TN(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!Yo(n.segments,i)||!Zf(n.segments,i,r)||!n.children[se]?!1:bN(n.children[se],e,o,r)}}function Zf(n,e,t){return e.every((r,i)=>IN[t](n[i].parameters,r.parameters))}var fr=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Se([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Zo(this.queryParams),this._queryParamMap}toString(){return D$.serialize(this)}},Se=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Xf(this)}},Bi=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Zo(this.parameters),this._parameterMap}toString(){return CN(this)}};function T$(n,e){return Yo(n,e)&&n.every((t,r)=>dr(t.parameters,e[r].parameters))}function Yo(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function b$(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===se&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==se&&(t=t.concat(e(i,r)))}),t}var ll=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:()=>new Xo,providedIn:"root"})}return n})(),Xo=class{parse(e){let t=new EE(e);return new fr(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Qu(e.root,!0)}`,r=A$(e.queryParams),i=typeof e.fragment=="string"?`#${C$(e.fragment)}`:"";return`${t}${r}${i}`}},D$=new Xo;function Xf(n){return n.segments.map(e=>CN(e)).join("/")}function Qu(n,e){if(!n.hasChildren())return Xf(n);if(e){let t=n.children[se]?Qu(n.children[se],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==se&&r.push(`${i}:${Qu(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=b$(n,(r,i)=>i===se?[Qu(n.children[se],!1)]:[`${i}:${Qu(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[se]!=null?`${Xf(n)}/${t[0]}`:`${Xf(n)}/(${t.join("//")})`}}function DN(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Yf(n){return DN(n).replace(/%3B/gi,";")}function C$(n){return encodeURI(n)}function _E(n){return DN(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ep(n){return decodeURIComponent(n)}function hN(n){return ep(n.replace(/\+/g,"%20"))}function CN(n){return`${_E(n.path)}${S$(n.parameters)}`}function S$(n){return Object.entries(n).map(([e,t])=>`;${_E(e)}=${_E(t)}`).join("")}function A$(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Yf(t)}=${Yf(i)}`).join("&"):`${Yf(t)}=${Yf(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var R$=/^[^\/()?;#]+/;function fE(n){let e=n.match(R$);return e?e[0]:""}var N$=/^[^\/()?;=#]+/;function M$(n){let e=n.match(N$);return e?e[0]:""}var P$=/^[^=?&#]+/;function k$(n){let e=n.match(P$);return e?e[0]:""}var x$=/^[^&#]+/;function O$(n){let e=n.match(x$);return e?e[0]:""}var EE=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Se([],{}):new Se([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[se]=new Se(e,t)),r}parseSegment(){let e=fE(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new P(4009,!1);return this.capture(e),new Bi(ep(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=M$(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=fE(this.remaining);i&&(r=i,this.capture(r))}e[ep(t)]=ep(r)}parseQueryParam(e){let t=k$(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=O$(this.remaining);s&&(r=s,this.capture(r))}let i=hN(t),o=hN(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=fE(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new P(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=se);let s=this.parseChildren();t[o??se]=Object.keys(s).length===1&&s[se]?s[se]:new Se([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new P(4011,!1)}};function SN(n){return n.segments.length>0?new Se([],{[se]:n}):n}function AN(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=AN(i);if(r===se&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new Se(n.segments,e);return F$(t)}function F$(n){if(n.numberOfChildren===1&&n.children[se]){let e=n.children[se];return new Se(n.segments.concat(e.segments),e.children)}return n}function $i(n){return n instanceof fr}function RN(n,e,t=null,r=null){let i=NN(n);return MN(i,e,t,r)}function NN(n){let e;function t(o){let s={};for(let c of o.children){let l=t(c);s[c.outlet]=l}let a=new Se(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=SN(r);return e??i}function MN(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return pE(i,i,i,t,r);let o=L$(e);if(o.toRoot())return pE(i,i,new Se([],{}),t,r);let s=V$(o,i,n),a=s.processChildren?Ju(s.segmentGroup,s.index,o.commands):kN(s.segmentGroup,s.index,o.commands);return pE(i,s.segmentGroup,a,t,r)}function tp(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function el(n){return typeof n=="object"&&n!=null&&n.outlets}function pE(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(d=>`${d}`):`${l}`});let s;n===e?s=t:s=PN(n,e,t);let a=SN(AN(s));return new fr(a,o,i)}function PN(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=PN(o,e,t)}),new Se(n.segments,r)}var np=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&tp(r[0]))throw new P(4003,!1);let i=r.find(el);if(i&&i!==EN(r))throw new P(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function L$(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new np(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new np(t,e,r)}var Ca=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function V$(n,e,t){if(n.isAbsolute)return new Ca(e,!0,0);if(!t)return new Ca(e,!1,NaN);if(t.parent===null)return new Ca(t,!0,0);let r=tp(n.commands[0])?0:1,i=t.segments.length-1+r;return j$(t,i,n.numberOfDoubleDots)}function j$(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new P(4005,!1);i=r.segments.length}return new Ca(r,!1,i-o)}function U$(n){return el(n[0])?n[0].outlets:{[se]:n}}function kN(n,e,t){if(n??=new Se([],{}),n.segments.length===0&&n.hasChildren())return Ju(n,e,t);let r=B$(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new Se(n.segments.slice(0,r.pathIndex),{});return o.children[se]=new Se(n.segments.slice(r.pathIndex),n.children),Ju(o,0,i)}else return r.match&&i.length===0?new Se(n.segments,{}):r.match&&!n.hasChildren()?IE(n,e,t):r.match?Ju(n,0,i):IE(n,e,t)}function Ju(n,e,t){if(t.length===0)return new Se(n.segments,{});{let r=U$(t),i={};if(Object.keys(r).some(o=>o!==se)&&n.children[se]&&n.numberOfChildren===1&&n.children[se].segments.length===0){let o=Ju(n.children[se],e,t);return new Se(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=kN(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Se(n.segments,i)}}function B$(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(el(a))break;let c=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!pN(c,l,s))return o;r+=2}else{if(!pN(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function IE(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(el(o)){let c=$$(o.outlets);return new Se(r,c)}if(i===0&&tp(t[0])){let c=n.segments[e];r.push(new Bi(c.path,fN(t[0]))),i++;continue}let s=el(o)?o.outlets[se]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&tp(a)?(r.push(new Bi(s,fN(a))),i+=2):(r.push(new Bi(s,{})),i++)}return new Se(r,{})}function $$(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=IE(new Se([],{}),0,r))}),e}function fN(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function pN(n,e,t){return n==t.path&&dr(e,t.parameters)}var Zu="imperative",It=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(It||{}),gn=class{id;url;constructor(e,t){this.id=e,this.url=t}},es=class extends gn{type=It.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},pr=class extends gn{urlAfterRedirects;type=It.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Kt=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(Kt||{}),tl=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(tl||{}),hr=class extends gn{reason;code;type=It.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Hr=class extends gn{reason;code;type=It.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},Aa=class extends gn{error;target;type=It.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},nl=class extends gn{urlAfterRedirects;state;type=It.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},rp=class extends gn{urlAfterRedirects;state;type=It.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ip=class extends gn{urlAfterRedirects;state;shouldActivate;type=It.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},op=class extends gn{urlAfterRedirects;state;type=It.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},sp=class extends gn{urlAfterRedirects;state;type=It.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ap=class{route;type=It.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},cp=class{route;type=It.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},up=class{snapshot;type=It.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},lp=class{snapshot;type=It.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},dp=class{snapshot;type=It.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},hp=class{snapshot;type=It.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var rl=class{},Ra=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function H$(n){return!(n instanceof rl)&&!(n instanceof Ra)}function z$(n,e){return n.providers&&!n._injector&&(n._injector=Su(n.providers,e,`Route: ${n.path}`)),n._injector??e}function zn(n){return n.outlet||se}function q$(n,e){let t=n.filter(r=>zn(r)===e);return t.push(...n.filter(r=>zn(r)!==e)),t}function Pa(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var fp=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Pa(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new ka(this.rootInjector)}},ka=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new fp(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(Q(We))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),pp=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=wE(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=wE(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=TE(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return TE(e,this._root).map(t=>t.value)}};function wE(n,e){if(n===e.value)return e;for(let t of e.children){let r=wE(n,t);if(r)return r}return null}function TE(n,e){if(n===e.value)return[e];for(let t of e.children){let r=TE(n,t);if(r.length)return r.unshift(e),r}return[]}var pn=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Da(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var il=class extends pp{snapshot;constructor(e,t){super(e),this.snapshot=t,ME(this,e)}toString(){return this.snapshot.toString()}};function xN(n){let e=G$(n),t=new Ct([new Bi("",{})]),r=new Ct({}),i=new Ct({}),o=new Ct({}),s=new Ct(""),a=new zr(t,r,o,s,i,se,n,e.root);return a.snapshot=e.root,new il(new pn(a,[]),e)}function G$(n){let e={},t={},r={},o=new Jo([],e,r,"",t,se,n,null,{});return new ol("",new pn(o,[]))}var zr=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(oe(l=>l[ul]))??ne(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(oe(e=>Zo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(oe(e=>Zo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function gp(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:F(F({},e.params),n.params),data:F(F({},e.data),n.data),resolve:F(F(F(F({},n.data),e.data),i?.data),n._resolvedData)}:r={params:F({},n.params),data:F({},n.data),resolve:F(F({},n.data),n._resolvedData??{})},i&&FN(i)&&(r.resolve[ul]=i.title),r}var Jo=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[ul]}constructor(e,t,r,i,o,s,a,c,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Zo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Zo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},ol=class extends pp{url;constructor(e,t){super(t),this.url=e,ME(this,t)}toString(){return ON(this._root)}};function ME(n,e){e.value._routerState=n,e.children.forEach(t=>ME(n,t))}function ON(n){let e=n.children.length>0?` { ${n.children.map(ON).join(", ")} } `:"";return`${n.value}${e}`}function gE(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,dr(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),dr(e.params,t.params)||n.paramsSubject.next(t.params),_$(e.url,t.url)||n.urlSubject.next(t.url),dr(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function bE(n,e){let t=dr(n.params,e.params)&&T$(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||bE(n.parent,e.parent))}function FN(n){return typeof n.title=="string"||n.title===null}var LN=new B(""),dl=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=se;activateEvents=new et;deactivateEvents=new et;attachEvents=new et;detachEvents=new et;routerOutletData=dR();parentContexts=x(ka);location=x(qo);changeDetector=x(ya);inputBinder=x(_p,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new P(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new P(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new P(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new P(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new DE(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=gt({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[cr]})}return n})(),DE=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===zr?this.route:e===ka?this.childContexts:e===LN?this.outletData:this.parent.get(e,t)}},_p=new B("");var PE=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Un({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&_t(0,"router-outlet")},dependencies:[dl],encapsulation:2})}return n})();function kE(n){let e=n.children&&n.children.map(kE),t=e?de(F({},n),{children:e}):F({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==se&&(t.component=PE),t}function W$(n,e,t){let r=sl(n,e._root,t?t._root:void 0);return new il(r,e)}function sl(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=K$(n,e,t);return new pn(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>sl(n,a)),s}}let r=Q$(e.value),i=e.children.map(o=>sl(n,o));return new pn(r,i)}}function K$(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return sl(n,r,i);return sl(n,r)})}function Q$(n){return new zr(new Ct(n.url),new Ct(n.params),new Ct(n.queryParams),new Ct(n.fragment),new Ct(n.data),n.outlet,n.component,n)}var Na=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},VN="ngNavigationCancelingError";function mp(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=$i(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=jN(!1,Kt.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function jN(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[VN]=!0,t.cancellationCode=e,t}function Y$(n){return UN(n)&&$i(n.url)}function UN(n){return!!n&&n[VN]}var J$=(n,e,t,r)=>oe(i=>(new CE(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),CE=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),gE(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Da(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Da(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Da(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Da(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new hp(o.value.snapshot))}),e.children.length&&this.forwardEvent(new lp(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(gE(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),gE(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},yp=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Sa=class{component;route;constructor(e,t){this.component=e,this.route=t}};function Z$(n,e,t){let r=n._root,i=e?e._root:null;return Yu(r,i,t,[r.value])}function X$(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function xa(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!zy(n)?n:e.get(n):r}function Yu(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Da(e);return n.children.forEach(s=>{eH(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Xu(a,t.getContext(s),i)),i}function eH(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=tH(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new yp(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Yu(n,e,a?a.children:null,r,i):Yu(n,e,t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Sa(a.outlet.component,s))}else s&&Xu(e,a,i),i.canActivateChecks.push(new yp(r)),o.component?Yu(n,null,a?a.children:null,r,i):Yu(n,null,t,r,i);return i}function tH(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Yo(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Yo(n.url,e.url)||!dr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!bE(n,e)||!dr(n.queryParams,e.queryParams);case"paramsChange":default:return!bE(n,e)}}function Xu(n,e,t){let r=Da(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Xu(s,e.children.getContext(o),t):Xu(s,null,t):Xu(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Sa(e.outlet.component,i)):t.canDeactivateChecks.push(new Sa(null,i)):t.canDeactivateChecks.push(new Sa(null,i))}function hl(n){return typeof n=="function"}function nH(n){return typeof n=="boolean"}function rH(n){return n&&hl(n.canLoad)}function iH(n){return n&&hl(n.canActivate)}function oH(n){return n&&hl(n.canActivateChild)}function sH(n){return n&&hl(n.canDeactivate)}function aH(n){return n&&hl(n.canMatch)}function BN(n){return n instanceof Mr||n?.name==="EmptyError"}var Jf=Symbol("INITIAL_VALUE");function Ma(){return Ft(n=>hh(n.map(e=>e.pipe(Pr(1),gh(Jf)))).pipe(oe(e=>{for(let t of e)if(t!==!0){if(t===Jf)return Jf;if(t===!1||cH(t))return t}return!0}),zt(e=>e!==Jf),Pr(1)))}function cH(n){return $i(n)||n instanceof Na}function uH(n,e){return ht(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?ne(de(F({},t),{guardsResult:!0})):lH(s,r,i,n).pipe(ht(a=>a&&nH(a)?dH(r,o,n,e):ne(a)),oe(a=>de(F({},t),{guardsResult:a})))})}function lH(n,e,t,r){return Be(n).pipe(ht(i=>mH(i.component,i.route,t,e,r)),kr(i=>i!==!0,!0))}function dH(n,e,t,r){return Be(e).pipe(Ei(i=>ea(fH(i.route.parent,r),hH(i.route,r),gH(n,i.path,t),pH(n,i.route,t))),kr(i=>i!==!0,!0))}function hH(n,e){return n!==null&&e&&e(new dp(n)),ne(!0)}function fH(n,e){return n!==null&&e&&e(new up(n)),ne(!0)}function pH(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return ne(!0);let i=r.map(o=>Wc(()=>{let s=Pa(e)??t,a=xa(o,s),c=iH(a)?a.canActivate(e,n):Ze(s,()=>a(e,n));return qr(c).pipe(kr())}));return ne(i).pipe(Ma())}function gH(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>X$(s)).filter(s=>s!==null).map(s=>Wc(()=>{let a=s.guards.map(c=>{let l=Pa(s.node)??t,d=xa(c,l),f=oH(d)?d.canActivateChild(r,n):Ze(l,()=>d(r,n));return qr(f).pipe(kr())});return ne(a).pipe(Ma())}));return ne(o).pipe(Ma())}function mH(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return ne(!0);let s=o.map(a=>{let c=Pa(e)??i,l=xa(a,c),d=sH(l)?l.canDeactivate(n,e,t,r):Ze(c,()=>l(n,e,t,r));return qr(d).pipe(kr())});return ne(s).pipe(Ma())}function yH(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return ne(!0);let o=i.map(s=>{let a=xa(s,n),c=rH(a)?a.canLoad(e,t):Ze(n,()=>a(e,t));return qr(c)});return ne(o).pipe(Ma(),$N(r))}function $N(n){return Wd(vt(e=>{if(typeof e!="boolean")throw mp(n,e)}),oe(e=>e===!0))}function vH(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return ne(!0);let o=i.map(s=>{let a=xa(s,n),c=aH(a)?a.canMatch(e,t):Ze(n,()=>a(e,t));return qr(c)});return ne(o).pipe(Ma(),$N(r))}var al=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},cl=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function ba(n){return Xs(new al(n))}function _H(n){return Xs(new P(4e3,!1))}function EH(n){return Xs(jN(!1,Kt.GuardRejected))}var SE=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return ne(r);if(i.numberOfChildren>1||!i.children[se])return _H(`${e.redirectTo}`);i=i.children[se]}}applyRedirectCommands(e,t,r,i,o){return IH(t,i,o).pipe(oe(s=>{if(s instanceof fr)throw new cl(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new cl(a);return a}))}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new fr(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new Se(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new P(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}};function IH(n,e,t){if(typeof n=="string")return ne(n);let r=n,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,params:l,data:d,title:f}=e;return qr(Ze(t,()=>r({params:l,data:d,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,title:f})))}var AE={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function wH(n,e,t,r,i){let o=HN(n,e,t);return o.matched?(r=z$(e,r),vH(r,e,t,i).pipe(oe(s=>s===!0?o:F({},AE)))):ne(o)}function HN(n,e,t){if(e.path==="**")return TH(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?F({},AE):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||vN)(t,n,e);if(!i)return F({},AE);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?F(F({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function TH(n){return{matched:!0,parameters:n.length>0?EN(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function gN(n,e,t,r){return t.length>0&&CH(n,t,r)?{segmentGroup:new Se(e,DH(r,new Se(t,n.children))),slicedSegments:[]}:t.length===0&&SH(n,t,r)?{segmentGroup:new Se(n.segments,bH(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Se(n.segments,n.children),slicedSegments:t}}function bH(n,e,t,r){let i={};for(let o of t)if(Ep(n,e,o)&&!r[zn(o)]){let s=new Se([],{});i[zn(o)]=s}return F(F({},r),i)}function DH(n,e){let t={};t[se]=e;for(let r of n)if(r.path===""&&zn(r)!==se){let i=new Se([],{});t[zn(r)]=i}return t}function CH(n,e,t){return t.some(r=>Ep(n,e,r)&&zn(r)!==se)}function SH(n,e,t){return t.some(r=>Ep(n,e,r))}function Ep(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function AH(n,e,t){return e.length===0&&!n.children[t]}var RE=class{};function RH(n,e,t,r,i,o,s="emptyOnly"){return new NE(n,e,t,r,i,s,o).recognize()}var NH=31,NE=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new SE(this.urlSerializer,this.urlTree)}noMatchError(e){return new P(4002,`'${e.segmentGroup}'`)}recognize(){let e=gN(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(oe(({children:t,rootSnapshot:r})=>{let i=new pn(r,t),o=new ol("",i),s=RN(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new Jo([],Object.freeze({}),Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),se,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,se,t).pipe(oe(r=>({children:r,rootSnapshot:t})),_i(r=>{if(r instanceof cl)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof al?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(oe(s=>s instanceof pn?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Be(o).pipe(Ei(s=>{let a=r.children[s],c=q$(t,s);return this.processSegmentGroup(e,c,a,s,i)}),ph((s,a)=>(s.push(...a),s)),Ii(null),Ay(),ht(s=>{if(s===null)return ba(r);let a=zN(s);return MH(a),ne(a)}))}processSegment(e,t,r,i,o,s,a){return Be(t).pipe(Ei(c=>this.processSegmentAgainstRoute(c._injector??e,t,c,r,i,o,s,a).pipe(_i(l=>{if(l instanceof al)return ne(null);throw l}))),kr(c=>!!c),_i(c=>{if(BN(c))return AH(r,i,o)?ne(new RE):ba(r);throw c}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,c){return zn(r)!==s&&(s===se||!Ep(i,o,r))?ba(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,c):ba(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:c,parameters:l,consumedSegments:d,positionalParamSegments:f,remainingSegments:g}=HN(t,i,o);if(!c)return ba(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>NH&&(this.allowRedirects=!1));let m=new Jo(o,l,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,mN(i),zn(i),i.component??i._loadedComponent??null,i,yN(i)),E=gp(m,a,this.paramsInheritanceStrategy);return m.params=Object.freeze(E.params),m.data=Object.freeze(E.data),this.applyRedirects.applyRedirectCommands(d,i.redirectTo,f,m,e).pipe(Ft(D=>this.applyRedirects.lineralizeSegments(i,D)),ht(D=>this.processSegment(e,r,t,D.concat(g),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=wH(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(Ft(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Ft(({routes:l})=>{let d=r._loadedInjector??e,{parameters:f,consumedSegments:g,remainingSegments:m}=c,E=new Jo(g,f,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,mN(r),zn(r),r.component??r._loadedComponent??null,r,yN(r)),A=gp(E,s,this.paramsInheritanceStrategy);E.params=Object.freeze(A.params),E.data=Object.freeze(A.data);let{segmentGroup:D,slicedSegments:M}=gN(t,g,m,l);if(M.length===0&&D.hasChildren())return this.processChildren(d,l,D,E).pipe(oe(H=>new pn(E,H)));if(l.length===0&&M.length===0)return ne(new pn(E,[]));let L=zn(r)===o;return this.processSegment(d,l,D,M,L?se:o,!0,E).pipe(oe(H=>new pn(E,H instanceof pn?[H]:[])))}))):ba(t)))}getChildConfig(e,t,r){return t.children?ne({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?ne({routes:t._loadedRoutes,injector:t._loadedInjector}):yH(e,t,r,this.urlSerializer).pipe(ht(i=>i?this.configLoader.loadChildren(e,t).pipe(vt(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):EH(t))):ne({routes:[],injector:e})}};function MH(n){n.sort((e,t)=>e.value.outlet===se?-1:t.value.outlet===se?1:e.value.outlet.localeCompare(t.value.outlet))}function PH(n){let e=n.value.routeConfig;return e&&e.path===""}function zN(n){let e=[],t=new Set;for(let r of n){if(!PH(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=zN(r.children);e.push(new pn(r.value,i))}return e.filter(r=>!t.has(r))}function mN(n){return n.data||{}}function yN(n){return n.resolve||{}}function kH(n,e,t,r,i,o){return ht(s=>RH(n,e,t,r,s.extractedUrl,i,o).pipe(oe(({state:a,tree:c})=>de(F({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function xH(n,e){return ht(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return ne(t);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of qN(c))s.add(l);let a=0;return Be(s).pipe(Ei(c=>o.has(c)?OH(c,r,n,e):(c.data=gp(c,c.parent,n).resolve,ne(void 0))),vt(()=>a++),ta(1),ht(c=>a===s.size?ne(t):Jt))})}function qN(n){let e=n.children.map(t=>qN(t)).flat();return[n,...e]}function OH(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!FN(i)&&(o[ul]=i.title),Wc(()=>(n.data=gp(n,n.parent,t).resolve,FH(o,n,e,r).pipe(oe(s=>(n._resolvedData=s,n.data=F(F({},n.data),s),null)))))}function FH(n,e,t,r){let i=vE(n);if(i.length===0)return ne({});let o={};return Be(i).pipe(ht(s=>LH(n[s],e,t,r).pipe(kr(),vt(a=>{if(a instanceof Na)throw mp(new Xo,a);o[s]=a}))),ta(1),oe(()=>o),_i(s=>BN(s)?Jt:Xs(s)))}function LH(n,e,t,r){let i=Pa(e)??r,o=xa(n,i),s=o.resolve?o.resolve(e,t):Ze(i,()=>o(e,t));return qr(s)}function mE(n){return Ft(e=>{let t=n(e);return t?Be(t).pipe(oe(()=>e)):ne(e)})}var xE=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===se);return r}getResolvedTitleForRoute(t){return t.data[ul]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:()=>x(GN),providedIn:"root"})}return n})(),GN=(()=>{class n extends xE{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(Q(lN))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Oa=new B("",{providedIn:"root",factory:()=>({})}),fl=new B(""),WN=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=x(L_);loadComponent(t,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return ne(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=qr(Ze(t,()=>r.loadComponent())).pipe(oe(QN),Ft(YN),vt(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Do(()=>{this.componentLoaders.delete(r)})),o=new Qs(i,()=>new rt).pipe(Ks());return this.componentLoaders.set(r,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ne({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=KN(r,this.compiler,t,this.onLoadEndListener).pipe(Do(()=>{this.childrenLoaders.delete(r)})),s=new Qs(o,()=>new rt).pipe(Ks());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function KN(n,e,t,r){return qr(Ze(t,()=>n.loadChildren())).pipe(oe(QN),Ft(YN),ht(i=>i instanceof vf||Array.isArray(i)?ne(i):Be(e.compileModuleAsync(i))),oe(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(fl,[],{optional:!0,self:!0}).flat()),{routes:s.map(kE),injector:o}}))}function VH(n){return n&&typeof n=="object"&&"default"in n}function QN(n){return VH(n)?n.default:n}function YN(n){return ne(n)}var Ip=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:()=>x(jH),providedIn:"root"})}return n})(),jH=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),JN=new B("");var ZN=new B(""),XN=(()=>{class n{currentNavigation=pt(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new rt;transitionAbortWithErrorSubject=new rt;configLoader=x(WN);environmentInjector=x(We);destroyRef=x(Lr);urlSerializer=x(ll);rootContexts=x(ka);location=x(Ea);inputBindingEnabled=x(_p,{optional:!0})!==null;titleStrategy=x(xE);options=x(Oa,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=x(Ip);createViewTransition=x(JN,{optional:!0});navigationErrorHandler=x(ZN,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>ne(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new ap(i)),r=i=>this.events.next(new cp(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;Et(()=>{this.transitions?.next(de(F({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))})}setupNavigations(t){return this.transitions=new Ct(null),this.transitions.pipe(zt(r=>r!==null),Ft(r=>{let i=!1;return ne(r).pipe(Ft(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Kt.SupersededByNewNavigation),Jt;this.currentTransition=r,this.currentNavigation.set({id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?de(F({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()});let s=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!s&&a!=="reload")return this.events.next(new Hr(o.id,this.urlSerializer.serialize(o.rawUrl),"",tl.IgnoredSameUrlNavigation)),o.resolve(!1),Jt;if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return ne(o).pipe(Ft(c=>(this.events.next(new es(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?Jt:Promise.resolve(c))),kH(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),vt(c=>{r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation.update(d=>(d.finalUrl=c.urlAfterRedirects,d));let l=new nl(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:c,extractedUrl:l,source:d,restoredState:f,extras:g}=o,m=new es(c,this.urlSerializer.serialize(l),d,f);this.events.next(m);let E=xN(this.rootComponentType).snapshot;return this.currentTransition=r=de(F({},o),{targetSnapshot:E,urlAfterRedirects:l,extras:de(F({},g),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(A=>(A.finalUrl=l,A)),ne(r)}else return this.events.next(new Hr(o.id,this.urlSerializer.serialize(o.extractedUrl),"",tl.IgnoredByUrlHandlingStrategy)),o.resolve(!1),Jt}),vt(o=>{let s=new rp(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),oe(o=>(this.currentTransition=r=de(F({},o),{guards:Z$(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),uH(this.environmentInjector,o=>this.events.next(o)),vt(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw mp(this.urlSerializer,o.guardsResult);let s=new ip(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),zt(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",Kt.GuardRejected),!1)),mE(o=>{if(o.guards.canActivateChecks.length!==0)return ne(o).pipe(vt(s=>{let a=new op(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),Ft(s=>{let a=!1;return ne(s).pipe(xH(this.paramsInheritanceStrategy,this.environmentInjector),vt({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",Kt.NoDataFromResolver)}}))}),vt(s=>{let a=new sp(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),mE(o=>{let s=a=>{let c=[];if(a.routeConfig?.loadComponent){let l=Pa(a)??this.environmentInjector;c.push(this.configLoader.loadComponent(l,a.routeConfig).pipe(vt(d=>{a.component=d}),oe(()=>{})))}for(let l of a.children)c.push(...s(l));return c};return hh(s(o.targetSnapshot.root)).pipe(Ii(null),Pr(1))}),mE(()=>this.afterPreactivation()),Ft(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?Be(a).pipe(oe(()=>r)):ne(r)}),oe(o=>{let s=W$(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=de(F({},o),{targetRouterState:s}),this.currentNavigation.update(a=>(a.targetRouterState=s,a)),r}),vt(()=>{this.events.next(new rl)}),J$(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),Pr(1),mh(new ie(o=>{let s=r.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(zt(()=>!i&&!r.targetRouterState),vt(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",Kt.Aborted)}))),vt({next:o=>{i=!0,this.lastSuccessfulNavigation=Et(this.currentNavigation),this.events.next(new pr(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),mh(this.transitionAbortWithErrorSubject.pipe(vt(o=>{throw o}))),Do(()=>{i||this.cancelNavigationTransition(r,"",Kt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),_i(o=>{if(this.destroyed)return r.resolve(!1),Jt;if(i=!0,UN(o))this.events.next(new hr(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),Y$(o)?this.events.next(new Ra(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new Aa(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let a=Ze(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof Na){let{message:c,cancellationCode:l}=mp(this.urlSerializer,a);this.events.next(new hr(r.id,this.urlSerializer.serialize(r.extractedUrl),c,l)),this.events.next(new Ra(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return Jt}))}))}cancelNavigationTransition(t,r,i){let o=new hr(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=Et(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return t.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function UH(n){return n!==Zu}var eM=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:()=>x(BH),providedIn:"root"})}return n})(),vp=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},BH=(()=>{class n extends vp{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ho(n)))(i||n)}})();static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),tM=(()=>{class n{urlSerializer=x(ll);options=x(Oa,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=x(Ea);urlHandlingStrategy=x(Ip);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new fr;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof fr?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=xN(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:()=>x($H),providedIn:"root"})}return n})(),$H=(()=>{class n extends tM{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof es?this.updateStateMemento():t instanceof Hr?this.commitTransition(r):t instanceof nl?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof rl?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof hr&&t.code!==Kt.SupersededByNewNavigation&&t.code!==Kt.Redirect?this.restoreHistory(r):t instanceof Aa?this.restoreHistory(r,!0):t instanceof pr&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,c=F(F({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",c)}else{let a=F(F({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ho(n)))(i||n)}})();static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function OE(n,e){n.events.pipe(zt(t=>t instanceof pr||t instanceof hr||t instanceof Aa||t instanceof Hr),oe(t=>t instanceof pr||t instanceof Hr?0:(t instanceof hr?t.code===Kt.Redirect||t.code===Kt.SupersededByNewNavigation:!1)?2:1),zt(t=>t!==2),Pr(1)).subscribe(()=>{e()})}var HH={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},zH={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},mn=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=x(R_);stateManager=x(tM);options=x(Oa,{optional:!0})||{};pendingTasks=x(or);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=x(XN);urlSerializer=x(ll);location=x(Ea);urlHandlingStrategy=x(Ip);injector=x(We);_events=new rt;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=x(eM);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=x(fl,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!x(_p,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Ge;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=Et(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof hr&&r.code!==Kt.Redirect&&r.code!==Kt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof pr)this.navigated=!0;else if(r instanceof Ra){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=F({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||UH(i.source)},s);this.scheduleNavigation(a,Zu,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}H$(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Zu,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=F({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o).catch(c=>{this.disposed||this.injector.get(tn)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return Et(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(kE),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s,d=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":d=F(F({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let f;try{let g=i?i.snapshot:this.routerState.snapshot.root;f=NN(g)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),f=this.currentUrlTree.root}return MN(f,t,d,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=$i(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Zu,null,r)}navigate(t,r={skipLocationChange:!1}){return qH(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.console.warn(Mo(4018,!1)),this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=F({},HH):r===!1?i=F({},zH):i=r,$i(t))return dN(this.currentUrlTree,t,i);let o=this.parseUrl(t);return dN(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((f,g)=>{a=f,c=g});let d=this.pendingTasks.add();return OE(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(f=>Promise.reject(f))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function qH(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new P(4008,!1)}var Hi=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=pt(null);get href(){return Et(this.reactiveHref)}set href(t){this.reactiveHref.set(t)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new rt;applicationErrorHandler=x(tn);options=x(Oa,{optional:!0});constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(x(new Cf("href"),{optional:!0}));let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area"||!!(typeof customElements=="object"&&customElements.get(c)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let t=this.preserveFragment,r=i=>i==="merge"||i==="preserve";t||=r(this.queryParamsHandling),t||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),t&&(this.subscription=this.router.events.subscribe(i=>{i instanceof pr&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):($i(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c)?.catch(l=>{this.applicationErrorHandler(l)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.reactiveHref.set(t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t))??"":null)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:$i(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(J(mn),J(zr),wu("tabindex"),J(zo),J(xi),J(_a))};static \u0275dir=gt({type:n,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&tt("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Au("href",i.reactiveHref(),l_)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",va],skipLocationChange:[2,"skipLocationChange","skipLocationChange",va],replaceUrl:[2,"replaceUrl","replaceUrl",va],routerLink:"routerLink"},features:[cr]})}return n})();var WH=new B("");function FE(n,...e){return wn([{provide:fl,multi:!0,useValue:n},[],{provide:zr,useFactory:KH,deps:[mn]},{provide:Ef,multi:!0,useFactory:QH},e.map(t=>t.\u0275providers)])}function KH(n){return n.routerState.root}function QH(){let n=x(ft);return e=>{let t=n.get(Li);if(e!==t.components[0])return;let r=n.get(mn),i=n.get(YH);n.get(JH)===1&&r.initialNavigation(),n.get(ZH,null,{optional:!0})?.setUpPreloading(),n.get(WH,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var YH=new B("",{factory:()=>new rt}),JH=new B("",{providedIn:"root",factory:()=>1});var ZH=new B("");var wp=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Un({type:n,selectors:[["app-root"]],decls:7,vars:0,consts:[[1,"min-h-screen"],[1,"px-6","py-4","flex","items-center","justify-between"],["routerLink","/",1,"font-semibold","text-gray-700"],[1,"text-sm","text-gray-500","hidden","md:block"]],template:function(t,r){t&1&&(j(0,"div",0)(1,"header",1)(2,"a",2),z(3,"LocaPaye"),V(),j(4,"nav",3),z(5,"Angular \u2022 Firebase \u2022 PWA \u2022 Tailwind"),V()(),_t(6,"router-outlet"),V())},dependencies:[dl,Hi],encapsulation:2})};var lM=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(J(zo),J(xi))};static \u0275dir=gt({type:n})}return n})(),dM=(()=>{class n extends lM{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ho(n)))(i||n)}})();static \u0275dir=gt({type:n,features:[Bn]})}return n})(),Mp=new B("");var XH={provide:Mp,useExisting:tr(()=>qi),multi:!0};function e4(){let n=Rn()?Rn().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var t4=new B(""),qi=(()=>{class n extends lM{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!e4())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(J(zo),J(xi),J(t4,8))};static \u0275dir=gt({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&tt("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[Go([XH]),Bn]})}return n})();function HE(n){return n==null||zE(n)===0}function zE(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var qE=new B(""),GE=new B(""),n4=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Ve=class{static min(e){return r4(e)}static max(e){return i4(e)}static required(e){return o4(e)}static requiredTrue(e){return s4(e)}static email(e){return a4(e)}static minLength(e){return c4(e)}static maxLength(e){return u4(e)}static pattern(e){return l4(e)}static nullValidator(e){return hM()}static compose(e){return vM(e)}static composeAsync(e){return EM(e)}};function r4(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function i4(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function o4(n){return HE(n.value)?{required:!0}:null}function s4(n){return n.value===!0?null:{required:!0}}function a4(n){return HE(n.value)||n4.test(n.value)?null:{email:!0}}function c4(n){return e=>{let t=e.value?.length??zE(e.value);return t===null||t===0?null:t<n?{minlength:{requiredLength:n,actualLength:t}}:null}}function u4(n){return e=>{let t=e.value?.length??zE(e.value);return t!==null&&t>n?{maxlength:{requiredLength:n,actualLength:t}}:null}}function l4(n){if(!n)return hM;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(HE(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function hM(n){return null}function fM(n){return n!=null}function pM(n){return Fi(n)?Be(n):n}function gM(n){let e={};return n.forEach(t=>{e=t!=null?F(F({},e),t):e}),Object.keys(e).length===0?null:e}function mM(n,e){return e.map(t=>t(n))}function d4(n){return!n.validate}function yM(n){return n.map(e=>d4(e)?e:t=>e.validate(t))}function vM(n){if(!n)return null;let e=n.filter(fM);return e.length==0?null:function(t){return gM(mM(t,e))}}function _M(n){return n!=null?vM(yM(n)):null}function EM(n){if(!n)return null;let e=n.filter(fM);return e.length==0?null:function(t){let r=mM(t,e).map(pM);return Sy(r).pipe(oe(gM))}}function IM(n){return n!=null?EM(yM(n)):null}function nM(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function wM(n){return n._rawValidators}function TM(n){return n._rawAsyncValidators}function VE(n){return n?Array.isArray(n)?n:[n]:[]}function bp(n,e){return Array.isArray(n)?n.includes(e):n===e}function rM(n,e){let t=VE(e);return VE(n).forEach(i=>{bp(t,i)||t.push(i)}),t}function iM(n,e){return VE(e).filter(t=>!bp(n,t))}var Dp=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=_M(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=IM(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},ts=class extends Dp{name;get formDirective(){return null}get path(){return null}},ns=class extends Dp{_parent=null;name=null;valueAccessor=null},Cp=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},h4={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Uue=de(F({},h4),{"[class.ng-submitted]":"isSubmitted"}),ja=(()=>{class n extends Cp{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(J(ns,2))};static \u0275dir=gt({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Nu("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Bn]})}return n})(),Ua=(()=>{class n extends Cp{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(J(ts,10))};static \u0275dir=gt({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Nu("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[Bn]})}return n})();var pl="VALID",Tp="INVALID",Fa="PENDING",gl="DISABLED",zi=class{},Sp=class extends zi{value;source;constructor(e,t){super(),this.value=e,this.source=t}},ml=class extends zi{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},yl=class extends zi{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},La=class extends zi{status;source;constructor(e,t){super(),this.status=e,this.source=t}},jE=class extends zi{source;constructor(e){super(),this.source=e}},_l=class extends zi{source;constructor(e){super(),this.source=e}};function WE(n){return(Pp(n)?n.validators:n)||null}function f4(n){return Array.isArray(n)?_M(n):n||null}function KE(n,e){return(Pp(e)?e.asyncValidators:n)||null}function p4(n){return Array.isArray(n)?IM(n):n||null}function Pp(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function bM(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new P(1e3,"");if(!r[t])throw new P(1001,"")}function DM(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new P(1002,"")})}var Va=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Et(this.statusReactive)}set status(e){Et(()=>this.statusReactive.set(e))}_status=ma(()=>this.statusReactive());statusReactive=pt(void 0);get valid(){return this.status===pl}get invalid(){return this.status===Tp}get pending(){return this.status==Fa}get disabled(){return this.status===gl}get enabled(){return this.status!==gl}errors;get pristine(){return Et(this.pristineReactive)}set pristine(e){Et(()=>this.pristineReactive.set(e))}_pristine=ma(()=>this.pristineReactive());pristineReactive=pt(!0);get dirty(){return!this.pristine}get touched(){return Et(this.touchedReactive)}set touched(e){Et(()=>this.touchedReactive.set(e))}_touched=ma(()=>this.touchedReactive());touchedReactive=pt(!1);get untouched(){return!this.touched}_events=new rt;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(rM(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(rM(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(iM(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(iM(e,this._rawAsyncValidators))}hasValidator(e){return bp(this._rawValidators,e)}hasAsyncValidator(e){return bp(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(de(F({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new yl(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new yl(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(de(F({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new ml(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new ml(!0,r))}markAsPending(e={}){this.status=Fa;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new La(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(de(F({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=gl,this.errors=null,this._forEachChild(i=>{i.disable(de(F({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Sp(this.value,r)),this._events.next(new La(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(de(F({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=pl,this._forEachChild(r=>{r.enable(de(F({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(de(F({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===pl||this.status===Fa)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Sp(this.value,t)),this._events.next(new La(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(de(F({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?gl:pl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Fa,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:e!==!1};let r=pM(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new La(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new et,this.statusChanges=new et}_calculateStatus(){return this._allControlsDisabled()?gl:this.errors?Tp:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Fa)?Fa:this._anyControlsHaveStatus(Tp)?Tp:pl}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new ml(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new yl(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Pp(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=f4(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=p4(this._rawAsyncValidators)}},Ap=class extends Va{constructor(e,t,r){super(WE(t),KE(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){DM(this,!0,e),Object.keys(e).forEach(r=>{bM(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t),t?.emitEvent!==!1&&this._events.next(new _l(this))}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var UE=class extends Ap{};var kp=new B("",{providedIn:"root",factory:()=>xp}),xp="always";function CM(n,e){return[...e.path,n]}function BE(n,e,t=xp){QE(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),m4(n,e),v4(n,e),y4(n,e),g4(n,e)}function oM(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Np(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Rp(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function g4(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function QE(n,e){let t=wM(n);e.validator!==null?n.setValidators(nM(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=TM(n);e.asyncValidator!==null?n.setAsyncValidators(nM(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();Rp(e._rawValidators,i),Rp(e._rawAsyncValidators,i)}function Np(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=wM(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let i=TM(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}let r=()=>{};return Rp(e._rawValidators,r),Rp(e._rawAsyncValidators,r),t}function m4(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&SM(n,e)})}function y4(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&SM(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function SM(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function v4(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function _4(n,e){n==null,QE(n,e)}function E4(n,e){return Np(n,e)}function AM(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function I4(n){return Object.getPrototypeOf(n.constructor)===dM}function w4(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function RM(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===qi?t=o:I4(o)?r=o:i=o}),i||r||t||null}function T4(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function sM(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function aM(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var vl=class extends Va{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(WE(t),KE(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Pp(t)&&(t.nonNullable||t.initialValueIsDefault)&&(aM(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1,t?.emitEvent!==!1&&this._events.next(new _l(this))}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){sM(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){sM(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){aM(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var b4=n=>n instanceof vl;var D4={provide:ns,useExisting:tr(()=>YE)},cM=Promise.resolve(),YE=(()=>{class n extends ns{_changeDetectorRef;callSetDisabledState;control=new vl;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new et;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=RM(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),AM(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){BE(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){cM.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&va(r);cM.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?CM(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(J(ts,9),J(qE,10),J(GE,10),J(Mp,10),J(ya,8),J(kp,8))};static \u0275dir=gt({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Go([D4]),Bn,cr]})}return n})();var Ba=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=gt({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})(),C4={provide:Mp,useExisting:tr(()=>JE),multi:!0},JE=(()=>{class n extends dM{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ho(n)))(i||n)}})();static \u0275dir=gt({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&tt("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[Go([C4]),Bn]})}return n})();var NM=new B("");var S4={provide:ts,useExisting:tr(()=>rs)},rs=(()=>{class n extends ts{callSetDisabledState;get submitted(){return Et(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}_submitted=ma(()=>this._submittedReactive());_submittedReactive=pt(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new et;constructor(t,r,i){super(),this.callSetDisabledState=i,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Np(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return BE(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){oM(t.control||null,t,!1),T4(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),w4(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new jE(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0,r={}){this.form.reset(t,r),this._submittedReactive.set(!1)}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(oM(r||null,t),b4(i)&&(BE(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);_4(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&E4(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){QE(this.form,this),this._oldForm&&Np(this._oldForm,this)}static \u0275fac=function(r){return new(r||n)(J(qE,10),J(GE,10),J(kp,8))};static \u0275dir=gt({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&tt("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Go([S4]),Bn,cr]})}return n})();var A4={provide:ns,useExisting:tr(()=>is)},is=(()=>{class n extends ns{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(t){}model;update=new et;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=RM(this,o)}ngOnChanges(t){this._added||this._setUpControl(),AM(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return CM(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||n)(J(ts,13),J(qE,10),J(GE,10),J(Mp,10),J(NM,8))};static \u0275dir=gt({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[Go([A4]),Bn,cr]})}return n})();var MM=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=An({type:n});static \u0275inj=dn({})}return n})(),$E=class extends Va{constructor(e,t,r){super(WE(t),KE(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){Array.isArray(e)?e.forEach(r=>{this.controls.push(r),this._registerControl(r)}):(this.controls.push(e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){DM(this,!1,e),e.forEach((r,i)=>{bM(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t),t?.emitEvent!==!1&&this._events.next(new _l(this))}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function uM(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var $a=(()=>{class n{useNonNullable=!1;get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),o={};return uM(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Ap(i,o)}record(t,r=null){let i=this._reduceControls(t);return new UE(i,r)}control(t,r,i){let o={};return this.useNonNullable?(uM(r)?o=r:(o.validators=r,o.asyncValidators=i),new vl(t,de(F({},o),{nonNullable:!0}))):new vl(t,r,i)}array(t,r,i){let o=t.map(s=>this._createControl(s));return new $E(o,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof vl)return t;if(t instanceof Va)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(r,i,o)}else return this.control(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var PM=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:kp,useValue:t.callSetDisabledState??xp}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=An({type:n});static \u0275inj=dn({imports:[MM]})}return n})(),Ha=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:NM,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:kp,useValue:t.callSetDisabledState??xp}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=An({type:n});static \u0275inj=dn({imports:[MM]})}return n})();var kM=()=>{};var FM=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},R4=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Op={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,c=i+2<n.length,l=c?n[i+2]:0,d=o>>2,f=(o&3)<<4|a>>4,g=(a&15)<<2|l>>6,m=l&63;c||(m=64,s||(g=64)),r.push(t[d],t[f],t[g],t[m])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(FM(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):R4(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let f=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||l==null||f==null)throw new eI;let g=o<<2|a>>4;if(r.push(g),l!==64){let m=a<<4&240|l>>2;if(r.push(m),f!==64){let E=l<<6&192|f;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},eI=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},N4=function(n){let e=FM(n);return Op.encodeByteArray(e,!0)},Il=function(n){return N4(n).replace(/\./g,"")},Fp=function(n){try{return Op.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function nI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var M4=()=>nI().__FIREBASE_DEFAULTS__,P4=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},k4=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Fp(n[1]);return e&&JSON.parse(e)},Lp=()=>{try{return kM()||M4()||P4()||k4()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},rI=n=>{var e,t;return(t=(e=Lp())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},LM=n=>{let e=rI(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},iI=()=>{var n;return(n=Lp())===null||n===void 0?void 0:n.config},oI=n=>{var e;return(e=Lp())===null||e===void 0?void 0:e[`_${n}`]};var os=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function Gi(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}function Vp(n){return _(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function VM(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Il(JSON.stringify(t)),Il(JSON.stringify(s)),""].join(".")}var El={};function x4(){let n={prod:[],emulator:[]};for(let e of Object.keys(El))El[e]?n.emulator.push(e):n.prod.push(e);return n}function O4(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var xM=!1;function jp(n,e){if(typeof window>"u"||typeof document>"u"||!Gi(window.location.host)||El[n]===e||El[n]||xM)return;El[n]=e;function t(g){return`__firebase__banner__${g}`}let r="__firebase__banner",o=x4().prod.length>0;function s(){let g=document.getElementById(r);g&&g.remove()}function a(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function c(g,m){g.setAttribute("width","24"),g.setAttribute("id",m),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function l(){let g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{xM=!0,s()},g}function d(g,m){g.setAttribute("id",m),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function f(){let g=O4(r),m=t("text"),E=document.getElementById(m)||document.createElement("span"),A=t("learnmore"),D=document.getElementById(A)||document.createElement("a"),M=t("preprendIcon"),L=document.getElementById(M)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){let H=g.element;a(H),d(D,A);let W=l();c(L,M),H.append(L,E,D,W),document.body.appendChild(H)}o?(E.innerText="Preview backend disconnected.",L.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(L.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}function wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wt())}function F4(){var n;let e=(n=Lp())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function UM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function BM(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function $M(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function HM(){let n=wt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function zM(){return!F4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wl(){try{return typeof indexedDB=="object"}catch{return!1}}function qM(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var L4="FirebaseError",yn=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=L4,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qn.prototype.create)}},qn=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?V4(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new yn(i,a,r)}};function V4(n,e){return n.replace(j4,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var j4=/\{\$([^}]+)}/g;function GM(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function gr(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(OM(o)&&OM(s)){if(!gr(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function OM(n){return n!==null&&typeof n=="object"}function Tl(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function za(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function qa(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function WM(n,e){let t=new tI(n,e);return t.subscribe.bind(t)}var tI=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");U4(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=XE),i.error===void 0&&(i.error=XE),i.complete===void 0&&(i.complete=XE);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function U4(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function XE(){}var que=14400*1e3;function nt(n){return n&&n._delegate?n._delegate:n}var Qt=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var ss="[DEFAULT]";var sI=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new os;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if($4(e))try{this.getOrInitializeService({instanceIdentifier:ss})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=ss){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return _(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=ss){return this.instances.has(e)}getOptions(e=ss){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:B4(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ss){return this.component?this.component.multipleInstances?e:ss:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function B4(n){return n===ss?void 0:n}function $4(n){return n.instantiationMode==="EAGER"}var Up=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new sI(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var H4=[],ve=(function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n})(ve||{}),z4={debug:ve.DEBUG,verbose:ve.VERBOSE,info:ve.INFO,warn:ve.WARN,error:ve.ERROR,silent:ve.SILENT},q4=ve.INFO,G4={[ve.DEBUG]:"log",[ve.VERBOSE]:"log",[ve.INFO]:"info",[ve.WARN]:"warn",[ve.ERROR]:"error"},W4=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=G4[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},mr=class{constructor(e){this.name=e,this._logLevel=q4,this._logHandler=W4,this._userLogHandler=null,H4.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?z4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ve.DEBUG,...e),this._logHandler(this,ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ve.VERBOSE,...e),this._logHandler(this,ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ve.INFO,...e),this._logHandler(this,ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ve.WARN,...e),this._logHandler(this,ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ve.ERROR,...e),this._logHandler(this,ve.ERROR,...e)}};var K4=(n,e)=>e.some(t=>n instanceof t),KM,QM;function Q4(){return KM||(KM=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Y4(){return QM||(QM=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var YM=new WeakMap,cI=new WeakMap,JM=new WeakMap,aI=new WeakMap,lI=new WeakMap;function J4(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(yr(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&YM.set(t,n)}).catch(()=>{}),lI.set(e,n),e}function Z4(n){if(cI.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});cI.set(n,e)}var uI={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return cI.get(n);if(e==="objectStoreNames")return n.objectStoreNames||JM.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return yr(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function ZM(n){uI=n(uI)}function X4(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(Bp(this),e,...t);return JM.set(r,e.sort?e.sort():[e]),yr(r)}:Y4().includes(n)?function(...e){return n.apply(Bp(this),e),yr(YM.get(this))}:function(...e){return yr(n.apply(Bp(this),e))}}function ez(n){return typeof n=="function"?X4(n):(n instanceof IDBTransaction&&Z4(n),K4(n,Q4())?new Proxy(n,uI):n)}function yr(n){if(n instanceof IDBRequest)return J4(n);if(aI.has(n))return aI.get(n);let e=ez(n);return e!==n&&(aI.set(n,e),lI.set(e,n)),e}var Bp=n=>lI.get(n);function eP(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=yr(s);return r&&s.addEventListener("upgradeneeded",c=>{r(yr(s.result),c.oldVersion,c.newVersion,yr(s.transaction),c)}),t&&s.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var tz=["get","getKey","getAll","getAllKeys","count"],nz=["put","add","delete","clear"],dI=new Map;function XM(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(dI.get(e))return dI.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=nz.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||tz.includes(t)))return;let o=function(s,...a){return _(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[t](...a),i&&c.done]))[0]})};return dI.set(e,o),o}ZM(n=>de(F({},n),{get:(e,t,r)=>XM(e,t)||n.get(e,t,r),has:(e,t)=>!!XM(e,t)||n.has(e,t)}));var fI=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(rz(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function rz(n){let e=n.getComponent();return e?.type==="VERSION"}var pI="@firebase/app",tP="0.13.2";var Gr=new mr("@firebase/app"),iz="@firebase/app-compat",oz="@firebase/analytics-compat",sz="@firebase/analytics",az="@firebase/app-check-compat",cz="@firebase/app-check",uz="@firebase/auth",lz="@firebase/auth-compat",dz="@firebase/database",hz="@firebase/data-connect",fz="@firebase/database-compat",pz="@firebase/functions",gz="@firebase/functions-compat",mz="@firebase/installations",yz="@firebase/installations-compat",vz="@firebase/messaging",_z="@firebase/messaging-compat",Ez="@firebase/performance",Iz="@firebase/performance-compat",wz="@firebase/remote-config",Tz="@firebase/remote-config-compat",bz="@firebase/storage",Dz="@firebase/storage-compat",Cz="@firebase/firestore",Sz="@firebase/ai",Az="@firebase/firestore-compat",Rz="firebase",Nz="11.10.0";var gI="[DEFAULT]",Mz={[pI]:"fire-core",[iz]:"fire-core-compat",[sz]:"fire-analytics",[oz]:"fire-analytics-compat",[cz]:"fire-app-check",[az]:"fire-app-check-compat",[uz]:"fire-auth",[lz]:"fire-auth-compat",[dz]:"fire-rtdb",[hz]:"fire-data-connect",[fz]:"fire-rtdb-compat",[pz]:"fire-fn",[gz]:"fire-fn-compat",[mz]:"fire-iid",[yz]:"fire-iid-compat",[vz]:"fire-fcm",[_z]:"fire-fcm-compat",[Ez]:"fire-perf",[Iz]:"fire-perf-compat",[wz]:"fire-rc",[Tz]:"fire-rc-compat",[bz]:"fire-gcs",[Dz]:"fire-gcs-compat",[Cz]:"fire-fst",[Az]:"fire-fst-compat",[Sz]:"fire-vertex","fire-js":"fire-js",[Rz]:"fire-js-all"};var bl=new Map,Pz=new Map,mI=new Map;function nP(n,e){try{n.container.addComponent(e)}catch(t){Gr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Gn(n){let e=n.name;if(mI.has(e))return Gr.debug(`There were multiple attempts to register component ${e}.`),!1;mI.set(e,n);for(let t of bl.values())nP(t,n);for(let t of Pz.values())nP(t,n);return!0}function Ga(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function on(n){return n==null?!1:n.settings!==void 0}var kz={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Wi=new qn("app","Firebase",kz);var yI=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Qt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wi.create("app-deleted",{appName:this._name})}};var Ki=Nz;function EI(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:gI,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Wi.create("bad-app-name",{appName:String(i)});if(t||(t=iI()),!t)throw Wi.create("no-options");let o=bl.get(i);if(o){if(gr(t,o.options)&&gr(r,o.config))return o;throw Wi.create("duplicate-app",{appName:i})}let s=new Up(i);for(let c of mI.values())s.addComponent(c);let a=new yI(t,r,s);return bl.set(i,a),a}function as(n=gI){let e=bl.get(n);if(!e&&n===gI&&iI())return EI();if(!e)throw Wi.create("no-app",{appName:n});return e}function $p(){return Array.from(bl.values())}function Qe(n,e,t){var r;let i=(r=Mz[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Gr.warn(a.join(" "));return}Gn(new Qt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var xz="firebase-heartbeat-database",Oz=1,Dl="firebase-heartbeat-store",hI=null;function sP(){return hI||(hI=eP(xz,Oz,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Dl)}catch(t){console.warn(t)}}}}).catch(n=>{throw Wi.create("idb-open",{originalErrorMessage:n.message})})),hI}function Fz(n){return _(this,null,function*(){try{let t=(yield sP()).transaction(Dl),r=yield t.objectStore(Dl).get(aP(n));return yield t.done,r}catch(e){if(e instanceof yn)Gr.warn(e.message);else{let t=Wi.create("idb-get",{originalErrorMessage:e?.message});Gr.warn(t.message)}}})}function rP(n,e){return _(this,null,function*(){try{let r=(yield sP()).transaction(Dl,"readwrite");yield r.objectStore(Dl).put(e,aP(n)),yield r.done}catch(t){if(t instanceof yn)Gr.warn(t.message);else{let r=Wi.create("idb-set",{originalErrorMessage:t?.message});Gr.warn(r.message)}}})}function aP(n){return`${n.name}!${n.options.appId}`}var Lz=1024,Vz=30,vI=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new _I(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return _(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=iP();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>Vz){let s=Uz(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Gr.warn(r)}})}getHeartbeatsHeader(){return _(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=iP(),{heartbeatsToSend:r,unsentEntries:i}=jz(this._heartbeatsCache.heartbeats),o=Il(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Gr.warn(t),""}})}};function iP(){return new Date().toISOString().substring(0,10)}function jz(n,e=Lz){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),oP(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),oP(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var _I=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(this,null,function*(){return wl()?qM().then(()=>!0).catch(()=>!1):!1})}read(){return _(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield Fz(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return _(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return rP(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return _(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return rP(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function oP(n){return Il(JSON.stringify({version:2,heartbeats:n})).length}function Uz(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function Bz(n){Gn(new Qt("platform-logger",e=>new fI(e),"PRIVATE")),Gn(new Qt("heartbeat",e=>new vI(e),"PRIVATE")),Qe(pI,tP,n),Qe(pI,tP,"esm2017"),Qe("fire-js","")}Bz("");var $z="firebase",Hz="11.10.0";Qe($z,Hz,"app");function cP(n){n===void 0&&(n=x(ft));let e=n.get(Pi);return t=>new ie(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=t.subscribe({next:c=>{r.next(c),s()},complete:()=>{r.complete(),s()},error:c=>{r.error(c),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var Qi=new So("ANGULARFIRE2_VERSION");function Cl(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Ka=(n,e)=>{let t=e?[e]:$p(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Wa=(function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n})(Wa||{}),uP=z_()&&typeof Zone<"u"?Wa.WARN:Wa.SILENT;var Hp=class{zone;delegate;constructor(e,t=by){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},Yi=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=x(Ce);this.outsideAngular=t.runOutsideAngular(()=>new Hp(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new Hp(typeof Zone>"u"?void 0:Zone.current,Ty))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),lP=!1;function zz(n,e){!lP&&(uP>Wa.SILENT||z_())&&(lP=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),uP>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function qz(n){let e=x(Ce,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function cs(n){let e=x(Ce,{optional:!0});return e?e.run(()=>n()):n()}var Gz=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),Ze(t,()=>cs(()=>n.apply(void 0,r)))),yt=(n,e,t)=>(t||=e?Wa.WARN:Wa.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=x(Yi),s=x(Pi),a=x(We)}catch{return zz(n,t),n.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=cs(()=>s.add())),i[l]=Gz(i[l],r,a));let c=qz(()=>n.apply(this,i));return e?c instanceof ie?c.pipe(vi(o.outsideAngular),yi(o.insideAngular),cP(a)):c instanceof Promise?cs(()=>{let l=s.add();return new Promise((d,f)=>{c.then(g=>Ze(a,()=>cs(()=>d(g))),g=>Ze(a,()=>cs(()=>f(g)))).finally(l)})}):typeof c=="function"&&r?function(){return setTimeout(r,0),c.apply(this,arguments)}:cs(()=>c):c instanceof ie?c.pipe(vi(o.outsideAngular),yi(o.insideAngular)):cs(()=>c)});var Wr=class{constructor(e){return e}},us=class{constructor(){return $p()}};function Wz(n){return n&&n.length===1?n[0]:new Wr(as())}var II=new B("angularfire2._apps"),Kz={provide:Wr,useFactory:Wz,deps:[[new fn,II]]},Qz={provide:us,deps:[[new fn,II]]};function Yz(n){return(e,t)=>{let r=t.get(Oi);Qe("angularfire",Qi.full,"core"),Qe("angularfire",Qi.full,"app"),Qe("angular",By.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new Wr(i)}}function dP(n,...e){return wn([Kz,Qz,{provide:II,useFactory:Yz(n),multi:!0,deps:[Ce,ft,Yi,...e]}])}var hP=yt(EI,!0);var Jz=new Map,Zz={activated:!1,tokenObservers:[]},Xz={initialized:!1,enabled:!1};function Wn(n){return Jz.get(n)||Object.assign({},Zz)}function mP(){return Xz}var eq="https://content-firebaseappcheck.googleapis.com/v1";var tq="exchangeDebugToken",fP={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},Kle=1440*60*1e3;var bI=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return _(this,null,function*(){this.stop();try{this.pending=new os,this.pending.promise.catch(t=>{}),yield nq(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new os,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function nq(n){return new Promise(e=>{setTimeout(e,n)})}var rq={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Ji=new qn("appCheck","AppCheck",rq);function yP(n){if(!Wn(n).activated)throw Ji.create("use-before-activation",{appName:n.name})}function vP(r,i){return _(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let m=yield s.getHeartbeatsHeader();m&&(o["X-Firebase-Client"]=m)}let a={method:"POST",body:JSON.stringify(e),headers:o},c;try{c=yield fetch(n,a)}catch(m){throw Ji.create("fetch-network-error",{originalErrorMessage:m?.message})}if(c.status!==200)throw Ji.create("fetch-status-error",{httpStatus:c.status});let l;try{l=yield c.json()}catch(m){throw Ji.create("fetch-parse-error",{originalErrorMessage:m?.message})}let d=l.ttl.match(/^([\d.]+)(s)$/);if(!d||!d[2]||isNaN(Number(d[1])))throw Ji.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let f=Number(d[1])*1e3,g=Date.now();return{token:l.token,expireTimeMillis:g+f,issuedAtTimeMillis:g}})}function _P(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${eq}/projects/${t}/apps/${r}:${tq}?key=${i}`,body:{debug_token:e}}}var iq="firebase-app-check-database",oq=1,DI="firebase-app-check-store";var zp=null;function sq(){return zp||(zp=new Promise((n,e)=>{try{let t=indexedDB.open(iq,oq);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Ji.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(DI,{keyPath:"compositeKey"})}}}catch(t){e(Ji.create("storage-open",{originalErrorMessage:t?.message}))}}),zp)}function aq(n,e){return cq(uq(n),e)}function cq(n,e){return _(this,null,function*(){let r=(yield sq()).transaction(DI,"readwrite"),o=r.objectStore(DI).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=c=>{s()},r.onerror=c=>{var l;a(Ji.create("storage-set",{originalErrorMessage:(l=c.target.error)===null||l===void 0?void 0:l.message}))}})})}function uq(n){return`${n.options.appId}-${n.name}`}var Sl=new mr("@firebase/app-check");function wI(n,e){return wl()?aq(n,e).catch(t=>{Sl.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function EP(){return mP().enabled}function IP(){return _(this,null,function*(){let n=mP();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var lq={error:"UNKNOWN_ERROR"};function dq(n){return Op.encodeString(JSON.stringify(n),!1)}function CI(n,e=!1,t=!1){return _(this,null,function*(){let r=n.app;yP(r);let i=Wn(r),o=i.token,s;if(o&&!Al(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(Al(l)?o=l:yield wI(r,void 0))}if(!e&&o&&Al(o))return{token:o.token};let a=!1;if(EP())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=vP(_P(r,yield IP()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=yield i.exchangeTokenPromise;return yield wI(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Sl.warn(l.message):t&&Sl.error(l),TI(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield Wn(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Sl.warn(l.message):t&&Sl.error(l),s=l}let c;return o?s?Al(o)?c={token:o.token,internalError:s}:c=TI(s):(c={token:o.token},i.token=o,yield wI(r,o)):c=TI(s),a&&gq(r,c),c})}function hq(n){return _(this,null,function*(){let e=n.app;yP(e);let{provider:t}=Wn(e);if(EP()){let r=yield IP(),{token:i}=yield vP(_P(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function fq(n,e,t,r){let{app:i}=n,o=Wn(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Al(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),pP(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>pP(n))}function wP(n,e){let t=Wn(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function pP(n){let{app:e}=n,t=Wn(e),r=t.tokenRefresher;r||(r=pq(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function pq(n){let{app:e}=n;return new bI(()=>_(null,null,function*(){let t=Wn(e),r;if(t.token?r=yield CI(n,!0):r=yield CI(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=Wn(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-300*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},fP.RETRIAL_MIN_WAIT,fP.RETRIAL_MAX_WAIT)}function gq(n,e){let t=Wn(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Al(n){return n.expireTimeMillis-Date.now()>0}function TI(n){return{token:dq(lq),error:n}}var SI=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=Wn(this.app);for(let t of e)wP(this.app,t.next);return Promise.resolve()}};function mq(n,e){return new SI(n,e)}function yq(n){return{getToken:e=>CI(n,e),getLimitedUseToken:()=>hq(n),addTokenListener:e=>fq(n,"INTERNAL",e),removeTokenListener:e=>wP(n.app,e)}}var vq="@firebase/app-check",_q="0.10.1";var Eq="app-check",gP="app-check-internal";function Iq(){Gn(new Qt(Eq,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return mq(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(gP).initialize()})),Gn(new Qt(gP,n=>{let e=n.getProvider("app-check").getImmediate();return yq(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Qe(vq,_q)}Iq();var wq="app-check";var Qa=class{constructor(){return Ka(wq)}};var Tq=["localhost","0.0.0.0","127.0.0.1"],ade=typeof window<"u"&&Tq.includes(window.location.hostname);function VP(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var jP=VP,UP=new qn("auth","Firebase",VP());var Yp=new mr("@firebase/auth");function bq(n,...e){Yp.logLevel<=ve.WARN&&Yp.warn(`Auth (${Ki}): ${n}`,...e)}function Gp(n,...e){Yp.logLevel<=ve.ERROR&&Yp.error(`Auth (${Ki}): ${n}`,...e)}function _r(n,...e){throw ZI(n,...e)}function ls(n,...e){return ZI(n,...e)}function BP(n,e,t){let r=Object.assign(Object.assign({},jP()),{[e]:t});return new qn("auth","Firebase",r).create(e,{appName:n.name})}function Yr(n){return BP(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ZI(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return UP.create(n,...e)}function re(n,e,...t){if(!n)throw ZI(e,...t)}function Kr(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Gp(e),new Error(e)}function eo(n,e){n||Kr(e)}function MI(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function Dq(){return TP()==="http:"||TP()==="https:"}function TP(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function Cq(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Dq()||BM()||"connection"in navigator)?navigator.onLine:!0}function Sq(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var ds=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,eo(t>e,"Short delay should be less than long delay!"),this.isMobile=jM()||$M()}get(){return Cq()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function XI(n,e){eo(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Jp=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Kr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Kr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Kr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var Aq={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var Rq=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Nq=new ds(3e4,6e4);function to(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function no(o,s,a,c){return _(this,arguments,function*(n,e,t,r,i={}){return $P(n,i,()=>_(null,null,function*(){let l={},d={};r&&(e==="GET"?d=r:l={body:JSON.stringify(r)});let f=Tl(Object.assign({key:n.config.apiKey},d)).slice(1),g=yield n._getAdditionalHeaders();g["Content-Type"]="application/json",n.languageCode&&(g["X-Firebase-Locale"]=n.languageCode);let m=Object.assign({method:e,headers:g},l);return UM()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&Gi(n.emulatorConfig.host)&&(m.credentials="include"),Jp.fetch()(yield HP(n,n.config.apiHost,t,f),m)}))})}function $P(n,e,t){return _(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},Aq),e);try{let i=new PI(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw qp(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw qp(n,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw qp(n,"email-already-in-use",s);if(c==="USER_DISABLED")throw qp(n,"user-disabled",s);let d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw BP(n,d,l);_r(n,d)}}catch(i){if(i instanceof yn)throw i;_r(n,"network-request-failed",{message:String(i)})}})}function Ll(o,s,a,c){return _(this,arguments,function*(n,e,t,r,i={}){let l=yield no(n,e,t,r,i);return"mfaPendingCredential"in l&&_r(n,"multi-factor-auth-required",{_serverResponse:l}),l})}function HP(n,e,t,r){return _(this,null,function*(){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?XI(n.config,i):`${n.config.apiScheme}://${i}`;return Rq.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}function Mq(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var PI=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(ls(this.auth,"network-request-failed")),Nq.get())})}};function qp(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=ls(n,e,r);return i.customData._tokenResponse=t,i}function bP(n){return n!==void 0&&n.enterprise!==void 0}var kI=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Mq(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function Pq(n,e){return _(this,null,function*(){return no(n,"GET","/v2/recaptchaConfig",to(n,e))})}function kq(n,e){return _(this,null,function*(){return no(n,"POST","/v1/accounts:delete",e)})}function Zp(n,e){return _(this,null,function*(){return no(n,"POST","/v1/accounts:lookup",e)})}function Nl(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function ew(n,e=!1){return _(this,null,function*(){let t=nt(n),r=yield t.getIdToken(e),i=tw(r);re(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Nl(AI(i.auth_time)),issuedAtTime:Nl(AI(i.iat)),expirationTime:Nl(AI(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function AI(n){return Number(n)*1e3}function tw(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Gp("JWT malformed, contained fewer than 3 sections"),null;try{let i=Fp(t);return i?JSON.parse(i):(Gp("Failed to decode base64 JWT payload"),null)}catch(i){return Gp("Caught error parsing JWT payload as JSON",i?.toString()),null}}function DP(n){let e=tw(n);return re(e,"internal-error"),re(typeof e.exp<"u","internal-error"),re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Pl(n,e,t=!1){return _(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof yn&&xq(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function xq({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var xI=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>_(this,null,function*(){yield this.iteration()}),t)}iteration(){return _(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var kl=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nl(this.lastLoginAt),this.creationTime=Nl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Xp(n){return _(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield Pl(n,Zp(t,{idToken:r}));re(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?zP(o.providerUserInfo):[],a=Oq(n.providerData,s),c=n.isAnonymous,l=!(n.email&&o.passwordHash)&&!a?.length,d=c?l:!1,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new kl(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(n,f)})}function nw(n){return _(this,null,function*(){let e=nt(n);yield Xp(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function Oq(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function zP(n){return n.map(e=>{var{providerId:t}=e,r=Dy(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function Fq(n,e){return _(this,null,function*(){let t=yield $P(n,{},()=>_(null,null,function*(){let r=Tl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=yield HP(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let c={method:"POST",headers:a,body:r};return n.emulatorConfig&&Gi(n.emulatorConfig.host)&&(c.credentials="include"),Jp.fetch()(s,c)}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function Lq(n,e){return _(this,null,function*(){return no(n,"POST","/v2/accounts:revokeToken",to(n,e))})}var Ml=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){re(e.idToken,"internal-error"),re(typeof e.idToken<"u","internal-error"),re(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):DP(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){re(e.length!==0,"internal-error");let t=DP(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return _(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return _(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield Fq(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(re(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(re(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(re(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Kr("not implemented")}};function Zi(n,e){re(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Xi=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=Dy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new xI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new kl(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return _(this,null,function*(){let t=yield Pl(this,this.stsTokenManager.getToken(this.auth,e));return re(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return ew(this,e)}reload(){return nw(this)}_assign(e){this!==e&&(re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return _(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield Xp(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return _(this,null,function*(){if(on(this.auth.app))return Promise.reject(Yr(this.auth));let e=yield this.getIdToken();return yield Pl(this,kq(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,c,l,d;let f=(r=t.displayName)!==null&&r!==void 0?r:void 0,g=(i=t.email)!==null&&i!==void 0?i:void 0,m=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,E=(s=t.photoURL)!==null&&s!==void 0?s:void 0,A=(a=t.tenantId)!==null&&a!==void 0?a:void 0,D=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,M=(l=t.createdAt)!==null&&l!==void 0?l:void 0,L=(d=t.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:H,emailVerified:W,isAnonymous:Te,providerData:te,stsTokenManager:T}=t;re(H&&T,e,"internal-error");let v=Ml.fromJSON(this.name,T);re(typeof H=="string",e,"internal-error"),Zi(f,e.name),Zi(g,e.name),re(typeof W=="boolean",e,"internal-error"),re(typeof Te=="boolean",e,"internal-error"),Zi(m,e.name),Zi(E,e.name),Zi(A,e.name),Zi(D,e.name),Zi(M,e.name),Zi(L,e.name);let I=new n({uid:H,auth:e,email:g,emailVerified:W,displayName:f,isAnonymous:Te,photoURL:E,phoneNumber:m,tenantId:A,stsTokenManager:v,createdAt:M,lastLoginAt:L});return te&&Array.isArray(te)&&(I.providerData=te.map(b=>Object.assign({},b))),D&&(I._redirectEventId=D),I}static _fromIdTokenResponse(e,t,r=!1){return _(this,null,function*(){let i=new Ml;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Xp(o),o})}static _fromGetAccountInfoResponse(e,t,r){return _(this,null,function*(){let i=t.users[0];re(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?zP(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Ml;a.updateFromIdToken(r);let c=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new kl(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(c,l),c})}};var CP=new Map;function Qr(n){eo(n instanceof Function,"Expected a class definition");let e=CP.get(n);return e?(eo(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,CP.set(n,e),e)}var Vq=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(this,null,function*(){return!0})}_set(t,r){return _(this,null,function*(){this.storage[t]=r})}_get(t){return _(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return _(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),OI=Vq;function Wp(n,e,t){return`firebase:${n}:${e}:${t}`}var eg=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Wp(this.userKey,i.apiKey,o),this.fullPersistenceKey=Wp("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return _(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield Zp(this.auth,{idToken:e}).catch(()=>{});return t?Xi._fromGetAccountInfoResponse(this.auth,t,e):null}return Xi._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return _(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return _(this,null,function*(){if(!t.length)return new n(Qr(OI),e,r);let i=(yield Promise.all(t.map(l=>_(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||Qr(OI),s=Wp(r,e.config.apiKey,e.name),a=null;for(let l of t)try{let d=yield l._get(s);if(d){let f;if(typeof d=="string"){let g=yield Zp(e,{idToken:d}).catch(()=>{});if(!g)break;f=yield Xi._fromGetAccountInfoResponse(e,g,d)}else f=Xi._fromJSON(e,d);l!==o&&(a=f),o=l;break}}catch{}let c=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new n(o,e,r):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(l=>_(null,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new n(o,e,r))})}};function SP(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(KP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(qP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(YP(e))return"Blackberry";if(JP(e))return"Webos";if(GP(e))return"Safari";if((e.includes("chrome/")||WP(e))&&!e.includes("edge/"))return"Chrome";if(QP(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function qP(n=wt()){return/firefox\//i.test(n)}function GP(n=wt()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function WP(n=wt()){return/crios\//i.test(n)}function KP(n=wt()){return/iemobile/i.test(n)}function QP(n=wt()){return/android/i.test(n)}function YP(n=wt()){return/blackberry/i.test(n)}function JP(n=wt()){return/webos/i.test(n)}function rw(n=wt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function jq(n=wt()){var e;return rw(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Uq(){return HM()&&document.documentMode===10}function ZP(n=wt()){return rw(n)||QP(n)||JP(n)||YP(n)||/windows phone/i.test(n)||KP(n)}function XP(n,e=[]){let t;switch(n){case"Browser":t=SP(wt());break;case"Worker":t=`${SP(wt())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ki}/${r}`}var FI=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return _(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function Bq(t){return _(this,arguments,function*(n,e={}){return no(n,"GET","/v2/passwordPolicy",to(n,e))})}var $q=6,LI=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:$q,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var VI=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tg(this),this.idTokenSubscription=new tg(this),this.beforeStateQueue=new FI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=UP,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Qr(t)),this._initializationPromise=this.queue(()=>_(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield eg.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return _(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return _(this,null,function*(){try{let t=yield Zp(this,{idToken:e}),r=yield Xi._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return _(this,null,function*(){var t;if(on(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return re(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return _(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return _(this,null,function*(){try{yield Xp(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=Sq()}_delete(){return _(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return _(this,null,function*(){if(on(this.app))return Promise.reject(Yr(this));let t=e?nt(e):null;return t&&re(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return _(this,null,function*(){if(!this._deleted)return e&&re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>_(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return _(this,null,function*(){return on(this.app)?Promise.reject(Yr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return on(this.app)?Promise.reject(Yr(this)):this.queue(()=>_(this,null,function*(){yield this.assertedPersistence.setPersistence(Qr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return _(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return _(this,null,function*(){let e=yield Bq(this),t=new LI(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new qn("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return _(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield Lq(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return _(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return _(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&Qr(e)||this._popupRedirectResolver;re(t,this,"argument-error"),this.redirectPersistenceManager=yield eg.create(this,[Qr(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return _(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>_(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return _(this,null,function*(){if(e===this.currentUser)return this.queue(()=>_(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(re(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let c=e.addObserver(t,r,i);return()=>{s=!0,c()}}else{let c=e.addObserver(t);return()=>{s=!0,c()}}}directlySetCurrentUser(e){return _(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=XP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return _(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return _(this,null,function*(){var e;if(on(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&bq(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function fs(n){return nt(n)}var tg=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=WM(t=>this.observer=t)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var cg={loadJS(){return _(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Hq(n){cg=n}function ek(n){return cg.loadJS(n)}function zq(){return cg.recaptchaEnterpriseScript}function qq(){return cg.gapiScript}function tk(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var jI=class{constructor(){this.enterprise=new UI}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},UI=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}};var Gq="recaptcha-enterprise",nk="NO_RECAPTCHA",BI=class{constructor(e){this.type=Gq,this.auth=fs(e)}verify(e="verify",t=!1){return _(this,null,function*(){function r(o){return _(this,null,function*(){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>_(null,null,function*(){Pq(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new kI(c);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(c=>{a(c)})}))})}function i(o,s,a){let c=window.grecaptcha;bP(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(nk)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new jI().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!t&&bP(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=zq();c.length!==0&&(c+=a),ek(c).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})})}};function Rl(n,e,t,r=!1,i=!1){return _(this,null,function*(){let o=new BI(n),s;if(i)s=nk;else try{s=yield o.verify(t)}catch{s=yield o.verify(t,!0)}let a=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let c=a.phoneEnrollmentInfo.phoneNumber,l=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function $I(n,e,t,r,i){return _(this,null,function*(){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=yield Rl(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(a=>_(null,null,function*(){if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let c=yield Rl(n,e,t,t==="getOobCode");return r(n,c)}else return Promise.reject(a)}));else if(i==="PHONE_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let a=yield Rl(n,e,t);return r(n,a).catch(c=>_(null,null,function*(){var l;if(((l=n._getRecaptchaConfig())===null||l===void 0?void 0:l.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(c.code==="auth/missing-recaptcha-token"||c.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);let d=yield Rl(n,e,t,!1,!0);return r(n,d)}return Promise.reject(c)}))}else{let a=yield Rl(n,e,t,!1,!0);return r(n,a)}else return Promise.reject(i+" provider is not supported.")})}function iw(n,e){let t=Ga(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(gr(o,e??{}))return i;_r(i,"already-initialized")}return t.initialize({options:e})}function Wq(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Qr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function ow(n,e,t){let r=fs(n);re(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=rk(e),{host:s,port:a}=Kq(e),c=a===null?"":`:${a}`,l={url:`${o}//${s}${c}/`},d=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){re(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),re(gr(l,r.config.emulator)&&gr(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Gi(s)?(Vp(`${o}//${s}${c}`),jp("Auth",!0)):i||Qq()}function rk(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Kq(n){let e=rk(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:AP(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:AP(s)}}}function AP(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function Qq(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var xl=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Kr("not implemented")}_getIdTokenResponse(e){return Kr("not implemented")}_linkToIdToken(e,t){return Kr("not implemented")}_getReauthenticationResolver(e){return Kr("not implemented")}};function Yq(n,e){return _(this,null,function*(){return no(n,"POST","/v1/accounts:signUp",e)})}function Jq(n,e){return _(this,null,function*(){return Ll(n,"POST","/v1/accounts:signInWithPassword",to(n,e))})}function Zq(n,e){return _(this,null,function*(){return Ll(n,"POST","/v1/accounts:signInWithEmailLink",to(n,e))})}function Xq(n,e){return _(this,null,function*(){return Ll(n,"POST","/v1/accounts:signInWithEmailLink",to(n,e))})}var Ol=class n extends xl{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return _(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $I(e,t,"signInWithPassword",Jq,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return Zq(e,{email:this._email,oobCode:this._password});default:_r(e,"internal-error")}})}_linkToIdToken(e,t){return _(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $I(e,r,"signUpPassword",Yq,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return Xq(e,{idToken:t,email:this._email,oobCode:this._password});default:_r(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function RI(n,e){return _(this,null,function*(){return Ll(n,"POST","/v1/accounts:signInWithIdp",to(n,e))})}function e3(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function t3(n){let e=za(qa(n)).link,t=e?za(qa(e)).deep_link_id:null,r=za(qa(n)).deep_link_id;return(r?za(qa(r)).link:null)||r||t||e||n}var ng=class n{constructor(e){var t,r,i,o,s,a;let c=za(qa(e)),l=(t=c.apiKey)!==null&&t!==void 0?t:null,d=(r=c.oobCode)!==null&&r!==void 0?r:null,f=e3((i=c.mode)!==null&&i!==void 0?i:null);re(l&&d&&f,"argument-error"),this.apiKey=l,this.operation=f,this.code=d,this.continueUrl=(o=c.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=c.lang)!==null&&s!==void 0?s:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=t3(e);try{return new n(t)}catch{return null}}};var ik=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return Ol._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=ng.parseLink(r);return re(i,"argument-error"),Ol._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),rg=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var HI=class extends rg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function n3(n,e){return _(this,null,function*(){return Ll(n,"POST","/v1/accounts:signUp",to(n,e))})}var Ya=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return _(this,null,function*(){let o=yield Xi._fromIdTokenResponse(e,r,i),s=RP(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return _(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=RP(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function RP(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var zI=class n extends yn{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function ok(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?zI._fromErrorAndOperation(n,o,e,r):o})}function r3(n,e,t=!1){return _(this,null,function*(){let r=yield Pl(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Ya._forOperation(n,"link",r)})}function i3(n,e,t=!1){return _(this,null,function*(){let{auth:r}=n;if(on(r.app))return Promise.reject(Yr(r));let i="reauthenticate";try{let o=yield Pl(n,ok(r,i,e,n),t);re(o.idToken,r,"internal-error");let s=tw(o.idToken);re(s,r,"internal-error");let{sub:a}=s;return re(n.uid===a,r,"user-mismatch"),Ya._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&_r(r,"user-mismatch"),o}})}function sk(n,e,t=!1){return _(this,null,function*(){if(on(n.app))return Promise.reject(Yr(n));let r="signIn",i=yield ok(n,r,e),o=yield Ya._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})}function sw(n,e){return _(this,null,function*(){return sk(fs(n),e)})}function ak(n){return _(this,null,function*(){let e=fs(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function aw(n,e,t){return _(this,null,function*(){if(on(n.app))return Promise.reject(Yr(n));let r=fs(n),s=yield $I(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",n3,"EMAIL_PASSWORD_PROVIDER").catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&ak(n),c}),a=yield Ya._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function cw(n,e,t){return on(n.app)?Promise.reject(Yr(n)):sw(nt(n),ik.credential(e,t)).catch(r=>_(null,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&ak(n),r}))}function uw(n,e,t,r){return nt(n).onIdTokenChanged(e,t,r)}function lw(n,e,t){return nt(n).beforeAuthStateChanged(e,t)}function dw(n){return nt(n).signOut()}var ig="__sak";var og=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ig,"1"),this.storage.removeItem(ig),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var o3=1e3,s3=10,a3=(()=>{class n extends og{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ZP(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);Uq()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,s3):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},o3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return _(this,null,function*(){yield gi(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return _(this,null,function*(){let r=yield gi(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return _(this,null,function*(){yield gi(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),ck=a3;var c3=(()=>{class n extends og{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),hw=c3;function u3(n){return Promise.all(n.map(e=>_(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var l3=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return _(this,null,function*(){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let c=Array.from(a).map(d=>_(this,null,function*(){return d(r.origin,s)})),l=yield u3(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function uk(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var qI=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return _(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,c)=>{let l=uk("",20);i.port1.start();let d=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(f){let g=f;if(g.data.eventId===l)switch(g.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(g.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function vr(){return window}function d3(n){vr().location.href=n}function lk(){return typeof vr().WorkerGlobalScope<"u"&&typeof vr().importScripts=="function"}function h3(){return _(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function f3(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function p3(){return lk()?self:null}var dk="firebaseLocalStorageDb",g3=1,sg="firebaseLocalStorage",hk="fbase_key",hs=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function ug(n,e){return n.transaction([sg],e?"readwrite":"readonly").objectStore(sg)}function m3(){let n=indexedDB.deleteDatabase(dk);return new hs(n).toPromise()}function GI(){let n=indexedDB.open(dk,g3);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(sg,{keyPath:hk})}catch(i){t(i)}}),n.addEventListener("success",()=>_(null,null,function*(){let r=n.result;r.objectStoreNames.contains(sg)?e(r):(r.close(),yield m3(),e(yield GI()))}))})}function NP(n,e,t){return _(this,null,function*(){let r=ug(n,!0).put({[hk]:e,value:t});return new hs(r).toPromise()})}function y3(n,e){return _(this,null,function*(){let t=ug(n,!1).get(e),r=yield new hs(t).toPromise();return r===void 0?null:r.value})}function MP(n,e){let t=ug(n,!0).delete(e);return new hs(t).toPromise()}var v3=800,_3=3,E3=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return _(this,null,function*(){return this.db?this.db:(this.db=yield GI(),this.db)})}_withRetries(t){return _(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>_3)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return _(this,null,function*(){return lk()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return _(this,null,function*(){this.receiver=l3._getInstance(p3()),this.receiver._subscribe("keyChanged",(t,r)=>_(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>_(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return _(this,null,function*(){var t,r;if(this.activeServiceWorker=yield h3(),!this.activeServiceWorker)return;this.sender=new qI(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return _(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||f3()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return _(this,null,function*(){try{if(!indexedDB)return!1;let t=yield GI();return yield NP(t,ig,"1"),yield MP(t,ig),!0}catch{}return!1})}_withPendingWrite(t){return _(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(i=>NP(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return _(this,null,function*(){let r=yield this._withRetries(i=>y3(i,t));return this.localCache[t]=r,r})}_remove(t){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(r=>MP(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return _(this,null,function*(){let t=yield this._withRetries(o=>{let s=ug(o,!1).getAll();return new hs(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>_(this,null,function*(){return this._poll()}),v3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),fk=E3;var gde=tk("rcb"),mde=new ds(3e4,6e4);function I3(n,e){return e?Qr(e):(re(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var Fl=class extends xl{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return RI(e,this._buildIdpRequest())}_linkToIdToken(e,t){return RI(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return RI(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function w3(n){return sk(n.auth,new Fl(n),n.bypassAuthState)}function T3(n){let{auth:e,user:t}=n;return re(t,e,"internal-error"),i3(t,new Fl(n),n.bypassAuthState)}function b3(n){return _(this,null,function*(){let{auth:e,user:t}=n;return re(t,e,"internal-error"),r3(t,new Fl(n),n.bypassAuthState)})}var WI=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>_(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return _(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let c={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return w3;case"linkViaPopup":case"linkViaRedirect":return b3;case"reauthViaPopup":case"reauthViaRedirect":return T3;default:_r(this.auth,"internal-error")}}resolve(e){eo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){eo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var yde=new ds(2e3,1e4);var D3="pendingRedirect",Kp=new Map,KI=class n extends WI{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return _(this,null,function*(){let e=Kp.get(this.auth._key());if(!e){try{let r=(yield C3(this.resolver,this.auth))?yield gi(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Kp.set(this.auth._key(),e)}return this.bypassAuthState||Kp.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return _(this,null,function*(){if(e.type==="signInViaRedirect")return gi(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,gi(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return _(this,null,function*(){})}cleanUp(){}};function C3(n,e){return _(this,null,function*(){let t=R3(e),r=A3(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function S3(n,e){Kp.set(n._key(),e)}function A3(n){return Qr(n._redirectPersistence)}function R3(n){return Wp(D3,n.config.apiKey,n.name)}function N3(n,e,t=!1){return _(this,null,function*(){if(on(n.app))return Promise.reject(Yr(n));let r=fs(n),i=I3(r,e),s=yield new KI(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var M3=600*1e3,QI=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!P3(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!pk(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(ls(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=M3&&this.cachedEventUids.clear(),this.cachedEventUids.has(PP(e))}saveEventToCache(e){this.cachedEventUids.add(PP(e)),this.lastProcessedEventTime=Date.now()}};function PP(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function pk({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function P3(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pk(n);default:return!1}}function k3(t){return _(this,arguments,function*(n,e={}){return no(n,"GET","/v1/projects",e)})}var x3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,O3=/^https?/;function F3(n){return _(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield k3(n);for(let t of e)try{if(L3(t))return}catch{}_r(n,"unauthorized-domain")})}function L3(n){let e=MI(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!O3.test(t))return!1;if(x3.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var V3=new ds(3e4,6e4);function kP(){let n=vr().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function j3(n){return new Promise((e,t)=>{var r,i,o;function s(){kP(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{kP(),t(ls(n,"network-request-failed"))},timeout:V3.get()})}if(!((i=(r=vr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=vr().gapi)===null||o===void 0)&&o.load)s();else{let a=tk("iframefcb");return vr()[a]=()=>{gapi.load?s():t(ls(n,"network-request-failed"))},ek(`${qq()}?onload=${a}`).catch(c=>t(c))}}).catch(e=>{throw Qp=null,e})}var Qp=null;function U3(n){return Qp=Qp||j3(n),Qp}var B3=new ds(5e3,15e3),$3="__/auth/iframe",H3="emulator/auth/iframe",z3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},q3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function G3(n){let e=n.config;re(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?XI(e,H3):`https://${n.config.authDomain}/${$3}`,r={apiKey:e.apiKey,appName:n.name,v:Ki},i=q3.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Tl(r).slice(1)}`}function W3(n){return _(this,null,function*(){let e=yield U3(n),t=vr().gapi;return re(t,n,"internal-error"),e.open({where:document.body,url:G3(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:z3,dontclear:!0},r=>new Promise((i,o)=>_(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=ls(n,"network-request-failed"),a=vr().setTimeout(()=>{o(s)},B3.get());function c(){vr().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{o(s)})})))})}var K3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Q3=500,Y3=600,J3="_blank",Z3="http://localhost",ag=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function X3(n,e,t,r=Q3,i=Y3){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},K3),{width:r.toString(),height:i.toString(),top:o,left:s}),l=wt().toLowerCase();t&&(a=WP(l)?J3:t),qP(l)&&(e=e||Z3,c.scrollbars="yes");let d=Object.entries(c).reduce((g,[m,E])=>`${g}${m}=${E},`,"");if(jq(l)&&a!=="_self")return eG(e||"",a),new ag(null);let f=window.open(e||"",a,d);re(f,n,"popup-blocked");try{f.focus()}catch{}return new ag(f)}function eG(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var tG="__/auth/handler",nG="emulator/auth/handler",rG=encodeURIComponent("fac");function xP(n,e,t,r,i,o){return _(this,null,function*(){re(n.config.authDomain,n,"auth-domain-config-required"),re(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Ki,eventId:i};if(e instanceof rg){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",GM(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[d,f]of Object.entries(o||{}))s[d]=f}if(e instanceof HI){let d=e.getScopes().filter(f=>f!=="");d.length>0&&(s.scopes=d.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let d of Object.keys(a))a[d]===void 0&&delete a[d];let c=yield n._getAppCheckToken(),l=c?`#${rG}=${encodeURIComponent(c)}`:"";return`${iG(n)}?${Tl(a).slice(1)}${l}`})}function iG({config:n}){return n.emulator?XI(n,nG):`https://${n.authDomain}/${tG}`}var NI="webStorageSupport",YI=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hw,this._completeRedirectFn=N3,this._overrideRedirectResult=S3}_openPopup(e,t,r,i){return _(this,null,function*(){var o;eo((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield xP(e,t,r,MI(),i);return X3(e,s,uk())})}_openRedirect(e,t,r,i){return _(this,null,function*(){yield this._originValidation(e);let o=yield xP(e,t,r,MI(),i);return d3(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(eo(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return _(this,null,function*(){let t=yield W3(e),r=new QI(e);return t.register("authEvent",i=>(re(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(NI,{type:NI},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[NI];s!==void 0&&t(!!s),_r(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=F3(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return ZP()||GP()||rw()}},gk=YI;var OP="@firebase/auth",FP="1.10.8";var JI=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return _(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function oG(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function sG(n){Gn(new Qt("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;re(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:XP(n)},l=new VI(r,i,o,c);return Wq(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Gn(new Qt("auth-internal",e=>{let t=fs(e.getProvider("auth").getImmediate());return(r=>new JI(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qe(OP,FP,oG(n)),Qe(OP,FP,"esm2017")}var aG=300,cG=oI("authIdTokenMaxAge")||aG,LP=null,uG=n=>e=>_(null,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>cG)return;let i=t?.token;LP!==i&&(LP=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function fw(n=as()){let e=Ga(n,"auth");if(e.isInitialized())return e.getImmediate();let t=iw(n,{popupRedirectResolver:gk,persistence:[fk,ck,hw]}),r=oI("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=uG(o.toString());lw(t,s,()=>s(t.currentUser)),uw(t,a=>s(a))}}let i=rI("auth");return i&&ow(t,`http://${i}`),t}function lG(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}Hq({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=ls("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",lG().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});sG("Browser");var mk="auth",ps=class{constructor(e){return e}},Vl=class{constructor(){return Ka(mk)}};var pw=new B("angularfire2.auth-instances");function XG(n,e){let t=Cl(mk,n,e);return t&&new ps(t)}function e6(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new ps(r)}}var t6={provide:Vl,deps:[[new fn,pw]]},n6={provide:ps,useFactory:XG,deps:[[new fn,pw],Wr]};function yk(n,...e){return Qe("angularfire",Qi.full,"auth"),wn([n6,t6,{provide:pw,useFactory:e6(n),multi:!0,deps:[Ce,ft,Yi,us,[new fn,Qa],...e]}])}var vk=yt(aw,!0,2);var _k=yt(fw,!0);var Ek=yt(cw,!0,2);var Ik=yt(dw,!0,2);var Er=class n{constructor(e,t){this.auth=e;this.router=t;this.auth.onAuthStateChanged(r=>{this.loggedIn.set(!!r),this.userEmail.set(r?.email||null)})}loggedIn=pt(!1);userEmail=pt(null);login(e,t){return _(this,null,function*(){yield Ek(this.auth,e,t),this.router.navigate(["/dashboard"])})}register(e,t,r){return _(this,null,function*(){yield vk(this.auth,t,r),this.router.navigate(["/dashboard"])})}logout(){return _(this,null,function*(){yield Ik(this.auth),this.router.navigate(["/login"])})}static \u0275fac=function(t){return new(t||n)(Q(ps),Q(mn))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})};function i6(n,e){if(n&1&&(j(0,"div",17),z(1),V()),n&2){let t=ur();be(),Rt(t.error)}}var lg=class n{constructor(e,t,r){this.fb=e;this.auth=t;this.router=r;this.form=this.fb.group({email:["",[Ve.required,Ve.email]],password:["",[Ve.required,Ve.minLength(6)]]})}form;loading=!1;error=null;submit(){return _(this,null,function*(){if(this.form.invalid)return;let{email:e,password:t}=this.form.value;this.loading=!0,this.error=null;try{yield this.auth.login(e,t)}catch(r){this.error=r?.message??"\xC9chec de connexion"}finally{this.loading=!1}})}static \u0275fac=function(t){return new(t||n)(J($a),J(Er),J(mn))};static \u0275cmp=Un({type:n,selectors:[["app-login"]],decls:37,vars:3,consts:[[1,"max-w-5xl","mx-auto","py-10","px-4"],[1,"grid","md:grid-cols-2","gap-8"],[1,"card"],[1,"text-3xl","font-bold","mb-6"],[1,"space-y-4",3,"ngSubmit","formGroup"],[1,"text-sm","text-gray-600"],["type","email","formControlName","email","placeholder","ex: anna@exemple.com",1,"input"],["type","password","formControlName","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",1,"input"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","text-sm text-gray-500",4,"ngIf"],[1,"mt-4","text-sm","text-gray-600"],["href","javascript:void(0)",1,"link"],[1,"mt-6","text-sm"],["routerLink","/register",1,"link","font-medium"],[1,"text-2xl","font-semibold"],[1,"mt-2","text-gray-600"],[1,"list-disc","ml-6","mt-4","text-gray-700","space-y-1"],[1,"text-sm","text-gray-500"]],template:function(t,r){t&1&&(j(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),z(4,"Se connecter"),V(),j(5,"form",4),tt("ngSubmit",function(){return r.submit()}),j(6,"div")(7,"label",5),z(8,"E-mail"),V(),_t(9,"input",6),V(),j(10,"div")(11,"label",5),z(12,"Mot de passe"),V(),_t(13,"input",7),V(),j(14,"button",8),z(15,"Se connecter"),V(),$n(16,i6,2,1,"div",9),V(),j(17,"div",10),z(18," Mot de passe "),j(19,"a",11),z(20,"oubli\xE9?"),V()(),j(21,"div",12),z(22," Vous n\u2019avez pas de compte? "),j(23,"a",13),z(24,"Cr\xE9er un compte"),V()()(),j(25,"div",2)(26,"h2",14),z(27,"Bienvenue \u{1F44B}"),V(),j(28,"p",15),z(29,"Connectez\u2011vous pour g\xE9rer vos locataires et r\xE9partir les factures."),V(),j(30,"ul",16)(31,"li"),z(32,"Gestion des pourcentages par appartement"),V(),j(33,"li"),z(34,"Calcul automatique des parts"),V(),j(35,"li"),z(36,"Historique par p\xE9riode"),V()()()()()),t&2&&(be(5),ot("formGroup",r.form),be(9),ot("disabled",r.form.invalid||r.loading),be(2),ot("ngIf",r.error))},dependencies:[ji,Wo,Ha,Ba,qi,ja,Ua,rs,is,Hi],encapsulation:2})};function o6(n,e){if(n&1&&(j(0,"div",16),z(1),V()),n&2){let t=ur();be(),Rt(t.error)}}var dg=class n{constructor(e,t,r){this.fb=e;this.auth=t;this.router=r;this.form=this.fb.group({fullname:["",[Ve.required,Ve.minLength(2)]],email:["",[Ve.required,Ve.email]],password:["",[Ve.required,Ve.minLength(6)]],confirm:["",[Ve.required]]},{validators:this.passwordMatch})}form;loading=!1;error=null;passwordMatch(e){let t=e.get("password")?.value,r=e.get("confirm")?.value;return t===r?null:{mismatch:!0}}submit(){return _(this,null,function*(){if(this.form.invalid)return;let{fullname:e,email:t,password:r}=this.form.value;this.loading=!0,this.error=null;try{yield this.auth.register(e,t,r)}catch(i){this.error=i?.message??"\xC9chec de cr\xE9ation du compte"}finally{this.loading=!1}})}static \u0275fac=function(t){return new(t||n)(J($a),J(Er),J(mn))};static \u0275cmp=Un({type:n,selectors:[["app-register"]],decls:34,vars:3,consts:[[1,"max-w-5xl","mx-auto","py-10","px-4"],[1,"grid","md:grid-cols-2","gap-8"],[1,"card"],[1,"text-3xl","font-bold","mb-6"],[1,"space-y-4",3,"ngSubmit","formGroup"],[1,"text-sm","text-gray-600"],["type","text","formControlName","fullname","placeholder","Ex: Anna Dubois",1,"input"],["type","email","formControlName","email","placeholder","anna@exemple.com",1,"input"],["type","password","formControlName","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",1,"input"],["type","password","formControlName","confirm","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",1,"input"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","text-sm text-gray-500",4,"ngIf"],[1,"mt-6","text-sm"],["routerLink","/login",1,"link","font-medium"],[1,"text-2xl","font-semibold"],[1,"mt-2","text-gray-600"],[1,"text-sm","text-gray-500"]],template:function(t,r){t&1&&(j(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),z(4,"Cr\xE9er un compte"),V(),j(5,"form",4),tt("ngSubmit",function(){return r.submit()}),j(6,"div")(7,"label",5),z(8,"Nom complet"),V(),_t(9,"input",6),V(),j(10,"div")(11,"label",5),z(12,"E-mail"),V(),_t(13,"input",7),V(),j(14,"div")(15,"label",5),z(16,"Mot de passe"),V(),_t(17,"input",8),V(),j(18,"div")(19,"label",5),z(20,"Confirmer le mot de passe"),V(),_t(21,"input",9),V(),j(22,"button",10),z(23,"Cr\xE9er un compte"),V(),$n(24,o6,2,1,"div",11),V(),j(25,"div",12),z(26," Vous avez d\xE9j\xE0 un compte? "),j(27,"a",13),z(28,"Se connecter"),V()()(),j(29,"div",2)(30,"h2",14),z(31,"Quelques secondes\u2026"),V(),j(32,"p",15),z(33,"Cr\xE9ez votre compte pour commencer \xE0 suivre vos charges partag\xE9es."),V()()()()),t&2&&(be(5),ot("formGroup",r.form),be(17),ot("disabled",r.form.invalid||r.loading),be(2),ot("ngIf",r.error))},dependencies:[ji,Wo,Ha,Ba,qi,ja,Ua,rs,is,Hi],encapsulation:2})};var wk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Tk={};var Jr,mw;(function(){var n;function e(T,v){function I(){}I.prototype=v.prototype,T.D=v.prototype,T.prototype=new I,T.prototype.constructor=T,T.C=function(b,C,R){for(var w=Array(arguments.length-2),En=2;En<arguments.length;En++)w[En-2]=arguments[En];return v.prototype[C].apply(b,w)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,v,I){I||(I=0);var b=Array(16);if(typeof v=="string")for(var C=0;16>C;++C)b[C]=v.charCodeAt(I++)|v.charCodeAt(I++)<<8|v.charCodeAt(I++)<<16|v.charCodeAt(I++)<<24;else for(C=0;16>C;++C)b[C]=v[I++]|v[I++]<<8|v[I++]<<16|v[I++]<<24;v=T.g[0],I=T.g[1],C=T.g[2];var R=T.g[3],w=v+(R^I&(C^R))+b[0]+3614090360&4294967295;v=I+(w<<7&4294967295|w>>>25),w=R+(C^v&(I^C))+b[1]+3905402710&4294967295,R=v+(w<<12&4294967295|w>>>20),w=C+(I^R&(v^I))+b[2]+606105819&4294967295,C=R+(w<<17&4294967295|w>>>15),w=I+(v^C&(R^v))+b[3]+3250441966&4294967295,I=C+(w<<22&4294967295|w>>>10),w=v+(R^I&(C^R))+b[4]+4118548399&4294967295,v=I+(w<<7&4294967295|w>>>25),w=R+(C^v&(I^C))+b[5]+1200080426&4294967295,R=v+(w<<12&4294967295|w>>>20),w=C+(I^R&(v^I))+b[6]+2821735955&4294967295,C=R+(w<<17&4294967295|w>>>15),w=I+(v^C&(R^v))+b[7]+4249261313&4294967295,I=C+(w<<22&4294967295|w>>>10),w=v+(R^I&(C^R))+b[8]+1770035416&4294967295,v=I+(w<<7&4294967295|w>>>25),w=R+(C^v&(I^C))+b[9]+2336552879&4294967295,R=v+(w<<12&4294967295|w>>>20),w=C+(I^R&(v^I))+b[10]+4294925233&4294967295,C=R+(w<<17&4294967295|w>>>15),w=I+(v^C&(R^v))+b[11]+2304563134&4294967295,I=C+(w<<22&4294967295|w>>>10),w=v+(R^I&(C^R))+b[12]+1804603682&4294967295,v=I+(w<<7&4294967295|w>>>25),w=R+(C^v&(I^C))+b[13]+4254626195&4294967295,R=v+(w<<12&4294967295|w>>>20),w=C+(I^R&(v^I))+b[14]+2792965006&4294967295,C=R+(w<<17&4294967295|w>>>15),w=I+(v^C&(R^v))+b[15]+1236535329&4294967295,I=C+(w<<22&4294967295|w>>>10),w=v+(C^R&(I^C))+b[1]+4129170786&4294967295,v=I+(w<<5&4294967295|w>>>27),w=R+(I^C&(v^I))+b[6]+3225465664&4294967295,R=v+(w<<9&4294967295|w>>>23),w=C+(v^I&(R^v))+b[11]+643717713&4294967295,C=R+(w<<14&4294967295|w>>>18),w=I+(R^v&(C^R))+b[0]+3921069994&4294967295,I=C+(w<<20&4294967295|w>>>12),w=v+(C^R&(I^C))+b[5]+3593408605&4294967295,v=I+(w<<5&4294967295|w>>>27),w=R+(I^C&(v^I))+b[10]+38016083&4294967295,R=v+(w<<9&4294967295|w>>>23),w=C+(v^I&(R^v))+b[15]+3634488961&4294967295,C=R+(w<<14&4294967295|w>>>18),w=I+(R^v&(C^R))+b[4]+3889429448&4294967295,I=C+(w<<20&4294967295|w>>>12),w=v+(C^R&(I^C))+b[9]+568446438&4294967295,v=I+(w<<5&4294967295|w>>>27),w=R+(I^C&(v^I))+b[14]+3275163606&4294967295,R=v+(w<<9&4294967295|w>>>23),w=C+(v^I&(R^v))+b[3]+4107603335&4294967295,C=R+(w<<14&4294967295|w>>>18),w=I+(R^v&(C^R))+b[8]+1163531501&4294967295,I=C+(w<<20&4294967295|w>>>12),w=v+(C^R&(I^C))+b[13]+2850285829&4294967295,v=I+(w<<5&4294967295|w>>>27),w=R+(I^C&(v^I))+b[2]+4243563512&4294967295,R=v+(w<<9&4294967295|w>>>23),w=C+(v^I&(R^v))+b[7]+1735328473&4294967295,C=R+(w<<14&4294967295|w>>>18),w=I+(R^v&(C^R))+b[12]+2368359562&4294967295,I=C+(w<<20&4294967295|w>>>12),w=v+(I^C^R)+b[5]+4294588738&4294967295,v=I+(w<<4&4294967295|w>>>28),w=R+(v^I^C)+b[8]+2272392833&4294967295,R=v+(w<<11&4294967295|w>>>21),w=C+(R^v^I)+b[11]+1839030562&4294967295,C=R+(w<<16&4294967295|w>>>16),w=I+(C^R^v)+b[14]+4259657740&4294967295,I=C+(w<<23&4294967295|w>>>9),w=v+(I^C^R)+b[1]+2763975236&4294967295,v=I+(w<<4&4294967295|w>>>28),w=R+(v^I^C)+b[4]+1272893353&4294967295,R=v+(w<<11&4294967295|w>>>21),w=C+(R^v^I)+b[7]+4139469664&4294967295,C=R+(w<<16&4294967295|w>>>16),w=I+(C^R^v)+b[10]+3200236656&4294967295,I=C+(w<<23&4294967295|w>>>9),w=v+(I^C^R)+b[13]+681279174&4294967295,v=I+(w<<4&4294967295|w>>>28),w=R+(v^I^C)+b[0]+3936430074&4294967295,R=v+(w<<11&4294967295|w>>>21),w=C+(R^v^I)+b[3]+3572445317&4294967295,C=R+(w<<16&4294967295|w>>>16),w=I+(C^R^v)+b[6]+76029189&4294967295,I=C+(w<<23&4294967295|w>>>9),w=v+(I^C^R)+b[9]+3654602809&4294967295,v=I+(w<<4&4294967295|w>>>28),w=R+(v^I^C)+b[12]+3873151461&4294967295,R=v+(w<<11&4294967295|w>>>21),w=C+(R^v^I)+b[15]+530742520&4294967295,C=R+(w<<16&4294967295|w>>>16),w=I+(C^R^v)+b[2]+3299628645&4294967295,I=C+(w<<23&4294967295|w>>>9),w=v+(C^(I|~R))+b[0]+4096336452&4294967295,v=I+(w<<6&4294967295|w>>>26),w=R+(I^(v|~C))+b[7]+1126891415&4294967295,R=v+(w<<10&4294967295|w>>>22),w=C+(v^(R|~I))+b[14]+2878612391&4294967295,C=R+(w<<15&4294967295|w>>>17),w=I+(R^(C|~v))+b[5]+4237533241&4294967295,I=C+(w<<21&4294967295|w>>>11),w=v+(C^(I|~R))+b[12]+1700485571&4294967295,v=I+(w<<6&4294967295|w>>>26),w=R+(I^(v|~C))+b[3]+2399980690&4294967295,R=v+(w<<10&4294967295|w>>>22),w=C+(v^(R|~I))+b[10]+4293915773&4294967295,C=R+(w<<15&4294967295|w>>>17),w=I+(R^(C|~v))+b[1]+2240044497&4294967295,I=C+(w<<21&4294967295|w>>>11),w=v+(C^(I|~R))+b[8]+1873313359&4294967295,v=I+(w<<6&4294967295|w>>>26),w=R+(I^(v|~C))+b[15]+4264355552&4294967295,R=v+(w<<10&4294967295|w>>>22),w=C+(v^(R|~I))+b[6]+2734768916&4294967295,C=R+(w<<15&4294967295|w>>>17),w=I+(R^(C|~v))+b[13]+1309151649&4294967295,I=C+(w<<21&4294967295|w>>>11),w=v+(C^(I|~R))+b[4]+4149444226&4294967295,v=I+(w<<6&4294967295|w>>>26),w=R+(I^(v|~C))+b[11]+3174756917&4294967295,R=v+(w<<10&4294967295|w>>>22),w=C+(v^(R|~I))+b[2]+718787259&4294967295,C=R+(w<<15&4294967295|w>>>17),w=I+(R^(C|~v))+b[9]+3951481745&4294967295,T.g[0]=T.g[0]+v&4294967295,T.g[1]=T.g[1]+(C+(w<<21&4294967295|w>>>11))&4294967295,T.g[2]=T.g[2]+C&4294967295,T.g[3]=T.g[3]+R&4294967295}r.prototype.u=function(T,v){v===void 0&&(v=T.length);for(var I=v-this.blockSize,b=this.B,C=this.h,R=0;R<v;){if(C==0)for(;R<=I;)i(this,T,R),R+=this.blockSize;if(typeof T=="string"){for(;R<v;)if(b[C++]=T.charCodeAt(R++),C==this.blockSize){i(this,b),C=0;break}}else for(;R<v;)if(b[C++]=T[R++],C==this.blockSize){i(this,b),C=0;break}}this.h=C,this.o+=v},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var v=1;v<T.length-8;++v)T[v]=0;var I=8*this.o;for(v=T.length-8;v<T.length;++v)T[v]=I&255,I/=256;for(this.u(T),T=Array(16),v=I=0;4>v;++v)for(var b=0;32>b;b+=8)T[I++]=this.g[v]>>>b&255;return T};function o(T,v){var I=a;return Object.prototype.hasOwnProperty.call(I,T)?I[T]:I[T]=v(T)}function s(T,v){this.h=v;for(var I=[],b=!0,C=T.length-1;0<=C;C--){var R=T[C]|0;b&&R==v||(I[C]=R,b=!1)}this.g=I}var a={};function c(T){return-128<=T&&128>T?o(T,function(v){return new s([v|0],0>v?-1:0)}):new s([T|0],0>T?-1:0)}function l(T){if(isNaN(T)||!isFinite(T))return f;if(0>T)return D(l(-T));for(var v=[],I=1,b=0;T>=I;b++)v[b]=T/I|0,I*=4294967296;return new s(v,0)}function d(T,v){if(T.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(T.charAt(0)=="-")return D(d(T.substring(1),v));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=l(Math.pow(v,8)),b=f,C=0;C<T.length;C+=8){var R=Math.min(8,T.length-C),w=parseInt(T.substring(C,C+R),v);8>R?(R=l(Math.pow(v,R)),b=b.j(R).add(l(w))):(b=b.j(I),b=b.add(l(w)))}return b}var f=c(0),g=c(1),m=c(16777216);n=s.prototype,n.m=function(){if(A(this))return-D(this).m();for(var T=0,v=1,I=0;I<this.g.length;I++){var b=this.i(I);T+=(0<=b?b:4294967296+b)*v,v*=4294967296}return T},n.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(E(this))return"0";if(A(this))return"-"+D(this).toString(T);for(var v=l(Math.pow(T,6)),I=this,b="";;){var C=W(I,v).g;I=M(I,C.j(v));var R=((0<I.g.length?I.g[0]:I.h)>>>0).toString(T);if(I=C,E(I))return R+b;for(;6>R.length;)R="0"+R;b=R+b}},n.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function E(T){if(T.h!=0)return!1;for(var v=0;v<T.g.length;v++)if(T.g[v]!=0)return!1;return!0}function A(T){return T.h==-1}n.l=function(T){return T=M(this,T),A(T)?-1:E(T)?0:1};function D(T){for(var v=T.g.length,I=[],b=0;b<v;b++)I[b]=~T.g[b];return new s(I,~T.h).add(g)}n.abs=function(){return A(this)?D(this):this},n.add=function(T){for(var v=Math.max(this.g.length,T.g.length),I=[],b=0,C=0;C<=v;C++){var R=b+(this.i(C)&65535)+(T.i(C)&65535),w=(R>>>16)+(this.i(C)>>>16)+(T.i(C)>>>16);b=w>>>16,R&=65535,w&=65535,I[C]=w<<16|R}return new s(I,I[I.length-1]&-2147483648?-1:0)};function M(T,v){return T.add(D(v))}n.j=function(T){if(E(this)||E(T))return f;if(A(this))return A(T)?D(this).j(D(T)):D(D(this).j(T));if(A(T))return D(this.j(D(T)));if(0>this.l(m)&&0>T.l(m))return l(this.m()*T.m());for(var v=this.g.length+T.g.length,I=[],b=0;b<2*v;b++)I[b]=0;for(b=0;b<this.g.length;b++)for(var C=0;C<T.g.length;C++){var R=this.i(b)>>>16,w=this.i(b)&65535,En=T.i(C)>>>16,ui=T.i(C)&65535;I[2*b+2*C]+=w*ui,L(I,2*b+2*C),I[2*b+2*C+1]+=R*ui,L(I,2*b+2*C+1),I[2*b+2*C+1]+=w*En,L(I,2*b+2*C+1),I[2*b+2*C+2]+=R*En,L(I,2*b+2*C+2)}for(b=0;b<v;b++)I[b]=I[2*b+1]<<16|I[2*b];for(b=v;b<2*v;b++)I[b]=0;return new s(I,0)};function L(T,v){for(;(T[v]&65535)!=T[v];)T[v+1]+=T[v]>>>16,T[v]&=65535,v++}function H(T,v){this.g=T,this.h=v}function W(T,v){if(E(v))throw Error("division by zero");if(E(T))return new H(f,f);if(A(T))return v=W(D(T),v),new H(D(v.g),D(v.h));if(A(v))return v=W(T,D(v)),new H(D(v.g),v.h);if(30<T.g.length){if(A(T)||A(v))throw Error("slowDivide_ only works with positive integers.");for(var I=g,b=v;0>=b.l(T);)I=Te(I),b=Te(b);var C=te(I,1),R=te(b,1);for(b=te(b,2),I=te(I,2);!E(b);){var w=R.add(b);0>=w.l(T)&&(C=C.add(I),R=w),b=te(b,1),I=te(I,1)}return v=M(T,C.j(v)),new H(C,v)}for(C=f;0<=T.l(v);){for(I=Math.max(1,Math.floor(T.m()/v.m())),b=Math.ceil(Math.log(I)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),R=l(I),w=R.j(v);A(w)||0<w.l(T);)I-=b,R=l(I),w=R.j(v);E(R)&&(R=g),C=C.add(R),T=M(T,w)}return new H(C,T)}n.A=function(T){return W(this,T).h},n.and=function(T){for(var v=Math.max(this.g.length,T.g.length),I=[],b=0;b<v;b++)I[b]=this.i(b)&T.i(b);return new s(I,this.h&T.h)},n.or=function(T){for(var v=Math.max(this.g.length,T.g.length),I=[],b=0;b<v;b++)I[b]=this.i(b)|T.i(b);return new s(I,this.h|T.h)},n.xor=function(T){for(var v=Math.max(this.g.length,T.g.length),I=[],b=0;b<v;b++)I[b]=this.i(b)^T.i(b);return new s(I,this.h^T.h)};function Te(T){for(var v=T.g.length+1,I=[],b=0;b<v;b++)I[b]=T.i(b)<<1|T.i(b-1)>>>31;return new s(I,T.h)}function te(T,v){var I=v>>5;v%=32;for(var b=T.g.length-I,C=[],R=0;R<b;R++)C[R]=0<v?T.i(R+I)>>>v|T.i(R+I+1)<<32-v:T.i(R+I);return new s(C,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,mw=Tk.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=d,Jr=Tk.Integer=s}).apply(typeof wk<"u"?wk:typeof self<"u"?self:typeof window<"u"?window:{});var hg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Zr={};var yw,s6,Ja,vw,jl,fg,_w,Ew,Iw;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,h,p){return u==Array.prototype||u==Object.prototype||(u[h]=p.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof hg=="object"&&hg];for(var h=0;h<u.length;++h){var p=u[h];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=t(this);function i(u,h){if(h)e:{var p=r;u=u.split(".");for(var y=0;y<u.length-1;y++){var S=u[y];if(!(S in p))break e;p=p[S]}u=u[u.length-1],y=p[u],h=h(y),h!=y&&h!=null&&e(p,u,{configurable:!0,writable:!0,value:h})}}function o(u,h){u instanceof String&&(u+="");var p=0,y=!1,S={next:function(){if(!y&&p<u.length){var N=p++;return{value:h(N,u[N]),done:!1}}return y=!0,{done:!0,value:void 0}}};return S[Symbol.iterator]=function(){return S},S}i("Array.prototype.values",function(u){return u||function(){return o(this,function(h,p){return p})}});var s=s||{},a=this||self;function c(u){var h=typeof u;return h=h!="object"?h:u?Array.isArray(u)?"array":h:"null",h=="array"||h=="object"&&typeof u.length=="number"}function l(u){var h=typeof u;return h=="object"&&u!=null||h=="function"}function d(u,h,p){return u.call.apply(u.bind,arguments)}function f(u,h,p){if(!u)throw Error();if(2<arguments.length){var y=Array.prototype.slice.call(arguments,2);return function(){var S=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(S,y),u.apply(h,S)}}return function(){return u.apply(h,arguments)}}function g(u,h,p){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,g.apply(null,arguments)}function m(u,h){var p=Array.prototype.slice.call(arguments,1);return function(){var y=p.slice();return y.push.apply(y,arguments),u.apply(this,y)}}function E(u,h){function p(){}p.prototype=h.prototype,u.aa=h.prototype,u.prototype=new p,u.prototype.constructor=u,u.Qb=function(y,S,N){for(var U=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)U[Pe-2]=arguments[Pe];return h.prototype[S].apply(y,U)}}function A(u){let h=u.length;if(0<h){let p=Array(h);for(let y=0;y<h;y++)p[y]=u[y];return p}return[]}function D(u,h){for(let p=1;p<arguments.length;p++){let y=arguments[p];if(c(y)){let S=u.length||0,N=y.length||0;u.length=S+N;for(let U=0;U<N;U++)u[S+U]=y[U]}else u.push(y)}}class M{constructor(h,p){this.i=h,this.j=p,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function L(u){return/^[\s\xa0]*$/.test(u)}function H(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function W(u){return W[" "](u),u}W[" "]=function(){};var Te=H().indexOf("Gecko")!=-1&&!(H().toLowerCase().indexOf("webkit")!=-1&&H().indexOf("Edge")==-1)&&!(H().indexOf("Trident")!=-1||H().indexOf("MSIE")!=-1)&&H().indexOf("Edge")==-1;function te(u,h,p){for(let y in u)h.call(p,u[y],y,u)}function T(u,h){for(let p in u)h.call(void 0,u[p],p,u)}function v(u){let h={};for(let p in u)h[p]=u[p];return h}let I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(u,h){let p,y;for(let S=1;S<arguments.length;S++){y=arguments[S];for(p in y)u[p]=y[p];for(let N=0;N<I.length;N++)p=I[N],Object.prototype.hasOwnProperty.call(y,p)&&(u[p]=y[p])}}function C(u){var h=1;u=u.split(":");let p=[];for(;0<h&&u.length;)p.push(u.shift()),h--;return u.length&&p.push(u.join(":")),p}function R(u){a.setTimeout(()=>{throw u},0)}function w(){var u=me;let h=null;return u.g&&(h=u.g,u.g=u.g.next,u.g||(u.h=null),h.next=null),h}class En{constructor(){this.h=this.g=null}add(h,p){let y=ui.get();y.set(h,p),this.h?this.h.next=y:this.g=y,this.h=y}}var ui=new M(()=>new K,u=>u.reset());class K{constructor(){this.next=this.g=this.h=null}set(h,p){this.h=h,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let Y,Z=!1,me=new En,Je=()=>{let u=a.Promise.resolve(void 0);Y=()=>{u.then(In)}};var In=()=>{for(var u;u=w();){try{u.h.call(u.g)}catch(p){R(p)}var h=ui;h.j(u),100>h.h&&(h.h++,u.next=h.g,h.g=u)}Z=!1};function He(){this.s=this.s,this.C=this.C}He.prototype.s=!1,He.prototype.ma=function(){this.s||(this.s=!0,this.N())},He.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Oe(u,h){this.type=u,this.g=this.target=h,this.defaultPrevented=!1}Oe.prototype.h=function(){this.defaultPrevented=!0};var Fe=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,h=Object.defineProperty({},"passive",{get:function(){u=!0}});try{let p=()=>{};a.addEventListener("test",p,h),a.removeEventListener("test",p,h)}catch{}return u})();function li(u,h){if(Oe.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var p=this.type=u.type,y=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=h,h=u.relatedTarget){if(Te){e:{try{W(h.nodeName);var S=!0;break e}catch{}S=!1}S||(h=null)}}else p=="mouseover"?h=u.fromElement:p=="mouseout"&&(h=u.toElement);this.relatedTarget=h,y?(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:xm[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&li.aa.h.call(this)}}E(li,Oe);var xm={2:"touch",3:"pen",4:"mouse"};li.prototype.h=function(){li.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ze="closure_listenable_"+(1e6*Math.random()|0),Sr=0;function Yt(u,h,p,y,S){this.listener=u,this.proxy=null,this.src=h,this.type=p,this.capture=!!y,this.ha=S,this.key=++Sr,this.da=this.fa=!1}function Ar(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function di(u){this.src=u,this.g={},this.h=0}di.prototype.add=function(u,h,p,y,S){var N=u.toString();u=this.g[N],u||(u=this.g[N]=[],this.h++);var U=Fm(u,h,y,S);return-1<U?(h=u[U],p||(h.fa=!1)):(h=new Yt(h,this.src,N,!!y,S),h.fa=p,u.push(h)),h};function Om(u,h){var p=h.type;if(p in u.g){var y=u.g[p],S=Array.prototype.indexOf.call(y,h,void 0),N;(N=0<=S)&&Array.prototype.splice.call(y,S,1),N&&(Ar(h),u.g[p].length==0&&(delete u.g[p],u.h--))}}function Fm(u,h,p,y){for(var S=0;S<u.length;++S){var N=u[S];if(!N.da&&N.listener==h&&N.capture==!!p&&N.ha==y)return S}return-1}var Lm="closure_lm_"+(1e6*Math.random()|0),Vm={};function _D(u,h,p,y,S){if(y&&y.once)return ID(u,h,p,y,S);if(Array.isArray(h)){for(var N=0;N<h.length;N++)_D(u,h[N],p,y,S);return null}return p=$m(p),u&&u[ze]?u.K(h,p,l(y)?!!y.capture:!!y,S):ED(u,h,p,!1,y,S)}function ED(u,h,p,y,S,N){if(!h)throw Error("Invalid event type");var U=l(S)?!!S.capture:!!S,Pe=Um(u);if(Pe||(u[Lm]=Pe=new di(u)),p=Pe.add(h,p,y,U,N),p.proxy)return p;if(y=dF(),p.proxy=y,y.src=u,y.listener=p,u.addEventListener)Fe||(S=U),S===void 0&&(S=!1),u.addEventListener(h.toString(),y,S);else if(u.attachEvent)u.attachEvent(TD(h.toString()),y);else if(u.addListener&&u.removeListener)u.addListener(y);else throw Error("addEventListener and attachEvent are unavailable.");return p}function dF(){function u(p){return h.call(u.src,u.listener,p)}let h=hF;return u}function ID(u,h,p,y,S){if(Array.isArray(h)){for(var N=0;N<h.length;N++)ID(u,h[N],p,y,S);return null}return p=$m(p),u&&u[ze]?u.L(h,p,l(y)?!!y.capture:!!y,S):ED(u,h,p,!0,y,S)}function wD(u,h,p,y,S){if(Array.isArray(h))for(var N=0;N<h.length;N++)wD(u,h[N],p,y,S);else y=l(y)?!!y.capture:!!y,p=$m(p),u&&u[ze]?(u=u.i,h=String(h).toString(),h in u.g&&(N=u.g[h],p=Fm(N,p,y,S),-1<p&&(Ar(N[p]),Array.prototype.splice.call(N,p,1),N.length==0&&(delete u.g[h],u.h--)))):u&&(u=Um(u))&&(h=u.g[h.toString()],u=-1,h&&(u=Fm(h,p,y,S)),(p=-1<u?h[u]:null)&&jm(p))}function jm(u){if(typeof u!="number"&&u&&!u.da){var h=u.src;if(h&&h[ze])Om(h.i,u);else{var p=u.type,y=u.proxy;h.removeEventListener?h.removeEventListener(p,y,u.capture):h.detachEvent?h.detachEvent(TD(p),y):h.addListener&&h.removeListener&&h.removeListener(y),(p=Um(h))?(Om(p,u),p.h==0&&(p.src=null,h[Lm]=null)):Ar(u)}}}function TD(u){return u in Vm?Vm[u]:Vm[u]="on"+u}function hF(u,h){if(u.da)u=!0;else{h=new li(h,this);var p=u.listener,y=u.ha||u.src;u.fa&&jm(u),u=p.call(y,h)}return u}function Um(u){return u=u[Lm],u instanceof di?u:null}var Bm="__closure_events_fn_"+(1e9*Math.random()>>>0);function $m(u){return typeof u=="function"?u:(u[Bm]||(u[Bm]=function(h){return u.handleEvent(h)}),u[Bm])}function Mt(){He.call(this),this.i=new di(this),this.M=this,this.F=null}E(Mt,He),Mt.prototype[ze]=!0,Mt.prototype.removeEventListener=function(u,h,p,y){wD(this,u,h,p,y)};function $t(u,h){var p,y=u.F;if(y)for(p=[];y;y=y.F)p.push(y);if(u=u.M,y=h.type||h,typeof h=="string")h=new Oe(h,u);else if(h instanceof Oe)h.target=h.target||u;else{var S=h;h=new Oe(y,u),b(h,S)}if(S=!0,p)for(var N=p.length-1;0<=N;N--){var U=h.g=p[N];S=md(U,y,!0,h)&&S}if(U=h.g=u,S=md(U,y,!0,h)&&S,S=md(U,y,!1,h)&&S,p)for(N=0;N<p.length;N++)U=h.g=p[N],S=md(U,y,!1,h)&&S}Mt.prototype.N=function(){if(Mt.aa.N.call(this),this.i){var u=this.i,h;for(h in u.g){for(var p=u.g[h],y=0;y<p.length;y++)Ar(p[y]);delete u.g[h],u.h--}}this.F=null},Mt.prototype.K=function(u,h,p,y){return this.i.add(String(u),h,!1,p,y)},Mt.prototype.L=function(u,h,p,y){return this.i.add(String(u),h,!0,p,y)};function md(u,h,p,y){if(h=u.i.g[String(h)],!h)return!0;h=h.concat();for(var S=!0,N=0;N<h.length;++N){var U=h[N];if(U&&!U.da&&U.capture==p){var Pe=U.listener,Dt=U.ha||U.src;U.fa&&Om(u.i,U),S=Pe.call(Dt,y)!==!1&&S}}return S&&!y.defaultPrevented}function bD(u,h,p){if(typeof u=="function")p&&(u=g(u,p));else if(u&&typeof u.handleEvent=="function")u=g(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:a.setTimeout(u,h||0)}function DD(u){u.g=bD(()=>{u.g=null,u.i&&(u.i=!1,DD(u))},u.l);let h=u.h;u.h=null,u.m.apply(null,h)}class fF extends He{constructor(h,p){super(),this.m=h,this.l=p,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:DD(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Sc(u){He.call(this),this.h=u,this.g={}}E(Sc,He);var CD=[];function SD(u){te(u.g,function(h,p){this.g.hasOwnProperty(p)&&jm(h)},u),u.g={}}Sc.prototype.N=function(){Sc.aa.N.call(this),SD(this)},Sc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Hm=a.JSON.stringify,pF=a.JSON.parse,gF=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function zm(){}zm.prototype.h=null;function AD(u){return u.h||(u.h=u.i())}function RD(){}var Ac={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function qm(){Oe.call(this,"d")}E(qm,Oe);function Gm(){Oe.call(this,"c")}E(Gm,Oe);var yo={},ND=null;function yd(){return ND=ND||new Mt}yo.La="serverreachability";function MD(u){Oe.call(this,yo.La,u)}E(MD,Oe);function Rc(u){let h=yd();$t(h,new MD(h))}yo.STAT_EVENT="statevent";function PD(u,h){Oe.call(this,yo.STAT_EVENT,u),this.stat=h}E(PD,Oe);function Ht(u){let h=yd();$t(h,new PD(h,u))}yo.Ma="timingevent";function kD(u,h){Oe.call(this,yo.Ma,u),this.size=h}E(kD,Oe);function Nc(u,h){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},h)}function Mc(){this.g=!0}Mc.prototype.xa=function(){this.g=!1};function mF(u,h,p,y,S,N){u.info(function(){if(u.g)if(N)for(var U="",Pe=N.split("&"),Dt=0;Dt<Pe.length;Dt++){var De=Pe[Dt].split("=");if(1<De.length){var Pt=De[0];De=De[1];var kt=Pt.split("_");U=2<=kt.length&&kt[1]=="type"?U+(Pt+"="+De+"&"):U+(Pt+"=redacted&")}}else U=null;else U=N;return"XMLHTTP REQ ("+y+") [attempt "+S+"]: "+h+`
`+p+`
`+U})}function yF(u,h,p,y,S,N,U){u.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+S+"]: "+h+`
`+p+`
`+N+" "+U})}function ks(u,h,p,y){u.info(function(){return"XMLHTTP TEXT ("+h+"): "+_F(u,p)+(y?" "+y:"")})}function vF(u,h){u.info(function(){return"TIMEOUT: "+h})}Mc.prototype.info=function(){};function _F(u,h){if(!u.g)return h;if(!h)return null;try{var p=JSON.parse(h);if(p){for(u=0;u<p.length;u++)if(Array.isArray(p[u])){var y=p[u];if(!(2>y.length)){var S=y[1];if(Array.isArray(S)&&!(1>S.length)){var N=S[0];if(N!="noop"&&N!="stop"&&N!="close")for(var U=1;U<S.length;U++)S[U]=""}}}}return Hm(p)}catch{return h}}var vd={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},xD={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Wm;function _d(){}E(_d,zm),_d.prototype.g=function(){return new XMLHttpRequest},_d.prototype.i=function(){return{}},Wm=new _d;function hi(u,h,p,y){this.j=u,this.i=h,this.l=p,this.R=y||1,this.U=new Sc(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new OD}function OD(){this.i=null,this.g="",this.h=!1}var FD={},Km={};function Qm(u,h,p){u.L=1,u.v=Td(Rr(h)),u.m=p,u.P=!0,LD(u,null)}function LD(u,h){u.F=Date.now(),Ed(u),u.A=Rr(u.v);var p=u.A,y=u.R;Array.isArray(y)||(y=[String(y)]),JD(p.i,"t",y),u.C=0,p=u.j.J,u.h=new OD,u.g=gC(u.j,p?h:null,!u.m),0<u.O&&(u.M=new fF(g(u.Y,u,u.g),u.O)),h=u.U,p=u.g,y=u.ca;var S="readystatechange";Array.isArray(S)||(S&&(CD[0]=S.toString()),S=CD);for(var N=0;N<S.length;N++){var U=_D(p,S[N],y||h.handleEvent,!1,h.h||h);if(!U)break;h.g[U.key]=U}h=u.H?v(u.H):{},u.m?(u.u||(u.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,h)):(u.u="GET",u.g.ea(u.A,u.u,null,h)),Rc(),mF(u.i,u.u,u.A,u.l,u.R,u.m)}hi.prototype.ca=function(u){u=u.target;let h=this.M;h&&Nr(u)==3?h.j():this.Y(u)},hi.prototype.Y=function(u){try{if(u==this.g)e:{let kt=Nr(this.g);var h=this.g.Ba();let Fs=this.g.Z();if(!(3>kt)&&(kt!=3||this.g&&(this.h.h||this.g.oa()||iC(this.g)))){this.J||kt!=4||h==7||(h==8||0>=Fs?Rc(3):Rc(2)),Ym(this);var p=this.g.Z();this.X=p;t:if(VD(this)){var y=iC(this.g);u="";var S=y.length,N=Nr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){vo(this),Pc(this);var U="";break t}this.h.i=new a.TextDecoder}for(h=0;h<S;h++)this.h.h=!0,u+=this.h.i.decode(y[h],{stream:!(N&&h==S-1)});y.length=0,this.h.g+=u,this.C=0,U=this.h.g}else U=this.g.oa();if(this.o=p==200,yF(this.i,this.u,this.A,this.l,this.R,kt,p),this.o){if(this.T&&!this.K){t:{if(this.g){var Pe,Dt=this.g;if((Pe=Dt.g?Dt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(Pe)){var De=Pe;break t}}De=null}if(p=De)ks(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Jm(this,p);else{this.o=!1,this.s=3,Ht(12),vo(this),Pc(this);break e}}if(this.P){p=!0;let xn;for(;!this.J&&this.C<U.length;)if(xn=EF(this,U),xn==Km){kt==4&&(this.s=4,Ht(14),p=!1),ks(this.i,this.l,null,"[Incomplete Response]");break}else if(xn==FD){this.s=4,Ht(15),ks(this.i,this.l,U,"[Invalid Chunk]"),p=!1;break}else ks(this.i,this.l,xn,null),Jm(this,xn);if(VD(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),kt!=4||U.length!=0||this.h.h||(this.s=1,Ht(16),p=!1),this.o=this.o&&p,!p)ks(this.i,this.l,U,"[Invalid Chunked Response]"),vo(this),Pc(this);else if(0<U.length&&!this.W){this.W=!0;var Pt=this.j;Pt.g==this&&Pt.ba&&!Pt.M&&(Pt.j.info("Great, no buffering proxy detected. Bytes received: "+U.length),ry(Pt),Pt.M=!0,Ht(11))}}else ks(this.i,this.l,U,null),Jm(this,U);kt==4&&vo(this),this.o&&!this.J&&(kt==4?dC(this.j,this):(this.o=!1,Ed(this)))}else LF(this.g),p==400&&0<U.indexOf("Unknown SID")?(this.s=3,Ht(12)):(this.s=0,Ht(13)),vo(this),Pc(this)}}}catch{}finally{}};function VD(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function EF(u,h){var p=u.C,y=h.indexOf(`
`,p);return y==-1?Km:(p=Number(h.substring(p,y)),isNaN(p)?FD:(y+=1,y+p>h.length?Km:(h=h.slice(y,y+p),u.C=y+p,h)))}hi.prototype.cancel=function(){this.J=!0,vo(this)};function Ed(u){u.S=Date.now()+u.I,jD(u,u.I)}function jD(u,h){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Nc(g(u.ba,u),h)}function Ym(u){u.B&&(a.clearTimeout(u.B),u.B=null)}hi.prototype.ba=function(){this.B=null;let u=Date.now();0<=u-this.S?(vF(this.i,this.A),this.L!=2&&(Rc(),Ht(17)),vo(this),this.s=2,Pc(this)):jD(this,this.S-u)};function Pc(u){u.j.G==0||u.J||dC(u.j,u)}function vo(u){Ym(u);var h=u.M;h&&typeof h.ma=="function"&&h.ma(),u.M=null,SD(u.U),u.g&&(h=u.g,u.g=null,h.abort(),h.ma())}function Jm(u,h){try{var p=u.j;if(p.G!=0&&(p.g==u||Zm(p.h,u))){if(!u.K&&Zm(p.h,u)&&p.G==3){try{var y=p.Da.g.parse(h)}catch{y=null}if(Array.isArray(y)&&y.length==3){var S=y;if(S[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<u.F)Ad(p),Cd(p);else break e;ny(p),Ht(18)}}else p.za=S[1],0<p.za-p.T&&37500>S[2]&&p.F&&p.v==0&&!p.C&&(p.C=Nc(g(p.Za,p),6e3));if(1>=$D(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else Eo(p,11)}else if((u.K||p.g==u)&&Ad(p),!L(h))for(S=p.Da.g.parse(h),h=0;h<S.length;h++){let De=S[h];if(p.T=De[0],De=De[1],p.G==2)if(De[0]=="c"){p.K=De[1],p.ia=De[2];let Pt=De[3];Pt!=null&&(p.la=Pt,p.j.info("VER="+p.la));let kt=De[4];kt!=null&&(p.Aa=kt,p.j.info("SVER="+p.Aa));let Fs=De[5];Fs!=null&&typeof Fs=="number"&&0<Fs&&(y=1.5*Fs,p.L=y,p.j.info("backChannelRequestTimeoutMs_="+y)),y=p;let xn=u.g;if(xn){let Nd=xn.g?xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Nd){var N=y.h;N.g||Nd.indexOf("spdy")==-1&&Nd.indexOf("quic")==-1&&Nd.indexOf("h2")==-1||(N.j=N.l,N.g=new Set,N.h&&(Xm(N,N.h),N.h=null))}if(y.D){let iy=xn.g?xn.g.getResponseHeader("X-HTTP-Session-Id"):null;iy&&(y.ya=iy,Le(y.I,y.D,iy))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-u.F,p.j.info("Handshake RTT: "+p.R+"ms")),y=p;var U=u;if(y.qa=pC(y,y.J?y.ia:null,y.W),U.K){HD(y.h,U);var Pe=U,Dt=y.L;Dt&&(Pe.I=Dt),Pe.B&&(Ym(Pe),Ed(Pe)),y.g=U}else uC(y);0<p.i.length&&Sd(p)}else De[0]!="stop"&&De[0]!="close"||Eo(p,7);else p.G==3&&(De[0]=="stop"||De[0]=="close"?De[0]=="stop"?Eo(p,7):ty(p):De[0]!="noop"&&p.l&&p.l.ta(De),p.v=0)}}Rc(4)}catch{}}var IF=class{constructor(u,h){this.g=u,this.map=h}};function UD(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function BD(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function $D(u){return u.h?1:u.g?u.g.size:0}function Zm(u,h){return u.h?u.h==h:u.g?u.g.has(h):!1}function Xm(u,h){u.g?u.g.add(h):u.h=h}function HD(u,h){u.h&&u.h==h?u.h=null:u.g&&u.g.has(h)&&u.g.delete(h)}UD.prototype.cancel=function(){if(this.i=zD(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let u of this.g.values())u.cancel();this.g.clear()}};function zD(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let h=u.i;for(let p of u.g.values())h=h.concat(p.D);return h}return A(u.i)}function wF(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(c(u)){for(var h=[],p=u.length,y=0;y<p;y++)h.push(u[y]);return h}h=[],p=0;for(y in u)h[p++]=u[y];return h}function TF(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(c(u)||typeof u=="string"){var h=[];u=u.length;for(var p=0;p<u;p++)h.push(p);return h}h=[],p=0;for(let y in u)h[p++]=y;return h}}}function qD(u,h){if(u.forEach&&typeof u.forEach=="function")u.forEach(h,void 0);else if(c(u)||typeof u=="string")Array.prototype.forEach.call(u,h,void 0);else for(var p=TF(u),y=wF(u),S=y.length,N=0;N<S;N++)h.call(void 0,y[N],p&&p[N],u)}var GD=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function bF(u,h){if(u){u=u.split("&");for(var p=0;p<u.length;p++){var y=u[p].indexOf("="),S=null;if(0<=y){var N=u[p].substring(0,y);S=u[p].substring(y+1)}else N=u[p];h(N,S?decodeURIComponent(S.replace(/\+/g," ")):"")}}}function _o(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof _o){this.h=u.h,Id(this,u.j),this.o=u.o,this.g=u.g,wd(this,u.s),this.l=u.l;var h=u.i,p=new Oc;p.i=h.i,h.g&&(p.g=new Map(h.g),p.h=h.h),WD(this,p),this.m=u.m}else u&&(h=String(u).match(GD))?(this.h=!1,Id(this,h[1]||"",!0),this.o=kc(h[2]||""),this.g=kc(h[3]||"",!0),wd(this,h[4]),this.l=kc(h[5]||"",!0),WD(this,h[6]||"",!0),this.m=kc(h[7]||"")):(this.h=!1,this.i=new Oc(null,this.h))}_o.prototype.toString=function(){var u=[],h=this.j;h&&u.push(xc(h,KD,!0),":");var p=this.g;return(p||h=="file")&&(u.push("//"),(h=this.o)&&u.push(xc(h,KD,!0),"@"),u.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&u.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(xc(p,p.charAt(0)=="/"?SF:CF,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",xc(p,RF)),u.join("")};function Rr(u){return new _o(u)}function Id(u,h,p){u.j=p?kc(h,!0):h,u.j&&(u.j=u.j.replace(/:$/,""))}function wd(u,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);u.s=h}else u.s=null}function WD(u,h,p){h instanceof Oc?(u.i=h,NF(u.i,u.h)):(p||(h=xc(h,AF)),u.i=new Oc(h,u.h))}function Le(u,h,p){u.i.set(h,p)}function Td(u){return Le(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function kc(u,h){return u?h?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function xc(u,h,p){return typeof u=="string"?(u=encodeURI(u).replace(h,DF),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function DF(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var KD=/[#\/\?@]/g,CF=/[#\?:]/g,SF=/[#\?]/g,AF=/[#\?@]/g,RF=/#/g;function Oc(u,h){this.h=this.g=null,this.i=u||null,this.j=!!h}function fi(u){u.g||(u.g=new Map,u.h=0,u.i&&bF(u.i,function(h,p){u.add(decodeURIComponent(h.replace(/\+/g," ")),p)}))}n=Oc.prototype,n.add=function(u,h){fi(this),this.i=null,u=xs(this,u);var p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(h),this.h+=1,this};function QD(u,h){fi(u),h=xs(u,h),u.g.has(h)&&(u.i=null,u.h-=u.g.get(h).length,u.g.delete(h))}function YD(u,h){return fi(u),h=xs(u,h),u.g.has(h)}n.forEach=function(u,h){fi(this),this.g.forEach(function(p,y){p.forEach(function(S){u.call(h,S,y,this)},this)},this)},n.na=function(){fi(this);let u=Array.from(this.g.values()),h=Array.from(this.g.keys()),p=[];for(let y=0;y<h.length;y++){let S=u[y];for(let N=0;N<S.length;N++)p.push(h[y])}return p},n.V=function(u){fi(this);let h=[];if(typeof u=="string")YD(this,u)&&(h=h.concat(this.g.get(xs(this,u))));else{u=Array.from(this.g.values());for(let p=0;p<u.length;p++)h=h.concat(u[p])}return h},n.set=function(u,h){return fi(this),this.i=null,u=xs(this,u),YD(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[h]),this.h+=1,this},n.get=function(u,h){return u?(u=this.V(u),0<u.length?String(u[0]):h):h};function JD(u,h,p){QD(u,h),0<p.length&&(u.i=null,u.g.set(xs(u,h),A(p)),u.h+=p.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let u=[],h=Array.from(this.g.keys());for(var p=0;p<h.length;p++){var y=h[p];let N=encodeURIComponent(String(y)),U=this.V(y);for(y=0;y<U.length;y++){var S=N;U[y]!==""&&(S+="="+encodeURIComponent(String(U[y]))),u.push(S)}}return this.i=u.join("&")};function xs(u,h){return h=String(h),u.j&&(h=h.toLowerCase()),h}function NF(u,h){h&&!u.j&&(fi(u),u.i=null,u.g.forEach(function(p,y){var S=y.toLowerCase();y!=S&&(QD(this,y),JD(this,S,p))},u)),u.j=h}function MF(u,h){let p=new Mc;if(a.Image){let y=new Image;y.onload=m(pi,p,"TestLoadImage: loaded",!0,h,y),y.onerror=m(pi,p,"TestLoadImage: error",!1,h,y),y.onabort=m(pi,p,"TestLoadImage: abort",!1,h,y),y.ontimeout=m(pi,p,"TestLoadImage: timeout",!1,h,y),a.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=u}else h(!1)}function PF(u,h){let p=new Mc,y=new AbortController,S=setTimeout(()=>{y.abort(),pi(p,"TestPingServer: timeout",!1,h)},1e4);fetch(u,{signal:y.signal}).then(N=>{clearTimeout(S),N.ok?pi(p,"TestPingServer: ok",!0,h):pi(p,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(S),pi(p,"TestPingServer: error",!1,h)})}function pi(u,h,p,y,S){try{S&&(S.onload=null,S.onerror=null,S.onabort=null,S.ontimeout=null),y(p)}catch{}}function kF(){this.g=new gF}function xF(u,h,p){let y=p||"";try{qD(u,function(S,N){let U=S;l(S)&&(U=Hm(S)),h.push(y+N+"="+encodeURIComponent(U))})}catch(S){throw h.push(y+"type="+encodeURIComponent("_badmap")),S}}function Fc(u){this.l=u.Ub||null,this.j=u.eb||!1}E(Fc,zm),Fc.prototype.g=function(){return new bd(this.l,this.j)},Fc.prototype.i=(function(u){return function(){return u}})({});function bd(u,h){Mt.call(this),this.D=u,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(bd,Mt),n=bd.prototype,n.open=function(u,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=h,this.readyState=1,Vc(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(h.body=u),(this.D||a).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Lc(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Vc(this)),this.g&&(this.readyState=3,Vc(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ZD(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function ZD(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var h=u.value?u.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!u.done}))&&(this.response=this.responseText+=h)}u.done?Lc(this):Vc(this),this.readyState==3&&ZD(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,Lc(this))},n.Qa=function(u){this.g&&(this.response=u,Lc(this))},n.ga=function(){this.g&&Lc(this)};function Lc(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Vc(u)}n.setRequestHeader=function(u,h){this.u.append(u,h)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let u=[],h=this.h.entries();for(var p=h.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=h.next();return u.join(`\r
`)};function Vc(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(bd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function XD(u){let h="";return te(u,function(p,y){h+=y,h+=":",h+=p,h+=`\r
`}),h}function ey(u,h,p){e:{for(y in p){var y=!1;break e}y=!0}y||(p=XD(p),typeof u=="string"?p!=null&&encodeURIComponent(String(p)):Le(u,h,p))}function qe(u){Mt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(qe,Mt);var OF=/^https?$/i,FF=["POST","PUT"];n=qe.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,h,p,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);h=h?h.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Wm.g(),this.v=this.o?AD(this.o):AD(Wm),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(h,String(u),!0),this.B=!1}catch(N){eC(this,N);return}if(u=p||"",p=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var S in y)p.set(S,y[S]);else if(typeof y.keys=="function"&&typeof y.get=="function")for(let N of y.keys())p.set(N,y.get(N));else throw Error("Unknown input type for opt_headers: "+String(y));y=Array.from(p.keys()).find(N=>N.toLowerCase()=="content-type"),S=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(FF,h,void 0))||y||S||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[N,U]of p)this.g.setRequestHeader(N,U);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{rC(this),this.u=!0,this.g.send(u),this.u=!1}catch(N){eC(this,N)}};function eC(u,h){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=h,u.m=5,tC(u),Dd(u)}function tC(u){u.A||(u.A=!0,$t(u,"complete"),$t(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,$t(this,"complete"),$t(this,"abort"),Dd(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Dd(this,!0)),qe.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?nC(this):this.bb())},n.bb=function(){nC(this)};function nC(u){if(u.h&&typeof s<"u"&&(!u.v[1]||Nr(u)!=4||u.Z()!=2)){if(u.u&&Nr(u)==4)bD(u.Ea,0,u);else if($t(u,"readystatechange"),Nr(u)==4){u.h=!1;try{let U=u.Z();e:switch(U){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var p;if(!(p=h)){var y;if(y=U===0){var S=String(u.D).match(GD)[1]||null;!S&&a.self&&a.self.location&&(S=a.self.location.protocol.slice(0,-1)),y=!OF.test(S?S.toLowerCase():"")}p=y}if(p)$t(u,"complete"),$t(u,"success");else{u.m=6;try{var N=2<Nr(u)?u.g.statusText:""}catch{N=""}u.l=N+" ["+u.Z()+"]",tC(u)}}finally{Dd(u)}}}}function Dd(u,h){if(u.g){rC(u);let p=u.g,y=u.v[0]?()=>{}:null;u.g=null,u.v=null,h||$t(u,"ready");try{p.onreadystatechange=y}catch{}}}function rC(u){u.I&&(a.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function Nr(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<Nr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var h=this.g.responseText;return u&&h.indexOf(u)==0&&(h=h.substring(u.length)),pF(h)}};function iC(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function LF(u){let h={};u=(u.g&&2<=Nr(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let y=0;y<u.length;y++){if(L(u[y]))continue;var p=C(u[y]);let S=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();let N=h[S]||[];h[S]=N,N.push(p)}T(h,function(y){return y.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function jc(u,h,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||h}function oC(u){this.Aa=0,this.i=[],this.j=new Mc,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=jc("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=jc("baseRetryDelayMs",5e3,u),this.cb=jc("retryDelaySeedMs",1e4,u),this.Wa=jc("forwardChannelMaxRetries",2,u),this.wa=jc("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new UD(u&&u.concurrentRequestLimit),this.Da=new kF,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=oC.prototype,n.la=8,n.G=1,n.connect=function(u,h,p,y){Ht(0),this.W=u,this.H=h||{},p&&y!==void 0&&(this.H.OSID=p,this.H.OAID=y),this.F=this.X,this.I=pC(this,null,this.W),Sd(this)};function ty(u){if(sC(u),u.G==3){var h=u.U++,p=Rr(u.I);if(Le(p,"SID",u.K),Le(p,"RID",h),Le(p,"TYPE","terminate"),Uc(u,p),h=new hi(u,u.j,h),h.L=2,h.v=Td(Rr(p)),p=!1,a.navigator&&a.navigator.sendBeacon)try{p=a.navigator.sendBeacon(h.v.toString(),"")}catch{}!p&&a.Image&&(new Image().src=h.v,p=!0),p||(h.g=gC(h.j,null),h.g.ea(h.v)),h.F=Date.now(),Ed(h)}fC(u)}function Cd(u){u.g&&(ry(u),u.g.cancel(),u.g=null)}function sC(u){Cd(u),u.u&&(a.clearTimeout(u.u),u.u=null),Ad(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function Sd(u){if(!BD(u.h)&&!u.s){u.s=!0;var h=u.Ga;Y||Je(),Z||(Y(),Z=!0),me.add(h,u),u.B=0}}function VF(u,h){return $D(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=h.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Nc(g(u.Ga,u,h),hC(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;let S=new hi(this,this.j,u),N=this.o;if(this.S&&(N?(N=v(N),b(N,this.S)):N=this.S),this.m!==null||this.O||(S.H=N,N=null),this.P)e:{for(var h=0,p=0;p<this.i.length;p++){t:{var y=this.i[p];if("__data__"in y.map&&(y=y.map.__data__,typeof y=="string")){y=y.length;break t}y=void 0}if(y===void 0)break;if(h+=y,4096<h){h=p;break e}if(h===4096||p===this.i.length-1){h=p+1;break e}}h=1e3}else h=1e3;h=cC(this,S,h),p=Rr(this.I),Le(p,"RID",u),Le(p,"CVER",22),this.D&&Le(p,"X-HTTP-Session-Id",this.D),Uc(this,p),N&&(this.O?h="headers="+encodeURIComponent(String(XD(N)))+"&"+h:this.m&&ey(p,this.m,N)),Xm(this.h,S),this.Ua&&Le(p,"TYPE","init"),this.P?(Le(p,"$req",h),Le(p,"SID","null"),S.T=!0,Qm(S,p,null)):Qm(S,p,h),this.G=2}}else this.G==3&&(u?aC(this,u):this.i.length==0||BD(this.h)||aC(this))};function aC(u,h){var p;h?p=h.l:p=u.U++;let y=Rr(u.I);Le(y,"SID",u.K),Le(y,"RID",p),Le(y,"AID",u.T),Uc(u,y),u.m&&u.o&&ey(y,u.m,u.o),p=new hi(u,u.j,p,u.B+1),u.m===null&&(p.H=u.o),h&&(u.i=h.D.concat(u.i)),h=cC(u,p,1e3),p.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Xm(u.h,p),Qm(p,y,h)}function Uc(u,h){u.H&&te(u.H,function(p,y){Le(h,y,p)}),u.l&&qD({},function(p,y){Le(h,y,p)})}function cC(u,h,p){p=Math.min(u.i.length,p);var y=u.l?g(u.l.Na,u.l,u):null;e:{var S=u.i;let N=-1;for(;;){let U=["count="+p];N==-1?0<p?(N=S[0].g,U.push("ofs="+N)):N=0:U.push("ofs="+N);let Pe=!0;for(let Dt=0;Dt<p;Dt++){let De=S[Dt].g,Pt=S[Dt].map;if(De-=N,0>De)N=Math.max(0,S[Dt].g-100),Pe=!1;else try{xF(Pt,U,"req"+De+"_")}catch{y&&y(Pt)}}if(Pe){y=U.join("&");break e}}}return u=u.i.splice(0,p),h.D=u,y}function uC(u){if(!u.g&&!u.u){u.Y=1;var h=u.Fa;Y||Je(),Z||(Y(),Z=!0),me.add(h,u),u.v=0}}function ny(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Nc(g(u.Fa,u),hC(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,lC(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Nc(g(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ht(10),Cd(this),lC(this))};function ry(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function lC(u){u.g=new hi(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var h=Rr(u.qa);Le(h,"RID","rpc"),Le(h,"SID",u.K),Le(h,"AID",u.T),Le(h,"CI",u.F?"0":"1"),!u.F&&u.ja&&Le(h,"TO",u.ja),Le(h,"TYPE","xmlhttp"),Uc(u,h),u.m&&u.o&&ey(h,u.m,u.o),u.L&&(u.g.I=u.L);var p=u.g;u=u.ia,p.L=1,p.v=Td(Rr(h)),p.m=null,p.P=!0,LD(p,u)}n.Za=function(){this.C!=null&&(this.C=null,Cd(this),ny(this),Ht(19))};function Ad(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function dC(u,h){var p=null;if(u.g==h){Ad(u),ry(u),u.g=null;var y=2}else if(Zm(u.h,h))p=h.D,HD(u.h,h),y=1;else return;if(u.G!=0){if(h.o)if(y==1){p=h.m?h.m.length:0,h=Date.now()-h.F;var S=u.B;y=yd(),$t(y,new kD(y,p)),Sd(u)}else uC(u);else if(S=h.s,S==3||S==0&&0<h.X||!(y==1&&VF(u,h)||y==2&&ny(u)))switch(p&&0<p.length&&(h=u.h,h.i=h.i.concat(p)),S){case 1:Eo(u,5);break;case 4:Eo(u,10);break;case 3:Eo(u,6);break;default:Eo(u,2)}}}function hC(u,h){let p=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(p*=2),p*h}function Eo(u,h){if(u.j.info("Error code "+h),h==2){var p=g(u.fb,u),y=u.Xa;let S=!y;y=new _o(y||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Id(y,"https"),Td(y),S?MF(y.toString(),p):PF(y.toString(),p)}else Ht(2);u.G=0,u.l&&u.l.sa(h),fC(u),sC(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Ht(2)):(this.j.info("Failed to ping google.com"),Ht(1))};function fC(u){if(u.G=0,u.ka=[],u.l){let h=zD(u.h);(h.length!=0||u.i.length!=0)&&(D(u.ka,h),D(u.ka,u.i),u.h.i.length=0,A(u.i),u.i.length=0),u.l.ra()}}function pC(u,h,p){var y=p instanceof _o?Rr(p):new _o(p);if(y.g!="")h&&(y.g=h+"."+y.g),wd(y,y.s);else{var S=a.location;y=S.protocol,h=h?h+"."+S.hostname:S.hostname,S=+S.port;var N=new _o(null);y&&Id(N,y),h&&(N.g=h),S&&wd(N,S),p&&(N.l=p),y=N}return p=u.D,h=u.ya,p&&h&&Le(y,p,h),Le(y,"VER",u.la),Uc(u,y),y}function gC(u,h,p){if(h&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=u.Ca&&!u.pa?new qe(new Fc({eb:p})):new qe(u.pa),h.Ha(u.J),h}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function mC(){}n=mC.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Rd(){}Rd.prototype.g=function(u,h){return new cn(u,h)};function cn(u,h){Mt.call(this),this.g=new oC(h),this.l=u,this.h=h&&h.messageUrlParams||null,u=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(u?u["X-WebChannel-Content-Type"]=h.messageContentType:u={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(u?u["X-WebChannel-Client-Profile"]=h.va:u={"X-WebChannel-Client-Profile":h.va}),this.g.S=u,(u=h&&h.Sb)&&!L(u)&&(this.g.m=u),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!L(h)&&(this.g.D=h,u=this.h,u!==null&&h in u&&(u=this.h,h in u&&delete u[h])),this.j=new Os(this)}E(cn,Mt),cn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){ty(this.g)},cn.prototype.o=function(u){var h=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.u&&(p={},p.__data__=Hm(u),u=p);h.i.push(new IF(h.Ya++,u)),h.G==3&&Sd(h)},cn.prototype.N=function(){this.g.l=null,delete this.j,ty(this.g),delete this.g,cn.aa.N.call(this)};function yC(u){qm.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var h=u.__sm__;if(h){e:{for(let p in h){u=p;break e}u=void 0}(this.i=u)&&(u=this.i,h=h!==null&&u in h?h[u]:void 0),this.data=h}else this.data=u}E(yC,qm);function vC(){Gm.call(this),this.status=1}E(vC,Gm);function Os(u){this.g=u}E(Os,mC),Os.prototype.ua=function(){$t(this.g,"a")},Os.prototype.ta=function(u){$t(this.g,new yC(u))},Os.prototype.sa=function(u){$t(this.g,new vC)},Os.prototype.ra=function(){$t(this.g,"b")},Rd.prototype.createWebChannel=Rd.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,Iw=Zr.createWebChannelTransport=function(){return new Rd},Ew=Zr.getStatEventTarget=function(){return yd()},_w=Zr.Event=yo,fg=Zr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},vd.NO_ERROR=0,vd.TIMEOUT=8,vd.HTTP_ERROR=6,jl=Zr.ErrorCode=vd,xD.COMPLETE="complete",vw=Zr.EventType=xD,RD.EventType=Ac,Ac.OPEN="a",Ac.CLOSE="b",Ac.ERROR="c",Ac.MESSAGE="d",Mt.prototype.listen=Mt.prototype.K,Ja=Zr.WebChannel=RD,s6=Zr.FetchXmlHttpFactory=Fc,qe.prototype.listenOnce=qe.prototype.L,qe.prototype.getLastError=qe.prototype.Ka,qe.prototype.getLastErrorCode=qe.prototype.Ba,qe.prototype.getStatus=qe.prototype.Z,qe.prototype.getResponseJson=qe.prototype.Oa,qe.prototype.getResponseText=qe.prototype.oa,qe.prototype.send=qe.prototype.ea,qe.prototype.setWithCredentials=qe.prototype.Ha,yw=Zr.XhrIo=qe}).apply(typeof hg<"u"?hg:typeof self<"u"?self:typeof window<"u"?window:{});var bk="@firebase/firestore",Dk="4.8.0";var Tt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Tt.UNAUTHENTICATED=new Tt(null),Tt.GOOGLE_CREDENTIALS=new Tt("google-credentials-uid"),Tt.FIRST_PARTY=new Tt("first-party-uid"),Tt.MOCK_USER=new Tt("mock-user");var vc="11.10.0";var _s=new mr("@firebase/firestore");function Za(){return _s.logLevel}function G(n,...e){if(_s.logLevel<=ve.DEBUG){let t=e.map(db);_s.debug(`Firestore (${vc}): ${n}`,...t)}}function ti(n,...e){if(_s.logLevel<=ve.ERROR){let t=e.map(db);_s.error(`Firestore (${vc}): ${n}`,...t)}}function co(n,...e){if(_s.logLevel<=ve.WARN){let t=e.map(db);_s.warn(`Firestore (${vc}): ${n}`,...t)}}function db(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function ee(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,vx(n,r,t)}function vx(n,e,t){let r=`FIRESTORE (${vc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw ti(r),new Error(r)}function Ne(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||vx(e,i,r)}function ae(n,e){return n}var k={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},$=class extends yn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Xr=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Eg=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Cw=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Tt.UNAUTHENTICATED))}shutdown(){}},Sw=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},Aw=class{constructor(e){this.t=e,this.currentUser=Tt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ne(this.o===void 0,42304);let r=this.i,i=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve(),o=new Xr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Xr,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(()=>_(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Xr)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ne(typeof r.accessToken=="string",31837,{l:r}),new Eg(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Ne(e===null||typeof e=="string",2055,{h:e}),new Tt(e)}},Rw=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Tt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},Nw=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new Rw(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Tt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Ig=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Mw=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,on(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ne(this.o===void 0,3512);let r=o=>{o.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,G("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Ig(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ne(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Ig(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function a6(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function _x(){return new TextEncoder}var ql=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=a6(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function pe(n,e){return n<e?-1:n>e?1:0}function Pw(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return pe(r,i);{let o=_x(),s=c6(o.encode(Ck(n,t)),o.encode(Ck(e,t)));return s!==0?s:pe(r,i)}}t+=r>65535?2:1}return pe(n.length,e.length)}function Ck(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function c6(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return pe(n[t],e[t]);return pe(n.length,e.length)}function sc(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var Sk="__name__",wg=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&ee(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&ee(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return pe(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):Pw(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Jr.fromString(e.substring(4,e.length-2))}},Ue=class n extends wg{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new $(k.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},u6=/^[_a-zA-Z][_a-zA-Z0-9]*$/,_n=class n extends wg{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return u6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Sk}static keyField(){return new n([Sk])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new $(k.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new $(k.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new $(k.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new $(k.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var X=class n{constructor(e){this.path=e}static fromPath(e){return new n(Ue.fromString(e))}static fromName(e){return new n(Ue.fromString(e).popFirst(5))}static empty(){return new n(Ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ue.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ue.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Ue(e.slice()))}};function Ex(n,e,t){if(!t)throw new $(k.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function l6(n,e,t,r){if(e===!0&&r===!0)throw new $(k.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Ak(n){if(!X.isDocumentKey(n))throw new $(k.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Rk(n){if(X.isDocumentKey(n))throw new $(k.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Ix(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function em(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ee(12329,{type:typeof n})}function ro(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new $(k.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=em(n);throw new $(k.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function lt(n,e){let t={typeString:n};return e&&(t.value=e),t}function rd(n,e){if(!Ix(n))throw new $(k.INVALID_ARGUMENT,"JSON must be an object");let t;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}let s=n[r];if(i&&typeof s!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new $(k.INVALID_ARGUMENT,t);return!0}var Nk=-62135596800,Mk=1e6,dt=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Mk);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new $(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new $(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Nk)throw new $(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Mk}_compareTo(e){return this.seconds===e.seconds?pe(this.nanoseconds,e.nanoseconds):pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(rd(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-Nk;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};dt._jsonSchemaVersion="firestore/timestamp/1.0",dt._jsonSchema={type:lt("string",dt._jsonSchemaVersion),seconds:lt("number"),nanoseconds:lt("number")};var le=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new dt(0,0))}static max(){return new n(new dt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Gl=-1,kw=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};kw.UNKNOWN_ID=-1;function d6(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=le.fromTimestamp(r===1e9?new dt(t+1,0):new dt(t,r));return new Es(i,X.empty(),e)}function h6(n){return new Es(n.readTime,n.key,Gl)}var Es=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(le.min(),X.empty(),Gl)}static max(){return new n(le.max(),X.empty(),Gl)}};function f6(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=X.comparator(n.documentKey,e.documentKey),t!==0?t:pe(n.largestBatchId,e.largestBatchId))}var p6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",xw=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function _c(n){return _(this,null,function*(){if(n.code!==k.FAILED_PRECONDITION||n.message!==p6)throw n;G("LocalStore","Unexpectedly lost primary lease")})}var O=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},c=>r(c))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let c=0;c<o;c++){let l=c;t(e[l]).next(d=>{s[l]=d,++a,a===o&&r(s)},d=>i(d))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function g6(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ec(n){return n.name==="IndexedDbTransactionError"}var hb=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ae&&this.ae(t),t}}n.ue=-1;return n})(),fb=-1;function tm(n){return n==null}function Wl(n){return n===0&&1/n==-1/0}function m6(n){return typeof n=="number"&&Number.isInteger(n)&&!Wl(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var wx="";function y6(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Pk(e)),e=v6(n.get(t),e);return Pk(e)}function v6(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case wx:t+="";break;default:t+=o}}return t}function Pk(n){return n+wx+""}var _6="remoteDocuments",Tx="owner";var bx="mutationQueues";var Dx="mutations";var Cx="documentMutations",E6="remoteDocumentsV14";var Sx="remoteDocumentGlobal";var Ax="targets";var Rx="targetDocuments";var Nx="targetGlobal",Mx="collectionParents";var Px="clientMetadata";var kx="bundles";var xx="namedQueries";var I6="indexConfiguration";var w6="indexState";var T6="indexEntries";var Ox="documentOverlays";var b6="globals";var D6=[bx,Dx,Cx,_6,Ax,Tx,Nx,Rx,Px,Sx,Mx,kx,xx],Lhe=[...D6,Ox],C6=[bx,Dx,Cx,E6,Ax,Tx,Nx,Rx,Px,Sx,Mx,kx,xx,Ox],S6=C6,A6=[...S6,I6,w6,T6];var Vhe=[...A6,b6];function kk(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function go(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Fx(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Ye=class n{constructor(e,t){this.comparator=e,this.root=t||Ir.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ir.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ir.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nc(this.root,e,this.comparator,!1)}getReverseIterator(){return new nc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nc(this.root,e,this.comparator,!0)}},nc=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Ir=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ee(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw ee(27949);return e+(this.isRed()?0:1)}};Ir.EMPTY=null,Ir.RED=!0,Ir.BLACK=!1;Ir.EMPTY=new class{constructor(){this.size=0}get key(){throw ee(57766)}get value(){throw ee(16141)}get color(){throw ee(16727)}get left(){throw ee(29726)}get right(){throw ee(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new Ir(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var bt=class n{constructor(e){this.comparator=e,this.data=new Ye(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Tg(this.data.getIterator())}getIteratorFrom(e){return new Tg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Tg=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Pn=class n{constructor(e){this.fields=e,e.sort(_n.comparator)}static empty(){return new n([])}unionWith(e){let t=new bt(_n.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return sc(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var bg=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Bt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new bg("Invalid base64 string: "+o):o}})(e);return new n(t)}static fromUint8Array(e){let t=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Bt.EMPTY_BYTE_STRING=new Bt("");var R6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ni(n){if(Ne(!!n,39018),typeof n=="string"){let e=0,t=R6.exec(n);if(Ne(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:je(n.seconds),nanos:je(n.nanos)}}function je(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ri(n){return typeof n=="string"?Bt.fromBase64String(n):Bt.fromUint8Array(n)}var Lx="server_timestamp",Vx="__type__",jx="__previous_value__",Ux="__local_write_time__";function pb(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[Vx])===null||t===void 0?void 0:t.stringValue)===Lx}function nm(n){let e=n.mapValue.fields[jx];return pb(e)?nm(e):e}function Kl(n){let e=ni(n.mapValue.fields[Ux].timestampValue);return new dt(e.seconds,e.nanos)}var Ow=class{constructor(e,t,r,i,o,s,a,c,l,d){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l,this.isUsingEmulator=d}},Dg="(default)",Cg=class n{constructor(e,t){this.projectId=e,this.database=t||Dg}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===Dg}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var gb="__type__",Bx="__max__",pg={mapValue:{fields:{__type__:{stringValue:Bx}}}},mb="__vector__",ac="value";function uo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?pb(n)?4:Hx(n)?9007199254740991:$x(n)?10:11:ee(28295,{value:n})}function br(n,e){if(n===e)return!0;let t=uo(n);if(t!==uo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Kl(n).isEqual(Kl(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=ni(i.timestampValue),a=ni(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,o){return ri(i.bytesValue).isEqual(ri(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,o){return je(i.geoPointValue.latitude)===je(o.geoPointValue.latitude)&&je(i.geoPointValue.longitude)===je(o.geoPointValue.longitude)})(n,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return je(i.integerValue)===je(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=je(i.doubleValue),a=je(o.doubleValue);return s===a?Wl(s)===Wl(a):isNaN(s)&&isNaN(a)}return!1})(n,e);case 9:return sc(n.arrayValue.values||[],e.arrayValue.values||[],br);case 10:case 11:return(function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(kk(s)!==kk(a))return!1;for(let c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!br(s[c],a[c])))return!1;return!0})(n,e);default:return ee(52216,{left:n})}}function Ql(n,e){return(n.values||[]).find(t=>br(t,e))!==void 0}function cc(n,e){if(n===e)return 0;let t=uo(n),r=uo(e);if(t!==r)return pe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return pe(n.booleanValue,e.booleanValue);case 2:return(function(o,s){let a=je(o.integerValue||o.doubleValue),c=je(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1})(n,e);case 3:return xk(n.timestampValue,e.timestampValue);case 4:return xk(Kl(n),Kl(e));case 5:return Pw(n.stringValue,e.stringValue);case 6:return(function(o,s){let a=ri(o),c=ri(s);return a.compareTo(c)})(n.bytesValue,e.bytesValue);case 7:return(function(o,s){let a=o.split("/"),c=s.split("/");for(let l=0;l<a.length&&l<c.length;l++){let d=pe(a[l],c[l]);if(d!==0)return d}return pe(a.length,c.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,s){let a=pe(je(o.latitude),je(s.latitude));return a!==0?a:pe(je(o.longitude),je(s.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return Ok(n.arrayValue,e.arrayValue);case 10:return(function(o,s){var a,c,l,d;let f=o.fields||{},g=s.fields||{},m=(a=f[ac])===null||a===void 0?void 0:a.arrayValue,E=(c=g[ac])===null||c===void 0?void 0:c.arrayValue,A=pe(((l=m?.values)===null||l===void 0?void 0:l.length)||0,((d=E?.values)===null||d===void 0?void 0:d.length)||0);return A!==0?A:Ok(m,E)})(n.mapValue,e.mapValue);case 11:return(function(o,s){if(o===pg.mapValue&&s===pg.mapValue)return 0;if(o===pg.mapValue)return 1;if(s===pg.mapValue)return-1;let a=o.fields||{},c=Object.keys(a),l=s.fields||{},d=Object.keys(l);c.sort(),d.sort();for(let f=0;f<c.length&&f<d.length;++f){let g=Pw(c[f],d[f]);if(g!==0)return g;let m=cc(a[c[f]],l[d[f]]);if(m!==0)return m}return pe(c.length,d.length)})(n.mapValue,e.mapValue);default:throw ee(23264,{le:t})}}function xk(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return pe(n,e);let t=ni(n),r=ni(e),i=pe(t.seconds,r.seconds);return i!==0?i:pe(t.nanos,r.nanos)}function Ok(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=cc(t[i],r[i]);if(o)return o}return pe(t.length,r.length)}function uc(n){return Fw(n)}function Fw(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){let r=ni(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return ri(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return X.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=Fw(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${Fw(t.fields[s])}`;return i+"}"})(n.mapValue):ee(61005,{value:n})}function yg(n){switch(uo(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=nm(n);return e?16+yg(e):16;case 5:return 2*n.stringValue.length;case 6:return ri(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((i,o)=>i+yg(o),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return go(r.fields,(o,s)=>{i+=o.length+yg(s)}),i})(n.mapValue);default:throw ee(13486,{value:n})}}function Fk(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Lw(n){return!!n&&"integerValue"in n}function yb(n){return!!n&&"arrayValue"in n}function Lk(n){return!!n&&"nullValue"in n}function Vk(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function vg(n){return!!n&&"mapValue"in n}function $x(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[gb])===null||t===void 0?void 0:t.stringValue)===mb}function Bl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return go(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Bl(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Bl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Hx(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===Bx}var Uhe={mapValue:{fields:{[gb]:{stringValue:mb},[ac]:{arrayValue:{}}}}};var vn=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!vg(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bl(t)}setAll(e){let t=_n.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=Bl(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());vg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return br(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];vg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){go(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(Bl(this.value))}};function zx(n){let e=[];return go(n.fields,(t,r)=>{let i=new _n([t]);if(vg(r)){let o=zx(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Pn(e)}var Kn=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,le.min(),le.min(),le.min(),vn.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,le.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,le.min(),le.min(),vn.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,le.min(),le.min(),vn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var lc=class{constructor(e,t){this.position=e,this.inclusive=t}};function jk(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=X.comparator(X.fromName(s.referenceValue),t.key):r=cc(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Uk(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!br(n.position[t],e.position[t]))return!1;return!0}var Is=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function N6(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var Sg=class{},ut=class n extends Sg{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new jw(e,t,r):t==="array-contains"?new $w(e,r):t==="in"?new Hw(e,r):t==="not-in"?new zw(e,r):t==="array-contains-any"?new qw(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new Uw(e,r):new Bw(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(cc(t,this.value)):t!==null&&uo(this.value)===uo(t)&&this.matchesComparison(cc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Qn=class n extends Sg{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new n(e,t)}matches(e){return qx(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function qx(n){return n.op==="and"}function Gx(n){return M6(n)&&qx(n)}function M6(n){for(let e of n.filters)if(e instanceof Qn)return!1;return!0}function Vw(n){if(n instanceof ut)return n.field.canonicalString()+n.op.toString()+uc(n.value);if(Gx(n))return n.filters.map(e=>Vw(e)).join(",");{let e=n.filters.map(t=>Vw(t)).join(",");return`${n.op}(${e})`}}function Wx(n,e){return n instanceof ut?(function(r,i){return i instanceof ut&&r.op===i.op&&r.field.isEqual(i.field)&&br(r.value,i.value)})(n,e):n instanceof Qn?(function(r,i){return i instanceof Qn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&Wx(s,i.filters[a]),!0):!1})(n,e):void ee(19439)}function Kx(n){return n instanceof ut?(function(t){return`${t.field.canonicalString()} ${t.op} ${uc(t.value)}`})(n):n instanceof Qn?(function(t){return t.op.toString()+" {"+t.getFilters().map(Kx).join(" ,")+"}"})(n):"Filter"}var jw=class extends ut{constructor(e,t,r){super(e,t,r),this.key=X.fromName(r.referenceValue)}matches(e){let t=X.comparator(e.key,this.key);return this.matchesComparison(t)}},Uw=class extends ut{constructor(e,t){super(e,"in",t),this.keys=Qx("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},Bw=class extends ut{constructor(e,t){super(e,"not-in",t),this.keys=Qx("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function Qx(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>X.fromName(r.referenceValue))}var $w=class extends ut{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return yb(t)&&Ql(t.arrayValue,this.value)}},Hw=class extends ut{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Ql(this.value.arrayValue,t)}},zw=class extends ut{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ql(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Ql(this.value.arrayValue,t)}},qw=class extends ut{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!yb(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Ql(this.value.arrayValue,r))}};var Gw=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Pe=null}};function Bk(n,e=null,t=[],r=[],i=null,o=null,s=null){return new Gw(n,e,t,r,i,o,s)}function vb(n){let e=ae(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Vw(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>(function(o){return o.field.canonicalString()+o.dir})(r)).join(","),tm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>uc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>uc(r)).join(",")),e.Pe=t}return e.Pe}function _b(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!N6(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Wx(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Uk(n.startAt,e.startAt)&&Uk(n.endAt,e.endAt)}function Ww(n){return X.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var lo=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function P6(n,e,t,r,i,o,s,a){return new lo(n,e,t,r,i,o,s,a)}function Eb(n){return new lo(n)}function $k(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Yx(n){return n.collectionGroup!==null}function $l(n){let e=ae(n);if(e.Te===null){e.Te=[];let t=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new bt(_n.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Te.push(new Is(o,r))}),t.has(_n.keyField().canonicalString())||e.Te.push(new Is(_n.keyField(),r))}return e.Te}function wr(n){let e=ae(n);return e.Ie||(e.Ie=k6(e,$l(n))),e.Ie}function k6(n,e){if(n.limitType==="F")return Bk(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Is(i.field,o)});let t=n.endAt?new lc(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new lc(n.startAt.position,n.startAt.inclusive):null;return Bk(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Kw(n,e){let t=n.filters.concat([e]);return new lo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Qw(n,e,t){return new lo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function rm(n,e){return _b(wr(n),wr(e))&&n.limitType===e.limitType}function Jx(n){return`${vb(wr(n))}|lt:${n.limitType}`}function Xa(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>Kx(i)).join(", ")}]`),tm(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>uc(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>uc(i)).join(",")),`Target(${r})`})(wr(n))}; limitType=${n.limitType})`}function im(n,e){return e.isFoundDocument()&&(function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):X.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,i){for(let o of $l(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(s,a,c){let l=jk(s,a,c);return s.inclusive?l<=0:l<0})(r.startAt,$l(r),i)||r.endAt&&!(function(s,a,c){let l=jk(s,a,c);return s.inclusive?l>=0:l>0})(r.endAt,$l(r),i))})(n,e)}function x6(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Zx(n){return(e,t)=>{let r=!1;for(let i of $l(n)){let o=O6(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function O6(n,e,t){let r=n.field.isKeyField()?X.comparator(e.key,t.key):(function(o,s,a){let c=s.data.field(o),l=a.data.field(o);return c!==null&&l!==null?cc(c,l):ee(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ee(19790,{direction:n.dir})}}var ii=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){go(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return Fx(this.inner)}size(){return this.innerSize}};var F6=new Ye(X.comparator);function oi(){return F6}var Xx=new Ye(X.comparator);function Ul(...n){let e=Xx;for(let t of n)e=e.insert(t.key,t);return e}function eO(n){let e=Xx;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function gs(){return Hl()}function tO(){return Hl()}function Hl(){return new ii(n=>n.toString(),(n,e)=>n.isEqual(e))}var L6=new Ye(X.comparator),V6=new bt(X.comparator);function Ee(...n){let e=V6;for(let t of n)e=e.add(t);return e}var j6=new bt(pe);function U6(){return j6}function Ib(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wl(e)?"-0":e}}function nO(n){return{integerValue:""+n}}function B6(n,e){return m6(e)?nO(e):Ib(n,e)}var dc=class{constructor(){this._=void 0}};function $6(n,e,t){return n instanceof hc?(function(i,o){let s={fields:{[Vx]:{stringValue:Lx},[Ux]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&pb(o)&&(o=nm(o)),o&&(s.fields[jx]=o),{mapValue:s}})(t,e):n instanceof ws?iO(n,e):n instanceof Ts?oO(n,e):(function(i,o){let s=rO(i,o),a=Hk(s)+Hk(i.Ee);return Lw(s)&&Lw(i.Ee)?nO(a):Ib(i.serializer,a)})(n,e)}function H6(n,e,t){return n instanceof ws?iO(n,e):n instanceof Ts?oO(n,e):t}function rO(n,e){return n instanceof fc?(function(r){return Lw(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}var hc=class extends dc{},ws=class extends dc{constructor(e){super(),this.elements=e}};function iO(n,e){let t=sO(e);for(let r of n.elements)t.some(i=>br(i,r))||t.push(r);return{arrayValue:{values:t}}}var Ts=class extends dc{constructor(e){super(),this.elements=e}};function oO(n,e){let t=sO(e);for(let r of n.elements)t=t.filter(i=>!br(i,r));return{arrayValue:{values:t}}}var fc=class extends dc{constructor(e,t){super(),this.serializer=e,this.Ee=t}};function Hk(n){return je(n.integerValue||n.doubleValue)}function sO(n){return yb(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function z6(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof ws&&i instanceof ws||r instanceof Ts&&i instanceof Ts?sc(r.elements,i.elements,br):r instanceof fc&&i instanceof fc?br(r.Ee,i.Ee):r instanceof hc&&i instanceof hc})(n.transform,e.transform)}var Yw=class{constructor(e,t){this.version=e,this.transformResults=t}},ei=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function _g(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var pc=class{};function aO(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Yl(n.key,ei.none()):new bs(n.key,n.data,ei.none());{let t=n.data,r=vn.empty(),i=new bt(_n.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Dr(n.key,r,new Pn(i.toArray()),ei.none())}}function q6(n,e,t){n instanceof bs?(function(i,o,s){let a=i.value.clone(),c=qk(i.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()})(n,e,t):n instanceof Dr?(function(i,o,s){if(!_g(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=qk(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(cO(i)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()})(n,e,t):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,t)}function zl(n,e,t,r){return n instanceof bs?(function(o,s,a,c){if(!_g(o.precondition,s))return a;let l=o.value.clone(),d=Gk(o.fieldTransforms,c,s);return l.setAll(d),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null})(n,e,t,r):n instanceof Dr?(function(o,s,a,c){if(!_g(o.precondition,s))return a;let l=Gk(o.fieldTransforms,c,s),d=s.data;return d.setAll(cO(o)),d.setAll(l),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))})(n,e,t,r):(function(o,s,a){return _g(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a})(n,e,t)}function G6(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=rO(r.transform,i||null);o!=null&&(t===null&&(t=vn.empty()),t.set(r.field,o))}return t||null}function zk(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&sc(r,i,(o,s)=>z6(o,s))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var bs=class extends pc{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Dr=class extends pc{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function cO(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function qk(n,e,t){let r=new Map;Ne(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,H6(s,a,t[i]))}return r}function Gk(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,$6(o,s,e))}return r}var Yl=class extends pc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Jw=class extends pc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Zw=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&q6(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=zl(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=zl(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=tO();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let c=aO(s,a);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(le.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ee())}isEqual(e){return this.batchId===e.batchId&&sc(this.mutations,e.mutations,(t,r)=>zk(t,r))&&sc(this.baseMutations,e.baseMutations,(t,r)=>zk(t,r))}},Xw=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ne(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=(function(){return L6})(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var eT=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var tT=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var at,we;function W6(n){switch(n){case k.OK:return ee(64938);case k.CANCELLED:case k.UNKNOWN:case k.DEADLINE_EXCEEDED:case k.RESOURCE_EXHAUSTED:case k.INTERNAL:case k.UNAVAILABLE:case k.UNAUTHENTICATED:return!1;case k.INVALID_ARGUMENT:case k.NOT_FOUND:case k.ALREADY_EXISTS:case k.PERMISSION_DENIED:case k.FAILED_PRECONDITION:case k.ABORTED:case k.OUT_OF_RANGE:case k.UNIMPLEMENTED:case k.DATA_LOSS:return!0;default:return ee(15467,{code:n})}}function uO(n){if(n===void 0)return ti("GRPC error has no .code"),k.UNKNOWN;switch(n){case at.OK:return k.OK;case at.CANCELLED:return k.CANCELLED;case at.UNKNOWN:return k.UNKNOWN;case at.DEADLINE_EXCEEDED:return k.DEADLINE_EXCEEDED;case at.RESOURCE_EXHAUSTED:return k.RESOURCE_EXHAUSTED;case at.INTERNAL:return k.INTERNAL;case at.UNAVAILABLE:return k.UNAVAILABLE;case at.UNAUTHENTICATED:return k.UNAUTHENTICATED;case at.INVALID_ARGUMENT:return k.INVALID_ARGUMENT;case at.NOT_FOUND:return k.NOT_FOUND;case at.ALREADY_EXISTS:return k.ALREADY_EXISTS;case at.PERMISSION_DENIED:return k.PERMISSION_DENIED;case at.FAILED_PRECONDITION:return k.FAILED_PRECONDITION;case at.ABORTED:return k.ABORTED;case at.OUT_OF_RANGE:return k.OUT_OF_RANGE;case at.UNIMPLEMENTED:return k.UNIMPLEMENTED;case at.DATA_LOSS:return k.DATA_LOSS;default:return ee(39323,{code:n})}}(we=at||(at={}))[we.OK=0]="OK",we[we.CANCELLED=1]="CANCELLED",we[we.UNKNOWN=2]="UNKNOWN",we[we.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",we[we.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",we[we.NOT_FOUND=5]="NOT_FOUND",we[we.ALREADY_EXISTS=6]="ALREADY_EXISTS",we[we.PERMISSION_DENIED=7]="PERMISSION_DENIED",we[we.UNAUTHENTICATED=16]="UNAUTHENTICATED",we[we.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",we[we.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",we[we.ABORTED=10]="ABORTED",we[we.OUT_OF_RANGE=11]="OUT_OF_RANGE",we[we.UNIMPLEMENTED=12]="UNIMPLEMENTED",we[we.INTERNAL=13]="INTERNAL",we[we.UNAVAILABLE=14]="UNAVAILABLE",we[we.DATA_LOSS=15]="DATA_LOSS";var Wk=null;var K6=new Jr([4294967295,4294967295],0);function Kk(n){let e=_x().encode(n),t=new mw;return t.update(e),new Uint8Array(t.digest())}function Qk(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Jr([t,r],0),new Jr([i,o],0)]}var nT=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new ms(`Invalid padding: ${t}`);if(r<0)throw new ms(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ms(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new ms(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=Jr.fromNumber(this.fe)}pe(e,t,r){let i=e.add(t.multiply(Jr.fromNumber(r)));return i.compare(K6)===1&&(i=new Jr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let t=Kk(e),[r,i]=Qk(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);if(!this.ye(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.fe===0)return;let t=Kk(e),[r,i]=Qk(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);this.we(s)}}we(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},ms=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Ag=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,Jl.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(le.min(),i,new Ye(pe),oi(),Ee())}},Jl=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,Ee(),Ee(),Ee())}};var rc=class{constructor(e,t,r,i){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=i}},Rg=class{constructor(e,t){this.targetId=e,this.De=t}},Ng=class{constructor(e,t,r=Bt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},Mg=class{constructor(){this.ve=0,this.Ce=Yk(),this.Fe=Bt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Ee(),t=Ee(),r=Ee();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ee(38017,{changeType:o})}}),new Jl(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=Yk()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Ne(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},rT=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=oi(),this.je=gg(),this.Je=gg(),this.He=new Ye(pe)}Ye(e){for(let t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(let t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{let r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:ee(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((r,i)=>{this.nt(i)&&t(i)})}it(e){let t=e.targetId,r=e.De.count,i=this.st(t);if(i){let o=i.target;if(Ww(o))if(r===0){let s=new X(o.path);this.Xe(t,s,Kn.newNoDocument(s,le.min()))}else Ne(r===1,20013,{expectedCount:r});else{let s=this.ot(t);if(s!==r){let a=this._t(e),c=a?this.ut(a,e,s):1;if(c!==0){this.rt(t);let l=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,l)}Wk?.ct((function(d,f,g,m,E){var A,D,M,L,H,W;let Te={localCacheCount:d,existenceFilterCount:f.count,databaseId:g.database,projectId:g.projectId},te=f.unchangedNames;return te&&(Te.bloomFilter={applied:E===0,hashCount:(A=te?.hashCount)!==null&&A!==void 0?A:0,bitmapLength:(L=(M=(D=te?.bits)===null||D===void 0?void 0:D.bitmap)===null||M===void 0?void 0:M.length)!==null&&L!==void 0?L:0,padding:(W=(H=te?.bits)===null||H===void 0?void 0:H.padding)!==null&&W!==void 0?W:0,mightContain:T=>{var v;return(v=m?.mightContain(T))!==null&&v!==void 0&&v}}),Te})(s,e.De,this.We.lt(),a,c))}}}}_t(e){let t=e.De.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=ri(r).toUint8Array()}catch(c){if(c instanceof bg)return co("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new nT(s,i,o)}catch(c){return co(c instanceof ms?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.fe===0?null:a}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){let r=this.We.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.We.lt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Xe(t,o,null),i++)}),i}Pt(e){let t=new Map;this.Ge.forEach((o,s)=>{let a=this.st(s);if(a){if(o.current&&Ww(a.target)){let c=new X(a.target.path);this.Tt(c).has(s)||this.It(s,c)||this.Xe(s,c,Kn.newNoDocument(c,e))}o.Ne&&(t.set(s,o.Le()),o.ke())}});let r=Ee();this.Je.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{let l=this.st(c);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ze.forEach((o,s)=>s.setReadTime(e));let i=new Ag(e,t,this.He,this.ze,r);return this.ze=oi(),this.je=gg(),this.Je=gg(),this.He=new Ye(pe),i}Ze(e,t){if(!this.nt(e))return;let r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;let i=this.tt(e);this.It(e,t)?i.qe(t,1):i.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){let t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new Mg,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new bt(pe),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new bt(pe),this.je=this.je.insert(e,t)),t}nt(e){let t=this.st(e)!==null;return t||G("WatchChangeAggregator","Detected inactive target",e),t}st(e){let t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new Mg),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}};function gg(){return new Ye(X.comparator)}function Yk(){return new Ye(X.comparator)}var Q6={asc:"ASCENDING",desc:"DESCENDING"},Y6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},J6={and:"AND",or:"OR"},iT=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function oT(n,e){return n.useProto3Json||tm(e)?e:{value:e}}function Pg(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function lO(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Z6(n,e){return Pg(n,e.toTimestamp())}function Tr(n){return Ne(!!n,49232),le.fromTimestamp((function(t){let r=ni(t);return new dt(r.seconds,r.nanos)})(n))}function wb(n,e){return sT(n,e).canonicalString()}function sT(n,e){let t=(function(i){return new Ue(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function dO(n){let e=Ue.fromString(n);return Ne(mO(e),10190,{key:e.toString()}),e}function aT(n,e){return wb(n.databaseId,e.path)}function ww(n,e){let t=dO(e);if(t.get(1)!==n.databaseId.projectId)throw new $(k.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new $(k.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new X(fO(t))}function hO(n,e){return wb(n.databaseId,e)}function X6(n){let e=dO(n);return e.length===4?Ue.emptyPath():fO(e)}function cT(n){return new Ue(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function fO(n){return Ne(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Jk(n,e,t){return{name:aT(n,e),fields:t.value.mapValue.fields}}function eW(n,e){let t;if("targetChange"in e){e.targetChange;let r=(function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:ee(39313,{state:l})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(l,d){return l.useProto3Json?(Ne(d===void 0||typeof d=="string",58123),Bt.fromBase64String(d||"")):(Ne(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Bt.fromUint8Array(d||new Uint8Array))})(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&(function(l){let d=l.code===void 0?k.UNKNOWN:uO(l.code);return new $(d,l.message||"")})(s);t=new Ng(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=ww(n,r.document.name),o=Tr(r.document.updateTime),s=r.document.createTime?Tr(r.document.createTime):le.min(),a=new vn({mapValue:{fields:r.document.fields}}),c=Kn.newFoundDocument(i,o,s,a),l=r.targetIds||[],d=r.removedTargetIds||[];t=new rc(l,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=ww(n,r.document),o=r.readTime?Tr(r.readTime):le.min(),s=Kn.newNoDocument(i,o),a=r.removedTargetIds||[];t=new rc([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=ww(n,r.document),o=r.removedTargetIds||[];t=new rc([],o,i,null)}else{if(!("filter"in e))return ee(11601,{At:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new tT(i,o),a=r.targetId;t=new Rg(a,s)}}return t}function tW(n,e){let t;if(e instanceof bs)t={update:Jk(n,e.key,e.value)};else if(e instanceof Yl)t={delete:aT(n,e.key)};else if(e instanceof Dr)t={update:Jk(n,e.key,e.data),updateMask:lW(e.fieldMask)};else{if(!(e instanceof Jw))return ee(16599,{Rt:e.type});t={verify:aT(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>(function(o,s){let a=s.transform;if(a instanceof hc)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ws)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ts)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof fc)return{fieldPath:s.field.canonicalString(),increment:a.Ee};throw ee(20930,{transform:s.transform})})(0,r))),e.precondition.isNone||(t.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:Z6(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ee(27497)})(n,e.precondition)),t}function nW(n,e){return n&&n.length>0?(Ne(e!==void 0,14353),n.map(t=>(function(i,o){let s=i.updateTime?Tr(i.updateTime):Tr(o);return s.isEqual(le.min())&&(s=Tr(o)),new Yw(s,i.transformResults||[])})(t,e))):[]}function rW(n,e){return{documents:[hO(n,e.path)]}}function iW(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=hO(n,i);let o=(function(l){if(l.length!==0)return gO(Qn.create(l,"and"))})(e.filters);o&&(t.structuredQuery.where=o);let s=(function(l){if(l.length!==0)return l.map(d=>(function(g){return{field:ec(g.field),direction:aW(g.dir)}})(d))})(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=oT(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=(function(l){return{before:l.inclusive,values:l.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(l){return{before:!l.inclusive,values:l.position}})(e.endAt)),{Vt:t,parent:i}}function oW(n){let e=X6(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Ne(r===1,65062);let d=t.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];t.where&&(o=(function(f){let g=pO(f);return g instanceof Qn&&Gx(g)?g.getFilters():[g]})(t.where));let s=[];t.orderBy&&(s=(function(f){return f.map(g=>(function(E){return new Is(tc(E.field),(function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(E.direction))})(g))})(t.orderBy));let a=null;t.limit&&(a=(function(f){let g;return g=typeof f=="object"?f.value:f,tm(g)?null:g})(t.limit));let c=null;t.startAt&&(c=(function(f){let g=!!f.before,m=f.values||[];return new lc(m,g)})(t.startAt));let l=null;return t.endAt&&(l=(function(f){let g=!f.before,m=f.values||[];return new lc(m,g)})(t.endAt)),P6(e,i,s,o,a,"F",c,l)}function sW(n,e){let t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ee(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function pO(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=tc(t.unaryFilter.field);return ut.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=tc(t.unaryFilter.field);return ut.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=tc(t.unaryFilter.field);return ut.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=tc(t.unaryFilter.field);return ut.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ee(61313);default:return ee(60726)}})(n):n.fieldFilter!==void 0?(function(t){return ut.create(tc(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ee(58110);default:return ee(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Qn.create(t.compositeFilter.filters.map(r=>pO(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ee(1026)}})(t.compositeFilter.op))})(n):ee(30097,{filter:n})}function aW(n){return Q6[n]}function cW(n){return Y6[n]}function uW(n){return J6[n]}function ec(n){return{fieldPath:n.canonicalString()}}function tc(n){return _n.fromServerFormat(n.fieldPath)}function gO(n){return n instanceof ut?(function(t){if(t.op==="=="){if(Vk(t.value))return{unaryFilter:{field:ec(t.field),op:"IS_NAN"}};if(Lk(t.value))return{unaryFilter:{field:ec(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Vk(t.value))return{unaryFilter:{field:ec(t.field),op:"IS_NOT_NAN"}};if(Lk(t.value))return{unaryFilter:{field:ec(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ec(t.field),op:cW(t.op),value:t.value}}})(n):n instanceof Qn?(function(t){let r=t.getFilters().map(i=>gO(i));return r.length===1?r[0]:{compositeFilter:{op:uW(t.op),filters:r}}})(n):ee(54877,{filter:n})}function lW(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function mO(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Zl=class n{constructor(e,t,r,i,o=le.min(),s=le.min(),a=Bt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var uT=class{constructor(e){this.gt=e}};function dW(n){let e=oW({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Qw(e,e.limit,"L"):e}var kg=class{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(je(e.integerValue));else if("doubleValue"in e){let r=je(e.doubleValue);isNaN(r)?this.Ct(t,13):(this.Ct(t,15),Wl(r)?t.Ft(0):t.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(t,20),typeof r=="string"&&(r=ni(r)),t.Mt(`${r.seconds||""}`),t.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(ri(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(t,45),t.Ft(r.latitude||0),t.Ft(r.longitude||0)}else"mapValue"in e?Hx(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):$x(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):ee(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){let r=e.fields||{};this.Ct(t,55);for(let i of Object.keys(r))this.xt(i,t),this.Dt(r[i],t)}Lt(e,t){var r,i;let o=e.fields||{};this.Ct(t,53);let s=ac,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(t,15),t.Ft(je(a)),this.xt(s,t),this.Dt(o[s],t)}qt(e,t){let r=e.values||[];this.Ct(t,50);for(let i of r)this.Dt(i,t)}Bt(e,t){this.Ct(t,37),X.fromName(e).path.forEach(r=>{this.Ct(t,60),this.$t(r,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}};kg.Ut=new kg;var lT=class{constructor(){this.Dn=new dT}addToCollectionParentIndex(e,t){return this.Dn.add(t),O.resolve()}getCollectionParents(e,t){return O.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return O.resolve()}deleteFieldIndex(e,t){return O.resolve()}deleteAllFieldIndexes(e){return O.resolve()}createTargetIndexes(e,t){return O.resolve()}getDocumentsMatchingTarget(e,t){return O.resolve(null)}getIndexType(e,t){return O.resolve(0)}getFieldIndexes(e,t){return O.resolve([])}getNextCollectionGroupToUpdate(e){return O.resolve(null)}getMinOffset(e,t){return O.resolve(Es.min())}getMinOffsetFromCollectionGroup(e,t){return O.resolve(Es.min())}updateCollectionGroup(e,t,r){return O.resolve()}updateIndexEntries(e,t){return O.resolve()}},dT=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new bt(Ue.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new bt(Ue.comparator)).toArray()}};var Bhe=new Uint8Array(0);var Zk={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},yO=41943040,Mn=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};Mn.DEFAULT_COLLECTION_PERCENTILE=10,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mn.DEFAULT=new Mn(yO,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mn.DISABLED=new Mn(-1,0,0);var Xl=class n{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new n(0)}static ur(){return new n(-1)}};var Xk="LruGarbageCollector",hW=1048576;function ex([n,e],[t,r]){let i=pe(n,t);return i===0?pe(e,r):i}var hT=class{constructor(e){this.Tr=e,this.buffer=new bt(ex),this.Ir=0}dr(){return++this.Ir}Er(e){let t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();ex(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},fT=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){G(Xk,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>_(this,null,function*(){this.Ar=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ec(t)?G(Xk,"Ignoring IndexedDB error during garbage collection: ",t):yield _c(t)}yield this.Rr(3e5)}))}},pT=class{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return O.resolve(hb.ue);let r=new hT(t);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(G("LruGarbageCollector","Garbage collection skipped; disabled"),O.resolve(Zk)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(G("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Zk):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,i,o,s,a,c,l,d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(G("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,t))).next(f=>(o=f,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(l=Date.now(),Za()<=ve.DEBUG&&G("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-d}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(c-a)+`ms
	Removed ${f} documents in `+(l-c)+`ms
Total Duration: ${l-d}ms`),O.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:f})))}};function fW(n,e){return new pT(n,e)}var gT=class{constructor(){this.changes=new ii(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Kn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?O.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var mT=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var yT=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&zl(r.mutation,i,Pn.empty(),dt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ee()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ee()){let i=gs();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=Ul();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=gs();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ee()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=oi(),s=Hl(),a=(function(){return Hl()})();return t.forEach((c,l)=>{let d=r.get(l.key);i.has(l.key)&&(d===void 0||d.mutation instanceof Dr)?o=o.insert(l.key,l):d!==void 0?(s.set(l.key,d.mutation.getFieldMask()),zl(d.mutation,l,d.mutation.getFieldMask(),dt.now())):s.set(l.key,Pn.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((l,d)=>s.set(l,d)),t.forEach((l,d)=>{var f;return a.set(l,new mT(d,(f=s.get(l))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,t){let r=Hl(),i=new Ye((s,a)=>s-a),o=Ee();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(c=>{let l=t.get(c);if(l===null)return;let d=r.get(c)||Pn.empty();d=a.applyToLocalView(l,d),r.set(c,d);let f=(i.get(a.batchId)||Ee()).add(c);i=i.insert(a.batchId,f)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),l=c.key,d=c.value,f=tO();d.forEach(g=>{if(!o.has(g)){let m=aO(t.get(g),r.get(g));m!==null&&f.set(g,m),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,f))}return O.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return(function(s){return X.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Yx(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):O.resolve(gs()),a=Gl,c=o;return s.next(l=>O.forEach(l,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(d)?O.resolve():this.remoteDocumentCache.getEntry(e,d).next(g=>{c=c.insert(d,g)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,c,l,Ee())).next(d=>({batchId:a,changes:eO(d)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new X(t)).next(r=>{let i=Ul();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=Ul();return this.indexManager.getCollectionParents(e,o).next(a=>O.forEach(a,c=>{let l=(function(f,g){return new lo(g,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)})(t,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(d=>{d.forEach((f,g)=>{s=s.insert(f,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((c,l)=>{let d=l.getKey();s.get(d)===null&&(s=s.insert(d,Kn.newInvalidDocument(d)))});let a=Ul();return s.forEach((c,l)=>{let d=o.get(c);d!==void 0&&zl(d.mutation,l,Pn.empty(),dt.now()),im(t,l)&&(a=a.insert(c,l))}),a})}};var vT=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return O.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:Tr(i.createTime)}})(t)),O.resolve()}getNamedQuery(e,t){return O.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,(function(i){return{name:i.name,query:dW(i.bundledQuery),readTime:Tr(i.readTime)}})(t)),O.resolve()}};var _T=class{constructor(){this.overlays=new Ye(X.comparator),this.kr=new Map}getOverlay(e,t){return O.resolve(this.overlays.get(t))}getOverlays(e,t){let r=gs();return O.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.wt(e,t,o)}),O.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),O.resolve()}getOverlaysForCollection(e,t,r){let i=gs(),o=t.length+1,s=new X(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let c=a.getNext().value,l=c.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return O.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Ye((l,d)=>l-d),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let d=o.get(l.largestBatchId);d===null&&(d=gs(),o=o.insert(l.largestBatchId,d)),d.set(l.getKey(),l)}}let a=gs(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,d)=>a.set(l,d)),!(a.size()>=i)););return O.resolve(a)}wt(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new eT(t,r));let o=this.kr.get(t);o===void 0&&(o=Ee(),this.kr.set(t,o)),this.kr.set(t,o.add(r.key))}};var ET=class{constructor(){this.sessionToken=Bt.EMPTY_BYTE_STRING}getSessionToken(e){return O.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,O.resolve()}};var ed=class{constructor(){this.qr=new bt(ct.Qr),this.$r=new bt(ct.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){let r=new ct(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Wr(new ct(e,t))}Gr(e,t){e.forEach(r=>this.removeReference(r,t))}zr(e){let t=new X(new Ue([])),r=new ct(t,e),i=new ct(t,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let t=new X(new Ue([])),r=new ct(t,e),i=new ct(t,e+1),o=Ee();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new ct(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},ct=class{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return X.comparator(e.key,t.key)||pe(e.Hr,t.Hr)}static Ur(e,t){return pe(e.Hr,t.Hr)||X.comparator(e.key,t.key)}};var IT=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new bt(ct.Qr)}checkEmpty(e){return O.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new Zw(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.Yr=this.Yr.add(new ct(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return O.resolve(s)}lookupMutationBatch(e,t){return O.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Xr(r),o=i<0?0:i;return O.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return O.resolve(this.mutationQueue.length===0?fb:this.er-1)}getAllMutationBatches(e){return O.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new ct(t,0),i=new ct(t,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{let a=this.Zr(s.Hr);o.push(a)}),O.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new bt(pe);return t.forEach(i=>{let o=new ct(i,0),s=new ct(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],a=>{r=r.add(a.Hr)})}),O.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;X.isDocumentKey(o)||(o=o.child(""));let s=new ct(new X(o),0),a=new bt(pe);return this.Yr.forEachWhile(c=>{let l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(c.Hr)),!0)},s),O.resolve(this.ei(a))}ei(e){let t=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Ne(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return O.forEach(t.mutations,i=>{let o=new ct(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,t){let r=new ct(t,0),i=this.Yr.firstAfterOrEqual(r);return O.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,O.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var wT=class{constructor(e){this.ni=e,this.docs=(function(){return new Ye(X.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return O.resolve(r?r.document.mutableCopy():Kn.newInvalidDocument(t))}getEntries(e,t){let r=oi();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Kn.newInvalidDocument(i))}),O.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=oi(),s=t.path,a=new X(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:l,value:{document:d}}=c.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||f6(h6(d),r)<=0||(i.has(d.key)||im(t,d))&&(o=o.insert(d.key,d.mutableCopy()))}return O.resolve(o)}getAllFromCollectionGroup(e,t,r,i){ee(9500)}ri(e,t){return O.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new TT(this)}getSize(e){return O.resolve(this.size)}},TT=class extends gT{constructor(e){super(),this.Or=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),O.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}};var bT=class{constructor(e){this.persistence=e,this.ii=new ii(t=>vb(t),_b),this.lastRemoteSnapshotVersion=le.min(),this.highestTargetId=0,this.si=0,this.oi=new ed,this.targetCount=0,this._i=Xl.ar()}forEachTarget(e,t){return this.ii.forEach((r,i)=>t(i)),O.resolve()}getLastRemoteSnapshotVersion(e){return O.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return O.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),O.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),O.resolve()}hr(e){this.ii.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this._i=new Xl(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,O.resolve()}updateTargetData(e,t){return this.hr(t),O.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,O.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.ii.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),O.waitFor(o).next(()=>i)}getTargetCount(e){return O.resolve(this.targetCount)}getTargetData(e,t){let r=this.ii.get(t)||null;return O.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),O.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),O.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),O.resolve()}getMatchingKeysForTargetId(e,t){let r=this.oi.Jr(t);return O.resolve(r)}containsKey(e,t){return O.resolve(this.oi.containsKey(t))}};var xg=class{constructor(e,t){this.ai={},this.overlays={},this.ui=new hb(0),this.ci=!1,this.ci=!0,this.li=new ET,this.referenceDelegate=e(this),this.hi=new bT(this),this.indexManager=new lT,this.remoteDocumentCache=(function(i){return new wT(i)})(r=>this.referenceDelegate.Pi(r)),this.serializer=new uT(t),this.Ti=new vT(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new _T,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new IT(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){G("MemoryPersistence","Starting transaction:",e);let i=new DT(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,t){return O.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,t)))}},DT=class extends xw{constructor(e){super(),this.currentSequenceNumber=e}},CT=class n{constructor(e){this.persistence=e,this.Ai=new ed,this.Ri=null}static Vi(e){return new n(e)}get mi(){if(this.Ri)return this.Ri;throw ee(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),O.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),O.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),O.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return O.forEach(this.mi,r=>{let i=X.fromPath(r);return this.fi(e,i).next(o=>{o||t.removeEntry(i,le.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return O.or([()=>O.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}},Og=class n{constructor(e,t){this.persistence=e,this.gi=new ii(r=>y6(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=fW(this,t)}static Vi(e,t){return new n(e,t)}Ii(){}di(e){return O.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){let t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}yr(e){let t=0;return this.gr(e,r=>{t++}).next(()=>t)}gr(e,t){return O.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?O.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,t).next(a=>{a||(r++,o.removeEntry(s,le.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),O.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),O.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),O.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),O.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=yg(e.data.value)),t}Sr(e,t,r){return O.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.gi.get(t);return O.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var ST=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=i}static Es(e,t){let r=Ee(),i=Ee();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var AT=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var RT=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return zM()?8:g6(wt())>0?6:4})()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.ps(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new AT;return this.ws(e,t,s).next(a=>{if(o.result=a,this.Rs)return this.Ss(e,t,s,a.size)})}).next(()=>o.result)}Ss(e,t,r,i){return r.documentReadCount<this.Vs?(Za()<=ve.DEBUG&&G("QueryEngine","SDK will not create cache indexes for query:",Xa(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),O.resolve()):(Za()<=ve.DEBUG&&G("QueryEngine","Query:",Xa(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(Za()<=ve.DEBUG&&G("QueryEngine","The SDK decides to create cache indexes for query:",Xa(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,wr(t))):O.resolve())}ps(e,t){if($k(t))return O.resolve(null);let r=wr(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=Qw(t,null,"F"),r=wr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=Ee(...o);return this.gs.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let l=this.bs(t,a);return this.Ds(t,l,s,c.readTime)?this.ps(e,Qw(t,null,"F")):this.vs(e,l,t,c)}))})))}ys(e,t,r,i){return $k(t)||i.isEqual(le.min())?O.resolve(null):this.gs.getDocuments(e,r).next(o=>{let s=this.bs(t,o);return this.Ds(t,s,r,i)?O.resolve(null):(Za()<=ve.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Xa(t)),this.vs(e,s,t,d6(i,Gl)).next(a=>a))})}bs(e,t){let r=new bt(Zx(e));return t.forEach((i,o)=>{im(e,o)&&(r=r.add(o))}),r}Ds(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,t,r){return Za()<=ve.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",Xa(t)),this.gs.getDocumentsMatchingQuery(e,t,Es.min(),r)}vs(e,t,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var Tb="LocalStore",pW=3e8,NT=class{constructor(e,t,r,i){this.persistence=e,this.Cs=t,this.serializer=i,this.Fs=new Ye(pe),this.Ms=new ii(o=>vb(o),_b),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yT(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}};function gW(n,e,t,r){return new NT(n,e,t,r)}function vO(n,e){return _(this,null,function*(){let t=ae(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ns(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],c=Ee();for(let l of i){s.push(l.batchId);for(let d of l.mutations)c=c.add(d.key)}for(let l of o){a.push(l.batchId);for(let d of l.mutations)c=c.add(d.key)}return t.localDocuments.getDocuments(r,c).next(l=>({Bs:l,removedBatchIds:s,addedBatchIds:a}))})})})}function mW(n,e){let t=ae(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.Os.newChangeBuffer({trackRemovals:!0});return(function(a,c,l,d){let f=l.batch,g=f.keys(),m=O.resolve();return g.forEach(E=>{m=m.next(()=>d.getEntry(c,E)).next(A=>{let D=l.docVersions.get(E);Ne(D!==null,48541),A.version.compareTo(D)<0&&(f.applyToRemoteDocument(A,l),A.isValidDocument()&&(A.setReadTime(l.commitVersion),d.addEntry(A)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(c,f))})(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(a){let c=Ee();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c})(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function _O(n){let e=ae(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function yW(n,e){let t=ae(n),r=e.snapshotVersion,i=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Os.newChangeBuffer({trackRemovals:!0});i=t.Fs;let a=[];e.targetChanges.forEach((d,f)=>{let g=i.get(f);if(!g)return;a.push(t.hi.removeMatchingKeys(o,d.removedDocuments,f).next(()=>t.hi.addMatchingKeys(o,d.addedDocuments,f)));let m=g.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(Bt.EMPTY_BYTE_STRING,le.min()).withLastLimboFreeSnapshotVersion(le.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),i=i.insert(f,m),(function(A,D,M){return A.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=pW?!0:M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0})(g,m,d)&&a.push(t.hi.updateTargetData(o,m))});let c=oi(),l=Ee();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(vW(o,s,e.documentUpdates).next(d=>{c=d.Ls,l=d.ks})),!r.isEqual(le.min())){let d=t.hi.getLastRemoteSnapshotVersion(o).next(f=>t.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(d)}return O.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,c,l)).next(()=>c)}).then(o=>(t.Fs=i,o))}function vW(n,e,t){let r=Ee(),i=Ee();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=oi();return t.forEach((a,c)=>{let l=o.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(le.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||c.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):G(Tb,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{Ls:s,ks:i}})}function _W(n,e){let t=ae(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=fb),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function EW(n,e){let t=ae(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.hi.getTargetData(r,e).next(o=>o?(i=o,O.resolve(i)):t.hi.allocateTargetId(r).next(s=>(i=new Zl(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r})}function MT(n,e,t){return _(this,null,function*(){let r=ae(n),i=r.Fs.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Ec(s))throw s;G(Tb,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)})}function tx(n,e,t){let r=ae(n),i=le.min(),o=Ee();return r.persistence.runTransaction("Execute query","readwrite",s=>(function(c,l,d){let f=ae(c),g=f.Ms.get(d);return g!==void 0?O.resolve(f.Fs.get(g)):f.hi.getTargetData(l,d)})(r,s,wr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,t?i:le.min(),t?o:Ee())).next(a=>(IW(r,x6(e),a),{documents:a,qs:o})))}function IW(n,e,t){let r=n.xs.get(e)||le.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.xs.set(e,r)}var Fg=class{constructor(){this.activeTargetIds=U6()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var PT=class{constructor(){this.Fo=new Fg,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new Fg,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var kT=class{xo(e){}shutdown(){}};var nx="ConnectivityMonitor",Lg=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){G(nx,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){G(nx,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var mg=null;function xT(){return mg===null?mg=(function(){return 268435456+Math.round(2147483648*Math.random())})():mg++,"0x"+mg.toString(16)}var Tw="RestConnection",wW={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},OT=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===Dg?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,t,r,i,o){let s=xT(),a=this.Go(e,t.toUriEncodedString());G(Tw,`Sending RPC '${e}' ${s}:`,a,r);let c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(c,i,o);let{host:l}=new URL(a),d=Gi(l);return this.jo(e,a,c,r,d).then(f=>(G(Tw,`Received RPC '${e}' ${s}: `,f),f),f=>{throw co(Tw,`RPC '${e}' ${s} failed with error: `,f,"url: ",a,"request:",r),f})}Jo(e,t,r,i,o,s){return this.Wo(e,t,r,i,o)}zo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+vc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,t){let r=wW[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}};var FT=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var Ut="WebChannelConnection",LT=class extends OT{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,i,o){let s=xT();return new Promise((a,c)=>{let l=new yw;l.setWithCredentials(!0),l.listenOnce(vw.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case jl.NO_ERROR:let f=l.getResponseJson();G(Ut,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),a(f);break;case jl.TIMEOUT:G(Ut,`RPC '${e}' ${s} timed out`),c(new $(k.DEADLINE_EXCEEDED,"Request time out"));break;case jl.HTTP_ERROR:let g=l.getStatus();if(G(Ut,`RPC '${e}' ${s} failed with status:`,g,"response text:",l.getResponseText()),g>0){let m=l.getResponseJson();Array.isArray(m)&&(m=m[0]);let E=m?.error;if(E&&E.status&&E.message){let A=(function(M){let L=M.toLowerCase().replace(/_/g,"-");return Object.values(k).indexOf(L)>=0?L:k.UNKNOWN})(E.status);c(new $(A,E.message))}else c(new $(k.UNKNOWN,"Server responded with status "+l.getStatus()))}else c(new $(k.UNAVAILABLE,"Connection failed."));break;default:ee(9055,{c_:e,streamId:s,l_:l.getLastErrorCode(),h_:l.getLastError()})}}finally{G(Ut,`RPC '${e}' ${s} completed.`)}});let d=JSON.stringify(i);G(Ut,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",d,r,15)})}P_(e,t,r){let i=xT(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Iw(),a=Ew(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.useFetchStreams=!0),this.zo(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;let d=o.join("");G(Ut,`Creating RPC '${e}' stream ${i}: ${d}`,c);let f=s.createWebChannel(d,c);this.T_(f);let g=!1,m=!1,E=new FT({Ho:D=>{m?G(Ut,`Not sending because RPC '${e}' stream ${i} is closed:`,D):(g||(G(Ut,`Opening RPC '${e}' stream ${i} transport.`),f.open(),g=!0),G(Ut,`RPC '${e}' stream ${i} sending:`,D),f.send(D))},Yo:()=>f.close()}),A=(D,M,L)=>{D.listen(M,H=>{try{L(H)}catch(W){setTimeout(()=>{throw W},0)}})};return A(f,Ja.EventType.OPEN,()=>{m||(G(Ut,`RPC '${e}' stream ${i} transport opened.`),E.s_())}),A(f,Ja.EventType.CLOSE,()=>{m||(m=!0,G(Ut,`RPC '${e}' stream ${i} transport closed`),E.__(),this.I_(f))}),A(f,Ja.EventType.ERROR,D=>{m||(m=!0,co(Ut,`RPC '${e}' stream ${i} transport errored. Name:`,D.name,"Message:",D.message),E.__(new $(k.UNAVAILABLE,"The operation could not be completed")))}),A(f,Ja.EventType.MESSAGE,D=>{var M;if(!m){let L=D.data[0];Ne(!!L,16349);let H=L,W=H?.error||((M=H[0])===null||M===void 0?void 0:M.error);if(W){G(Ut,`RPC '${e}' stream ${i} received error:`,W);let Te=W.status,te=(function(I){let b=at[I];if(b!==void 0)return uO(b)})(Te),T=W.message;te===void 0&&(te=k.INTERNAL,T="Unknown error status: "+Te+" with message "+W.message),m=!0,E.__(new $(te,T)),f.close()}else G(Ut,`RPC '${e}' stream ${i} received:`,L),E.a_(L)}}),A(a,_w.STAT_EVENT,D=>{D.stat===fg.PROXY?G(Ut,`RPC '${e}' stream ${i} detected buffering proxy`):D.stat===fg.NOPROXY&&G(Ut,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{E.o_()},0),E}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}};function bw(){return typeof document<"u"?document:null}function om(n){return new iT(n,!0)}var Vg=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,t-r);i>0&&G("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var rx="PersistentStream",jg=class{constructor(e,t,r,i,o,s,a,c){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new Vg(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}stop(){return _(this,null,function*(){this.M_()&&(yield this.close(0))})}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}L_(){return _(this,null,function*(){if(this.x_())return this.close(0)})}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}close(e,t){return _(this,null,function*(){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===k.RESOURCE_EXHAUSTED?(ti(t.toString()),ti("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===k.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.n_(t)})}U_(){}auth(){this.state=1;let e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===t&&this.W_(r,i)},r=>{e(()=>{let i=new $(k.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,t){let r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(()=>_(this,null,function*(){this.state=0,this.start()}))}G_(e){return G(rx,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(G(rx,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},VT=class extends jg{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let t=eW(this.serializer,e),r=(function(o){if(!("targetChange"in o))return le.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?le.min():s.readTime?Tr(s.readTime):le.min()})(e);return this.listener.J_(t,r)}H_(e){let t={};t.database=cT(this.serializer),t.addTarget=(function(o,s){let a,c=s.target;if(a=Ww(c)?{documents:rW(o,c)}:{query:iW(o,c).Vt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=lO(o,s.resumeToken);let l=oT(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(le.min())>0){a.readTime=Pg(o,s.snapshotVersion.toTimestamp());let l=oT(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a})(this.serializer,e);let r=sW(this.serializer,e);r&&(t.labels=r),this.k_(t)}Y_(e){let t={};t.database=cT(this.serializer),t.removeTarget=e,this.k_(t)}},jT=class extends jg{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return Ne(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ne(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Ne(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();let t=nW(e.writeResults,e.commitTime),r=Tr(e.commitTime);return this.listener.ta(r,t)}na(){let e={};e.database=cT(this.serializer),this.k_(e)}X_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>tW(this.serializer,r))};this.k_(t)}};var UT=class{},BT=class extends UT{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new $(k.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,sT(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new $(k.UNKNOWN,o.toString())})}Jo(e,t,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Jo(e,sT(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new $(k.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},$T=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(ti(t),this._a=!1):G("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var Ds="RemoteStore",HT=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{r.enqueueAndForget(()=>_(this,null,function*(){Ss(this)&&(G(Ds,"Restarting streams for network reachability change."),yield(function(c){return _(this,null,function*(){let l=ae(c);l.Ia.add(4),yield id(l),l.Aa.set("Unknown"),l.Ia.delete(4),yield sm(l)})})(this))}))}),this.Aa=new $T(r,i)}};function sm(n){return _(this,null,function*(){if(Ss(n))for(let e of n.da)yield e(!0)})}function id(n){return _(this,null,function*(){for(let e of n.da)yield e(!1)})}function EO(n,e){let t=ae(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),Sb(t)?Cb(t):Ic(t).x_()&&Db(t,e))}function bb(n,e){let t=ae(n),r=Ic(t);t.Ta.delete(e),r.x_()&&IO(t,e),t.Ta.size===0&&(r.x_()?r.B_():Ss(t)&&t.Aa.set("Unknown"))}function Db(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(le.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ic(n).H_(e)}function IO(n,e){n.Ra.$e(e),Ic(n).Y_(e)}function Cb(n){n.Ra=new rT({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),Ic(n).start(),n.Aa.aa()}function Sb(n){return Ss(n)&&!Ic(n).M_()&&n.Ta.size>0}function Ss(n){return ae(n).Ia.size===0}function wO(n){n.Ra=void 0}function TW(n){return _(this,null,function*(){n.Aa.set("Online")})}function bW(n){return _(this,null,function*(){n.Ta.forEach((e,t)=>{Db(n,e)})})}function DW(n,e){return _(this,null,function*(){wO(n),Sb(n)?(n.Aa.la(e),Cb(n)):n.Aa.set("Unknown")})}function CW(n,e,t){return _(this,null,function*(){if(n.Aa.set("Online"),e instanceof Ng&&e.state===2&&e.cause)try{yield(function(i,o){return _(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.Ta.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Ta.delete(a),i.Ra.removeTarget(a))})})(n,e)}catch(r){G(Ds,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Ug(n,r)}else if(e instanceof rc?n.Ra.Ye(e):e instanceof Rg?n.Ra.it(e):n.Ra.et(e),!t.isEqual(le.min()))try{let r=yield _O(n.localStore);t.compareTo(r)>=0&&(yield(function(o,s){let a=o.Ra.Pt(s);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){let d=o.Ta.get(l);d&&o.Ta.set(l,d.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,l)=>{let d=o.Ta.get(c);if(!d)return;o.Ta.set(c,d.withResumeToken(Bt.EMPTY_BYTE_STRING,d.snapshotVersion)),IO(o,c);let f=new Zl(d.target,c,l,d.sequenceNumber);Db(o,f)}),o.remoteSyncer.applyRemoteEvent(a)})(n,t))}catch(r){G(Ds,"Failed to raise snapshot:",r),yield Ug(n,r)}})}function Ug(n,e,t){return _(this,null,function*(){if(!Ec(e))throw e;n.Ia.add(1),yield id(n),n.Aa.set("Offline"),t||(t=()=>_O(n.localStore)),n.asyncQueue.enqueueRetryable(()=>_(null,null,function*(){G(Ds,"Retrying IndexedDB access"),yield t(),n.Ia.delete(1),yield sm(n)}))})}function TO(n,e){return e().catch(t=>Ug(n,t,e))}function am(n){return _(this,null,function*(){let e=ae(n),t=ho(e),r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:fb;for(;SW(e);)try{let i=yield _W(e.localStore,r);if(i===null){e.Pa.length===0&&t.B_();break}r=i.batchId,AW(e,i)}catch(i){yield Ug(e,i)}bO(e)&&DO(e)})}function SW(n){return Ss(n)&&n.Pa.length<10}function AW(n,e){n.Pa.push(e);let t=ho(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function bO(n){return Ss(n)&&!ho(n).M_()&&n.Pa.length>0}function DO(n){ho(n).start()}function RW(n){return _(this,null,function*(){ho(n).na()})}function NW(n){return _(this,null,function*(){let e=ho(n);for(let t of n.Pa)e.X_(t.mutations)})}function MW(n,e,t){return _(this,null,function*(){let r=n.Pa.shift(),i=Xw.from(r,e,t);yield TO(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield am(n)})}function PW(n,e){return _(this,null,function*(){e&&ho(n).Z_&&(yield(function(r,i){return _(this,null,function*(){if((function(s){return W6(s)&&s!==k.ABORTED})(i.code)){let o=r.Pa.shift();ho(r).N_(),yield TO(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield am(r)}})})(n,e)),bO(n)&&DO(n)})}function ix(n,e){return _(this,null,function*(){let t=ae(n);t.asyncQueue.verifyOperationInProgress(),G(Ds,"RemoteStore received new credentials");let r=Ss(t);t.Ia.add(3),yield id(t),r&&t.Aa.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),yield sm(t)})}function kW(n,e){return _(this,null,function*(){let t=ae(n);e?(t.Ia.delete(2),yield sm(t)):e||(t.Ia.add(2),yield id(t),t.Aa.set("Unknown"))})}function Ic(n){return n.Va||(n.Va=(function(t,r,i){let o=ae(t);return o.ia(),new VT(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Zo:TW.bind(null,n),e_:bW.bind(null,n),n_:DW.bind(null,n),J_:CW.bind(null,n)}),n.da.push(e=>_(null,null,function*(){e?(n.Va.N_(),Sb(n)?Cb(n):n.Aa.set("Unknown")):(yield n.Va.stop(),wO(n))}))),n.Va}function ho(n){return n.ma||(n.ma=(function(t,r,i){let o=ae(t);return o.ia(),new jT(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:RW.bind(null,n),n_:PW.bind(null,n),ea:NW.bind(null,n),ta:MW.bind(null,n)}),n.da.push(e=>_(null,null,function*(){e?(n.ma.N_(),yield am(n)):(yield n.ma.stop(),n.Pa.length>0&&(G(Ds,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))}))),n.ma}var zT=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Xr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new $(k.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Ab(n,e){if(ti("AsyncQueue",`${e}: ${n}`),Ec(n))return new $(k.UNAVAILABLE,`${e}: ${n}`);throw n}var Bg=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||X.comparator(t.key,r.key):(t,r)=>X.comparator(t.key,r.key),this.keyedMap=Ul(),this.sortedSet=new Ye(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var $g=class{constructor(){this.fa=new Ye(X.comparator)}track(e){let t=e.doc.key,r=this.fa.get(t);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(t,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(t):e.type===1&&r.type===2?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):ee(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){let e=[];return this.fa.inorderTraversal((t,r)=>{e.push(r)}),e}},gc=class n{constructor(e,t,r,i,o,s,a,c,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,Bg.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var qT=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},GT=class{constructor(){this.queries=ox(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){let i=ae(t),o=i.queries;i.queries=ox(),o.forEach((s,a)=>{for(let c of a.wa)c.onError(r)})})(this,new $(k.ABORTED,"Firestore shutting down"))}};function ox(){return new ii(n=>Jx(n),rm)}function xW(n,e){return _(this,null,function*(){let t=ae(n),r=3,i=e.query,o=t.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new qT,r=e.ba()?0:1);try{switch(r){case 0:o.ya=yield t.onListen(i,!0);break;case 1:o.ya=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=Ab(s,`Initialization of query '${Xa(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.wa.push(e),e.va(t.onlineState),o.ya&&e.Ca(o.ya)&&Rb(t)})}function OW(n,e){return _(this,null,function*(){let t=ae(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.wa.indexOf(e);s>=0&&(o.wa.splice(s,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function FW(n,e){let t=ae(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.wa)a.Ca(i)&&(r=!0);s.ya=i}}r&&Rb(t)}function LW(n,e,t){let r=ae(n),i=r.queries.get(e);if(i)for(let o of i.wa)o.onError(t);r.queries.delete(e)}function Rb(n){n.Da.forEach(e=>{e.next()})}var WT,sx;(sx=WT||(WT={})).Fa="default",sx.Cache="cache";var KT=class{constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new gc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;let r=t!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=gc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==WT.Cache}};var Hg=class{constructor(e){this.key=e}},zg=class{constructor(e){this.key=e}},QT=class{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Ee(),this.mutatedKeys=Ee(),this.Xa=Zx(e),this.eu=new Bg(this.Xa)}get tu(){return this.Ha}nu(e,t){let r=t?t.ru:new $g,i=t?t.eu:this.eu,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{let g=i.get(d),m=im(this.query,f)?f:null,E=!!g&&this.mutatedKeys.has(g.key),A=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations),D=!1;g&&m?g.data.isEqual(m.data)?E!==A&&(r.track({type:3,doc:m}),D=!0):this.iu(g,m)||(r.track({type:2,doc:m}),D=!0,(c&&this.Xa(m,c)>0||l&&this.Xa(m,l)<0)&&(a=!0)):!g&&m?(r.track({type:0,doc:m}),D=!0):g&&!m&&(r.track({type:1,doc:g}),D=!0,(c||l)&&(a=!0)),D&&(m?(s=s.add(m),o=A?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{eu:s,ru:r,Ds:a,mutatedKeys:o}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let s=e.ru.pa();s.sort((d,f)=>(function(m,E){let A=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ee(20277,{At:D})}};return A(m)-A(E)})(d.type,f.type)||this.Xa(d.doc,f.doc)),this.su(r),i=i!=null&&i;let a=t&&!i?this.ou():[],c=this.Za.size===0&&this.current&&!i?1:0,l=c!==this.Ya;return this.Ya=c,s.length!==0||l?{snapshot:new gc(this.query,e.eu,o,s,e.mutatedKeys,c===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new $g,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=Ee(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});let t=[];return e.forEach(r=>{this.Za.has(r)||t.push(new zg(r))}),this.Za.forEach(r=>{e.has(r)||t.push(new Hg(r))}),t}uu(e){this.Ha=e.qs,this.Za=Ee();let t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return gc.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},Nb="SyncEngine",YT=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},JT=class{constructor(e){this.key=e,this.lu=!1}},ZT=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new ii(a=>Jx(a),rm),this.Tu=new Map,this.Iu=new Set,this.du=new Ye(X.comparator),this.Eu=new Map,this.Au=new ed,this.Ru={},this.Vu=new Map,this.mu=Xl.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};function VW(n,e,t=!0){return _(this,null,function*(){let r=MO(n),i,o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=yield CO(r,e,t,!0),i})}function jW(n,e){return _(this,null,function*(){let t=MO(n);yield CO(t,e,!0,!1)})}function CO(n,e,t,r){return _(this,null,function*(){let i=yield EW(n.localStore,wr(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield UW(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&EO(n.remoteStore,i),a})}function UW(n,e,t,r,i){return _(this,null,function*(){n.gu=(f,g,m)=>(function(A,D,M,L){return _(this,null,function*(){let H=D.view.nu(M);H.Ds&&(H=yield tx(A.localStore,D.query,!1).then(({documents:T})=>D.view.nu(T,H)));let W=L&&L.targetChanges.get(D.targetId),Te=L&&L.targetMismatches.get(D.targetId)!=null,te=D.view.applyChanges(H,A.isPrimaryClient,W,Te);return cx(A,D.targetId,te._u),te.snapshot})})(n,f,g,m);let o=yield tx(n.localStore,e,!0),s=new QT(e,o.qs),a=s.nu(o.documents),c=Jl.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=s.applyChanges(a,n.isPrimaryClient,c);cx(n,t,l._u);let d=new YT(e,t,s);return n.Pu.set(e,d),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),l.snapshot})}function BW(n,e,t){return _(this,null,function*(){let r=ae(n),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(s=>!rm(s,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield MT(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&bb(r.remoteStore,i.targetId),XT(r,i.targetId)}).catch(_c))):(XT(r,i.targetId),yield MT(r.localStore,i.targetId,!0))})}function $W(n,e){return _(this,null,function*(){let t=ae(n),r=t.Pu.get(e),i=t.Tu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),bb(t.remoteStore,r.targetId))})}function HW(n,e,t){return _(this,null,function*(){let r=YW(n);try{let i=yield(function(s,a){let c=ae(s),l=dt.now(),d=a.reduce((m,E)=>m.add(E.key),Ee()),f,g;return c.persistence.runTransaction("Locally write mutations","readwrite",m=>{let E=oi(),A=Ee();return c.Os.getEntries(m,d).next(D=>{E=D,E.forEach((M,L)=>{L.isValidDocument()||(A=A.add(M))})}).next(()=>c.localDocuments.getOverlayedDocuments(m,E)).next(D=>{f=D;let M=[];for(let L of a){let H=G6(L,f.get(L.key).overlayedDocument);H!=null&&M.push(new Dr(L.key,H,zx(H.value.mapValue),ei.exists(!0)))}return c.mutationQueue.addMutationBatch(m,l,M,a)}).next(D=>{g=D;let M=D.applyToLocalDocumentSet(f,A);return c.documentOverlayCache.saveOverlays(m,D.batchId,M)})}).then(()=>({batchId:g.batchId,changes:eO(f)}))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(s,a,c){let l=s.Ru[s.currentUser.toKey()];l||(l=new Ye(pe)),l=l.insert(a,c),s.Ru[s.currentUser.toKey()]=l})(r,i.batchId,t),yield od(r,i.changes),yield am(r.remoteStore)}catch(i){let o=Ab(i,"Failed to persist write");t.reject(o)}})}function SO(n,e){return _(this,null,function*(){let t=ae(n);try{let r=yield yW(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Eu.get(o);s&&(Ne(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?Ne(s.lu,14607):i.removedDocuments.size>0&&(Ne(s.lu,42227),s.lu=!1))}),yield od(t,r,e)}catch(r){yield _c(r)}})}function ax(n,e,t){let r=ae(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Pu.forEach((o,s)=>{let a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),(function(s,a){let c=ae(s);c.onlineState=a;let l=!1;c.queries.forEach((d,f)=>{for(let g of f.wa)g.va(a)&&(l=!0)}),l&&Rb(c)})(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function zW(n,e,t){return _(this,null,function*(){let r=ae(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new Ye(X.comparator);s=s.insert(o,Kn.newNoDocument(o,le.min()));let a=Ee().add(o),c=new Ag(le.min(),new Map,new Ye(pe),s,a);yield SO(r,c),r.du=r.du.remove(o),r.Eu.delete(e),Mb(r)}else yield MT(r.localStore,e,!1).then(()=>XT(r,e,t)).catch(_c)})}function qW(n,e){return _(this,null,function*(){let t=ae(n),r=e.batch.batchId;try{let i=yield mW(t.localStore,e);RO(t,r,null),AO(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield od(t,i)}catch(i){yield _c(i)}})}function GW(n,e,t){return _(this,null,function*(){let r=ae(n);try{let i=yield(function(s,a){let c=ae(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let d;return c.mutationQueue.lookupMutationBatch(l,a).next(f=>(Ne(f!==null,37113),d=f.keys(),c.mutationQueue.removeMutationBatch(l,f))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,d,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,d)).next(()=>c.localDocuments.getDocuments(l,d))})})(r.localStore,e);RO(r,e,t),AO(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield od(r,i)}catch(i){yield _c(i)}})}function AO(n,e){(n.Vu.get(e)||[]).forEach(t=>{t.resolve()}),n.Vu.delete(e)}function RO(n,e,t){let r=ae(n),i=r.Ru[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function XT(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Tu.get(e))n.Pu.delete(r),t&&n.hu.pu(r,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(r=>{n.Au.containsKey(r)||NO(n,r)})}function NO(n,e){n.Iu.delete(e.path.canonicalString());let t=n.du.get(e);t!==null&&(bb(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),Mb(n))}function cx(n,e,t){for(let r of t)r instanceof Hg?(n.Au.addReference(r.key,e),WW(n,r)):r instanceof zg?(G(Nb,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,e),n.Au.containsKey(r.key)||NO(n,r.key)):ee(19791,{yu:r})}function WW(n,e){let t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Iu.has(r)||(G(Nb,"New document in limbo: "+t),n.Iu.add(r),Mb(n))}function Mb(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){let e=n.Iu.values().next().value;n.Iu.delete(e);let t=new X(Ue.fromString(e)),r=n.mu.next();n.Eu.set(r,new JT(t)),n.du=n.du.insert(t,r),EO(n.remoteStore,new Zl(wr(Eb(t.path)),r,"TargetPurposeLimboResolution",hb.ue))}}function od(n,e,t){return _(this,null,function*(){let r=ae(n),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((a,c)=>{s.push(r.gu(c,e,t).then(l=>{var d;if((l||t)&&r.isPrimaryClient){let f=l?!l.fromCache:(d=t?.targetChanges.get(c.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(l){i.push(l);let f=ST.Es(c.targetId,l);o.push(f)}}))}),yield Promise.all(s),r.hu.J_(i),yield(function(c,l){return _(this,null,function*(){let d=ae(c);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>O.forEach(l,g=>O.forEach(g.Is,m=>d.persistence.referenceDelegate.addReference(f,g.targetId,m)).next(()=>O.forEach(g.ds,m=>d.persistence.referenceDelegate.removeReference(f,g.targetId,m)))))}catch(f){if(!Ec(f))throw f;G(Tb,"Failed to update sequence numbers: "+f)}for(let f of l){let g=f.targetId;if(!f.fromCache){let m=d.Fs.get(g),E=m.snapshotVersion,A=m.withLastLimboFreeSnapshotVersion(E);d.Fs=d.Fs.insert(g,A)}}})})(r.localStore,o))})}function KW(n,e){return _(this,null,function*(){let t=ae(n);if(!t.currentUser.isEqual(e)){G(Nb,"User change. New user:",e.toKey());let r=yield vO(t.localStore,e);t.currentUser=e,(function(o,s){o.Vu.forEach(a=>{a.forEach(c=>{c.reject(new $(k.CANCELLED,s))})}),o.Vu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield od(t,r.Bs)}})}function QW(n,e){let t=ae(n),r=t.Eu.get(e);if(r&&r.lu)return Ee().add(r.key);{let i=Ee(),o=t.Tu.get(e);if(!o)return i;for(let s of o){let a=t.Pu.get(s);i=i.unionWith(a.view.tu)}return i}}function MO(n){let e=ae(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=SO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=QW.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=zW.bind(null,e),e.hu.J_=FW.bind(null,e.eventManager),e.hu.pu=LW.bind(null,e.eventManager),e}function YW(n){let e=ae(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=qW.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=GW.bind(null,e),e}var PO=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return _(this,null,function*(){this.serializer=om(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),yield this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)})}Cu(t,r){return null}Fu(t,r){return null}vu(t){return gW(this.persistence,new RT,t.initialUser,this.serializer)}Du(t){return new xg(CT.Vi,this.serializer)}bu(t){return new PT}terminate(){return _(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),eb=class extends PO{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){Ne(this.persistence.referenceDelegate instanceof Og,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new fT(r,e.asyncQueue,t)}Du(e){let t=this.cacheSizeBytes!==void 0?Mn.withCacheSize(this.cacheSizeBytes):Mn.DEFAULT;return new xg(r=>Og.Vi(r,t),this.serializer)}};var JW=(()=>{class n{initialize(t,r){return _(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>ax(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=KW.bind(null,this.syncEngine),yield kW(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return(function(){return new GT})()}createDatastore(t){let r=om(t.databaseInfo.databaseId),i=(function(s){return new LT(s)})(t.databaseInfo);return(function(s,a,c,l){return new BT(s,a,c,l)})(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return(function(i,o,s,a,c){return new HT(i,o,s,a,c)})(this.localStore,this.datastore,t.asyncQueue,r=>ax(this.syncEngine,r,0),(function(){return Lg.C()?new Lg:new kT})())}createSyncEngine(t,r){return(function(o,s,a,c,l,d,f){let g=new ZT(o,s,a,c,l,d);return f&&(g.fu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return _(this,null,function*(){var t,r;yield(function(o){return _(this,null,function*(){let s=ae(o);G(Ds,"RemoteStore shutting down."),s.Ia.add(5),yield id(s),s.Ea.shutdown(),s.Aa.set("Unknown")})})(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var tb=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):ti("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var fo="FirestoreClient",nb=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Tt.UNAUTHENTICATED,this.clientId=ql.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>_(this,null,function*(){G(fo,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(G(fo,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Xr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>_(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=Ab(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Dw(n,e){return _(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),G(fo,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>_(null,null,function*(){r.isEqual(i)||(yield vO(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>{co("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{G("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{co("Terminating Firestore due to IndexedDb database deletion failed",i)})}),n._offlineComponents=e})}function ux(n,e){return _(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield ZW(n);G(fo,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>ix(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>ix(e.remoteStore,i)),n._onlineComponents=e})}function ZW(n){return _(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){G(fo,"Using user provided OfflineComponentProvider");try{yield Dw(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===k.FAILED_PRECONDITION||i.code===k.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;co("Error using user provided cache. Falling back to memory cache: "+t),yield Dw(n,new PO)}}else G(fo,"Using default OfflineComponentProvider"),yield Dw(n,new eb(void 0));return n._offlineComponents})}function kO(n){return _(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(G(fo,"Using user provided OnlineComponentProvider"),yield ux(n,n._uninitializedComponentsProvider._online)):(G(fo,"Using default OnlineComponentProvider"),yield ux(n,new JW))),n._onlineComponents})}function XW(n){return kO(n).then(e=>e.syncEngine)}function lx(n){return _(this,null,function*(){let e=yield kO(n),t=e.eventManager;return t.onListen=VW.bind(null,e.syncEngine),t.onUnlisten=BW.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=jW.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=$W.bind(null,e.syncEngine),t})}function xO(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var dx=new Map;var OO="firestore.googleapis.com",hx=!0,qg=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new $(k.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=OO,this.ssl=hx}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:hx;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=yO;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<hW)throw new $(k.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}l6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xO((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new $(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new $(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new $(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},mc=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qg({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new $(k.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new $(k.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qg(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Cw;switch(r.type){case"firstParty":return new Nw(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new $(k.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return _(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){let r=dx.get(t);r&&(G("ComponentProvider","Removing Datastore"),dx.delete(t),r.terminate())})(this),Promise.resolve()}};function FO(n,e,t,r={}){var i;n=ro(n,mc);let o=Gi(e),s=n._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),c=`${e}:${t}`;o&&(Vp(`https://${c}`),jp("Firestore",!0)),s.host!==OO&&s.host!==c&&co("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:c,ssl:o,emulatorOptions:r});if(!gr(l,a)&&(n._setSettings(l),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=Tt.MOCK_USER;else{d=VM(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new $(k.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Tt(g)}n._authCredentials=new Sw(new Eg(d,f))}}var Cs=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Nt=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new io(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(rd(t,n._jsonSchema))return new n(e,r||null,new X(Ue.fromString(t.referencePath)))}};Nt._jsonSchemaVersion="firestore/documentReference/1.0",Nt._jsonSchema={type:lt("string",Nt._jsonSchemaVersion),referencePath:lt("string")};var io=class n extends Cs{constructor(e,t,r){super(e,t,Eb(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Nt(this.firestore,null,new X(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function LO(n,e,...t){if(n=nt(n),Ex("collection","path",e),n instanceof mc){let r=Ue.fromString(e,...t);return Rk(r),new io(n,null,r)}{if(!(n instanceof Nt||n instanceof io))throw new $(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Ue.fromString(e,...t));return Rk(r),new io(n.firestore,null,r)}}function Pb(n,e,...t){if(n=nt(n),arguments.length===1&&(e=ql.newId()),Ex("doc","path",e),n instanceof mc){let r=Ue.fromString(e,...t);return Ak(r),new Nt(n,null,new X(r))}{if(!(n instanceof Nt||n instanceof io))throw new $(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Ue.fromString(e,...t));return Ak(r),new Nt(n.firestore,n instanceof io?n.converter:null,new X(r))}}var fx="AsyncQueue",Gg=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Vg(this,"async_queue_retry"),this.oc=()=>{let r=bw();r&&G(fx,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let t=bw();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let t=bw();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let t=new Xr;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}cc(){return _(this,null,function*(){if(this.Zu.length!==0){try{yield this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Ec(e))throw e;G(fx,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}})}uc(e){let t=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,ti("INTERNAL UNHANDLED ERROR: ",px(r)),r}).then(r=>(this.nc=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);let i=zT.createAndSchedule(this,e,t,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&ee(47125,{hc:px(this.tc)})}verifyOperationInProgress(){}Pc(){return _(this,null,function*(){let e;do e=this._c,yield e;while(e!==this._c)})}Tc(e){for(let t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let t=this.ec.indexOf(e);this.ec.splice(t,1)}};function px(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function gx(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1})(n,["next","error","complete"])}var po=class extends mc{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Gg,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return _(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Gg(e),this._firestoreClient=void 0,yield e}})}};function VO(n,e){let t=typeof n=="object"?n:as(),r=typeof n=="string"?n:e||Dg,i=Ga(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=LM("firestore");o&&FO(i,...o)}return i}function jO(n){if(n._terminated)throw new $(k.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||e8(n),n._firestoreClient}function e8(n){var e,t,r;let i=n._freezeSettings(),o=(function(a,c,l,d){return new Ow(a,c,l,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,xO(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new nb(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&(function(a){let c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}})(n._componentsProvider))}var oo=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(Bt.fromBase64String(e))}catch(t){throw new $(k.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(Bt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(rd(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};oo._jsonSchemaVersion="firestore/bytes/1.0",oo._jsonSchema={type:lt("string",oo._jsonSchemaVersion),bytes:lt("string")};var yc=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new $(k.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _n(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var td=class{constructor(e){this._methodName=e}};var so=class n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new $(k.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new $(k.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return pe(this._lat,e._lat)||pe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if(rd(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};so._jsonSchemaVersion="firestore/geoPoint/1.0",so._jsonSchema={type:lt("string",so._jsonSchemaVersion),latitude:lt("number"),longitude:lt("number")};var ao=class n{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(rd(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new n(e.vectorValues);throw new $(k.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};ao._jsonSchemaVersion="firestore/vectorValue/1.0",ao._jsonSchema={type:lt("string",ao._jsonSchemaVersion),vectorValues:lt("object")};var t8=/^__.*__$/,rb=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Dr(e,this.data,this.fieldMask,t,this.fieldTransforms):new bs(e,this.data,t,this.fieldTransforms)}},Wg=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Dr(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function UO(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ee(40011,{Ec:n})}}var ib=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Qg(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(UO(this.Ec)&&t8.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},ob=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||om(e)}Dc(e,t,r,i=!1){return new ib({Ec:e,methodName:t,bc:r,path:_n.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function kb(n){let e=n._freezeSettings(),t=om(n._databaseId);return new ob(n._databaseId,!!e.ignoreUndefinedProperties,t)}function n8(n,e,t,r,i,o={}){let s=n.Dc(o.merge||o.mergeFields?2:0,e,t,i);xb("Data must be an object, but it was:",s,r);let a=BO(r,s),c,l;if(o.merge)c=new Pn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let d=[];for(let f of o.mergeFields){let g=sb(e,f,t);if(!s.contains(g))throw new $(k.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);HO(d,g)||d.push(g)}c=new Pn(d),l=s.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,l=s.fieldTransforms;return new rb(new vn(a),c,l)}var Kg=class n extends td{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function r8(n,e,t,r){let i=n.Dc(1,e,t);xb("Data must be an object, but it was:",i,r);let o=[],s=vn.empty();go(r,(c,l)=>{let d=Ob(e,c,t);l=nt(l);let f=i.gc(d);if(l instanceof Kg)o.push(d);else{let g=sd(l,f);g!=null&&(o.push(d),s.set(d,g))}});let a=new Pn(o);return new Wg(s,a,i.fieldTransforms)}function i8(n,e,t,r,i,o){let s=n.Dc(1,e,t),a=[sb(e,r,t)],c=[i];if(o.length%2!=0)throw new $(k.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<o.length;g+=2)a.push(sb(e,o[g])),c.push(o[g+1]);let l=[],d=vn.empty();for(let g=a.length-1;g>=0;--g)if(!HO(l,a[g])){let m=a[g],E=c[g];E=nt(E);let A=s.gc(m);if(E instanceof Kg)l.push(m);else{let D=sd(E,A);D!=null&&(l.push(m),d.set(m,D))}}let f=new Pn(l);return new Wg(d,f,s.fieldTransforms)}function o8(n,e,t,r=!1){return sd(t,n.Dc(r?4:3,e))}function sd(n,e){if($O(n=nt(n)))return xb("Unsupported field value:",e,n),BO(n,e);if(n instanceof td)return(function(r,i){if(!UO(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(r,i){let o=[],s=0;for(let a of r){let c=sd(a,i.yc(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}})(n,e)}return(function(r,i){if((r=nt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return B6(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=dt.fromDate(r);return{timestampValue:Pg(i.serializer,o)}}if(r instanceof dt){let o=new dt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Pg(i.serializer,o)}}if(r instanceof so)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof oo)return{bytesValue:lO(i.serializer,r._byteString)};if(r instanceof Nt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:wb(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ao)return(function(s,a){return{mapValue:{fields:{[gb]:{stringValue:mb},[ac]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.wc("VectorValues must only contain numeric values.");return Ib(a.serializer,l)})}}}}}})(r,i);throw i.wc(`Unsupported field value: ${em(r)}`)})(n,e)}function BO(n,e){let t={};return Fx(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):go(n,(r,i)=>{let o=sd(i,e.Vc(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function $O(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof dt||n instanceof so||n instanceof oo||n instanceof Nt||n instanceof td||n instanceof ao)}function xb(n,e,t){if(!$O(t)||!Ix(t)){let r=em(t);throw r==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+r)}}function sb(n,e,t){if((e=nt(e))instanceof yc)return e._internalPath;if(typeof e=="string")return Ob(n,e);throw Qg("Field path arguments must be of type string or ",n,!1,void 0,t)}var s8=new RegExp("[~\\*/\\[\\]]");function Ob(n,e,t){if(e.search(s8)>=0)throw Qg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new yc(...e.split("."))._internalPath}catch{throw Qg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Qg(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new $(k.INVALID_ARGUMENT,a+n+c)}function HO(n,e){return n.some(t=>t.isEqual(e))}var Yg=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Nt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new ab(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(cm("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},ab=class extends Yg{data(){return super.data()}};function cm(n,e){return typeof e=="string"?Ob(n,e):e instanceof yc?e._internalPath:e._delegate._internalPath}function a8(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new $(k.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var nd=class{},Jg=class extends nd{};function zO(n,e,...t){let r=[];e instanceof nd&&r.push(e),r=r.concat(t),(function(o){let s=o.filter(c=>c instanceof cb).length,a=o.filter(c=>c instanceof Zg).length;if(s>1||s>0&&a>0)throw new $(k.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(let i of r)n=i._apply(n);return n}var Zg=class n extends Jg{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return WO(e._query,t),new Cs(e.firestore,e.converter,Kw(e._query,t))}_parse(e){let t=kb(e.firestore);return(function(o,s,a,c,l,d,f){let g;if(l.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new $(k.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){yx(f,d);let E=[];for(let A of f)E.push(mx(c,o,A));g={arrayValue:{values:E}}}else g=mx(c,o,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||yx(f,d),g=o8(a,s,f,d==="in"||d==="not-in");return ut.create(l,d,g)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function qO(n,e,t){let r=e,i=cm("where",n);return Zg._create(i,r,t)}var cb=class n extends nd{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Qn.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:((function(i,o){let s=i,a=o.getFlattenedFilters();for(let c of a)WO(s,c),s=Kw(s,c)})(e._query,t),new Cs(e.firestore,e.converter,Kw(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var ub=class n extends Jg{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new n(e,t)}_apply(e){let t=(function(i,o,s){if(i.startAt!==null)throw new $(k.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new $(k.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Is(o,s)})(e._query,this._field,this._direction);return new Cs(e.firestore,e.converter,(function(i,o){let s=i.explicitOrderBy.concat([o]);return new lo(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,t))}};function GO(n,e="asc"){let t=e,r=cm("orderBy",n);return ub._create(r,t)}function mx(n,e,t){if(typeof(t=nt(t))=="string"){if(t==="")throw new $(k.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Yx(e)&&t.indexOf("/")!==-1)throw new $(k.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(Ue.fromString(t));if(!X.isDocumentKey(r))throw new $(k.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Fk(n,new X(r))}if(t instanceof Nt)return Fk(n,t._key);throw new $(k.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${em(t)}.`)}function yx(n,e){if(!Array.isArray(n)||n.length===0)throw new $(k.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function WO(n,e){let t=(function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null})(n.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new $(k.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new $(k.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var lb=class{convertValue(e,t="none"){switch(uo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return je(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ri(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ee(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return go(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[ac].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>je(s.doubleValue));return new ao(o)}convertGeoPoint(e){return new so(je(e.latitude),je(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=nm(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Kl(e));default:return null}}convertTimestamp(e){let t=ni(e);return new dt(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Ue.fromString(e);Ne(mO(r),9688,{name:e});let i=new Cg(r.get(1),r.get(3)),o=new X(r.popFirst(5));return i.isEqual(t)||ti(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function c8(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var ys=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},vs=class n extends Yg{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new ic(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(cm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new $(k.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=n._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};vs._jsonSchemaVersion="firestore/documentSnapshot/1.0",vs._jsonSchema={type:lt("string",vs._jsonSchemaVersion),bundleSource:lt("string","DocumentSnapshot"),bundleName:lt("string"),bundle:lt("string")};var ic=class extends vs{data(e={}){return super.data(e)}},oc=class n{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new ys(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new ic(this._firestore,this._userDataWriter,r.key,r,new ys(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new $(k.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let c=new ic(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ys(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let c=new ic(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ys(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,d=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),d=s.indexOf(a.doc.key)),{type:u8(a.type),doc:c,oldIndex:l,newIndex:d}})}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new $(k.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ql.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function u8(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ee(61501,{type:n})}}oc._jsonSchemaVersion="firestore/querySnapshot/1.0",oc._jsonSchema={type:lt("string",oc._jsonSchemaVersion),bundleSource:lt("string","QuerySnapshot"),bundleName:lt("string"),bundle:lt("string")};var Xg=class extends lb{constructor(e){super(),this.firestore=e}convertBytes(e){return new oo(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Nt(this.firestore,null,t)}};function KO(n,e,t,...r){n=ro(n,Nt);let i=ro(n.firestore,po),o=kb(i),s;return s=typeof(e=nt(e))=="string"||e instanceof yc?i8(o,"updateDoc",n._key,e,t,r):r8(o,"updateDoc",n._key,e),Lb(i,[s.toMutation(n._key,ei.exists(!0))])}function QO(n){return Lb(ro(n.firestore,po),[new Yl(n._key,ei.none())])}function YO(n,e){let t=ro(n.firestore,po),r=Pb(n),i=c8(n.converter,e);return Lb(t,[n8(kb(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,ei.exists(!1))]).then(()=>r)}function Fb(n,...e){var t,r,i;n=nt(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||gx(e[s])||(o=e[s++]);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(gx(e[s])){let f=e[s];e[s]=(t=f.next)===null||t===void 0?void 0:t.bind(f),e[s+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[s+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let c,l,d;if(n instanceof Nt)l=ro(n.firestore,po),d=Eb(n._key.path),c={next:f=>{e[s]&&e[s](l8(l,n,f))},error:e[s+1],complete:e[s+2]};else{let f=ro(n,Cs);l=ro(f.firestore,po),d=f._query;let g=new Xg(l);c={next:m=>{e[s]&&e[s](new oc(l,g,f,m))},error:e[s+1],complete:e[s+2]},a8(n._query)}return(function(g,m,E,A){let D=new tb(A),M=new KT(m,D,E);return g.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return xW(yield lx(g),M)})),()=>{D.Ou(),g.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return OW(yield lx(g),M)}))}})(jO(l),d,a,c)}function Lb(n,e){return(function(r,i){let o=new Xr;return r.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return HW(yield XW(r),i,o)})),o.promise})(jO(n),e)}function l8(n,e,t){let r=t.docs.get(e._key),i=new Xg(n);return new vs(n,i,e._key,r,new ys(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){vc=i})(Ki),Gn(new Qt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new po(new Aw(r.getProvider("auth-internal")),new Mw(s,r.getProvider("app-check-internal")),(function(l,d){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new $(k.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cg(l.options.projectId,d)})(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Qe(bk,Dk,e),Qe(bk,Dk,"esm2017")})();var um=function(){return um=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},um.apply(this,arguments)};var f8={includeMetadataChanges:!1};function JO(n,e){return e===void 0&&(e=f8),new ie(function(t){var r=Fb(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function ZO(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:um(um({},r),(t={},t[e.idField]=n.id,t))}function XO(n){return JO(n,{includeMetadataChanges:!0}).pipe(oe(function(e){return e.docs}))}function e1(n,e){return e===void 0&&(e={}),XO(n).pipe(oe(function(t){return t.map(function(r){return ZO(r,e)})}))}var si=class{constructor(e){return e}},t1="firestore",Vb=class{constructor(){return Ka(t1)}};var jb=new B("angularfire2.firestore-instances");function p8(n,e){let t=Cl(t1,n,e);return t&&new si(t)}function g8(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new si(r)}}var m8={provide:Vb,deps:[[new fn,jb]]},y8={provide:si,useFactory:p8,deps:[[new fn,jb],Wr]};function n1(n,...e){return Qe("angularfire",Qi.full,"fst"),wn([y8,m8,{provide:jb,useFactory:g8(n),multi:!0,deps:[Ce,ft,Yi,us,[new fn,Vl],[new fn,Qa],...e]}])}var ad=yt(e1,!0);var lm=yt(YO,!0,2);var As=yt(LO,!0,2);var r1=yt(QO,!0,2);var Ub=yt(Pb,!0,2);var i1=yt(VO,!0);var Bb=yt(GO,!0,2),$b=yt(zO,!0,2);var o1=yt(KO,!0,2);var s1=yt(qO,!0,2);var dm=class n{constructor(e){this.firestore=e}getTenants(){let e=As(this.firestore,"tenants");return ad(e,{idField:"id"})}addTenant(e){let t=As(this.firestore,"tenants");return lm(t,e)}updateTenant(e,t){let r=Ub(this.firestore,`tenants/${e}`);return o1(r,F({},t))}deleteTenant(e){let t=Ub(this.firestore,`tenants/${e}`);return r1(t)}static \u0275fac=function(t){return new(t||n)(Q(si))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})};var hm=class n{constructor(e){this.firestore=e}addInvoice(e){let t=As(this.firestore,"invoices");return lm(t,de(F({},e),{createdAt:Date.now()}))}getInvoicesByPeriod(e){let t=As(this.firestore,"invoices"),r=$b(t,s1("period","==",e),Bb("createdAt","desc"));return ad(r,{idField:"id"})}getAllInvoices(){let e=As(this.firestore,"invoices"),t=$b(e,Bb("createdAt","desc"));return ad(t,{idField:"id"})}static \u0275fac=function(t){return new(t||n)(Q(si))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})};var c1=n=>[n,"XOF","symbol","1.0-0","fr-FR"];function E8(n,e){if(n&1){let t=k_();j(0,"tr")(1,"td"),z(2),V(),j(3,"td"),z(4),V(),j(5,"td"),z(6),V(),j(7,"td",35)(8,"button",3),tt("click",function(){let i=hu(t).$implicit,o=ur();return fu(o.editTenant(i))}),z(9,"\xC9diter"),V(),j(10,"button",36),tt("click",function(){let i=hu(t).$implicit,o=ur();return fu(o.removeTenant(i))}),z(11,"Supprimer"),V()()()}if(n&2){let t=e.$implicit;be(2),Rt(t.name),be(2),Rt(t.apartment),be(2),Mu("",t.percent,"%")}}function I8(n,e){n&1&&(j(0,"tr")(1,"td",37),z(2,"Aucun locataire \u2014 ajoutez-en un."),V()())}function w8(n,e){if(n&1&&(j(0,"tr")(1,"td"),z(2),V(),j(3,"td"),z(4),V(),j(5,"td"),z(6),Pu(7,"currency"),V()()),n&2){let t=e.$implicit;be(2),Rt(t.name),be(2),Rt(t.percent),be(2),Rt(bf(7,3,Tf(9,c1,t.amount)))}}function T8(n,e){if(n&1&&(j(0,"div",38)(1,"h3",39),z(2,"Montants \xE0 payer"),V(),j(3,"div",34)(4,"table",10)(5,"thead")(6,"tr")(7,"th"),z(8,"Locataire"),V(),j(9,"th"),z(10,"%"),V(),j(11,"th"),z(12,"Montant \xE0 payer"),V()()(),j(13,"tbody"),$n(14,w8,8,11,"tr",12),V()()()()),n&2){let t=ur();be(14),ot("ngForOf",t.results())}}function b8(n,e){if(n&1&&(j(0,"tr")(1,"td"),z(2),Pu(3,"date"),V(),j(4,"td"),z(5),V(),j(6,"td"),z(7),Pu(8,"currency"),V(),j(9,"td"),z(10),V()()),n&2){let t=e.$implicit,r=ur();be(2),Rt(F_(3,4,t.createdAt,"short")),be(3),Rt(t.period),be(2),Rt(bf(8,7,Tf(13,c1,t.total))),be(3),Rt(r.getSummary(t))}}function D8(n,e){n&1&&(j(0,"tr")(1,"td",37),z(2,"Aucune facture enregistr\xE9e pour cette recherche."),V()())}var fm=class n{constructor(e,t,r,i){this.fb=e;this.tenantSrv=t;this.invoiceSrv=r;this.auth=i;this.tenantForm=this.fb.group({name:["",[Ve.required,Ve.minLength(2)]],apartment:["",[Ve.required]],percent:[0,[Ve.required,Ve.min(0),Ve.max(100)]]}),this.billForm=this.fb.group({period:["Jan\u2013F\xE9v 2025",Ve.required],total:[102800,[Ve.required,Ve.min(0)]]}),this.tenantSrv.getTenants().subscribe(o=>this.tenants.set(o)),this.loadInvoices()}tenants=pt([]);tenantForm;editId=null;billForm;results=pt([]);invoices=pt([]);filterPeriod="";resetTenantForm(){this.editId=null,this.tenantForm.reset({name:"",apartment:"",percent:0})}editTenant(e){this.editId=e.id||null,this.tenantForm.patchValue({name:e.name,apartment:e.apartment,percent:e.percent})}saveTenant(){return _(this,null,function*(){if(this.tenantForm.invalid)return;let e=this.tenantForm.value;this.editId?yield this.tenantSrv.updateTenant(this.editId,e):yield this.tenantSrv.addTenant(e),this.resetTenantForm()})}removeTenant(e){return _(this,null,function*(){e.id&&(yield this.tenantSrv.deleteTenant(e.id))})}calculate(){let e=Number(this.billForm.value.total||0),t=this.tenants().map(r=>({name:r.name,percent:r.percent,amount:Math.round(r.percent/100*e)}));this.results.set(t)}calculateAndSave(){return _(this,null,function*(){this.calculate();let e={period:this.billForm.value.period,total:Number(this.billForm.value.total),results:this.results(),createdAt:Date.now()};yield this.invoiceSrv.addInvoice(e),this.loadInvoices()})}loadInvoices(){return _(this,null,function*(){this.filterPeriod&&this.filterPeriod.trim()!==""?this.invoiceSrv.getInvoicesByPeriod(this.filterPeriod).subscribe(e=>this.invoices.set(e)):this.invoiceSrv.getAllInvoices().subscribe(e=>this.invoices.set(e))})}getSummary(e){return e?.results?e.results.map(t=>`${t.name} ${t.amount}F`).join(", "):""}logout(){return _(this,null,function*(){yield this.auth.logout()})}static \u0275fac=function(t){return new(t||n)(J($a),J(dm),J(hm),J(Er))};static \u0275cmp=Un({type:n,selectors:[["app-dashboard"]],decls:77,vars:10,consts:[[1,"max-w-6xl","mx-auto","py-8","px-4"],[1,"flex","items-center","justify-between","mb-6"],[1,"text-2xl","md:text-3xl","font-bold"],[1,"text-sm","link",3,"click"],[1,"grid","md:grid-cols-2","gap-8"],[1,"card"],[1,"flex","items-center","justify-between","mb-2"],[1,"text-xl","font-semibold"],[1,"btn","btn-primary","px-3","py-2",3,"click"],[1,"table","overflow-x-auto","mb-4"],[1,"min-w-full"],[2,"width","140px"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-3",3,"ngSubmit","formGroup"],["type","text","placeholder","Nom","formControlName","name",1,"input"],["type","text","placeholder","Appartement","formControlName","apartment",1,"input"],["type","number","placeholder","% part","formControlName","percent",1,"input"],[1,"md:col-span-3","flex","gap-3"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","button",1,"btn","px-4","py-3","bg-gray-200",3,"click"],[1,"text-sm","text-gray-500","mt-2"],[1,"text-xl","font-semibold","mb-2"],[1,"space-y-4",3,"ngSubmit","formGroup"],[1,"text-sm","text-gray-600"],["type","text","placeholder","Jan\u2013F\xE9v 2025","formControlName","period",1,"input"],[1,"flex","gap-2"],["type","number","formControlName","total","placeholder","102800",1,"input"],[1,"px-3","py-2","rounded-lg","bg-gray-100","border","text-gray-700"],["type","submit",1,"btn","btn-primary"],["class","mt-6",4,"ngIf"],[1,"card","mt-8"],[1,"flex","items-center","gap-3","mb-4"],["placeholder","Filtrer par p\xE9riode (ex: Jan\u2013F\xE9v 2025)",1,"input","w-48",3,"ngModelChange","ngModel"],[1,"table","overflow-x-auto"],[1,"space-x-2"],[1,"text-sm","text-red-600","hover:underline",3,"click"],["colspan","4",1,"text-center","text-gray-500","py-3"],[1,"mt-6"],[1,"text-lg","font-semibold","mb-2"]],template:function(t,r){t&1&&(j(0,"div",0)(1,"div",1)(2,"h1",2),z(3,"Gestion des factures"),V(),j(4,"button",3),tt("click",function(){return r.logout()}),z(5,"Se d\xE9connecter"),V()(),j(6,"div",4)(7,"div",5)(8,"div",6)(9,"h2",7),z(10,"Locataires"),V(),j(11,"button",8),tt("click",function(){return r.resetTenantForm()}),z(12,"Nouveau"),V()(),j(13,"div",9)(14,"table",10)(15,"thead")(16,"tr")(17,"th"),z(18,"Nom"),V(),j(19,"th"),z(20,"Appartement"),V(),j(21,"th"),z(22,"Pourcentage"),V(),j(23,"th",11),z(24,"Actions"),V()()(),j(25,"tbody"),$n(26,E8,12,3,"tr",12)(27,I8,3,0,"tr",13),V()()(),j(28,"form",14),tt("ngSubmit",function(){return r.saveTenant()}),_t(29,"input",15)(30,"input",16)(31,"input",17),j(32,"div",18)(33,"button",19),z(34),V(),j(35,"button",20),tt("click",function(){return r.resetTenantForm()}),z(36,"Annuler"),V()()(),j(37,"div",21),z(38,"La somme des pourcentages devrait \xEAtre 100% (validation non bloquante)."),V()(),j(39,"div",5)(40,"h2",22),z(41,"Ajouter une facture"),V(),j(42,"form",23),tt("ngSubmit",function(){return r.calculateAndSave()}),j(43,"div")(44,"label",24),z(45,"P\xE9riode"),V(),_t(46,"input",25),V(),j(47,"div")(48,"label",24),z(49,"Montant total CIE"),V(),j(50,"div",26),_t(51,"input",27),j(52,"span",28),z(53,"FCFA"),V()()(),j(54,"button",29),z(55,"Calculer & Enregistrer"),V()(),$n(56,T8,15,1,"div",30),V()(),j(57,"div",31)(58,"div",32)(59,"h2",7),z(60,"Historique des factures"),V(),j(61,"input",33),wf("ngModelChange",function(o){return x_(r.filterPeriod,o)||(r.filterPeriod=o),o}),tt("ngModelChange",function(){return r.loadInvoices()}),V()(),j(62,"div",34)(63,"table",10)(64,"thead")(65,"tr")(66,"th"),z(67,"Date"),V(),j(68,"th"),z(69,"P\xE9riode"),V(),j(70,"th"),z(71,"Montant total"),V(),j(72,"th"),z(73,"D\xE9tail (r\xE9sum\xE9)"),V()()(),j(74,"tbody"),$n(75,b8,11,15,"tr",12)(76,D8,3,0,"tr",13),V()()()()()),t&2&&(be(26),ot("ngForOf",r.tenants()),be(),ot("ngIf",r.tenants().length===0),be(),ot("formGroup",r.tenantForm),be(5),ot("disabled",r.tenantForm.invalid),be(),Rt(r.editId?"Mettre \xE0 jour":"Ajouter"),be(8),ot("formGroup",r.billForm),be(14),ot("ngIf",r.results().length),be(5),If("ngModel",r.filterPeriod),be(14),ot("ngForOf",r.invoices()),be(),ot("ngIf",r.invoices().length===0))},dependencies:[ji,Vf,Wo,Ha,Ba,qi,JE,ja,Ua,rs,is,PM,YE,tE,eE],encapsulation:2})};var u1=()=>{let n=x(Er),e=x(mn);return n.loggedIn()?!0:(e.navigate(["/login"]),!1)};var l1=[{path:"",pathMatch:"full",redirectTo:"login"},{path:"login",component:lg},{path:"register",component:dg},{path:"dashboard",component:fm,canActivate:[u1]},{path:"**",redirectTo:"login"}];var ge=(function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n})(ge||{}),Yn="*";function d1(n,e=null){return{type:ge.Sequence,steps:n,options:e}}function Hb(n){return{type:ge.Style,styles:n,offset:null}}var ai=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(e=0,t=0){this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},wc=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(e){this.players=e;let t=0,r=0,i=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++r==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let t=e*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){let e=this.players.reduce((t,r)=>t===null||r.totalTime>t.totalTime?r:t,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},cd="!";function h1(n){return new P(3e3,!1)}function C8(){return new P(3100,!1)}function S8(){return new P(3101,!1)}function A8(n){return new P(3001,!1)}function R8(n){return new P(3003,!1)}function N8(n){return new P(3004,!1)}function p1(n,e){return new P(3005,!1)}function g1(){return new P(3006,!1)}function m1(){return new P(3007,!1)}function y1(n,e){return new P(3008,!1)}function v1(n){return new P(3002,!1)}function _1(n,e,t,r,i){return new P(3010,!1)}function E1(){return new P(3011,!1)}function I1(){return new P(3012,!1)}function w1(){return new P(3200,!1)}function T1(){return new P(3202,!1)}function b1(){return new P(3013,!1)}function D1(n){return new P(3014,!1)}function C1(n){return new P(3015,!1)}function S1(n){return new P(3016,!1)}function A1(n,e){return new P(3404,!1)}function M8(n){return new P(3502,!1)}function R1(n){return new P(3503,!1)}function N1(){return new P(3300,!1)}function M1(n){return new P(3504,!1)}function P1(n){return new P(3301,!1)}function k1(n,e){return new P(3302,!1)}function x1(n){return new P(3303,!1)}function O1(n,e){return new P(3400,!1)}function F1(n){return new P(3401,!1)}function L1(n){return new P(3402,!1)}function V1(n,e){return new P(3505,!1)}function ci(n){switch(n.length){case 0:return new ai;case 1:return n[0];default:return new wc(n)}}function Wb(n,e,t=new Map,r=new Map){let i=[],o=[],s=-1,a=null;if(e.forEach(c=>{let l=c.get("offset"),d=l==s,f=d&&a||new Map;c.forEach((g,m)=>{let E=m,A=g;if(m!=="offset")switch(E=n.normalizePropertyName(E,i),A){case cd:A=t.get(m);break;case Yn:A=r.get(m);break;default:A=n.normalizeStyleValue(m,E,A,i);break}f.set(E,A)}),d||o.push(f),a=f,s=l}),i.length)throw M8(i);return o}function pm(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&zb(t,"start",n)));break;case"done":n.onDone(()=>r(t&&zb(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&zb(t,"destroy",n)));break}}function zb(n,e,t){let r=t.totalTime,i=!!t.disabled,o=gm(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,r??n.totalTime,i),s=n._data;return s!=null&&(o._data=s),o}function gm(n,e,t,r,i="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function sn(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function Kb(n){let e=n.indexOf(":"),t=n.substring(1,e),r=n.slice(e+1);return[t,r]}var P8=typeof document>"u"?null:document.documentElement;function mm(n){let e=n.parentNode||n.host||null;return e===P8?null:e}function k8(n){return n.substring(1,6)=="ebkit"}var Rs=null,f1=!1;function j1(n){Rs||(Rs=x8()||{},f1=Rs.style?"WebkitAppearance"in Rs.style:!1);let e=!0;return Rs.style&&!k8(n)&&(e=n in Rs.style,!e&&f1&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Rs.style)),e}function x8(){return typeof document<"u"?document.body:null}function Qb(n,e){for(;e;){if(e===n)return!0;e=mm(e)}return!1}function Yb(n,e,t){if(t)return Array.from(n.querySelectorAll(e));let r=n.querySelector(e);return r?[r]:[]}var O8=1e3,Jb="{{",F8="}}",Zb="ng-enter",ym="ng-leave",ud="ng-trigger",ld=".ng-trigger",Xb="ng-animating",vm=".ng-animating";function Cr(n){if(typeof n=="number")return n;let e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:qb(parseFloat(e[1]),e[2])}function qb(n,e){switch(e){case"s":return n*O8;default:return n}}function dd(n,e,t){return n.hasOwnProperty("duration")?n:V8(n,e,t)}var L8=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i;function V8(n,e,t){let r,i=0,o="";if(typeof n=="string"){let s=n.match(L8);if(s===null)return e.push(h1(n)),{duration:0,delay:0,easing:""};r=qb(parseFloat(s[1]),s[2]);let a=s[3];a!=null&&(i=qb(parseFloat(a),s[4]));let c=s[5];c&&(o=c)}else r=n;if(!t){let s=!1,a=e.length;r<0&&(e.push(C8()),s=!0),i<0&&(e.push(S8()),s=!0),s&&e.splice(a,0,h1(n))}return{duration:r,delay:i,easing:o}}function U1(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}function Jn(n,e,t){e.forEach((r,i)=>{let o=_m(i);t&&!t.has(i)&&t.set(i,n.style[o]),n.style[o]=r})}function mo(n,e){e.forEach((t,r)=>{let i=_m(r);n.style[i]=""})}function Tc(n){return Array.isArray(n)?n.length==1?n[0]:d1(n):n}function B1(n,e,t){let r=e.params||{},i=eD(n);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||t.push(A8(o))})}var Gb=new RegExp(`${Jb}\\s*(.+?)\\s*${F8}`,"g");function eD(n){let e=[];if(typeof n=="string"){let t;for(;t=Gb.exec(n);)e.push(t[1]);Gb.lastIndex=0}return e}function bc(n,e,t){let r=`${n}`,i=r.replace(Gb,(o,s)=>{let a=e[s];return a==null&&(t.push(R8(s)),a=""),a.toString()});return i==r?n:i}var j8=/-+([a-z0-9])/g;function _m(n){return n.replace(j8,(...e)=>e[1].toUpperCase())}function $1(n,e){return n===0||e===0}function H1(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((o,s)=>{r.has(s)||i.push(s),r.set(s,o)}),i.length)for(let o=1;o<e.length;o++){let s=e[o];i.forEach(a=>s.set(a,Em(n,a)))}}return e}function an(n,e,t){switch(e.type){case ge.Trigger:return n.visitTrigger(e,t);case ge.State:return n.visitState(e,t);case ge.Transition:return n.visitTransition(e,t);case ge.Sequence:return n.visitSequence(e,t);case ge.Group:return n.visitGroup(e,t);case ge.Animate:return n.visitAnimate(e,t);case ge.Keyframes:return n.visitKeyframes(e,t);case ge.Style:return n.visitStyle(e,t);case ge.Reference:return n.visitReference(e,t);case ge.AnimateChild:return n.visitAnimateChild(e,t);case ge.AnimateRef:return n.visitAnimateRef(e,t);case ge.Query:return n.visitQuery(e,t);case ge.Stagger:return n.visitStagger(e,t);default:throw N8(e.type)}}function Em(n,e){return window.getComputedStyle(n)[e]}var yD=(()=>{class n{validateStyleProperty(t){return j1(t)}containsElement(t,r){return Qb(t,r)}getParentElement(t){return mm(t)}query(t,r,i){return Yb(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,o,s,a=[],c){return new ai(i,o)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})(),Ms=class{static NOOP=new yD},Ps=class{};var U8=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),Dm=class extends Ps{normalizePropertyName(e,t){return _m(e)}normalizeStyleValue(e,t,r,i){let o="",s=r.toString().trim();if(U8.has(t)&&r!==0&&r!=="0")if(typeof r=="number")o="px";else{let a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(p1(e,r))}return s+o}};var Cm="*";function B8(n,e){let t=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(r=>$8(r,t,e)):t.push(n),t}function $8(n,e,t){if(n[0]==":"){let c=H8(n,t);if(typeof c=="function"){e.push(c);return}n=c}let r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return t.push(C1(n)),e;let i=r[1],o=r[2],s=r[3];e.push(z1(i,s));let a=i==Cm&&s==Cm;o[0]=="<"&&!a&&e.push(z1(s,i))}function H8(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(S1(n)),"* => *"}}var Im=new Set(["true","1"]),wm=new Set(["false","0"]);function z1(n,e){let t=Im.has(n)||wm.has(n),r=Im.has(e)||wm.has(e);return(i,o)=>{let s=n==Cm||n==i,a=e==Cm||e==o;return!s&&t&&typeof i=="boolean"&&(s=i?Im.has(n):wm.has(n)),!a&&r&&typeof o=="boolean"&&(a=o?Im.has(e):wm.has(e)),s&&a}}var eF=":self",z8=new RegExp(`s*${eF}s*,?`,"g");function tF(n,e,t,r){return new sD(n).build(e,t,r)}var q1="",sD=class{_driver;constructor(e){this._driver=e}build(e,t,r){let i=new aD(t);return this._resetContextStyleTimingState(i),an(this,Tc(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector=q1,e.collectedStyles=new Map,e.collectedStyles.set(q1,new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0,o=[],s=[];return e.name.charAt(0)=="@"&&t.errors.push(g1()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==ge.State){let c=a,l=c.name;l.toString().split(/\s*,\s*/).forEach(d=>{c.name=d,o.push(this.visitState(c,t))}),c.name=l}else if(a.type==ge.Transition){let c=this.visitTransition(a,t);r+=c.queryCount,i+=c.depCount,s.push(c)}else t.errors.push(m1())}),{type:ge.Trigger,name:e.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}visitState(e,t){let r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){let o=new Set,s=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{eD(c).forEach(l=>{s.hasOwnProperty(l)||o.add(l)})})}),o.size&&t.errors.push(y1(e.name,[...o.values()]))}return{type:ge.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let r=an(this,Tc(e.animation),t),i=B8(e.expr,t.errors);return{type:ge.Transition,matchers:i,animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Ns(e.options)}}visitSequence(e,t){return{type:ge.Sequence,steps:e.steps.map(r=>an(this,r,t)),options:Ns(e.options)}}visitGroup(e,t){let r=t.currentTime,i=0,o=e.steps.map(s=>{t.currentTime=r;let a=an(this,s,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:ge.Group,steps:o,options:Ns(e.options)}}visitAnimate(e,t){let r=K8(e.timings,t.errors);t.currentAnimateTimings=r;let i,o=e.styles?e.styles:Hb({});if(o.type==ge.Keyframes)i=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;let l={};r.easing&&(l.easing=r.easing),s=Hb(l)}t.currentTime+=r.duration+r.delay;let c=this.visitStyle(s,t);c.isEmptyStep=a,i=c}return t.currentAnimateTimings=null,{type:ge.Animate,timings:r,style:i,options:null}}visitStyle(e,t){let r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){let r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)typeof a=="string"?a===Yn?r.push(a):t.errors.push(v1(a)):r.push(new Map(Object.entries(a)));let o=!1,s=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let c of a.values())if(c.toString().indexOf(Jb)>=0){o=!0;break}}}),{type:ge.Style,styles:r,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){let r=t.currentAnimateTimings,i=t.currentTime,o=t.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,c)=>{let l=t.collectedStyles.get(t.currentQuerySelector),d=l.get(c),f=!0;d&&(o!=i&&o>=d.startTime&&i<=d.endTime&&(t.errors.push(_1(c,d.startTime,d.endTime,o,i)),f=!1),o=d.startTime),f&&l.set(c,{startTime:o,endTime:i}),t.options&&B1(a,t.options,t.errors)})})}visitKeyframes(e,t){let r={type:ge.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(E1()),r;let i=1,o=0,s=[],a=!1,c=!1,l=0,d=e.steps.map(M=>{let L=this._makeStyleAst(M,t),H=L.offset!=null?L.offset:W8(L.styles),W=0;return H!=null&&(o++,W=L.offset=H),c=c||W<0||W>1,a=a||W<l,l=W,s.push(W),L});c&&t.errors.push(I1()),a&&t.errors.push(w1());let f=e.steps.length,g=0;o>0&&o<f?t.errors.push(T1()):o==0&&(g=i/(f-1));let m=f-1,E=t.currentTime,A=t.currentAnimateTimings,D=A.duration;return d.forEach((M,L)=>{let H=g>0?L==m?1:g*L:s[L],W=H*D;t.currentTime=E+A.delay+W,A.duration=W,this._validateStyleAst(M,t),M.offset=H,r.styles.push(M)}),r}visitReference(e,t){return{type:ge.Reference,animation:an(this,Tc(e.animation),t),options:Ns(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:ge.AnimateChild,options:Ns(e.options)}}visitAnimateRef(e,t){return{type:ge.AnimateRef,animation:this.visitReference(e.animation,t),options:Ns(e.options)}}visitQuery(e,t){let r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;let[o,s]=q8(e.selector);t.currentQuerySelector=r.length?r+" "+o:o,sn(t.collectedStyles,t.currentQuerySelector,new Map);let a=an(this,Tc(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:ge.Query,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:Ns(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(b1());let r=e.timings==="full"?{duration:0,delay:0,easing:"full"}:dd(e.timings,t.errors,!0);return{type:ge.Stagger,animation:an(this,Tc(e.animation),t),timings:r,options:null}}};function q8(n){let e=!!n.split(/\s*,\s*/).find(t=>t==eF);return e&&(n=n.replace(z8,"")),n=n.replace(/@\*/g,ld).replace(/@\w+/g,t=>ld+"-"+t.slice(1)).replace(/:animating/g,vm),[n,e]}function G8(n){return n?F({},n):null}var aD=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(e){this.errors=e}};function W8(n){if(typeof n=="string")return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){let r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}function K8(n,e){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let o=dd(n,e).duration;return tD(o,0,"")}let t=n;if(t.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=tD(0,0,"");return o.dynamic=!0,o.strValue=t,o}let i=dd(t,e);return tD(i.duration,i.delay,i.easing)}function Ns(n){return n?(n=F({},n),n.params&&(n.params=G8(n.params))):n={},n}function tD(n,e,t){return{duration:n,delay:e,easing:t}}function vD(n,e,t,r,i,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}var fd=class{_map=new Map;get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},Q8=1,Y8=":enter",J8=new RegExp(Y8,"g"),Z8=":leave",X8=new RegExp(Z8,"g");function nF(n,e,t,r,i,o=new Map,s=new Map,a,c,l=[]){return new cD().buildKeyframes(n,e,t,r,i,o,s,a,c,l)}var cD=class{buildKeyframes(e,t,r,i,o,s,a,c,l,d=[]){l=l||new fd;let f=new uD(e,t,l,i,o,d,[]);f.options=c;let g=c.delay?Cr(c.delay):0;f.currentTimeline.delayNextStep(g),f.currentTimeline.setStyles([s],null,f.errors,c),an(this,r,f);let m=f.timelines.filter(E=>E.containsAnimation());if(m.length&&a.size){let E;for(let A=m.length-1;A>=0;A--){let D=m[A];if(D.element===t){E=D;break}}E&&!E.allowOnlyTimelineStyles()&&E.setStyles([a],null,f.errors,c)}return m.length?m.map(E=>E.buildKeyframes()):[vD(t,[],[],[],0,g,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let r=t.subInstructions.get(t.element);if(r){let i=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(r,i,i.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){let r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(let i of e){let o=i?.delay;if(o){let s=typeof o=="number"?o:Cr(bc(o,i?.params??{},t.errors));r.delayNextStep(s)}}}_visitSubInstructions(e,t,r){let o=t.currentTimeline.currentTime,s=r.duration!=null?Cr(r.duration):null,a=r.delay!=null?Cr(r.delay):null;return s!==0&&e.forEach(c=>{let l=t.appendInstructionToTimeline(c,s,a);o=Math.max(o,l.duration+l.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),an(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let r=t.subContextCount,i=t,o=e.options;if(o&&(o.params||o.delay)&&(i=t.createSubContext(o),i.transformIntoNewTimeline(),o.delay!=null)){i.previousNode.type==ge.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Sm);let s=Cr(o.delay);i.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>an(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let r=[],i=t.currentTimeline.currentTime,o=e.options&&e.options.delay?Cr(e.options.delay):0;e.steps.forEach(s=>{let a=t.createSubContext(e.options);o&&a.delayNextStep(o),an(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let r=e.strValue,i=t.params?bc(r,t.params,t.errors):r;return dd(i,t.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());let o=e.style;o.type==ge.Keyframes?this.visitKeyframes(o,t):(t.incrementTime(r.duration),this.visitStyle(o,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();let o=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(o):r.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let r=t.currentAnimateTimings,i=t.currentTimeline.duration,o=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(c=>{let l=c.offset||0;a.forwardTime(l*o),a.setStyles(c.styles,c.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+o),t.previousNode=e}visitQuery(e,t){let r=t.currentTimeline.currentTime,i=e.options||{},o=i.delay?Cr(i.delay):0;o&&(t.previousNode.type===ge.Style||r==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Sm);let s=r,a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let c=null;a.forEach((l,d)=>{t.currentQueryIndex=d;let f=t.createSubContext(e.options,l);o&&f.delayNextStep(o),l===t.element&&(c=f.currentTimeline),an(this,e.animation,f),f.currentTimeline.applyStylesToKeyframe();let g=f.currentTimeline.currentTime;s=Math.max(s,g)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let r=t.parentContext,i=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1),c=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=r.currentStaggerTime;break}let d=t.currentTimeline;c&&d.delayNextStep(c);let f=d.currentTime;an(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-f+(i.startTime-r.currentTimeline.startTime)}},Sm={},uD=class n{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=Sm;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(e,t,r,i,o,s,a,c){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.currentTimeline=c||new Am(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let r=e,i=this.options;r.duration!=null&&(i.duration=Cr(r.duration)),r.delay!=null&&(i.delay=Cr(r.delay));let o=r.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=bc(o[a],s,this.errors))})}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){let i=t||this.element,o=new n(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=Sm,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){let i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},o=new lD(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,o,s){let a=[];if(i&&a.push(this.element),e.length>0){e=e.replace(J8,"."+this._enterClassName),e=e.replace(X8,"."+this._leaveClassName);let c=r!=1,l=this._driver.query(this.element,e,c);r!==0&&(l=r<0?l.slice(l.length+r,l.length):l.slice(0,r)),a.push(...l)}return!o&&a.length==0&&s.push(D1(t)),a}},Am=class n{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new n(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=Q8,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||Yn),this._currentKeyframe.set(t,Yn);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);let o=i&&i.params||{},s=e9(e,this._globalTimelineStyles);for(let[a,c]of s){let l=bc(c,o,r);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Yn),this._updateStyle(a,l)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{let i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,r=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,c)=>{let l=new Map([...this._backFill,...a]);l.forEach((d,f)=>{d===cd?e.add(f):d===Yn&&t.add(f)}),r||l.set("offset",c/this.duration),i.push(l)});let o=[...e.values()],s=[...t.values()];if(r){let a=i[0],c=new Map(a);a.set("offset",0),c.set("offset",1),i=[a,c]}return vD(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}},lD=class extends Am{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(e,t,r,i,o,s,a=!1){super(e,t,s.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){let o=[],s=r+t,a=t/s,c=new Map(e[0]);c.set("offset",0),o.push(c);let l=new Map(e[0]);l.set("offset",G1(a)),o.push(l);let d=e.length-1;for(let f=1;f<=d;f++){let g=new Map(e[f]),m=g.get("offset"),E=t+m*r;g.set("offset",G1(E/s)),o.push(g)}r=s,t=0,i="",e=o}return vD(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}};function G1(n,e=3){let t=Math.pow(10,e-1);return Math.round(n*t)/t}function e9(n,e){let t=new Map,r;return n.forEach(i=>{if(i==="*"){r??=e.keys();for(let o of r)t.set(o,Yn)}else for(let[o,s]of i)t.set(o,s)}),t}function W1(n,e,t,r,i,o,s,a,c,l,d,f,g){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:d,totalTime:f,errors:g}}var nD={},Rm=class{_triggerName;ast;_stateStyles;constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return t9(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return e!==void 0&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,o,s,a,c,l,d){let f=[],g=this.ast.options&&this.ast.options.params||nD,m=a&&a.params||nD,E=this.buildStyles(r,m,f),A=c&&c.params||nD,D=this.buildStyles(i,A,f),M=new Set,L=new Map,H=new Map,W=i==="void",Te={params:rF(A,g),delay:this.ast.options?.delay},te=d?[]:nF(e,t,this.ast.animation,o,s,E,D,Te,l,f),T=0;return te.forEach(v=>{T=Math.max(v.duration+v.delay,T)}),f.length?W1(t,this._triggerName,r,i,W,E,D,[],[],L,H,T,f):(te.forEach(v=>{let I=v.element,b=sn(L,I,new Set);v.preStyleProps.forEach(R=>b.add(R));let C=sn(H,I,new Set);v.postStyleProps.forEach(R=>C.add(R)),I!==t&&M.add(I)}),W1(t,this._triggerName,r,i,W,E,D,te,[...M.values()],L,H,T))}};function t9(n,e,t,r,i){return n.some(o=>o(e,t,r,i))}function rF(n,e){let t=F({},e);return Object.entries(n).forEach(([r,i])=>{i!=null&&(t[r]=i)}),t}var dD=class{styles;defaultParams;normalizer;constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){let r=new Map,i=rF(e,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=bc(s,i,t));let c=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,c,s,t),r.set(a,s)})}),r}};function n9(n,e,t){return new hD(n,e,t)}var hD=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,t.states.forEach(i=>{let o=i.options&&i.options.params||{};this.states.set(i.name,new dD(i.style,o,r))}),K1(this.states,"true","1"),K1(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new Rm(e,i,this.states))}),this.fallbackTransition=r9(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(s=>s.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}};function r9(n,e,t){let r=[(s,a)=>!0],i={type:ge.Sequence,steps:[],options:null},o={type:ge.Transition,animation:i,matchers:r,options:null,queryCount:0,depCount:0};return new Rm(n,o,e)}function K1(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}var i9=new fd,fD=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r}register(e,t){let r=[],i=[],o=tF(this._driver,t,r,i);if(r.length)throw R1(r);this._animations.set(e,o)}_buildPlayer(e,t,r){let i=e.element,o=Wb(this._normalizer,e.keyframes,t,r);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){let i=[],o=this._animations.get(e),s,a=new Map;if(o?(s=nF(this._driver,t,o,Zb,ym,new Map,new Map,r,i9,i),s.forEach(d=>{let f=sn(a,d.element,new Map);d.postStyleProps.forEach(g=>f.set(g,null))})):(i.push(N1()),s=[]),i.length)throw M1(i);a.forEach((d,f)=>{d.forEach((g,m)=>{d.set(m,this._driver.computeStyle(f,m,Yn))})});let c=s.map(d=>{let f=a.get(d.element);return this._buildPlayer(d,new Map,f)}),l=ci(c);return this._playersById.set(e,l),l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw P1(e);return t}listen(e,t,r,i){let o=gm(t,"","","");return pm(this._getPlayer(e),r,o,i),()=>{}}command(e,t,r,i){if(r=="register"){this.register(e,i[0]);return}if(r=="create"){let s=i[0]||{};this.create(e,t,s);return}let o=this._getPlayer(e);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e);break}}},Q1="ng-animate-queued",o9=".ng-animate-queued",rD="ng-animate-disabled",s9=".ng-animate-disabled",a9="ng-star-inserted",c9=".ng-star-inserted",u9=[],iF={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},l9={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Zn="__ng_removed",pd=class{namespaceId;value;options;get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let r=e&&e.hasOwnProperty("value"),i=r?e.value:e;if(this.value=h9(i),r){let o=e,{value:s}=o,a=oy(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let r=this.options.params;Object.keys(t).forEach(i=>{r[i]==null&&(r[i]=t[i])})}}},hd="void",iD=new pd(hd),pD=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this._hostClassName="ng-tns-"+e,kn(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw k1(r,t);if(r==null||r.length==0)throw x1(t);if(!f9(r))throw O1(r,t);let o=sn(this._elementListeners,e,[]),s={name:t,phase:r,callback:i};o.push(s);let a=sn(this._engine.statesByElement,e,new Map);return a.has(t)||(kn(e,ud),kn(e,ud+"-"+t),a.set(t,iD)),()=>{this._engine.afterFlush(()=>{let c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw F1(e);return t}trigger(e,t,r,i=!0){let o=this._getTrigger(t),s=new gd(this.id,t,e),a=this._engine.statesByElement.get(e);a||(kn(e,ud),kn(e,ud+"-"+t),this._engine.statesByElement.set(e,a=new Map));let c=a.get(t),l=new pd(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),a.set(t,l),c||(c=iD),!(l.value===hd)&&c.value===l.value){if(!m9(c.params,l.params)){let A=[],D=o.matchStyles(c.value,c.params,A),M=o.matchStyles(l.value,l.params,A);A.length?this._engine.reportError(A):this._engine.afterFlush(()=>{mo(e,D),Jn(e,M)})}return}let g=sn(this._engine.playersByElement,e,[]);g.forEach(A=>{A.namespaceId==this.id&&A.triggerName==t&&A.queued&&A.destroy()});let m=o.matchTransition(c.value,l.value,e,l.params),E=!1;if(!m){if(!i)return;m=o.fallbackTransition,E=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:m,fromState:c,toState:l,player:s,isFallbackTransition:E}),E||(kn(e,Q1),s.onStart(()=>{Dc(e,Q1)})),s.onDone(()=>{let A=this.players.indexOf(s);A>=0&&this.players.splice(A,1);let D=this._engine.playersByElement.get(e);if(D){let M=D.indexOf(s);M>=0&&D.splice(M,1)}}),this.players.push(s),g.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let r=this._engine.driver.query(e,ld,!0);r.forEach(i=>{if(i[Zn])return;let o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){let o=this._engine.statesByElement.get(e),s=new Map;if(o){let a=[];if(o.forEach((c,l)=>{if(s.set(l,c.value),this._triggers.has(l)){let d=this.trigger(e,l,hd,i);d&&a.push(d)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),r&&ci(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){let i=new Set;t.forEach(o=>{let s=o.name;if(i.has(s))return;i.add(s);let c=this._triggers.get(s).fallbackTransition,l=r.get(s)||iD,d=new pd(hd),f=new gd(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:c,fromState:l,toState:d,player:f,isFallbackTransition:!0})})}}removeNode(e,t){let r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){let o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else{let s=e;for(;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{let o=e[Zn];(!o||o===iF)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){kn(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach(r=>{let i=r.player;if(i.destroyed)return;let o=r.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==r.triggerName){let c=gm(o,r.triggerName,r.fromState.value,r.toState.value);c._data=e,pm(r.player,a.phase,c,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{let o=r.transition.ast.depCount,s=i.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},gD=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(e,t)=>{};_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){let r=new pD(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){let r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){let c=i.get(a);if(c){let l=r.indexOf(c);r.splice(l+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);let i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,r=this.statesByElement.get(e);if(r){for(let i of r.values())if(i.namespaceId){let o=this._fetchNamespace(i.namespaceId);o&&t.add(o)}}return t}trigger(e,t,r,i){if(Tm(t)){let o=this._fetchNamespace(e);if(o)return o.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!Tm(t))return;let o=t[Zn];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){let s=this._fetchNamespace(e);s&&s.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),kn(e,rD)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Dc(e,rD))}removeNode(e,t,r){if(Tm(t)){let i=e?this._fetchNamespace(e):null;i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r);let o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,r,i,o){this.collectedLeaveElements.push(t),t[Zn]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,r,i,o){return Tm(t)?this._fetchNamespace(e).listen(t,r,i,o):()=>{}}_buildInstruction(e,t,r,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,ld,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,vm,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return ci(this.players).onDone(()=>e());e()})}processLeaveNode(e){let t=e[Zn];if(t&&t.setForRemoval){if(e[Zn]=iF,t.namespaceId){this.destroyInnerAnimations(e);let r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(rD)&&this.markElementAsDisabled(e,!1),this.driver.query(e,s9,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let i=this.collectedEnterElements[r];kn(i,a9)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let i=this.collectedLeaveElements[r];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],t.length?ci(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw L1(e)}_flushAnimations(e,t){let r=new fd,i=[],o=new Map,s=[],a=new Map,c=new Map,l=new Map,d=new Set;this.disabledNodes.forEach(K=>{d.add(K);let Y=this.driver.query(K,o9,!0);for(let Z=0;Z<Y.length;Z++)d.add(Y[Z])});let f=this.bodyNode,g=Array.from(this.statesByElement.keys()),m=Z1(g,this.collectedEnterElements),E=new Map,A=0;m.forEach((K,Y)=>{let Z=Zb+A++;E.set(Y,Z),K.forEach(me=>kn(me,Z))});let D=[],M=new Set,L=new Set;for(let K=0;K<this.collectedLeaveElements.length;K++){let Y=this.collectedLeaveElements[K],Z=Y[Zn];Z&&Z.setForRemoval&&(D.push(Y),M.add(Y),Z.hasAnimation?this.driver.query(Y,c9,!0).forEach(me=>M.add(me)):L.add(Y))}let H=new Map,W=Z1(g,Array.from(M));W.forEach((K,Y)=>{let Z=ym+A++;H.set(Y,Z),K.forEach(me=>kn(me,Z))}),e.push(()=>{m.forEach((K,Y)=>{let Z=E.get(Y);K.forEach(me=>Dc(me,Z))}),W.forEach((K,Y)=>{let Z=H.get(Y);K.forEach(me=>Dc(me,Z))}),D.forEach(K=>{this.processLeaveNode(K)})});let Te=[],te=[];for(let K=this._namespaceList.length-1;K>=0;K--)this._namespaceList[K].drainQueuedTransitions(t).forEach(Z=>{let me=Z.player,Je=Z.element;if(Te.push(me),this.collectedEnterElements.length){let ze=Je[Zn];if(ze&&ze.setForMove){if(ze.previousTriggersValues&&ze.previousTriggersValues.has(Z.triggerName)){let Sr=ze.previousTriggersValues.get(Z.triggerName),Yt=this.statesByElement.get(Z.element);if(Yt&&Yt.has(Z.triggerName)){let Ar=Yt.get(Z.triggerName);Ar.value=Sr,Yt.set(Z.triggerName,Ar)}}me.destroy();return}}let In=!f||!this.driver.containsElement(f,Je),He=H.get(Je),Oe=E.get(Je),Fe=this._buildInstruction(Z,r,Oe,He,In);if(Fe.errors&&Fe.errors.length){te.push(Fe);return}if(In){me.onStart(()=>mo(Je,Fe.fromStyles)),me.onDestroy(()=>Jn(Je,Fe.toStyles)),i.push(me);return}if(Z.isFallbackTransition){me.onStart(()=>mo(Je,Fe.fromStyles)),me.onDestroy(()=>Jn(Je,Fe.toStyles)),i.push(me);return}let li=[];Fe.timelines.forEach(ze=>{ze.stretchStartingKeyframe=!0,this.disabledNodes.has(ze.element)||li.push(ze)}),Fe.timelines=li,r.append(Je,Fe.timelines);let xm={instruction:Fe,player:me,element:Je};s.push(xm),Fe.queriedElements.forEach(ze=>sn(a,ze,[]).push(me)),Fe.preStyleProps.forEach((ze,Sr)=>{if(ze.size){let Yt=c.get(Sr);Yt||c.set(Sr,Yt=new Set),ze.forEach((Ar,di)=>Yt.add(di))}}),Fe.postStyleProps.forEach((ze,Sr)=>{let Yt=l.get(Sr);Yt||l.set(Sr,Yt=new Set),ze.forEach((Ar,di)=>Yt.add(di))})});if(te.length){let K=[];te.forEach(Y=>{K.push(V1(Y.triggerName,Y.errors))}),Te.forEach(Y=>Y.destroy()),this.reportError(K)}let T=new Map,v=new Map;s.forEach(K=>{let Y=K.element;r.has(Y)&&(v.set(Y,Y),this._beforeAnimationBuild(K.player.namespaceId,K.instruction,T))}),i.forEach(K=>{let Y=K.element;this._getPreviousPlayers(Y,!1,K.namespaceId,K.triggerName,null).forEach(me=>{sn(T,Y,[]).push(me),me.destroy()})});let I=D.filter(K=>X1(K,c,l)),b=new Map;J1(b,this.driver,L,l,Yn).forEach(K=>{X1(K,c,l)&&I.push(K)});let R=new Map;m.forEach((K,Y)=>{J1(R,this.driver,new Set(K),c,cd)}),I.forEach(K=>{let Y=b.get(K),Z=R.get(K);b.set(K,new Map([...Y?.entries()??[],...Z?.entries()??[]]))});let w=[],En=[],ui={};s.forEach(K=>{let{element:Y,player:Z,instruction:me}=K;if(r.has(Y)){if(d.has(Y)){Z.onDestroy(()=>Jn(Y,me.toStyles)),Z.disabled=!0,Z.overrideTotalTime(me.totalTime),i.push(Z);return}let Je=ui;if(v.size>1){let He=Y,Oe=[];for(;He=He.parentNode;){let Fe=v.get(He);if(Fe){Je=Fe;break}Oe.push(He)}Oe.forEach(Fe=>v.set(Fe,Je))}let In=this._buildAnimation(Z.namespaceId,me,T,o,R,b);if(Z.setRealPlayer(In),Je===ui)w.push(Z);else{let He=this.playersByElement.get(Je);He&&He.length&&(Z.parentPlayer=ci(He)),i.push(Z)}}else mo(Y,me.fromStyles),Z.onDestroy(()=>Jn(Y,me.toStyles)),En.push(Z),d.has(Y)&&i.push(Z)}),En.forEach(K=>{let Y=o.get(K.element);if(Y&&Y.length){let Z=ci(Y);K.setRealPlayer(Z)}}),i.forEach(K=>{K.parentPlayer?K.syncPlayerEvents(K.parentPlayer):K.destroy()});for(let K=0;K<D.length;K++){let Y=D[K],Z=Y[Zn];if(Dc(Y,ym),Z&&Z.hasAnimation)continue;let me=[];if(a.size){let In=a.get(Y);In&&In.length&&me.push(...In);let He=this.driver.query(Y,vm,!0);for(let Oe=0;Oe<He.length;Oe++){let Fe=a.get(He[Oe]);Fe&&Fe.length&&me.push(...Fe)}}let Je=me.filter(In=>!In.destroyed);Je.length?p9(this,Y,Je):this.processLeaveNode(Y)}return D.length=0,w.forEach(K=>{this.players.push(K),K.onDone(()=>{K.destroy();let Y=this.players.indexOf(K);this.players.splice(Y,1)}),K.play()}),w}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,o){let s=[];if(t){let a=this.playersByQueriedElement.get(e);a&&(s=a)}else{let a=this.playersByElement.get(e);if(a){let c=!o||o==hd;a.forEach(l=>{l.queued||!c&&l.triggerName!=i||s.push(l)})}}return(r||i)&&(s=s.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(e,t,r){let i=t.triggerName,o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:i;for(let c of t.timelines){let l=c.element,d=l!==o,f=sn(r,l,[]);this._getPreviousPlayers(l,d,s,a,t.toState).forEach(m=>{let E=m.getRealPlayer();E.beforeDestroy&&E.beforeDestroy(),m.destroy(),f.push(m)})}mo(o,t.fromStyles)}_buildAnimation(e,t,r,i,o,s){let a=t.triggerName,c=t.element,l=[],d=new Set,f=new Set,g=t.timelines.map(E=>{let A=E.element;d.add(A);let D=A[Zn];if(D&&D.removedBeforeQueried)return new ai(E.duration,E.delay);let M=A!==c,L=g9((r.get(A)||u9).map(T=>T.getRealPlayer())).filter(T=>{let v=T;return v.element?v.element===A:!1}),H=o.get(A),W=s.get(A),Te=Wb(this._normalizer,E.keyframes,H,W),te=this._buildPlayer(E,Te,L);if(E.subTimeline&&i&&f.add(A),M){let T=new gd(e,a,A);T.setRealPlayer(te),l.push(T)}return te});l.forEach(E=>{sn(this.playersByQueriedElement,E.element,[]).push(E),E.onDone(()=>d9(this.playersByQueriedElement,E.element,E))}),d.forEach(E=>kn(E,Xb));let m=ci(g);return m.onDestroy(()=>{d.forEach(E=>Dc(E,Xb)),Jn(c,t.toStyles)}),f.forEach(E=>{sn(i,E,[]).push(m)}),m}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new ai(e.duration,e.delay)}},gd=class{namespaceId;triggerName;element;_player=new ai;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>pm(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){sn(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};function d9(n,e,t){let r=n.get(e);if(r){if(r.length){let i=r.indexOf(t);r.splice(i,1)}r.length==0&&n.delete(e)}return r}function h9(n){return n??null}function Tm(n){return n&&n.nodeType===1}function f9(n){return n=="start"||n=="done"}function Y1(n,e){let t=n.style.display;return n.style.display=e??"none",t}function J1(n,e,t,r,i){let o=[];t.forEach(c=>o.push(Y1(c)));let s=[];r.forEach((c,l)=>{let d=new Map;c.forEach(f=>{let g=e.computeStyle(l,f,i);d.set(f,g),(!g||g.length==0)&&(l[Zn]=l9,s.push(l))}),n.set(l,d)});let a=0;return t.forEach(c=>Y1(c,o[a++])),s}function Z1(n,e){let t=new Map;if(n.forEach(a=>t.set(a,[])),e.length==0)return t;let r=1,i=new Set(e),o=new Map;function s(a){if(!a)return r;let c=o.get(a);if(c)return c;let l=a.parentNode;return t.has(l)?c=l:i.has(l)?c=r:c=s(l),o.set(a,c),c}return e.forEach(a=>{let c=s(a);c!==r&&t.get(c).push(a)}),t}function kn(n,e){n.classList?.add(e)}function Dc(n,e){n.classList?.remove(e)}function p9(n,e,t){ci(t).onDone(()=>n.processLeaveNode(e))}function g9(n){let e=[];return oF(n,e),e}function oF(n,e){for(let t=0;t<n.length;t++){let r=n[t];r instanceof wc?oF(r.players,e):e.push(r)}}function m9(n,e){let t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){let o=t[i];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}function X1(n,e,t){let r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(o=>i.add(o)):e.set(n,r),t.delete(n),!0}var Cc=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(e,t)=>{};constructor(e,t,r){this._driver=t,this._normalizer=r,this._transitionEngine=new gD(e.body,t,r),this._timelineEngine=new fD(e.body,t,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(e,t,r,i,o){let s=e+"-"+i,a=this._triggerCache[s];if(!a){let c=[],l=[],d=tF(this._driver,o,c,l);if(c.length)throw A1(i,c);a=n9(i,d,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r){this._transitionEngine.removeNode(e,t,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if(r.charAt(0)=="@"){let[o,s]=Kb(r),a=i;this._timelineEngine.command(o,t,s,a)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,o){if(r.charAt(0)=="@"){let[s,a]=Kb(r);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,r,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function y9(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=oD(e[0]),e.length>1&&(r=oD(e[e.length-1]))):e instanceof Map&&(t=oD(e)),t||r?new v9(n,t,r):null}var v9=(()=>{class n{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Jn(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Jn(this._element,this._initialStyles),this._endStyles&&(Jn(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(mo(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(mo(this._element,this._endStyles),this._endStyles=null),Jn(this._element,this._initialStyles),this._state=3)}}return n})();function oD(n){let e=null;return n.forEach((t,r)=>{_9(r)&&(e=e||new Map,e.set(r,t))}),e}function _9(n){return n==="display"||n==="position"}var Nm=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer=null;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer()&&this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return this.domPlayer;this._initialized=!0;let e=this.keyframes,t=this._triggerWebAnimation(this.element,e,this.options);if(!t)return this._onFinish(),null;this.domPlayer=t,this._finalKeyframe=e.length?e[e.length-1]:new Map;let r=()=>this._onFinish();return t.addEventListener("finish",r),this.onDestroy(()=>{t.removeEventListener("finish",r)}),t}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer?.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){let i=this._convertKeyframesToObject(t);try{return e.animate(i,r)}catch{return null}}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){let e=this._buildPlayer();e&&(this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),e.play())}pause(){this.init(),this.domPlayer?.pause()}finish(){this.init(),this.domPlayer&&(this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish())}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer?.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer||this.init(),this.domPlayer&&(this.domPlayer.currentTime=e*this.time)}getPosition(){return this.domPlayer?+(this.domPlayer.currentTime??0)/this.time:this._initialized?1:0}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{i!=="offset"&&e.set(i,this._finished?r:Em(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},Mm=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,t){return Qb(e,t)}getParentElement(e){return mm(e)}query(e,t,r){return Yb(e,t,r)}computeStyle(e,t,r){return Em(e,t)}animate(e,t,r,i,o,s=[]){let a=i==0?"both":"forwards",c={duration:r,delay:i,fill:a};o&&(c.easing=o);let l=new Map,d=s.filter(m=>m instanceof Nm);$1(r,i)&&d.forEach(m=>{m.currentSnapshot.forEach((E,A)=>l.set(A,E))});let f=U1(t).map(m=>new Map(m));f=H1(e,f,l);let g=y9(e,f);return new Nm(e,f,c,g)}};var bm="@",sF="@.disabled",Pm=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r,i){if(i){this.delegate.removeChild(e,t,r,i);return}this.parentNode(t)&&this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){t.charAt(0)==bm&&t==sF?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r,i){return this.delegate.listen(e,t,r,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},mD=class extends Pm{factory;constructor(e,t,r,i,o){super(t,r,i,o),this.factory=e,this.namespaceId=t}setProperty(e,t,r){t.charAt(0)==bm?t.charAt(1)=="."&&t==sF?(r=r===void 0?!0:!!r,this.disableAnimations(e,r)):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r,i){if(t.charAt(0)==bm){let o=E9(e),s=t.slice(1),a="";return s.charAt(0)!=bm&&([s,a]=I9(s)),this.engine.listen(this.namespaceId,o,s,a,c=>{let l=c._data||-1;this.factory.scheduleListenerCallback(l,r,c)})}return this.delegate.listen(e,t,r,i)}};function E9(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function I9(n){let e=n.indexOf("."),t=n.substring(0,e),r=n.slice(e+1);return[t,r]}var km=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(e,t,r){this.delegate=e,this.engine=t,this._zone=r,t.onRemovalComplete=(i,o)=>{o?.removeChild(null,i)}}createRenderer(e,t){let i=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let l=this._rendererCache,d=l.get(i);if(!d){let f=()=>l.delete(i);d=new Pm("",i,this.engine,f),l.set(i,d)}return d}let o=t.id,s=t.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);let a=l=>{Array.isArray(l)?l.forEach(a):this.engine.registerTrigger(o,s,e,l.name,l)};return t.data.animation.forEach(a),new mD(this,s,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,r){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(r));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),i.push([t,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(e){this.engine.flush(),this.delegate.componentReplaced?.(e)}};var T9=(()=>{class n extends Cc{constructor(t,r,i){super(t,r,i)}ngOnDestroy(){this.flush()}static \u0275fac=function(r){return new(r||n)(Q(Xe),Q(Ms),Q(Ps))};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})();function b9(){return new Dm}function D9(n,e,t){return new km(n,e,t)}var aF=[{provide:Ps,useFactory:b9},{provide:Cc,useClass:T9},{provide:jr,useFactory:D9,deps:[Hu,Cc,Ce]}],Ype=[{provide:Ms,useClass:yD},{provide:df,useValue:"NoopAnimations"},...aF],C9=[{provide:Ms,useFactory:()=>new Mm},{provide:df,useFactory:()=>"BrowserAnimations"},...aF];function cF(){return bu("NgEagerAnimations"),[...C9]}var uF={providers:[cF()]};var lF={production:!1,firebase:{apiKey:"AIzaSyAaMlW2sXETkZAjW35RRATQdasQEd79-lA",authDomain:"billdb-ed1c5.firebaseapp.com",databaseURL:"https://billdb-ed1c5.firebaseio.com",projectId:"billdb-ed1c5",storageBucket:"billdb-ed1c5.firebasestorage.app",messagingSenderId:"1015027202177",appId:"1:1015027202177:web:b7ae44b371301b4e2cb580",measurementId:"G-L93N0HX7JW"}};uE(wp,{providers:[FE(l1),hE(),...uF.providers,dP(()=>hP(lF.firebase)),yk(()=>_k()),n1(()=>i1())]}).catch(n=>console.error(n));

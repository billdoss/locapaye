var oV=Object.defineProperty,sV=Object.defineProperties;var aV=Object.getOwnPropertyDescriptors;var $d=Object.getOwnPropertySymbols,cV=Object.getPrototypeOf,tS=Object.prototype.hasOwnProperty,nS=Object.prototype.propertyIsEnumerable,uV=Reflect.get;var eS=(n,e,t)=>e in n?oV(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,V=(n,e)=>{for(var t in e||={})tS.call(e,t)&&eS(n,t,e[t]);if($d)for(var t of $d(e))nS.call(e,t)&&eS(n,t,e[t]);return n},de=(n,e)=>sV(n,aV(e));var Ty=(n,e)=>{var t={};for(var r in n)tS.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&$d)for(var r of $d(n))e.indexOf(r)<0&&nS.call(n,r)&&(t[r]=n[r]);return t};var Ci=(n,e,t)=>uV(cV(n),t,e);var v=(n,e,t)=>new Promise((r,i)=>{var o=c=>{try{a(t.next(c))}catch(l){i(l)}},s=c=>{try{a(t.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((t=t.apply(n,e)).next())});var by;function Hd(){return by}function ar(n){let e=by;return by=n,e}var rS=Symbol("NotFound");function Js(n){return n===rS||n?.name==="\u0275NotFound"}var Lt=null,qd=!1,Dy=1,lV=null,Vt=Symbol("SIGNAL");function fe(n){let e=Lt;return Lt=n,e}function Kd(){return Lt}var Zs={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Xs(n){if(qd)throw new Error("");if(Lt===null)return;Lt.consumerOnSignalRead(n);let e=Lt.producersTail;if(e!==void 0&&e.producer===n)return;let t,r=Lt.recomputing;if(r&&(t=e!==void 0?e.nextProducer:Lt.producers,t!==void 0&&t.producer===n)){Lt.producersTail=t,t.lastReadVersion=n.version;return}let i=n.consumersTail;if(i!==void 0&&i.consumer===Lt&&(!r||hV(i,Lt)))return;let o=ta(Lt),s={producer:n,consumer:Lt,nextProducer:t,prevConsumer:i,lastReadVersion:n.version,nextConsumer:void 0};Lt.producersTail=s,e!==void 0?e.nextProducer=s:Lt.producers=s,o&&aS(n,s)}function iS(){Dy++}function Qd(n){if(!(ta(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Dy)){if(!n.producerMustRecompute(n)&&!iu(n)){Wd(n);return}n.producerRecomputeValue(n),Wd(n)}}function Cy(n){if(n.consumers===void 0)return;let e=qd;qd=!0;try{for(let t=n.consumers;t!==void 0;t=t.nextConsumer){let r=t.consumer;r.dirty||dV(r)}}finally{qd=e}}function Sy(){return Lt?.consumerAllowSignalWrites!==!1}function dV(n){n.dirty=!0,Cy(n),n.consumerMarkedDirty?.(n)}function Wd(n){n.dirty=!1,n.lastCleanEpoch=Dy}function ea(n){return n&&oS(n),fe(n)}function oS(n){n.producersTail=void 0,n.recomputing=!0}function ru(n,e){fe(e),n&&sS(n)}function sS(n){n.recomputing=!1;let e=n.producersTail,t=e!==void 0?e.nextProducer:n.producers;if(t!==void 0){if(ta(n))do t=Ay(t);while(t!==void 0);e!==void 0?e.nextProducer=void 0:n.producers=void 0}}function iu(n){for(let e=n.producers;e!==void 0;e=e.nextProducer){let t=e.producer,r=e.lastReadVersion;if(r!==t.version||(Qd(t),r!==t.version))return!0}return!1}function ou(n){if(ta(n)){let e=n.producers;for(;e!==void 0;)e=Ay(e)}n.producers=void 0,n.producersTail=void 0,n.consumers=void 0,n.consumersTail=void 0}function aS(n,e){let t=n.consumersTail,r=ta(n);if(t!==void 0?(e.nextConsumer=t.nextConsumer,t.nextConsumer=e):(e.nextConsumer=void 0,n.consumers=e),e.prevConsumer=t,n.consumersTail=e,!r)for(let i=n.producers;i!==void 0;i=i.nextProducer)aS(i.producer,i)}function Ay(n){let e=n.producer,t=n.nextProducer,r=n.nextConsumer,i=n.prevConsumer;if(n.nextConsumer=void 0,n.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!ta(e)){let o=e.producers;for(;o!==void 0;)o=Ay(o)}return t}function ta(n){return n.consumerIsAlwaysLive||n.consumers!==void 0}function Yd(n){lV?.(n)}function hV(n,e){let t=e.producersTail;if(t!==void 0){let r=e.producers;do{if(r===n)return!0;if(r===t)break;r=r.nextProducer}while(r!==void 0)}return!1}function Jd(n,e){return Object.is(n,e)}function Zd(n,e){let t=Object.create(fV);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(Qd(t),Xs(t),t.value===nu)throw t.error;return t.value};return r[Vt]=t,Yd(t),r}var zd=Symbol("UNSET"),Gd=Symbol("COMPUTING"),nu=Symbol("ERRORED"),fV=de(V({},Zs),{value:zd,dirty:!0,error:null,equal:Jd,kind:"computed",producerMustRecompute(n){return n.value===zd||n.value===Gd},producerRecomputeValue(n){if(n.value===Gd)throw new Error("");let e=n.value;n.value=Gd;let t=ea(n),r,i=!1;try{r=n.computation(),fe(null),i=e!==zd&&e!==nu&&r!==nu&&n.equal(e,r)}catch(o){r=nu,n.error=o}finally{ru(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function pV(){throw new Error}var cS=pV;function uS(n){cS(n)}function Ry(n){cS=n}var gV=null;function Ny(n,e){let t=Object.create(Xd);t.value=n,e!==void 0&&(t.equal=e);let r=()=>lS(t);return r[Vt]=t,Yd(t),[r,s=>na(t,s),s=>My(t,s)]}function lS(n){return Xs(n),n.value}function na(n,e){Sy()||uS(n),n.equal(n.value,e)||(n.value=e,mV(n))}function My(n,e){Sy()||uS(n),na(n,e(n.value))}var Xd=de(V({},Zs),{equal:Jd,value:void 0,kind:"signal"});function mV(n){n.version++,iS(),Cy(n),gV?.(n)}function ce(n){return typeof n=="function"}function ra(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var eh=ra(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function No(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Je=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(ce(r))try{r()}catch(o){e=o instanceof eh?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{dS(o)}catch(s){e=e??[],s instanceof eh?e=[...e,...s.errors]:e.push(s)}}if(e)throw new eh(e)}}add(e){var t;if(e&&e!==this)if(this.closed)dS(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&No(t,e)}remove(e){let{_finalizers:t}=this;t&&No(t,e),e instanceof n&&e._removeParent(this)}};Je.EMPTY=(()=>{let n=new Je;return n.closed=!0,n})();var Py=Je.EMPTY;function th(n){return n instanceof Je||n&&"closed"in n&&ce(n.remove)&&ce(n.add)&&ce(n.unsubscribe)}function dS(n){ce(n)?n():n.unsubscribe()}var Un={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ia={setTimeout(n,e,...t){let{delegate:r}=ia;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=ia;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function nh(n){ia.setTimeout(()=>{let{onUnhandledError:e}=Un;if(e)e(n);else throw n})}function su(){}var hS=ky("C",void 0,void 0);function fS(n){return ky("E",void 0,n)}function pS(n){return ky("N",n,void 0)}function ky(n,e,t){return{kind:n,value:e,error:t}}var Mo=null;function oa(n){if(Un.useDeprecatedSynchronousErrorHandling){let e=!Mo;if(e&&(Mo={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Mo;if(Mo=null,t)throw r}}else n()}function gS(n){Un.useDeprecatedSynchronousErrorHandling&&Mo&&(Mo.errorThrown=!0,Mo.error=n)}var Po=class extends Je{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,th(e)&&e.add(this)):this.destination=_V}static create(e,t,r){return new sa(e,t,r)}next(e){this.isStopped?Oy(pS(e),this):this._next(e)}error(e){this.isStopped?Oy(fS(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Oy(hS,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},yV=Function.prototype.bind;function xy(n,e){return yV.call(n,e)}var Fy=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){rh(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){rh(r)}else rh(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){rh(t)}}},sa=class extends Po{constructor(e,t,r){super();let i;if(ce(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Un.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&xy(e.next,o),error:e.error&&xy(e.error,o),complete:e.complete&&xy(e.complete,o)}):i=e}this.destination=new Fy(i)}};function rh(n){Un.useDeprecatedSynchronousErrorHandling?gS(n):nh(n)}function vV(n){throw n}function Oy(n,e){let{onStoppedNotification:t}=Un;t&&ia.setTimeout(()=>t(n,e))}var _V={closed:!0,next:su,error:vV,complete:su};var aa=typeof Symbol=="function"&&Symbol.observable||"@@observable";function mn(n){return n}function ih(...n){return Ly(n)}function Ly(n){return n.length===0?mn:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var ie=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=wV(t)?t:new sa(t,r,i);return oa(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=mS(r),new r((i,o)=>{let s=new sa({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[aa](){return this}pipe(...t){return Ly(t)(this)}toPromise(t){return t=mS(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function mS(n){var e;return(e=n??Un.Promise)!==null&&e!==void 0?e:Promise}function EV(n){return n&&ce(n.next)&&ce(n.error)&&ce(n.complete)}function wV(n){return n&&n instanceof Po||EV(n)&&th(n)}function Vy(n){return ce(n?.lift)}function Ie(n){return e=>{if(Vy(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ee(n,e,t,r,i){return new jy(n,e,t,r,i)}var jy=class extends Po{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function ca(){return Ie((n,e)=>{let t=null;n._refCount++;let r=Ee(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var ua=class extends ie{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Vy(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Je;let t=this.getSubject();e.add(this.source.subscribe(Ee(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Je.EMPTY)}return e}refCount(){return ca()(this)}};var yS=ra(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ct=(()=>{class n extends ie{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new oh(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new yS}next(t){oa(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){oa(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){oa(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Py:(this.currentObservers=null,o.push(t),new Je(()=>{this.currentObservers=null,No(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new ie;return t.source=this,t}}return n.create=(e,t)=>new oh(e,t),n})(),oh=class extends ct{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:Py}};var At=class extends ct{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Uy={now(){return(Uy.delegate||Date).now()},delegate:void 0};var sh=class extends Je{constructor(e,t){super()}schedule(e,t=0){return this}};var au={setInterval(n,e,...t){let{delegate:r}=au;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=au;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var la=class extends sh{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return au.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&au.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,No(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var da=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};da.now=Uy.now;var ha=class extends da{constructor(e,t=da.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var By=new ha(la);var ah=class extends la{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var ch=class extends ha{};var $y=new ch(ah);var rn=new ie(n=>n.complete());function vS(n){return n&&ce(n.schedule)}function _S(n){return n[n.length-1]}function uh(n){return ce(_S(n))?n.pop():void 0}function Si(n){return vS(_S(n))?n.pop():void 0}function Hy(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function wS(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{l(r.next(d))}catch(f){s(f)}}function c(d){try{l(r.throw(d))}catch(f){s(f)}}function l(d){d.done?o(d.value):i(d.value).then(a,c)}l((r=r.apply(n,e||[])).next())})}function ES(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ko(n){return this instanceof ko?(this.v=n,this):new ko(n)}function IS(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(m){return function(E){return Promise.resolve(E).then(m,f)}}function a(m,E){r[m]&&(i[m]=function(A){return new Promise(function(D,M){o.push([m,A,D,M])>1||c(m,A)})},E&&(i[m]=E(i[m])))}function c(m,E){try{l(r[m](E))}catch(A){g(o[0][3],A)}}function l(m){m.value instanceof ko?Promise.resolve(m.value.v).then(d,f):g(o[0][2],m)}function d(m){c("next",m)}function f(m){c("throw",m)}function g(m,E){m(E),o.shift(),o.length&&c(o[0][0],o[0][1])}}function TS(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof ES=="function"?ES(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,c){s=n[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var lh=n=>n&&typeof n.length=="number"&&typeof n!="function";function dh(n){return ce(n?.then)}function hh(n){return ce(n[aa])}function fh(n){return Symbol.asyncIterator&&ce(n?.[Symbol.asyncIterator])}function ph(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function IV(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var gh=IV();function mh(n){return ce(n?.[gh])}function yh(n){return IS(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield ko(t.read());if(i)return yield ko(void 0);yield yield ko(r)}}finally{t.releaseLock()}})}function vh(n){return ce(n?.getReader)}function ut(n){if(n instanceof ie)return n;if(n!=null){if(hh(n))return TV(n);if(lh(n))return bV(n);if(dh(n))return DV(n);if(fh(n))return bS(n);if(mh(n))return CV(n);if(vh(n))return SV(n)}throw ph(n)}function TV(n){return new ie(e=>{let t=n[aa]();if(ce(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function bV(n){return new ie(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function DV(n){return new ie(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,nh)})}function CV(n){return new ie(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function bS(n){return new ie(e=>{AV(n,e).catch(t=>e.error(t))})}function SV(n){return bS(yh(n))}function AV(n,e){var t,r,i,o;return wS(this,void 0,void 0,function*(){try{for(t=TS(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function on(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Ai(n,e=0){return Ie((t,r)=>{t.subscribe(Ee(r,i=>on(r,n,()=>r.next(i),e),()=>on(r,n,()=>r.complete(),e),i=>on(r,n,()=>r.error(i),e)))})}function Ri(n,e=0){return Ie((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function DS(n,e){return ut(n).pipe(Ri(e),Ai(e))}function CS(n,e){return ut(n).pipe(Ri(e),Ai(e))}function SS(n,e){return new ie(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function AS(n,e){return new ie(t=>{let r;return on(t,e,()=>{r=n[gh](),on(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>ce(r?.return)&&r.return()})}function _h(n,e){if(!n)throw new Error("Iterable cannot be null");return new ie(t=>{on(t,e,()=>{let r=n[Symbol.asyncIterator]();on(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function RS(n,e){return _h(yh(n),e)}function NS(n,e){if(n!=null){if(hh(n))return DS(n,e);if(lh(n))return SS(n,e);if(dh(n))return CS(n,e);if(fh(n))return _h(n,e);if(mh(n))return AS(n,e);if(vh(n))return RS(n,e)}throw ph(n)}function qe(n,e){return e?NS(n,e):ut(n)}function ne(...n){let e=Si(n);return qe(n,e)}function fa(n,e){let t=ce(n)?n:()=>n,r=i=>i.error(t());return new ie(e?i=>e.schedule(r,0,i):r)}function qy(n){return!!n&&(n instanceof ie||ce(n.lift)&&ce(n.subscribe))}var Ur=ra(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function oe(n,e){return Ie((t,r)=>{let i=0;t.subscribe(Ee(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:RV}=Array;function NV(n,e){return RV(e)?n(...e):n(e)}function Eh(n){return oe(e=>NV(n,e))}var{isArray:MV}=Array,{getPrototypeOf:PV,prototype:kV,keys:xV}=Object;function wh(n){if(n.length===1){let e=n[0];if(MV(e))return{args:e,keys:null};if(OV(e)){let t=xV(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function OV(n){return n&&typeof n=="object"&&PV(n)===kV}function Ih(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Th(...n){let e=Si(n),t=uh(n),{args:r,keys:i}=wh(n);if(r.length===0)return qe([],e);let o=new ie(FV(r,e,i?s=>Ih(i,s):mn));return t?o.pipe(Eh(t)):o}function FV(n,e,t=mn){return r=>{MS(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)MS(e,()=>{let l=qe(n[c],e),d=!1;l.subscribe(Ee(r,f=>{o[c]=f,d||(d=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function MS(n,e,t){n?on(t,n,e):e()}function PS(n,e,t,r,i,o,s,a){let c=[],l=0,d=0,f=!1,g=()=>{f&&!c.length&&!l&&e.complete()},m=A=>l<r?E(A):c.push(A),E=A=>{o&&e.next(A),l++;let D=!1;ut(t(A,d++)).subscribe(Ee(e,M=>{i?.(M),o?m(M):e.next(M)},()=>{D=!0},void 0,()=>{if(D)try{for(l--;c.length&&l<r;){let M=c.shift();s?on(e,s,()=>E(M)):E(M)}g()}catch(M){e.error(M)}}))};return n.subscribe(Ee(e,m,()=>{f=!0,g()})),()=>{a?.()}}function vt(n,e,t=1/0){return ce(e)?vt((r,i)=>oe((o,s)=>e(r,o,i,s))(ut(n(r,i))),t):(typeof e=="number"&&(t=e),Ie((r,i)=>PS(r,i,n,t)))}function kS(n=1/0){return vt(mn,n)}function xS(){return kS(1)}function pa(...n){return xS()(qe(n,Si(n)))}function cu(n){return new ie(e=>{ut(n()).subscribe(e)})}function zy(...n){let e=uh(n),{args:t,keys:r}=wh(n),i=new ie(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let d=0;d<s;d++){let f=!1;ut(t[d]).subscribe(Ee(o,g=>{f||(f=!0,l--),a[d]=g},()=>c--,void 0,()=>{(!c||!f)&&(l||o.next(r?Ih(r,a):a),o.complete())}))}});return e?i.pipe(Eh(e)):i}function Qt(n,e){return Ie((t,r)=>{let i=0;t.subscribe(Ee(r,o=>n.call(e,o,i++)&&r.next(o)))})}function Ni(n){return Ie((e,t)=>{let r=null,i=!1,o;r=e.subscribe(Ee(t,void 0,void 0,s=>{o=ut(n(s,Ni(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function OS(n,e,t,r,i){return(o,s)=>{let a=t,c=e,l=0;o.subscribe(Ee(s,d=>{let f=l++;c=a?n(c,d,f):(a=!0,d),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function Mi(n,e){return ce(e)?vt(n,e,1):vt(n,1)}function Pi(n){return Ie((e,t)=>{let r=!1;e.subscribe(Ee(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Br(n){return n<=0?()=>rn:Ie((e,t)=>{let r=0;e.subscribe(Ee(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function bh(n=LV){return Ie((e,t)=>{let r=!1;e.subscribe(Ee(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function LV(){return new Ur}function xo(n){return Ie((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function $r(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Qt((i,o)=>n(i,o,r)):mn,Br(1),t?Pi(e):bh(()=>new Ur))}function ga(n){return n<=0?()=>rn:Ie((e,t)=>{let r=[];e.subscribe(Ee(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Gy(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Qt((i,o)=>n(i,o,r)):mn,ga(1),t?Pi(e):bh(()=>new Ur))}function Dh(n,e){return Ie(OS(n,e,arguments.length>=2,!0))}function Ch(...n){let e=Si(n);return Ie((t,r)=>{(e?pa(n,t,e):pa(n,t)).subscribe(r)})}function jt(n,e){return Ie((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(Ee(r,c=>{i?.unsubscribe();let l=0,d=o++;ut(n(c,d)).subscribe(i=Ee(r,f=>r.next(e?e(c,f,d,l++):f),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Sh(n){return Ie((e,t)=>{ut(n).subscribe(Ee(t,()=>t.complete(),su)),!t.closed&&e.subscribe(t)})}function wt(n,e,t){let r=ce(n)||e||t?{next:n,error:e,complete:t}:n;return r?Ie((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(Ee(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):mn}function FS(n){let e=fe(null);try{return n()}finally{fe(e)}}var Fo=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},ov=new Fo("20.3.9");var Mh="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",P=class extends Error{code;constructor(e,t){super(Uo(e,t)),this.code=e}};function VV(n){return`NG0${Math.abs(n)}`}function Uo(n,e){return`${VV(n)}${e?": "+e:""}`}var zr=globalThis;function Ae(n){for(let e in n)if(n[e]===Ae)return e;throw Error("")}function jS(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function qr(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(qr).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function sv(n,e){return n?e?`${n} ${e}`:n:e||""}var jV=Ae({__forward_ref__:Ae});function ur(n){return n.__forward_ref__=ur,n.toString=function(){return qr(this())},n}function Rt(n){return av(n)?n():n}function av(n){return typeof n=="function"&&n.hasOwnProperty(jV)&&n.__forward_ref__===ur}function z(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function vn(n){return{providers:n.providers||[],imports:n.imports||[]}}function hu(n){return UV(n,Ph)}function cv(n){return hu(n)!==null}function UV(n,e){return n.hasOwnProperty(e)&&n[e]||null}function BV(n){let e=n?.[Ph]??null;return e||null}function Ky(n){return n&&n.hasOwnProperty(Rh)?n[Rh]:null}var Ph=Ae({\u0275prov:Ae}),Rh=Ae({\u0275inj:Ae}),B=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=z({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function uv(n){return n&&!!n.\u0275providers}var lv=Ae({\u0275cmp:Ae}),dv=Ae({\u0275dir:Ae}),hv=Ae({\u0275pipe:Ae}),fv=Ae({\u0275mod:Ae}),lu=Ae({\u0275fac:Ae}),Bo=Ae({__NG_ELEMENT_ID__:Ae}),LS=Ae({__NG_ENV_ID__:Ae});function fu(n){return typeof n=="string"?n:n==null?"":String(n)}function US(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():fu(n)}var BS=Ae({ngErrorCode:Ae}),$V=Ae({ngErrorMessage:Ae}),HV=Ae({ngTokenPath:Ae});function pv(n,e){return $S("",-200,e)}function kh(n,e){throw new P(-201,!1)}function $S(n,e,t){let r=new P(e,n);return r[BS]=e,r[$V]=n,t&&(r[HV]=t),r}function qV(n){return n[BS]}var Qy;function HS(){return Qy}function Yt(n){let e=Qy;return Qy=n,e}function gv(n,e,t){let r=hu(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(e!==void 0)return e;kh(n,"Injector")}var zV={},Oo=zV,Yy="__NG_DI_FLAG__",Jy=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=Lo(t)||0;try{return this.injector.get(e,r&8?null:Oo,r)}catch(i){if(Js(i))return i;throw i}}};function GV(n,e=0){let t=Hd();if(t===void 0)throw new P(-203,!1);if(t===null)return gv(n,void 0,e);{let r=WV(e),i=t.retrieve(n,r);if(Js(i)){if(r.optional)return null;throw i}return i}}function Q(n,e=0){return(HS()||GV)(Rt(n),e)}function x(n,e){return Q(n,Lo(e))}function Lo(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function WV(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function Zy(n){let e=[];for(let t=0;t<n.length;t++){let r=Rt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new P(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],c=KV(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(Q(i,o))}else e.push(Q(r))}return e}function qS(n,e){return n[Yy]=e,n.prototype[Yy]=e,n}function KV(n){return n[Yy]}function ki(n,e){let t=n.hasOwnProperty(lu);return t?n[lu]:null}function xh(n,e){n.forEach(t=>Array.isArray(t)?xh(t,e):e(t))}function mv(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function pu(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function zS(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function GS(n,e,t){let r=ya(n,e);return r>=0?n[r|1]=t:(r=~r,zS(n,r,e,t)),r}function Oh(n,e){let t=ya(n,e);if(t>=0)return n[t|1]}function ya(n,e){return QV(n,e,1)}function QV(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var Fi={},yn=[],Li=new B(""),yv=new B("",-1),vv=new B(""),du=class{get(e,t=Oo){if(t===Oo){let i=$S("",-201);throw i.name="\u0275NotFound",i}return t}};function _v(n){return n[fv]||null}function Vi(n){return n[lv]||null}function Ev(n){return n[dv]||null}function WS(n){return n[hv]||null}function sn(n){return{\u0275providers:n}}function KS(...n){return{\u0275providers:wv(!0,n),\u0275fromNgModule:!0}}function wv(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return xh(e,s=>{let a=s;Nh(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&QS(i,o),t}function QS(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];Iv(i,o=>{e(o,r)})}}function Nh(n,e,t,r){if(n=Rt(n),!n)return!1;let i=null,o=Ky(n),s=!o&&Vi(n);if(!o&&!s){let c=n.ngModule;if(o=Ky(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)Nh(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{xh(o.imports,d=>{Nh(d,e,t,r)&&(l||=[],l.push(d))})}finally{}l!==void 0&&QS(l,e)}if(!a){let l=ki(i)||(()=>new i);e({provide:i,useFactory:l,deps:yn},i),e({provide:vv,useValue:i,multi:!0},i),e({provide:Li,useValue:()=>Q(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=n;Iv(c,d=>{e(d,l)})}}else return!1;return i!==n&&n.providers!==void 0}function Iv(n,e){for(let t of n)uv(t)&&(t=t.\u0275providers),Array.isArray(t)?Iv(t,e):e(t)}var YV=Ae({provide:String,useValue:Ae});function YS(n){return n!==null&&typeof n=="object"&&YV in n}function JV(n){return!!(n&&n.useExisting)}function ZV(n){return!!(n&&n.useFactory)}function Vo(n){return typeof n=="function"}function JS(n){return!!n.useClass}var gu=new B(""),Ah={},VS={},Wy;function mu(){return Wy===void 0&&(Wy=new du),Wy}var Ze=class{},jo=class extends Ze{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,ev(e,s=>this.processProvider(s)),this.records.set(yv,ma(void 0,this)),i.has("environment")&&this.records.set(Ze,ma(void 0,this));let o=this.records.get(gu);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(vv,yn,{self:!0}))}retrieve(e,t){let r=Lo(t)||0;try{return this.get(e,Oo,r)}catch(i){if(Js(i))return i;throw i}}destroy(){uu(this),this._destroyed=!0;let e=fe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),fe(e)}}onDestroy(e){return uu(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){uu(this);let t=ar(this),r=Yt(void 0),i;try{return e()}finally{ar(t),Yt(r)}}get(e,t=Oo,r){if(uu(this),e.hasOwnProperty(LS))return e[LS](this);let i=Lo(r),o,s=ar(this),a=Yt(void 0);try{if(!(i&4)){let l=this.records.get(e);if(l===void 0){let d=r2(e)&&hu(e);d&&this.injectableDefInScope(d)?l=ma(Xy(e),Ah):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,i)}let c=i&2?mu():this.parent;return t=i&8&&t===Oo?null:t,c.get(e,t)}catch(c){let l=qV(c);throw l===-200||l===-201?new P(l,null):c}finally{Yt(a),ar(s)}}resolveInjectorInitializers(){let e=fe(null),t=ar(this),r=Yt(void 0),i;try{let o=this.get(Li,yn,{self:!0});for(let s of o)s()}finally{ar(t),Yt(r),fe(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(qr(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Rt(e);let t=Vo(e)?e:Rt(e&&e.provide),r=e2(e);if(!Vo(e)&&e.multi===!0){let i=this.records.get(t);i||(i=ma(void 0,Ah,!0),i.factory=()=>Zy(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=fe(null);try{if(t.value===VS)throw pv(qr(e));return t.value===Ah&&(t.value=VS,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&n2(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{fe(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Rt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Xy(n){let e=hu(n),t=e!==null?e.factory:ki(n);if(t!==null)return t;if(n instanceof B)throw new P(204,!1);if(n instanceof Function)return XV(n);throw new P(204,!1)}function XV(n){if(n.length>0)throw new P(204,!1);let t=BV(n);return t!==null?()=>t.factory(n):()=>new n}function e2(n){if(YS(n))return ma(void 0,n.useValue);{let e=Tv(n);return ma(e,Ah)}}function Tv(n,e,t){let r;if(Vo(n)){let i=Rt(n);return ki(i)||Xy(i)}else if(YS(n))r=()=>Rt(n.useValue);else if(ZV(n))r=()=>n.useFactory(...Zy(n.deps||[]));else if(JV(n))r=(i,o)=>Q(Rt(n.useExisting),o!==void 0&&o&8?8:void 0);else{let i=Rt(n&&(n.useClass||n.provide));if(t2(n))r=()=>new i(...Zy(n.deps));else return ki(i)||Xy(i)}return r}function uu(n){if(n.destroyed)throw new P(205,!1)}function ma(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function t2(n){return!!n.deps}function n2(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function r2(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function ev(n,e){for(let t of n)Array.isArray(t)?ev(t,e):t&&uv(t)?ev(t.\u0275providers,e):e(t)}function rt(n,e){let t;n instanceof jo?(uu(n),t=n):t=new Jy(n);let r,i=ar(t),o=Yt(void 0);try{return e()}finally{ar(i),Yt(o)}}function ZS(){return HS()!==void 0||Hd()!=null}var Bn=0,he=1,ue=2,Nt=3,Sn=4,An=5,yu=6,va=7,Ut=8,ji=9,lr=10,Xe=11,_a=12,bv=13,$o=14,Rn=15,Ho=16,qo=17,zo=18,vu=19,Dv=20,Hr=21,Fh=22,_u=23,_n=24,Lh=25,Eu=26,Bt=27,XS=1;var Ui=7,wu=8,Iu=9,an=10;function dr(n){return Array.isArray(n)&&typeof n[XS]=="object"}function $n(n){return Array.isArray(n)&&n[XS]===!0}function Cv(n){return(n.flags&4)!==0}function Bi(n){return n.componentOffset>-1}function Tu(n){return(n.flags&1)===1}function hr(n){return!!n.template}function Ea(n){return(n[ue]&512)!==0}function Go(n){return(n[ue]&256)===256}var Sv="svg",e0="math";function Nn(n){for(;Array.isArray(n);)n=n[Bn];return n}function Av(n,e){return Nn(e[n])}function Hn(n,e){return Nn(e[n.index])}function Vh(n,e){return n.data[e]}function Rv(n,e){return n[e]}function Nv(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function Mn(n,e){let t=e[n];return dr(t)?t:t[Bn]}function jh(n){return(n[ue]&128)===128}function t0(n){return $n(n[Nt])}function bu(n,e){return e==null?null:n[e]}function Mv(n){n[qo]=0}function Pv(n){n[ue]&1024||(n[ue]|=1024,jh(n)&&Cu(n))}function n0(n,e){for(;n>0;)e=e[$o],n--;return e}function Du(n){return!!(n[ue]&9216||n[_n]?.dirty)}function Uh(n){n[lr].changeDetectionScheduler?.notify(8),n[ue]&64&&(n[ue]|=1024),Du(n)&&Cu(n)}function Cu(n){n[lr].changeDetectionScheduler?.notify(0);let e=xi(n);for(;e!==null&&!(e[ue]&8192||(e[ue]|=8192,!jh(e)));)e=xi(e)}function kv(n,e){if(Go(n))throw new P(911,!1);n[Hr]===null&&(n[Hr]=[]),n[Hr].push(e)}function r0(n,e){if(n[Hr]===null)return;let t=n[Hr].indexOf(e);t!==-1&&n[Hr].splice(t,1)}function xi(n){let e=n[Nt];return $n(e)?e[Nt]:e}function i0(n){return n[va]??=[]}function o0(n){return n.cleanup??=[]}var pe={lFrame:w0(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var tv=!1;function s0(){return pe.lFrame.elementDepthCount}function a0(){pe.lFrame.elementDepthCount++}function c0(){pe.lFrame.elementDepthCount--}function xv(){return pe.bindingsEnabled}function u0(){return pe.skipHydrationRootTNode!==null}function l0(n){return pe.skipHydrationRootTNode===n}function d0(){pe.skipHydrationRootTNode=null}function Re(){return pe.lFrame.lView}function cn(){return pe.lFrame.tView}function qn(n){return pe.lFrame.contextLView=n,n[Ut]}function zn(n){return pe.lFrame.contextLView=null,n}function Jt(){let n=Ov();for(;n!==null&&n.type===64;)n=n.parent;return n}function Ov(){return pe.lFrame.currentTNode}function h0(){let n=pe.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function wa(n,e){let t=pe.lFrame;t.currentTNode=n,t.isParent=e}function Fv(){return pe.lFrame.isParent}function f0(){pe.lFrame.isParent=!1}function Lv(){return tv}function Vv(n){let e=tv;return tv=n,e}function Bh(){let n=pe.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function p0(n){return pe.lFrame.bindingIndex=n}function Su(){return pe.lFrame.bindingIndex++}function g0(n){let e=pe.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function m0(){return pe.lFrame.inI18n}function y0(n,e){let t=pe.lFrame;t.bindingIndex=t.bindingRootIndex=n,$h(e)}function v0(){return pe.lFrame.currentDirectiveIndex}function $h(n){pe.lFrame.currentDirectiveIndex=n}function _0(n){let e=pe.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function jv(n){pe.lFrame.currentQueryIndex=n}function i2(n){let e=n[he];return e.type===2?e.declTNode:e.type===1?n[An]:null}function Uv(n,e,t){if(t&4){let i=e,o=n;for(;i=i.parent,i===null&&!(t&1);)if(i=i2(o),i===null||(o=o[$o],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=pe.lFrame=E0();return r.currentTNode=e,r.lView=n,!0}function Hh(n){let e=E0(),t=n[he];pe.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function E0(){let n=pe.lFrame,e=n===null?null:n.child;return e===null?w0(n):e}function w0(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function I0(){let n=pe.lFrame;return pe.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var Bv=I0;function qh(){let n=I0();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function T0(n){return(pe.lFrame.contextLView=n0(n,pe.lFrame.contextLView))[Ut]}function Wo(){return pe.lFrame.selectedIndex}function $i(n){pe.lFrame.selectedIndex=n}function zh(){let n=pe.lFrame;return Vh(n.tView,n.selectedIndex)}function Ia(){pe.lFrame.currentNamespace=Sv}function Ta(){o2()}function o2(){pe.lFrame.currentNamespace=null}function b0(){return pe.lFrame.currentNamespace}var D0=!0;function Gh(){return D0}function Wh(n){D0=n}function nv(n,e=null,t=null,r){let i=$v(n,e,t,r);return i.resolveInjectorInitializers(),i}function $v(n,e=null,t=null,r,i=new Set){let o=[t||yn,KS(n)];return r=r||(typeof n=="object"?void 0:qr(n)),new jo(o,e||mu(),r||null,i)}var nt=class n{static THROW_IF_NOT_FOUND=Oo;static NULL=new du;static create(e,t){if(Array.isArray(e))return nv({name:""},t,e,"");{let r=e.name??"";return nv({name:r},e.parent,e.providers,r)}}static \u0275prov=z({token:n,providedIn:"any",factory:()=>Q(yv)});static __NG_ELEMENT_ID__=-1},it=new B(""),Gr=(()=>{class n{static __NG_ELEMENT_ID__=s2;static __NG_ENV_ID__=t=>t}return n})(),rv=class extends Gr{_lView;constructor(e){super(),this._lView=e}get destroyed(){return Go(this._lView)}onDestroy(e){let t=this._lView;return kv(t,e),()=>r0(t,e)}};function s2(){return new rv(Re())}var cr=class{_console=console;handleError(e){this._console.error("ERROR",e)}},un=new B("",{providedIn:"root",factory:()=>{let n=x(Ze),e;return t=>{n.destroyed&&!e?setTimeout(()=>{throw t}):(e??=n.get(cr),e.handleError(t))}}}),C0={provide:Li,useValue:()=>void x(cr),multi:!0};function Hv(n){return typeof n=="function"&&n[Vt]!==void 0}function lt(n,e){let[t,r,i]=Ny(n,e?.equal),o=t,s=o[Vt];return o.set=r,o.update=i,o.asReadonly=S0.bind(o),o}function S0(){let n=this[Vt];if(n.readonlyFn===void 0){let e=()=>this();e[Vt]=n,n.readonlyFn=e}return n.readonlyFn}function qv(n){return Hv(n)&&typeof n.set=="function"}var Oi=class{},Kh=new B("",{providedIn:"root",factory:()=>!1});var zv=new B(""),Gv=new B(""),fr=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new At(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new ie(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=z({token:n,providedIn:"root",factory:()=>new n})}return n})(),Hi=(()=>{class n{internalPendingTasks=x(fr);scheduler=x(Oi);errorHandler=x(un);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let r=this.add();t().catch(this.errorHandler).finally(r)}static \u0275prov=z({token:n,providedIn:"root",factory:()=>new n})}return n})();function Au(...n){}var Wv=(()=>{class n{static \u0275prov=z({token:n,providedIn:"root",factory:()=>new iv})}return n})(),iv=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,r]of this.queues)t===null?e||=this.flushQueue(r):e||=t.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}};function Na(n){return{toString:n}.toString()}var Qh="__parameters__";function f2(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function p2(n,e,t){return Na(()=>{let r=f2(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,d){let f=c.hasOwnProperty(Qh)?c[Qh]:Object.defineProperty(c,Qh,{value:[]})[Qh];for(;f.length<=d;)f.push(null);return(f[d]=f[d]||[]).push(s),c}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var $t=qS(p2("Optional"),8);function g2(n){return typeof n=="function"}var nf=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function sA(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var mr=(()=>{let n=()=>aA;return n.ngInherit=!0,n})();function aA(n){return n.type.prototype.ngOnChanges&&(n.setInput=y2),m2}function m2(){let n=uA(this),e=n?.current;if(e){let t=n.previous;if(t===Fi)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function y2(n,e,t,r,i){let o=this.declaredInputs[r],s=uA(n)||v2(n,{previous:Fi,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new nf(l&&l.currentValue,t,c===Fi),sA(n,e,i,t)}var cA="__ngSimpleChanges__";function uA(n){return n[cA]||null}function v2(n,e){return n[cA]=e}var A0=[];var xe=function(n,e=null,t){for(let r=0;r<A0.length;r++){let i=A0[r];i(n,e,t)}};function _2(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=aA(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function lA(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:d}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),d!=null&&(n.destroyHooks??=[]).push(t,d)}}function Xh(n,e,t){dA(n,e,3,t)}function ef(n,e,t,r){(n[ue]&3)===t&&dA(n,e,t,r)}function Kv(n,e){let t=n[ue];(t&3)===e&&(t&=16383,t+=1,n[ue]=t)}function dA(n,e,t,r){let i=r!==void 0?n[qo]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(n[qo]+=65536),(a<o||o==-1)&&(E2(n,t,e,c),n[qo]=(n[qo]&4294901760)+c+2),c++}function R0(n,e){xe(4,n,e);let t=fe(null);try{e.call(n)}finally{fe(t),xe(5,n,e)}}function E2(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[ue]>>14<n[qo]>>16&&(n[ue]&3)===e&&(n[ue]+=16384,R0(a,o)):R0(a,o)}var Da=-1,Qo=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=t,this.injectImpl=r}};function w2(n){return(n.flags&8)!==0}function I2(n){return(n.flags&16)!==0}function T2(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];b2(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function hA(n){return n===3||n===4||n===6}function b2(n){return n.charCodeAt(0)===64}function Mu(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?N0(n,t,i,null,e[++r]):N0(n,t,i,null,null))}}return n}function N0(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function fA(n){return n!==Da}function rf(n){return n&32767}function D2(n){return n>>16}function of(n,e){let t=D2(n),r=e;for(;t>0;)r=r[$o],t--;return r}var o_=!0;function sf(n){let e=o_;return o_=n,e}var C2=256,pA=C2-1,gA=5,S2=0,pr={};function A2(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Bo)&&(r=t[Bo]),r==null&&(r=t[Bo]=S2++);let i=r&pA,o=1<<i;e.data[n+(i>>gA)]|=o}function af(n,e){let t=mA(n,e);if(t!==-1)return t;let r=e[he];r.firstCreatePass&&(n.injectorIndex=e.length,Qv(r.data,n),Qv(e,null),Qv(r.blueprint,null));let i=b_(n,e),o=n.injectorIndex;if(fA(i)){let s=rf(i),a=of(i,e),c=a[he].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function Qv(n,e){n.push(0,0,0,0,0,0,0,0,e)}function mA(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function b_(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=wA(i),r===null)return Da;if(t++,i=i[$o],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Da}function s_(n,e,t){A2(n,e,t)}function R2(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(hA(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function yA(n,e,t){if(t&8||n!==void 0)return n;kh(e,"NodeInjector")}function vA(n,e,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=n[ji],o=Yt(void 0);try{return i?i.get(e,r,t&8):gv(e,r,t&8)}finally{Yt(o)}}return yA(r,e,t)}function _A(n,e,t,r=0,i){if(n!==null){if(e[ue]&2048&&!(r&2)){let s=x2(n,e,t,r,pr);if(s!==pr)return s}let o=EA(n,e,t,r,pr);if(o!==pr)return o}return vA(e,t,r,i)}function EA(n,e,t,r,i){let o=P2(t);if(typeof o=="function"){if(!Uv(e,n,r))return r&1?yA(i,t,r):vA(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&8))kh(t);else return s}finally{Bv()}}else if(typeof o=="number"){let s=null,a=mA(n,e),c=Da,l=r&1?e[Rn][An]:null;for((a===-1||r&4)&&(c=a===-1?b_(n,e):e[a+8],c===Da||!P0(r,!1)?a=-1:(s=e[he],a=rf(c),e=of(c,e)));a!==-1;){let d=e[he];if(M0(o,a,d.data)){let f=N2(a,e,t,s,r,l);if(f!==pr)return f}c=e[a+8],c!==Da&&P0(r,e[he].data[a+8]===l)&&M0(o,a,e)?(s=d,a=rf(c),e=of(c,e)):a=-1}}return i}function N2(n,e,t,r,i,o){let s=e[he],a=s.data[n+8],c=r==null?Bi(a)&&o_:r!=s&&(a.type&3)!==0,l=i&1&&o===a,d=M2(a,s,t,c,l);return d!==null?cf(e,s,d,a,i):pr}function M2(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,c=n.directiveStart,l=n.directiveEnd,d=o>>20,f=r?a:a+d,g=i?a+d:l;for(let m=f;m<g;m++){let E=s[m];if(m<c&&t===E||m>=c&&E.type===t)return m}if(i){let m=s[c];if(m&&hr(m)&&m.type===t)return c}return null}function cf(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof Qo){let a=o;if(a.resolving){let m=US(s[t]);throw pv(m)}let c=sf(a.canSeeViewProviders);a.resolving=!0;let l=s[t].type||s[t],d,f=a.injectImpl?Yt(a.injectImpl):null,g=Uv(n,r,0);try{o=n[t]=a.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&_2(t,s[t],e)}finally{f!==null&&Yt(f),sf(c),a.resolving=!1,Bv()}}return o}function P2(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Bo)?n[Bo]:void 0;return typeof e=="number"?e>=0?e&pA:k2:e}function M0(n,e,t){let r=1<<n;return!!(t[e+(n>>gA)]&r)}function P0(n,e){return!(n&2)&&!(n&1&&e)}var Ko=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return _A(this._tNode,this._lView,e,Lo(r),t)}};function k2(){return new Ko(Jt(),Re())}function Zo(n){return Na(()=>{let e=n.prototype.constructor,t=e[lu]||a_(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[lu]||a_(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function a_(n){return av(n)?()=>{let e=a_(Rt(n));return e&&e()}:ki(n)}function x2(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[ue]&2048&&!Ea(s);){let a=EA(o,s,t,r|2,pr);if(a!==pr)return a;let c=o.parent;if(!c){let l=s[Dv];if(l){let d=l.get(t,pr,r);if(d!==pr)return d}c=wA(s),s=s[$o]}o=c}return i}function wA(n){let e=n[he],t=e.type;return t===2?e.declTNode:t===1?n[An]:null}function Ou(n){return R2(Jt(),n)}function O2(){return _f(Jt(),Re())}function _f(n,e){return new zi(Hn(n,e))}var zi=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=O2}return n})();function IA(n){return(n.flags&128)===128}var D_=(function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n})(D_||{}),TA=new Map,F2=0;function L2(){return F2++}function V2(n){TA.set(n[vu],n)}function c_(n){TA.delete(n[vu])}var k0="__ngContext__";function Ca(n,e){dr(e)?(n[k0]=e[vu],V2(e)):n[k0]=e}function bA(n){return CA(n[_a])}function DA(n){return CA(n[Sn])}function CA(n){for(;n!==null&&!$n(n);)n=n[Sn];return n}var u_;function C_(n){u_=n}function SA(){if(u_!==void 0)return u_;if(typeof document<"u")return document;throw new P(210,!1)}var Ef=new B("",{providedIn:"root",factory:()=>j2}),j2="ng",wf=new B(""),Wn=new B("",{providedIn:"platform",factory:()=>"unknown"});var If=new B(""),Tf=new B("",{providedIn:"root",factory:()=>SA().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var U2="h",B2="b";var AA=!1,RA=new B("",{providedIn:"root",factory:()=>AA});var $2=(n,e,t,r)=>{};function H2(n,e,t,r){$2(n,e,t,r)}function S_(n){return(n.flags&32)===32}var q2=()=>null;function NA(n,e,t=!1){return q2(n,e,t)}function MA(n,e){let t=n.contentQueries;if(t!==null){let r=fe(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];jv(o),a.contentQueries(2,e[s],s)}}}finally{fe(r)}}}function l_(n,e,t){jv(0);let r=fe(null);try{e(n,t)}finally{fe(r)}}function PA(n,e,t){if(Cv(e)){let r=fe(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let c=t[s];a.contentQueries(1,c,s)}}}finally{fe(r)}}}var Wr=(function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n})(Wr||{});var Yh;function z2(){if(Yh===void 0&&(Yh=null,zr.trustedTypes))try{Yh=zr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Yh}function x0(n){return z2()?.createScriptURL(n)||n}var uf=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Mh})`}};function bf(n){return n instanceof uf?n.changingThisBreaksApplicationSecurity:n}function A_(n,e){let t=kA(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Mh})`)}return t===e}function kA(n){return n instanceof uf&&n.getTypeName()||null}var G2=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function xA(n){return n=String(n),n.match(G2)?n:"unsafe:"+n}var Df=(function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n})(Df||{});function OA(n){let e=LA();return e?e.sanitize(Df.URL,n)||"":A_(n,"URL")?bf(n):xA(fu(n))}function FA(n){let e=LA();if(e)return x0(e.sanitize(Df.RESOURCE_URL,n)||"");if(A_(n,"ResourceURL"))return x0(bf(n));throw new P(904,!1)}function W2(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?FA:OA}function R_(n,e,t){return W2(e,t)(n)}function LA(){let n=Re();return n&&n[lr].sanitizer}function VA(n){return n instanceof Function?n():n}function K2(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var jA="ng-template";function Q2(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&K2(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(N_(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function N_(n){return n.type===4&&n.value!==jA}function Y2(n,e,t){let r=n.type===4&&!t?jA:n.value;return e===r}function J2(n,e,t){let r=4,i=n.attrs,o=i!==null?ej(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!Gn(r)&&!Gn(c))return!1;if(s&&Gn(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!Y2(n,c,t)||c===""&&e.length===1){if(Gn(r))return!1;s=!0}}else if(r&8){if(i===null||!Q2(n,i,c,t)){if(Gn(r))return!1;s=!0}}else{let l=e[++a],d=Z2(c,i,N_(n),t);if(d===-1){if(Gn(r))return!1;s=!0;continue}if(l!==""){let f;if(d>o?f="":f=i[d+1].toLowerCase(),r&2&&l!==f){if(Gn(r))return!1;s=!0}}}}return Gn(r)||s}function Gn(n){return(n&1)===0}function Z2(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return tj(e,n)}function X2(n,e,t=!1){for(let r=0;r<e.length;r++)if(J2(n,e[r],t))return!0;return!1}function ej(n){for(let e=0;e<n.length;e++){let t=n[e];if(hA(t))return e}return n.length}function tj(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function O0(n,e){return n?":not("+e.trim()+")":e}function nj(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Gn(s)&&(e+=O0(o,i),i=""),r=s,o=o||!Gn(r);t++}return i!==""&&(e+=O0(o,i)),e}function rj(n){return n.map(nj).join(",")}function ij(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!Gn(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var Yr={};function oj(n,e){return n.createText(e)}function sj(n,e,t){n.setValue(e,t)}function UA(n,e,t){return n.createElement(e,t)}function lf(n,e,t,r,i){n.insertBefore(e,t,r,i)}function BA(n,e,t){n.appendChild(e,t)}function F0(n,e,t,r,i){r!==null?lf(n,e,t,r,i):BA(n,e,t)}function aj(n,e,t,r){n.removeChild(null,e,t,r)}function cj(n,e,t){n.setAttribute(e,"style",t)}function uj(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function $A(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&T2(n,e,r),i!==null&&uj(n,e,i),o!==null&&cj(n,e,o)}function M_(n,e,t,r,i,o,s,a,c,l,d){let f=Bt+r,g=f+i,m=lj(f,g),E=typeof l=="function"?l():l;return m[he]={type:n,blueprint:m,template:t,queries:null,viewQuery:a,declTNode:e,data:m.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:E,incompleteFirstPass:!1,ssrId:d}}function lj(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Yr);return t}function dj(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=M_(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function P_(n,e,t,r,i,o,s,a,c,l,d){let f=e.blueprint.slice();return f[Bn]=i,f[ue]=r|4|128|8|64|1024,(l!==null||n&&n[ue]&2048)&&(f[ue]|=2048),Mv(f),f[Nt]=f[$o]=n,f[Ut]=t,f[lr]=s||n&&n[lr],f[Xe]=a||n&&n[Xe],f[ji]=c||n&&n[ji]||null,f[An]=o,f[vu]=L2(),f[yu]=d,f[Dv]=l,f[Rn]=e.type==2?n[Rn]:f,f}function hj(n,e,t){let r=Hn(e,n),i=dj(t),o=n[lr].rendererFactory,s=k_(n,P_(n,i,null,HA(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function HA(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function qA(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function k_(n,e){return n[_a]?n[bv][Sn]=e:n[_a]=e,n[bv]=e,e}function ge(n=1){zA(cn(),Re(),Wo()+n,!1)}function zA(n,e,t,r){if(!r)if((e[ue]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Xh(e,o,t)}else{let o=n.preOrderHooks;o!==null&&ef(e,o,0,t)}$i(t)}var Cf=(function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n})(Cf||{});function d_(n,e,t,r){let i=fe(null);try{let[o,s,a]=n.inputs[t],c=null;(s&Cf.SignalBased)!==0&&(c=e[o][Vt]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,c,r,t,o):sA(e,c,o,r)}finally{fe(i)}}var gr=(function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n})(gr||{}),fj;function x_(n,e){return fj(n,e)}var Sa=new Set,O_=(function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n})(O_||{}),Fu=new B(""),L0=new Set;function Lu(n){L0.has(n)||(L0.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var GA=!1,h_=class extends ct{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,ZS()&&(this.destroyRef=x(Gr,{optional:!0})??void 0,this.pendingTasks=x(fr,{optional:!0})??void 0)}emit(e){let t=fe(null);try{super.next(e)}finally{fe(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Je&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},ot=h_;function WA(n){let e,t;function r(){n=Au;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function V0(n){return queueMicrotask(()=>n()),()=>{n=Au}}var F_="isAngularZone",df=F_+"_ID",pj=0,De=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new ot(!1);onMicrotaskEmpty=new ot(!1);onStable=new ot(!1);onError=new ot(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=GA}=e;if(typeof Zone>"u")throw new P(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,yj(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(F_)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new P(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new P(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,gj,Au,Au);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},gj={};function L_(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function mj(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){WA(()=>{n.callbackScheduled=!1,f_(n),n.isCheckStableRunning=!0,L_(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),f_(n)}function yj(n){let e=()=>{mj(n)},t=pj++;n._inner=n._inner.fork({name:"angular",properties:{[F_]:!0,[df]:t,[df+t]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(vj(c))return r.invokeTask(o,s,a,c);try{return j0(n),r.invokeTask(o,s,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),U0(n)}},onInvoke:(r,i,o,s,a,c,l)=>{try{return j0(n),r.invoke(o,s,a,c,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!_j(c)&&e(),U0(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,f_(n),L_(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function f_(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function j0(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function U0(n){n._nesting--,L_(n)}var hf=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new ot;onMicrotaskEmpty=new ot;onStable=new ot;onError=new ot;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function vj(n){return KA(n,"__ignore_ng_zone__")}function _j(n){return KA(n,"__scheduler_tick__")}function KA(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var QA=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=z({token:n,providedIn:"root",factory:()=>new n})}return n})();var Ej=new B("",{providedIn:"root",factory:()=>({queue:new Set,isScheduled:!1,scheduler:null})});function YA(n,e){let t=n.get(Ej);if(Array.isArray(e))for(let r of e)t.queue.add(r);else t.queue.add(e);t.scheduler&&t.scheduler(n)}function wj(n,e){for(let[t,r]of e)YA(n,r.animateFns)}function B0(n,e,t,r){let i=n?.[Eu]?.enter;e!==null&&i&&i.has(t.index)&&wj(r,i)}function ba(n,e,t,r,i,o,s,a){if(i!=null){let c,l=!1;$n(i)?c=i:dr(i)&&(l=!0,i=i[Bn]);let d=Nn(i);n===0&&r!==null?(B0(a,r,o,t),s==null?BA(e,r,d):lf(e,r,d,s||null,!0)):n===1&&r!==null?(B0(a,r,o,t),lf(e,r,d,s||null,!0)):n===2?$0(a,o,t,f=>{aj(e,d,l,f)}):n===3&&$0(a,o,t,()=>{e.destroyNode(d)}),c!=null&&xj(e,n,t,c,o,r,s)}}function Ij(n,e){JA(n,e),e[Bn]=null,e[An]=null}function Tj(n,e,t,r,i,o){r[Bn]=i,r[An]=e,Sf(n,r,t,1,i,o)}function JA(n,e){e[lr].changeDetectionScheduler?.notify(9),Sf(n,e,e[Xe],2,null,null)}function bj(n){let e=n[_a];if(!e)return Yv(n[he],n);for(;e;){let t=null;if(dr(e))t=e[_a];else{let r=e[an];r&&(t=r)}if(!t){for(;e&&!e[Sn]&&e!==n;)dr(e)&&Yv(e[he],e),e=e[Nt];e===null&&(e=n),dr(e)&&Yv(e[he],e),t=e&&e[Sn]}e=t}}function V_(n,e){let t=n[Iu],r=t.indexOf(e);t.splice(r,1)}function ZA(n,e){if(Go(e))return;let t=e[Xe];t.destroyNode&&Sf(n,e,t,3,null,null),bj(e)}function Yv(n,e){if(Go(e))return;let t=fe(null);try{e[ue]&=-129,e[ue]|=256,e[_n]&&ou(e[_n]),Sj(n,e),Cj(n,e),e[he].type===1&&e[Xe].destroy();let r=e[Ho];if(r!==null&&$n(e[Nt])){r!==e[Nt]&&V_(r,e);let i=e[zo];i!==null&&i.detachView(n)}c_(e)}finally{fe(t)}}function $0(n,e,t,r){let i=n?.[Eu];if(i==null||i.leave==null||!i.leave.has(e.index))return r(!1);if(i.skipLeaveAnimations)return i.skipLeaveAnimations=!1,r(!1);n&&Sa.add(n),YA(t,()=>{if(i.leave&&i.leave.has(e.index)){let s=i.leave.get(e.index),a=[];if(s)for(let c=0;c<s.animateFns.length;c++){let l=s.animateFns[c],{promise:d}=l();a.push(d)}i.running=Promise.allSettled(a),Dj(n,r)}else n&&Sa.delete(n),r(!1)})}function Dj(n,e){let t=n[Eu]?.running;if(t){t.then(()=>{n[Eu].running=void 0,Sa.delete(n),e(!0)});return}e(!1)}function Cj(n,e){let t=n.cleanup,r=e[va];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[va]=null);let i=e[Hr];if(i!==null){e[Hr]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[_u];if(o!==null){e[_u]=null;for(let s of o)s.destroy()}}function Sj(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Qo)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];xe(4,a,c);try{c.call(a)}finally{xe(5,a,c)}}else{xe(4,i,o);try{o.call(i)}finally{xe(5,i,o)}}}}}function Aj(n,e,t){return Rj(n,e.parent,t)}function Rj(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Bn];if(Bi(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===Wr.None||i===Wr.Emulated)return null}return Hn(r,t)}function Nj(n,e,t){return Pj(n,e,t)}function Mj(n,e,t){return n.type&40?Hn(n,t):null}var Pj=Mj,H0;function j_(n,e,t,r){let i=Aj(n,r,e),o=e[Xe],s=r.parent||e[An],a=Nj(s,r,e);if(i!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)F0(o,i,t[c],a,!1);else F0(o,i,t,a,!1);H0!==void 0&&H0(o,r,e,t,i)}function Ru(n,e){if(e!==null){let t=e.type;if(t&3)return Hn(e,n);if(t&4)return p_(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Ru(n,r);{let i=n[e.index];return $n(i)?p_(-1,i):Nn(i)}}else{if(t&128)return Ru(n,e.next);if(t&32)return x_(e,n)()||Nn(n[e.index]);{let r=XA(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=xi(n[Rn]);return Ru(i,r)}else return Ru(n,e.next)}}}return null}function XA(n,e){if(e!==null){let r=n[Rn][An],i=e.projection;return r.projection[i]}return null}function p_(n,e){let t=an+n+1;if(t<e.length){let r=e[t],i=r[he].firstChild;if(i!==null)return Ru(r,i)}return e[Ui]}function U_(n,e,t,r,i,o,s){for(;t!=null;){let a=r[ji];if(t.type===128){t=t.next;continue}let c=r[t.index],l=t.type;if(s&&e===0&&(c&&Ca(Nn(c),r),t.flags|=2),!S_(t))if(l&8)U_(n,e,t.child,r,i,o,!1),ba(e,n,a,i,c,t,o,r);else if(l&32){let d=x_(t,r),f;for(;f=d();)ba(e,n,a,i,f,t,o,r);ba(e,n,a,i,c,t,o,r)}else l&16?kj(n,e,r,t,i,o):ba(e,n,a,i,c,t,o,r);t=s?t.projectionNext:t.next}}function Sf(n,e,t,r,i,o){U_(t,r,n.firstChild,e,i,o,!1)}function kj(n,e,t,r,i,o){let s=t[Rn],c=s[An].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let d=c[l];ba(e,n,t[ji],i,d,r,o,t)}else{let l=c,d=s[Nt];IA(r)&&(l.flags|=128),U_(n,e,l,d,i,o,!0)}}function xj(n,e,t,r,i,o,s){let a=r[Ui],c=Nn(r);a!==c&&ba(e,n,t,o,a,i,s);for(let l=an;l<r.length;l++){let d=r[l];Sf(d[he],d,n,e,o,a)}}function Oj(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:gr.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=gr.Important),n.setStyle(t,r,i,o))}}function eR(n,e,t,r,i){let o=Wo(),s=r&2;try{$i(-1),s&&e.length>Bt&&zA(n,e,Bt,!1),xe(s?2:0,i,t),t(r,i)}finally{$i(o),xe(s?3:1,i,t)}}function B_(n,e,t){$j(n,e,t),(t.flags&64)===64&&Hj(n,e,t)}function tR(n,e,t=Hn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function Fj(n,e,t,r){let o=r.get(RA,AA)||t===Wr.ShadowDom,s=n.selectRootElement(e,o);return Lj(s),s}function Lj(n){Vj(n)}var Vj=()=>null;function jj(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function nR(n,e,t,r,i,o){let s=e[he];if($_(n,s,e,t,r)){Bi(n)&&Bj(e,n.index);return}n.type&3&&(t=jj(t)),Uj(n,e,t,r,i,o)}function Uj(n,e,t,r,i,o){if(n.type&3){let s=Hn(n,e);r=o!=null?o(r,n.value||"",t):r,i.setProperty(s,t,r)}else n.type&12}function Bj(n,e){let t=Mn(e,n);t[ue]&16||(t[ue]|=64)}function $j(n,e,t){let r=t.directiveStart,i=t.directiveEnd;Bi(t)&&hj(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||af(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],c=cf(e,n,s,t);if(Ca(c,e),o!==null&&Wj(e,s-r,c,a,t,o),hr(a)){let l=Mn(t.index,e);l[Ut]=cf(e,n,s,t)}}}function Hj(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=v0();try{$i(o);for(let a=r;a<i;a++){let c=n.data[a],l=e[a];$h(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&qj(c,l)}}finally{$i(-1),$h(s)}}function qj(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function rR(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];X2(e,o.selectors,!1)&&(r??=[],hr(o)?r.unshift(o):r.push(o))}return r}function zj(n,e,t,r,i,o){let s=Hn(n,e);Gj(e[Xe],s,o,n.value,t,r,i)}function Gj(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?fu(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function Wj(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],l=s[a+1];d_(r,t,c,l)}}function Kj(n,e,t,r,i){let o=Bt+t,s=e[he],a=i(s,e,n,r,t);e[o]=a,wa(n,!0);let c=n.type===2;return c?($A(e[Xe],a,n),(s0()===0||Tu(n))&&Ca(a,e),a0()):Ca(a,e),Gh()&&(!c||!S_(n))&&j_(s,e,a,n),n}function Qj(n){let e=n;return Fv()?f0():(e=e.parent,wa(e,!1)),e}function Yj(n,e){let t=n[ji];if(!t)return;let r;try{r=t.get(un,null)}catch{r=null}r?.(e)}function $_(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let l=s[c],d=s[c+1],f=e.data[l];d_(f,t[l],d,i),a=!0}if(o)for(let c of o){let l=t[c],d=e.data[c];d_(d,l,r,i),a=!0}return a}function Jj(n,e){let t=Mn(e,n),r=t[he];Zj(r,t);let i=t[Bn];i!==null&&t[yu]===null&&(t[yu]=NA(i,t[ji])),xe(18),H_(r,t,t[Ut]),xe(19,t[Ut])}function Zj(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function H_(n,e,t){Hh(e);try{let r=n.viewQuery;r!==null&&l_(1,r,t);let i=n.template;i!==null&&eR(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[zo]?.finishViewCreation(n),n.staticContentQueries&&MA(n,e),n.staticViewQueries&&l_(2,n.viewQuery,t);let o=n.components;o!==null&&Xj(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[ue]&=-5,qh()}}function Xj(n,e){for(let t=0;t<e.length;t++)Jj(n,e[t])}function eU(n,e,t,r){let i=fe(null);try{let o=e.tView,a=n[ue]&4096?4096:16,c=P_(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];c[Ho]=l;let d=n[zo];return d!==null&&(c[zo]=d.createEmbeddedView(o)),H_(o,c,t),c}finally{fe(i)}}function q0(n,e){return!e||e.firstChild===null||IA(n)}function Pu(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(Nn(o)),$n(o)&&iR(o,r);let s=t.type;if(s&8)Pu(n,e,t.child,r);else if(s&32){let a=x_(t,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=XA(e,t);if(Array.isArray(a))r.push(...a);else{let c=xi(e[Rn]);Pu(c[he],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function iR(n,e){for(let t=an;t<n.length;t++){let r=n[t],i=r[he].firstChild;i!==null&&Pu(r[he],r,i,e)}n[Ui]!==n[Bn]&&e.push(n[Ui])}function oR(n){if(n[Lh]!==null){for(let e of n[Lh])e.impl.addSequence(e);n[Lh].length=0}}var sR=[];function tU(n){return n[_n]??nU(n)}function nU(n){let e=sR.pop()??Object.create(iU);return e.lView=n,e}function rU(n){n.lView[_n]!==n&&(n.lView=null,sR.push(n))}var iU=de(V({},Zs),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Cu(n.lView)},consumerOnSignalRead(){this.lView[_n]=this}});function oU(n){let e=n[_n]??Object.create(sU);return e.lView=n,e}var sU=de(V({},Zs),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=xi(n.lView);for(;e&&!aR(e[he]);)e=xi(e);e&&Pv(e)},consumerOnSignalRead(){this.lView[_n]=this}});function aR(n){return n.type!==2}function cR(n){if(n[_u]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[_u])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[ue]&8192)}}var aU=100;function uR(n,e=0){let r=n[lr].rendererFactory,i=!1;i||r.begin?.();try{cU(n,e)}finally{i||r.end?.()}}function cU(n,e){let t=Lv();try{Vv(!0),g_(n,e);let r=0;for(;Du(n);){if(r===aU)throw new P(103,!1);r++,g_(n,1)}}finally{Vv(t)}}function uU(n,e,t,r){if(Go(e))return;let i=e[ue],o=!1,s=!1;Hh(e);let a=!0,c=null,l=null;o||(aR(n)?(l=tU(e),c=ea(l)):Kd()===null?(a=!1,l=oU(e),c=ea(l)):e[_n]&&(ou(e[_n]),e[_n]=null));try{Mv(e),p0(n.bindingStartIndex),t!==null&&eR(n,e,t,2,r);let d=(i&3)===3;if(!o)if(d){let m=n.preOrderCheckHooks;m!==null&&Xh(e,m,null)}else{let m=n.preOrderHooks;m!==null&&ef(e,m,0,null),Kv(e,0)}if(s||lU(e),cR(e),lR(e,0),n.contentQueries!==null&&MA(n,e),!o)if(d){let m=n.contentCheckHooks;m!==null&&Xh(e,m)}else{let m=n.contentHooks;m!==null&&ef(e,m,1),Kv(e,1)}hU(n,e);let f=n.components;f!==null&&hR(e,f,0);let g=n.viewQuery;if(g!==null&&l_(2,g,r),!o)if(d){let m=n.viewCheckHooks;m!==null&&Xh(e,m)}else{let m=n.viewHooks;m!==null&&ef(e,m,2),Kv(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Fh]){for(let m of e[Fh])m();e[Fh]=null}o||(oR(e),e[ue]&=-73)}catch(d){throw o||Cu(e),d}finally{l!==null&&(ru(l,c),a&&rU(l)),qh()}}function lR(n,e){for(let t=bA(n);t!==null;t=DA(t))for(let r=an;r<t.length;r++){let i=t[r];dR(i,e)}}function lU(n){for(let e=bA(n);e!==null;e=DA(e)){if(!(e[ue]&2))continue;let t=e[Iu];for(let r=0;r<t.length;r++){let i=t[r];Pv(i)}}}function dU(n,e,t){xe(18);let r=Mn(e,n);dR(r,t),xe(19,r[Ut])}function dR(n,e){jh(n)&&g_(n,e)}function g_(n,e){let r=n[he],i=n[ue],o=n[_n],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&iu(o)),s||=!1,o&&(o.dirty=!1),n[ue]&=-9217,s)uU(r,n,r.template,n[Ut]);else if(i&8192){let a=fe(null);try{cR(n),lR(n,1);let c=r.components;c!==null&&hR(n,c,1),oR(n)}finally{fe(a)}}}function hR(n,e,t){for(let r=0;r<e.length;r++)dU(n,e[r],t)}function hU(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)$i(~i);else{let o=i,s=t[++r],a=t[++r];y0(s,o);let c=e[o];xe(24,c),a(2,c),xe(25,c)}}}finally{$i(-1)}}function q_(n,e){let t=Lv()?64:1088;for(n[lr].changeDetectionScheduler?.notify(e);n;){n[ue]|=t;let r=xi(n);if(Ea(n)&&!r)return n;n=r}return null}function fR(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function fU(n,e,t,r=!0){let i=e[he];if(pU(i,e,n,t),r){let s=p_(t,n),a=e[Xe],c=a.parentNode(n[Ui]);c!==null&&Tj(i,n[An],a,e,c,s)}let o=e[yu];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function m_(n,e){if(n.length<=an)return;let t=an+e,r=n[t];if(r){let i=r[Ho];i!==null&&i!==n&&V_(i,r),e>0&&(n[t-1][Sn]=r[Sn]);let o=pu(n,an+e);Ij(r[he],r);let s=o[zo];s!==null&&s.detachView(o[he]),r[Nt]=null,r[Sn]=null,r[ue]&=-129}return r}function pU(n,e,t,r){let i=an+r,o=t.length;r>0&&(t[i-1][Sn]=e),r<o-an?(e[Sn]=t[i],mv(t,an+r,e)):(t.push(e),e[Sn]=null),e[Nt]=t;let s=e[Ho];s!==null&&t!==s&&pR(s,e);let a=e[zo];a!==null&&a.insertView(n),Uh(e),e[ue]|=128}function pR(n,e){let t=n[Iu],r=e[Nt];if(dr(r))n[ue]|=2;else{let i=r[Nt][Rn];e[Rn]!==i&&(n[ue]|=2)}t===null?n[Iu]=[e]:t.push(e)}var qi=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[he];return Pu(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[Ut]}set context(e){this._lView[Ut]=e}get destroyed(){return Go(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Nt];if($n(e)){let t=e[wu],r=t?t.indexOf(this):-1;r>-1&&(m_(e,r),pu(t,r))}this._attachedToViewContainer=!1}ZA(this._lView[he],this._lView)}onDestroy(e){kv(this._lView,e)}markForCheck(){q_(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ue]&=-129}reattach(){Uh(this._lView),this._lView[ue]|=128}detectChanges(){this._lView[ue]|=1024,uR(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new P(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Ea(this._lView),t=this._lView[Ho];t!==null&&!e&&V_(t,this._lView),JA(this._lView[he],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new P(902,!1);this._appRef=e;let t=Ea(this._lView),r=this._lView[Ho];r!==null&&!t&&pR(r,this._lView),Uh(this._lView)}};var Vu=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=gU;constructor(t,r,i){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,i){let o=eU(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:i});return new qi(o)}}return n})();function gU(){return mU(Jt(),Re())}function mU(n,e){return n.type&4?new Vu(e,n,_f(n,e)):null}function z_(n,e,t,r,i){let o=n.data[e];if(o===null)o=yU(n,e,t,r,i),m0()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=h0();o.injectorIndex=s===null?-1:s.injectorIndex}return wa(o,!0),o}function yU(n,e,t,r,i){let o=Ov(),s=Fv(),a=s?o:o&&o.parent,c=n.data[e]=_U(n,a,t,e,r,i);return vU(n,c,o,s),c}function vU(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function _U(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return u0()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var Ine=new RegExp(`^(\\d+)*(${B2}|${U2})*(.*)`);var EU=()=>null;function z0(n,e){return EU(n,e)}var gR=class{},Af=class{},y_=class{resolveComponentFactory(e){throw new P(917,!1)}},ju=class{static NULL=new y_},Kr=class{},Xo=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>wU()}return n})();function wU(){let n=Re(),e=Jt(),t=Mn(e.index,n);return(dr(t)?t:n)[Xe]}var mR=(()=>{class n{static \u0275prov=z({token:n,providedIn:"root",factory:()=>null})}return n})();var tf={},v_=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){let i=this.injector.get(e,tf,r);return i!==tf||t===tf?i:this.parentInjector.get(e,t,r)}};function G0(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=sv(i,a);else if(o==2){let c=a,l=e[++s];r=sv(r,c+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function J(n,e=0){let t=Re();if(t===null)return Q(n,e);let r=Jt();return _A(r,t,Rt(n),e)}function yR(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a=s,c=null,l=null;for(let d of s)if(d.resolveHostDirectives!==null){[a,c,l]=d.resolveHostDirectives(s);break}bU(n,e,t,a,o,c,l)}o!==null&&r!==null&&IU(t,r,o)}function IU(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new P(-301,!1);r.push(e[i],o)}}function TU(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function bU(n,e,t,r,i,o,s){let a=r.length,c=!1;for(let g=0;g<a;g++){let m=r[g];!c&&hr(m)&&(c=!0,TU(n,t,g)),s_(af(t,e),n,m.type)}NU(t,n.data.length,a);for(let g=0;g<a;g++){let m=r[g];m.providersResolver&&m.providersResolver(m)}let l=!1,d=!1,f=qA(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let g=0;g<a;g++){let m=r[g];if(t.mergedAttrs=Mu(t.mergedAttrs,m.hostAttrs),CU(n,t,e,f,m),RU(f,m,i),s!==null&&s.has(m)){let[A,D]=s.get(m);t.directiveToIndex.set(m.type,[f,A+t.directiveStart,D+t.directiveStart])}else(o===null||!o.has(m))&&t.directiveToIndex.set(m.type,f);m.contentQueries!==null&&(t.flags|=4),(m.hostBindings!==null||m.hostAttrs!==null||m.hostVars!==0)&&(t.flags|=64);let E=m.type.prototype;!l&&(E.ngOnChanges||E.ngOnInit||E.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),l=!0),!d&&(E.ngOnChanges||E.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),d=!0),f++}DU(n,t,o)}function DU(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))W0(0,e,i,r),W0(1,e,i,r),Q0(e,r,!1);else{let o=t.get(i);K0(0,e,o,r),K0(1,e,o,r),Q0(e,r,!0)}}}function W0(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),vR(e,o)}}function K0(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),vR(e,s)}}function vR(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function Q0(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||N_(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!t&&i.hasOwnProperty(c)){let l=i[c];for(let d of l)if(d===e){s??=[],s.push(c,r[a+1]);break}}else if(t&&o.hasOwnProperty(c)){let l=o[c];for(let d=0;d<l.length;d+=2)if(l[d]===e){s??=[],s.push(l[d+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function CU(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=ki(i.type,!0)),s=new Qo(o,hr(i),J,null);n.blueprint[r]=s,t[r]=s,SU(n,e,r,qA(n,t,i.hostVars,Yr),i)}function SU(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;AU(s)!=a&&s.push(a),s.push(t,r,o)}}function AU(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function RU(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;hr(e)&&(t[""]=n)}}function NU(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function _R(n,e,t,r,i,o,s,a){let c=e[he],l=c.consts,d=bu(l,s),f=z_(c,n,t,r,d);return o&&yR(c,e,f,bu(l,a),i),f.mergedAttrs=Mu(f.mergedAttrs,f.attrs),f.attrs!==null&&G0(f,f.attrs,!1),f.mergedAttrs!==null&&G0(f,f.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,f),f}function ER(n,e){lA(n,e),Cv(e)&&n.queries.elementEnd(e)}function G_(n){return IR(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function wR(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function IR(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function W_(n,e,t){return n[e]=t}function Qr(n,e,t){if(t===Yr)return!1;let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function MU(n,e,t,r){let i=Qr(n,e,t);return Qr(n,e+1,r)||i}function Jv(n,e,t){return function r(i){let o=Bi(n)?Mn(n.index,e):e;q_(o,5);let s=e[Ut],a=Y0(e,s,t,i),c=r.__ngNextListenerFn__;for(;c;)a=Y0(e,s,c,i)&&a,c=c.__ngNextListenerFn__;return a}}function Y0(n,e,t,r){let i=fe(null);try{return xe(6,e,t),t(r)!==!1}catch(o){return Yj(n,o),!1}finally{xe(7,e,t),fe(i)}}function PU(n,e,t,r,i,o,s,a){let c=Tu(n),l=!1,d=null;if(!r&&c&&(d=xU(e,t,o,n.index)),d!==null){let f=d.__ngLastListenerFn__||d;f.__ngNextListenerFn__=s,d.__ngLastListenerFn__=s,l=!0}else{let f=Hn(n,t),g=r?r(f):f;H2(t,g,o,a);let m=i.listen(g,o,a);if(!kU(o)){let E=r?A=>r(Nn(A[n.index])):n.index;TR(E,e,t,o,a,m,!1)}}return l}function kU(n){return n.startsWith("animation")||n.startsWith("transition")}function xU(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[va],c=i[o+2];return a&&a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function TR(n,e,t,r,i,o,s){let a=e.firstCreatePass?o0(e):null,c=i0(t),l=c.length;c.push(i,o),a&&a.push(r,n,l,(l+1)*(s?-1:1))}function J0(n,e,t,r,i,o){let s=e[t],a=e[he],l=a.data[t].outputs[r],f=s[l].subscribe(o);TR(n.index,a,e,i,o,f,!0)}var __=Symbol("BINDING");var ff=class extends ju{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Vi(e);return new Aa(t,this.ngModule)}};function OU(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&Cf.SignalBased)!==0};return i&&(o.transform=i),o})}function FU(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function LU(n,e,t){let r=e instanceof Ze?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new v_(t,r):t}function VU(n){let e=n.get(Kr,null);if(e===null)throw new P(407,!1);let t=n.get(mR,null),r=n.get(Oi,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function jU(n,e){let t=bR(n);return UA(e,t,t==="svg"?Sv:t==="math"?e0:null)}function bR(n){return(n.selectors[0][0]||"div").toLowerCase()}var Aa=class extends Af{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=OU(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=FU(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=rj(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i,o,s){xe(22);let a=fe(null);try{let c=this.componentDef,l=UU(r,c,s,o),d=LU(c,i||this.ngModule,e),f=VU(d),g=f.rendererFactory.createRenderer(null,c),m=r?Fj(g,r,c.encapsulation,d):jU(c,g),E=s?.some(Z0)||o?.some(M=>typeof M!="function"&&M.bindings.some(Z0)),A=P_(null,l,null,512|HA(c),null,null,f,g,d,null,NA(m,d,!0));A[Bt]=m,Hh(A);let D=null;try{let M=_R(Bt,A,2,"#host",()=>l.directiveRegistry,!0,0);$A(g,m,M),Ca(m,A),B_(l,A,M),PA(l,M,A),ER(l,M),t!==void 0&&$U(M,this.ngContentSelectors,t),D=Mn(M.index,A),A[Ut]=D[Ut],H_(l,A,null)}catch(M){throw D!==null&&c_(D),c_(A),M}finally{xe(23),qh()}return new pf(this.componentType,A,!!E)}finally{fe(a)}}};function UU(n,e,t,r){let i=n?["ng-version","20.3.9"]:ij(e.selectors[0]),o=null,s=null,a=0;if(t)for(let d of t)a+=d[__].requiredVars,d.create&&(d.targetIdx=0,(o??=[]).push(d)),d.update&&(d.targetIdx=0,(s??=[]).push(d));if(r)for(let d=0;d<r.length;d++){let f=r[d];if(typeof f!="function")for(let g of f.bindings){a+=g[__].requiredVars;let m=d+1;g.create&&(g.targetIdx=m,(o??=[]).push(g)),g.update&&(g.targetIdx=m,(s??=[]).push(g))}}let c=[e];if(r)for(let d of r){let f=typeof d=="function"?d:d.type,g=Ev(f);c.push(g)}return M_(0,null,BU(o,s),1,a,c,null,null,null,[i],null)}function BU(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let r of n)r.create();if(t&2&&e)for(let r of e)r.update()}}function Z0(n){let e=n[__].kind;return e==="input"||e==="twoWay"}var pf=class extends gR{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=Vh(t[he],Bt),this.location=_f(this._tNode,t),this.instance=Mn(this._tNode.index,t)[Ut],this.hostView=this.changeDetectorRef=new qi(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=$_(r,i[he],i,e,t);this.previousInputValues.set(e,t);let s=Mn(r.index,i);q_(s,1)}get injector(){return new Ko(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function $U(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var es=(()=>{class n{static __NG_ELEMENT_ID__=HU}return n})();function HU(){let n=Jt();return zU(n,Re())}var qU=es,DR=class extends qU{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return _f(this._hostTNode,this._hostLView)}get injector(){return new Ko(this._hostTNode,this._hostLView)}get parentInjector(){let e=b_(this._hostTNode,this._hostLView);if(fA(e)){let t=of(e,this._hostLView),r=rf(e),i=t[he].data[r+8];return new Ko(i,t)}else return new Ko(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=X0(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-an}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=z0(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,q0(this._hostTNode,s)),a}createComponent(e,t,r,i,o,s,a){let c=e&&!g2(e),l;if(c)l=t;else{let D=t||{};l=D.index,r=D.injector,i=D.projectableNodes,o=D.environmentInjector||D.ngModuleRef,s=D.directives,a=D.bindings}let d=c?e:new Aa(Vi(e)),f=r||this.parentInjector;if(!o&&d.ngModule==null){let M=(c?f:this.parentInjector).get(Ze,null);M&&(o=M)}let g=Vi(d.componentType??{}),m=z0(this._lContainer,g?.id??null),E=m?.firstChild??null,A=d.create(f,i,E,o,s,a);return this.insertImpl(A.hostView,l,q0(this._hostTNode,m)),A}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(t0(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[Nt],l=new DR(c,c[An],c[Nt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return fU(s,i,o,r),e.attachToViewContainerRef(),mv(Zv(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=X0(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=m_(this._lContainer,t);r&&(pu(Zv(this._lContainer),t),ZA(r[he],r))}detach(e){let t=this._adjustIndex(e,-1),r=m_(this._lContainer,t);return r&&pu(Zv(this._lContainer),t)!=null?new qi(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function X0(n){return n[wu]}function Zv(n){return n[wu]||(n[wu]=[])}function zU(n,e){let t,r=e[n.index];return $n(r)?t=r:(t=fR(r,e,null,n),e[n.index]=t,k_(e,t)),WU(t,e,n,r),new DR(t,n,e)}function GU(n,e){let t=n[Xe],r=t.createComment(""),i=Hn(e,n),o=t.parentNode(i);return lf(t,o,r,t.nextSibling(i),!1),r}var WU=YU,KU=()=>!1;function QU(n,e,t){return KU(n,e,t)}function YU(n,e,t,r){if(n[Ui])return;let i;t.type&8?i=Nn(r):i=GU(e,t),n[Ui]=i}var Yo=class{},Rf=class{};var gf=class extends Yo{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new ff(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=_v(e);this._bootstrapComponents=VA(o.bootstrap),this._r3Injector=$v(e,t,[{provide:Yo,useValue:this},{provide:ju,useValue:this.componentFactoryResolver},...r],qr(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},mf=class extends Rf{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new gf(this.moduleType,e,[])}};var ku=class extends Yo{injector;componentFactoryResolver=new ff(this);instance=null;constructor(e){super();let t=new jo([...e.providers,{provide:Yo,useValue:this},{provide:ju,useValue:this.componentFactoryResolver}],e.parent||mu(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Uu(n,e,t=null){return new ku({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var JU=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=wv(!1,t.type),i=r.length>0?Uu([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=z({token:n,providedIn:"environment",factory:()=>new n(Q(Ze))})}return n})();function Kn(n){return Na(()=>{let e=CR(n),t=de(V({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===D_.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(JU).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Wr.Emulated,styles:n.styles||yn,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&Lu("NgStandalone"),SR(t);let r=n.dependencies;return t.directiveDefs=eA(r,ZU),t.pipeDefs=eA(r,WS),t.id=tB(t),t})}function ZU(n){return Vi(n)||Ev(n)}function Pn(n){return Na(()=>({type:n.type,bootstrap:n.bootstrap||yn,declarations:n.declarations||yn,imports:n.imports||yn,exports:n.exports||yn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function XU(n,e){if(n==null)return Fi;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,c;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,c=i[3]||null):(o=i,s=i,a=Cf.None,c=null),t[o]=[r,a,c],e[o]=s}return t}function eB(n){if(n==null)return Fi;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function _t(n){return Na(()=>{let e=CR(n);return SR(e),e})}function Nf(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function CR(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||Fi,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||yn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:XU(n.inputs,e),outputs:eB(n.outputs),debugInfo:null}}function SR(n){n.features?.forEach(e=>e(n))}function eA(n,e){return n?()=>{let t=typeof n=="function"?n():n,r=[];for(let i of t){let o=e(i);o!==null&&r.push(o)}return r}:null}function tB(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function nB(n){return Object.getPrototypeOf(n.prototype).constructor}function Qn(n){let e=nB(n.type),t=!0,r=[n];for(;e;){let i;if(hr(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new P(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=Xv(n.inputs),s.declaredInputs=Xv(n.declaredInputs),s.outputs=Xv(n.outputs);let a=i.hostBindings;a&&aB(n,a);let c=i.viewQuery,l=i.contentQueries;if(c&&oB(n,c),l&&sB(n,l),rB(n,i),jS(n.outputs,i.outputs),hr(i)&&i.data.animation){let d=n.data;d.animation=(d.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===Qn&&(t=!1)}}e=Object.getPrototypeOf(e)}iB(r)}function rB(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function iB(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Mu(i.hostAttrs,t=Mu(t,i.hostAttrs))}}function Xv(n){return n===Fi?{}:n===yn?[]:n}function oB(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function sB(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function aB(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function cB(n,e,t,r,i,o,s,a){if(t.firstCreatePass){n.mergedAttrs=Mu(n.mergedAttrs,n.attrs);let d=n.tView=M_(2,n,i,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,n),d.queries=t.queries.embeddedTView(n))}a&&(n.flags|=a),wa(n,!1);let c=lB(t,e,n,r);Gh()&&j_(t,e,c,n),Ca(c,e);let l=fR(c,e,c,n);e[r+Bt]=l,k_(e,l),QU(l,n,e)}function uB(n,e,t,r,i,o,s,a,c,l,d){let f=t+Bt,g;return e.firstCreatePass?(g=z_(e,f,4,s||null,a||null),xv()&&yR(e,n,g,bu(e.consts,l),rR),lA(e,g)):g=e.data[f],cB(g,n,e,t,r,i,o,c),Tu(g)&&B_(e,n,g),l!=null&&tR(n,g,d),g}function kn(n,e,t,r,i,o,s,a){let c=Re(),l=cn(),d=bu(l.consts,o);return uB(c,l,n,e,t,r,i,d,void 0,s,a),kn}var lB=dB;function dB(n,e,t,r){return Wh(!0),e[Xe].createComment("")}var K_=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var Q_=new B("");function Gi(n){return!!n&&typeof n.then=="function"}function Y_(n){return!!n&&typeof n.subscribe=="function"}var AR=new B("");var J_=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=x(AR,{optional:!0})??[];injector=x(nt);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=rt(this.injector,i);if(Gi(o))t.push(o);else if(Y_(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Mf=new B("");function RR(){Ry(()=>{let n="";throw new P(600,n)})}function NR(n){return n.isBoundToModule}var hB=10;var Wi=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=x(un);afterRenderManager=x(QA);zonelessEnabled=x(Kh);rootEffectScheduler=x(Wv);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new ct;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=x(fr);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(oe(t=>!t))}constructor(){x(Fu,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=x(Ze);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=nt.NULL){return this._injector.get(De).run(()=>{xe(10);let s=t instanceof Af;if(!this._injector.get(J_).done){let E="";throw new P(405,E)}let c;s?c=t:c=this._injector.get(ju).resolveComponentFactory(t),this.componentTypes.push(c.componentType);let l=NR(c)?void 0:this._injector.get(Yo),d=r||c.selector,f=c.create(i,[],d,l),g=f.location.nativeElement,m=f.injector.get(Q_,null);return m?.registerApplication(g),f.onDestroy(()=>{this.detachView(f.hostView),Nu(this.components,f),m?.unregisterApplication(g)}),this._loadComponent(f),xe(11,f),f})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){xe(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(O_.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new P(101,!1);let t=fe(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,fe(t),this.afterTick.next(),xe(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Kr,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<hB;)xe(14),this.synchronizeOnce(),xe(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!Du(i))continue;let o=r&&!this.zonelessEnabled?0:1;uR(i,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Du(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Nu(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(Mf,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Nu(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new P(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Nu(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function Bu(n,e,t,r){let i=Re(),o=Su();if(Qr(i,o,e)){let s=cn(),a=zh();zj(a,i,n,e,t,r)}return Bu}var Rne=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function ze(n,e,t){let r=Re(),i=Su();if(Qr(r,i,e)){let o=cn(),s=zh();nR(s,r,n,e,r[Xe],t)}return ze}function tA(n,e,t,r,i){$_(e,n,t,i?"class":"style",r)}function L(n,e,t,r){let i=Re(),o=i[he],s=n+Bt,a=o.firstCreatePass?_R(s,i,2,e,rR,xv(),t,r):o.data[s];if(Kj(a,i,n,e,fB),Tu(a)){let c=i[he];B_(c,i,a),PA(c,a,i)}return r!=null&&tR(i,a),L}function F(){let n=cn(),e=Jt(),t=Qj(e);return n.firstCreatePass&&ER(n,t),l0(t)&&d0(),c0(),t.classesWithoutHost!=null&&w2(t)&&tA(n,t,Re(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&I2(t)&&tA(n,t,Re(),t.stylesWithoutHost,!1),F}function st(n,e,t,r){return L(n,e,t,r),F(),st}var fB=(n,e,t,r,i)=>(Wh(!0),UA(e[Xe],r,b0()));function Ma(){return Re()}var Jh=void 0;function pB(n){let e=Math.floor(Math.abs(n)),t=n.toString().replace(/^[^.]*\.?/,"").length;return e===1&&t===0?1:5}var gB=["en",[["a","p"],["AM","PM"]],[["AM","PM"]],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Jh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Jh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Jh,"{1} 'at' {0}",Jh],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",pB],e_={};function Zt(n){let e=mB(n),t=nA(e);if(t)return t;let r=e.split("-")[0];if(t=nA(r),t)return t;if(r==="en")return gB;throw new P(701,!1)}function nA(n){return n in e_||(e_[n]=zr.ng&&zr.ng.common&&zr.ng.common.locales&&zr.ng.common.locales[n]),e_[n]}var Ge=(function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n})(Ge||{});function mB(n){return n.toLowerCase().replace(/_/g,"-")}var $u="en-US",yB="USD";var vB=$u;function MR(n){typeof n=="string"&&(vB=n.toLowerCase().replace(/_/g,"-"))}function Be(n,e,t){let r=Re(),i=cn(),o=Jt();return PR(i,r,r[Xe],o,n,e,t),Be}function PR(n,e,t,r,i,o,s){let a=!0,c=null;if((r.type&3||s)&&(c??=Jv(r,e,o),PU(r,n,e,s,t,i,o,c)&&(a=!1)),a){let l=r.outputs?.[i],d=r.hostDirectiveOutputs?.[i];if(d&&d.length)for(let f=0;f<d.length;f+=2){let g=d[f],m=d[f+1];c??=Jv(r,e,o),J0(r,e,g,m,i,c)}if(l&&l.length)for(let f of l)c??=Jv(r,e,o),J0(r,e,f,i,i,c)}}function Et(n=1){return T0(n)}function Zh(n,e){return n<<17|e<<2}function Jo(n){return n>>17&32767}function _B(n){return(n&2)==2}function EB(n,e){return n&131071|e<<17}function E_(n){return n|2}function Ra(n){return(n&131068)>>2}function t_(n,e){return n&-131069|e<<2}function wB(n){return(n&1)===1}function w_(n){return n|1}function IB(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Jo(s),c=Ra(s);n[r]=t;let l=!1,d;if(Array.isArray(t)){let f=t;d=f[1],(d===null||ya(f,d)>0)&&(l=!0)}else d=t;if(i)if(c!==0){let g=Jo(n[a+1]);n[r+1]=Zh(g,a),g!==0&&(n[g+1]=t_(n[g+1],r)),n[a+1]=EB(n[a+1],r)}else n[r+1]=Zh(a,0),a!==0&&(n[a+1]=t_(n[a+1],r)),a=r;else n[r+1]=Zh(c,0),a===0?a=r:n[c+1]=t_(n[c+1],r),c=r;l&&(n[r+1]=E_(n[r+1])),rA(n,d,r,!0),rA(n,d,r,!1),TB(e,d,n,r,o),s=Zh(a,c),o?e.classBindings=s:e.styleBindings=s}function TB(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&ya(o,e)>=0&&(t[r+1]=w_(t[r+1]))}function rA(n,e,t,r){let i=n[t+1],o=e===null,s=r?Jo(i):Ra(i),a=!1;for(;s!==0&&(a===!1||o);){let c=n[s],l=n[s+1];bB(c,e)&&(a=!0,n[s+1]=r?w_(l):E_(l)),s=r?Jo(l):Ra(l)}a&&(n[t+1]=r?E_(i):w_(i))}function bB(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?ya(n,e)>=0:!1}function Jr(n,e){return DB(n,e,null,!0),Jr}function DB(n,e,t,r){let i=Re(),o=cn(),s=g0(2);if(o.firstUpdatePass&&SB(o,n,s,r),e!==Yr&&Qr(i,s,e)){let a=o.data[Wo()];PB(o,a,i,i[Xe],n,i[s+1]=kB(e,t),r,s)}}function CB(n,e){return e>=n.expandoStartIndex}function SB(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[Wo()],s=CB(n,t);xB(o,r)&&e===null&&!s&&(e=!1),e=AB(i,o,e,r),IB(i,o,e,t,s,r)}}function AB(n,e,t,r){let i=_0(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=n_(null,n,e,t,r),t=xu(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=n_(i,n,e,t,r),o===null){let c=RB(n,e,r);c!==void 0&&Array.isArray(c)&&(c=n_(null,n,e,c[1],r),c=xu(c,e.attrs,r),NB(n,e,r,c))}else o=MB(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function RB(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Ra(r)!==0)return n[Jo(r)]}function NB(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[Jo(i)]=r}function MB(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=xu(r,s,t)}return xu(r,e.attrs,t)}function n_(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=xu(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function xu(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),GS(n,s,t?!0:e[++o]))}return n===void 0?null:n}function PB(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let c=n.data,l=c[a+1],d=wB(l)?iA(c,e,t,i,Ra(l),s):void 0;if(!yf(d)){yf(o)||_B(l)&&(o=iA(c,null,t,i,a,s));let f=Av(Wo(),t);Oj(r,s,f,i,o)}}function iA(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let c=n[i],l=Array.isArray(c),d=l?c[1]:c,f=d===null,g=t[i+1];g===Yr&&(g=f?yn:void 0);let m=f?Oh(g,r):d===r?g:void 0;if(l&&!yf(m)&&(m=Oh(c,r)),yf(m)&&(a=m,s))return a;let E=n[i+1];i=s?Jo(E):Ra(E)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=Oh(c,r))}return a}function yf(n){return n!==void 0}function kB(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=qr(bf(n)))),n}function xB(n,e){return(n.flags&(e?8:16))!==0}function $(n,e=""){let t=Re(),r=cn(),i=n+Bt,o=r.firstCreatePass?z_(r,i,1,e,null):r.data[i],s=OB(r,t,o,e,n);t[i]=s,Gh()&&j_(r,t,s,o),wa(o,!1)}var OB=(n,e,t,r,i)=>(Wh(!0),oj(e[Xe],r));function FB(n,e,t,r=""){return Qr(n,Su(),t)?e+fu(t)+r:Yr}function Mt(n){return Hu("",n),Mt}function Hu(n,e,t){let r=Re(),i=FB(r,n,e,t);return i!==Yr&&LB(r,Wo(),i),Hu}function LB(n,e,t){let r=Av(e,n);sj(n[Xe],r,t)}function Pf(n,e,t){qv(e)&&(e=e());let r=Re(),i=Su();if(Qr(r,i,e)){let o=cn(),s=zh();nR(s,r,n,e,r[Xe],t)}return Pf}function Z_(n,e){let t=qv(n);return t&&n.set(e),t}function kf(n,e){let t=Re(),r=cn(),i=Jt();return PR(r,t,t[Xe],i,n,e),kf}function VB(n,e,t){let r=cn();if(r.firstCreatePass){let i=hr(n);I_(t,r.data,r.blueprint,i,!0),I_(e,r.data,r.blueprint,i,!1)}}function I_(n,e,t,r,i){if(n=Rt(n),Array.isArray(n))for(let o=0;o<n.length;o++)I_(n[o],e,t,r,i);else{let o=cn(),s=Re(),a=Jt(),c=Vo(n)?n:Rt(n.provide),l=Tv(n),d=a.providerIndexes&1048575,f=a.directiveStart,g=a.providerIndexes>>20;if(Vo(n)||!n.multi){let m=new Qo(l,i,J,null),E=i_(c,e,i?d:d+g,f);E===-1?(s_(af(a,s),o,c),r_(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(m),s.push(m)):(t[E]=m,s[E]=m)}else{let m=i_(c,e,d+g,f),E=i_(c,e,d,d+g),A=m>=0&&t[m],D=E>=0&&t[E];if(i&&!D||!i&&!A){s_(af(a,s),o,c);let M=BB(i?UB:jB,t.length,i,r,l,n);!i&&D&&(t[E].providerFactory=M),r_(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(M),s.push(M)}else{let M=kR(t[i?E:m],l,!i&&r);r_(o,n,m>-1?m:E,M)}!i&&r&&D&&t[E].componentProviders++}}}function r_(n,e,t,r){let i=Vo(e),o=JS(e);if(i||o){let c=(o?Rt(e.useClass):e).prototype.ngOnDestroy;if(c){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let d=l.indexOf(t);d===-1?l.push(t,[r,c]):l[d+1].push(r,c)}else l.push(t,c)}}}function kR(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function i_(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function jB(n,e,t,r,i){return T_(this.multi,[])}function UB(n,e,t,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=cf(r,r[he],this.providerFactory.index,i);s=c.slice(0,a),T_(o,s);for(let l=a;l<c.length;l++)s.push(c[l])}else s=[],T_(o,s);return s}function T_(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function BB(n,e,t,r,i,o){let s=new Qo(n,t,J,null);return s.multi=[],s.index=e,s.componentProviders=0,kR(s,i,r&&!t),s}function ts(n,e=[]){return t=>{t.providersResolver=(r,i)=>VB(r,i?i(n):n,e)}}function xf(n,e,t,r){return $B(Re(),Bh(),n,e,t,r)}function X_(n,e){let t=n[e];return t===Yr?void 0:t}function $B(n,e,t,r,i,o){let s=e+t;return Qr(n,s,i)?W_(n,s+1,o?r.call(o,i):r(i)):X_(n,s+1)}function HB(n,e,t,r,i,o,s){let a=e+t;return MU(n,a,i,o)?W_(n,a+2,s?r.call(s,i,o):r(i,o)):X_(n,a+2)}function qB(n,e,t,r,i,o){let s=e+t,a=!1;for(let c=0;c<i.length;c++)Qr(n,s++,i[c])&&(a=!0);return a?W_(n,s,r.apply(o,i)):X_(n,s)}function qu(n,e){let t=cn(),r,i=n+Bt;t.firstCreatePass?(r=zB(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=ki(r.type,!0)),s,a=Yt(J);try{let c=sf(!1),l=o();return sf(c),Nv(t,Re(),i,l),l}finally{Yt(a)}}function zB(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function eE(n,e,t,r){let i=n+Bt,o=Re(),s=Rv(o,i);return xR(o,i)?HB(o,Bh(),e,s.transform,t,r,s):s.transform(t,r)}function Of(n,e,t){let r=n+Bt,i=Re(),o=Rv(i,r);return xR(i,r)?qB(i,Bh(),e,o.transform,t,o):o.transform.apply(o,t)}function xR(n,e){return n[he].data[e].pure}var vf=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},tE=(()=>{class n{compileModuleSync(t){return new mf(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=_v(t),o=VA(i.declarations).reduce((s,a)=>{let c=Vi(a);return c&&s.push(new Aa(c)),s},[]);return new vf(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var GB=(()=>{class n{zone=x(De);changeDetectionScheduler=x(Oi);applicationRef=x(Wi);applicationErrorHandler=x(un);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function OR({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new De(de(V({},FR()),{scheduleInRootZone:t})),[{provide:De,useFactory:n},{provide:Li,multi:!0,useFactory:()=>{let r=x(GB,{optional:!0});return()=>r.initialize()}},{provide:Li,multi:!0,useFactory:()=>{let r=x(WB);return()=>{r.initialize()}}},e===!0?{provide:zv,useValue:!0}:[],{provide:Gv,useValue:t??GA},{provide:un,useFactory:()=>{let r=x(De),i=x(Ze),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(cr),o.handleError(s))})}}}]}function FR(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var WB=(()=>{class n{subscription=new Je;initialized=!1;zone=x(De);pendingTasks=x(fr);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{De.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{De.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var LR=(()=>{class n{applicationErrorHandler=x(un);appRef=x(Wi);taskService=x(fr);ngZone=x(De);zonelessEnabled=x(Kh);tracing=x(Fu,{optional:!0});disableScheduling=x(zv,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Je;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(df):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(x(Gv,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof hf||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?V0:WA;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(df+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,V0(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function KB(){return typeof $localize<"u"&&$localize.locale||$u}var Pa=new B("",{providedIn:"root",factory:()=>x(Pa,{optional:!0,skipSelf:!0})||KB()}),nE=new B("",{providedIn:"root",factory:()=>yB});function It(n){return FS(n)}function ka(n,e){return Zd(n,e?.equal)}var VR=class{[Vt];constructor(e){this[Vt]=e}destroy(){this[Vt].destroy()}};var HR=Symbol("InputSignalNode#UNSET"),l$=de(V({},Xd),{transformFn:void 0,applyValueToInputSignal(n,e){na(n,e)}});function qR(n,e){let t=Object.create(l$);t.value=n,t.transformFn=e?.transform;function r(){if(Xs(t),t.value===HR){let i=null;throw new P(-950,i)}return t.value}return r[Vt]=t,r}var Lf=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>Ou(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},d$=new B("");d$.__NG_ELEMENT_ID__=n=>{let e=Jt();if(e===null)throw new P(204,!1);if(e.type&2)return e.value;if(n&8)return null;throw new P(204,!1)};function jR(n,e){return qR(n,e)}function h$(n){return qR(HR,n)}var zR=(jR.required=h$,jR);var rE=new B(""),f$=new B("");function zu(n){return!n.moduleRef}function p$(n){let e=zu(n)?n.r3Injector:n.moduleRef.injector,t=e.get(De);return t.run(()=>{zu(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(un),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),zu(n)){let o=()=>e.destroy(),s=n.platformInjector.get(rE);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(rE);s.add(o),n.moduleRef.onDestroy(()=>{Nu(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return m$(r,t,()=>{let o=e.get(fr),s=o.add(),a=e.get(J_);return a.runInitializers(),a.donePromise.then(()=>{let c=e.get(Pa,$u);if(MR(c||$u),!e.get(f$,!0))return zu(n)?e.get(Wi):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(zu(n)){let d=e.get(Wi);return n.rootComponent!==void 0&&d.bootstrap(n.rootComponent),d}else return g$?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>void o.remove(s))})})}var g$;function m$(n,e,t){try{let r=t();return Gi(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n(r)),r}}var Ff=null;function y$(n=[],e){return nt.create({name:e,providers:[{provide:gu,useValue:"platform"},{provide:rE,useValue:new Set([()=>Ff=null])},...n]})}function v$(n=[]){if(Ff)return Ff;let e=y$(n);return Ff=e,RR(),_$(e),e}function _$(n){let e=n.get(wf,null);rt(n,()=>{e?.forEach(t=>t())})}function cE(){return!1}var xa=(()=>{class n{static __NG_ELEMENT_ID__=E$}return n})();function E$(n){return w$(Jt(),Re(),(n&16)===16)}function w$(n,e,t){if(Bi(n)&&!t){let r=Mn(n.index,e);return new qi(r,r)}else if(n.type&175){let r=e[Rn];return new qi(r,e)}return null}var iE=class{constructor(){}supports(e){return G_(e)}create(e){return new oE(e)}},I$=(n,e)=>e,oE=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||I$}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<UR(r,i,o)?t:r,a=UR(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,d=c-i;if(l!=d){for(let g=0;g<l;g++){let m=g<o.length?o[g]:o[g]=0,E=m+g;d<=E&&E<l&&(o[g]=m+1)}let f=s.previousIndex;o[f]=d-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!G_(e))throw new P(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,wR(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new sE(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Vf),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Vf),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},sE=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},aE=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Vf=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new aE,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function UR(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function BR(){return new uE([new iE])}var uE=(()=>{class n{factories;static \u0275prov=z({token:n,providedIn:"root",factory:BR});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:()=>{let r=x(n,{optional:!0,skipSelf:!0});return n.create(t,r||BR())}}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new P(901,!1)}}return n})();function GR(n){let{rootComponent:e,appProviders:t,platformProviders:r,platformRef:i}=n;xe(8);try{let o=i?.injector??v$(r),s=[OR({}),{provide:Oi,useExisting:LR},C0,...t||[]],a=new ku({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return p$({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{xe(9)}}function Oa(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}var QR=null;function xn(){return QR}function lE(n){QR??=n}var Gu=class{},dE=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:()=>x(YR),providedIn:"platform"})}return n})();var YR=(()=>{class n extends dE{_location;_history;_doc=x(it);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return xn().getBaseHref(this._doc)}onPopState(t){let r=xn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=xn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function JR(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function WR(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function Ki(n){return n&&n[0]!=="?"?`?${n}`:n}var Fa=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:()=>x(XR),providedIn:"root"})}return n})(),ZR=new B(""),XR=(()=>{class n extends Fa{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??x(it).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return JR(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Ki(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Ki(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Ki(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(Q(dE),Q(ZR,8))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),La=(()=>{class n{_subject=new ct;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=D$(WR(KR(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ki(r))}normalize(t){return n.stripTrailingSlash(b$(this._basePath,KR(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ki(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ki(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Ki;static joinWithSlash=JR;static stripTrailingSlash=WR;static \u0275fac=function(r){return new(r||n)(Q(Fa))};static \u0275prov=z({token:n,factory:()=>T$(),providedIn:"root"})}return n})();function T$(){return new La(Q(Fa))}function b$(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function KR(n){return n.replace(/\/index.html$/,"")}function D$(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var oN={ADP:[void 0,void 0,0],AFN:[void 0,"\u060B",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058F",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20BC"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09F3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xA5","\xA5"],COP:[void 0,"$",2],CRC:[void 0,"\u20A1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010D",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xA3"],ESP:[void 0,"\u20A7",0],EUR:["\u20AC"],FJD:[void 0,"$"],FKP:[void 0,"\xA3"],GBP:["\xA3"],GEL:[void 0,"\u20BE"],GHS:[void 0,"GH\u20B5"],GIP:[void 0,"\xA3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xA5",void 0,0],KHR:[void 0,"\u17DB"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20A9",0],KRW:["\u20A9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20B8"],LAK:[void 0,"\u20AD",0],LBP:[void 0,"L\xA3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20AE",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20A6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20B1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20B2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20BD"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xA3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xA3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xA3",0],THB:[void 0,"\u0E3F"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20BA"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20B4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20AB",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xA4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},yE=(function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n})(yE||{});var Ht=(function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n})(Ht||{}),Pe=(function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n})(Pe||{}),ln=(function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n})(ln||{}),dn={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function sN(n){return Zt(n)[Ge.LocaleId]}function aN(n,e,t){let r=Zt(n),i=[r[Ge.DayPeriodsFormat],r[Ge.DayPeriodsStandalone]],o=On(i,e);return On(o,t)}function cN(n,e,t){let r=Zt(n),i=[r[Ge.DaysFormat],r[Ge.DaysStandalone]],o=On(i,e);return On(o,t)}function uN(n,e,t){let r=Zt(n),i=[r[Ge.MonthsFormat],r[Ge.MonthsStandalone]],o=On(i,e);return On(o,t)}function lN(n,e){let r=Zt(n)[Ge.Eras];return On(r,e)}function Wu(n,e){let t=Zt(n);return On(t[Ge.DateFormat],e)}function Ku(n,e){let t=Zt(n);return On(t[Ge.TimeFormat],e)}function Qu(n,e){let r=Zt(n)[Ge.DateTimeFormat];return On(r,e)}function yr(n,e){let t=Zt(n),r=t[Ge.NumberSymbols][e];if(typeof r>"u"){if(e===dn.CurrencyDecimal)return t[Ge.NumberSymbols][dn.Decimal];if(e===dn.CurrencyGroup)return t[Ge.NumberSymbols][dn.Group]}return r}function dN(n,e){return Zt(n)[Ge.NumberFormats][e]}function C$(n){return Zt(n)[Ge.Currencies]}function hN(n){if(!n[Ge.ExtraData])throw new P(2303,!1)}function fN(n){let e=Zt(n);return hN(e),(e[Ge.ExtraData][2]||[]).map(r=>typeof r=="string"?hE(r):[hE(r[0]),hE(r[1])])}function pN(n,e,t){let r=Zt(n);hN(r);let i=[r[Ge.ExtraData][0],r[Ge.ExtraData][1]],o=On(i,e)||[];return On(o,t)||[]}function On(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new P(2304,!1)}function hE(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}function gN(n,e,t="en"){let r=C$(t)[n]||oN[n]||[],i=r[1];return e==="narrow"&&typeof i=="string"?i:r[0]||n}var S$=2;function mN(n){let e,t=oN[n];return t&&(e=t[2]),typeof e=="number"?e:S$}var A$=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Uf={},R$=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function yN(n,e,t,r){let i=V$(n);e=Zr(t,e)||e;let s=[],a;for(;e;)if(a=R$.exec(e),a){s=s.concat(a.slice(1));let d=s.pop();if(!d)break;e=d}else{s.push(e);break}let c=i.getTimezoneOffset();r&&(c=_N(r,c),i=L$(i,r));let l="";return s.forEach(d=>{let f=O$(d);l+=f?f(i,t,c):d==="''"?"'":d.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function zf(n,e,t){let r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function Zr(n,e){let t=sN(n);if(Uf[t]??={},Uf[t][e])return Uf[t][e];let r="";switch(e){case"shortDate":r=Wu(n,ln.Short);break;case"mediumDate":r=Wu(n,ln.Medium);break;case"longDate":r=Wu(n,ln.Long);break;case"fullDate":r=Wu(n,ln.Full);break;case"shortTime":r=Ku(n,ln.Short);break;case"mediumTime":r=Ku(n,ln.Medium);break;case"longTime":r=Ku(n,ln.Long);break;case"fullTime":r=Ku(n,ln.Full);break;case"short":let i=Zr(n,"shortTime"),o=Zr(n,"shortDate");r=Bf(Qu(n,ln.Short),[i,o]);break;case"medium":let s=Zr(n,"mediumTime"),a=Zr(n,"mediumDate");r=Bf(Qu(n,ln.Medium),[s,a]);break;case"long":let c=Zr(n,"longTime"),l=Zr(n,"longDate");r=Bf(Qu(n,ln.Long),[c,l]);break;case"full":let d=Zr(n,"fullTime"),f=Zr(n,"fullDate");r=Bf(Qu(n,ln.Full),[d,f]);break}return r&&(Uf[t][e]=r),r}function Bf(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return e!=null&&r in e?e[r]:t})),n}function Yn(n,e,t="-",r,i){let o="";(n<0||i&&n<=0)&&(i?n=-n+1:(n=-n,o=t));let s=String(n);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function N$(n,e){return Yn(n,3).substring(0,e)}function ht(n,e,t=0,r=!1,i=!1){return function(o,s){let a=M$(n,o);if((t>0||a>-t)&&(a+=t),n===3)a===0&&t===-12&&(a=12);else if(n===6)return N$(a,e);let c=yr(s,dn.MinusSign);return Yn(a,e,c,r,i)}}function M$(n,e){switch(n){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new P(2301,!1)}}function Oe(n,e,t=Ht.Format,r=!1){return function(i,o){return P$(i,o,n,e,t,r)}}function P$(n,e,t,r,i,o){switch(t){case 2:return uN(e,i,r)[n.getMonth()];case 1:return cN(e,i,r)[n.getDay()];case 0:let s=n.getHours(),a=n.getMinutes();if(o){let l=fN(e),d=pN(e,i,r),f=l.findIndex(g=>{if(Array.isArray(g)){let[m,E]=g,A=s>=m.hours&&a>=m.minutes,D=s<E.hours||s===E.hours&&a<E.minutes;if(m.hours<E.hours){if(A&&D)return!0}else if(A||D)return!0}else if(g.hours===s&&g.minutes===a)return!0;return!1});if(f!==-1)return d[f]}return aN(e,i,r)[s<12?0:1];case 3:return lN(e,r)[n.getFullYear()<=0?0:1];default:let c=t;throw new P(2302,!1)}}function $f(n){return function(e,t,r){let i=-1*r,o=yr(t,dn.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case 0:return(i>=0?"+":"")+Yn(s,2,o)+Yn(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+Yn(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+Yn(s,2,o)+":"+Yn(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+Yn(s,2,o)+":"+Yn(Math.abs(i%60),2,o);default:throw new P(2310,!1)}}}var k$=0,qf=4;function x$(n){let e=zf(n,k$,1).getDay();return zf(n,0,1+(e<=qf?qf:qf+7)-e)}function vN(n){let e=n.getDay(),t=e===0?-3:qf-e;return zf(n.getFullYear(),n.getMonth(),n.getDate()+t)}function fE(n,e=!1){return function(t,r){let i;if(e){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();i=1+Math.floor((s+o)/7)}else{let o=vN(t),s=x$(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return Yn(i,n,yr(r,dn.MinusSign))}}function Hf(n,e=!1){return function(t,r){let o=vN(t).getFullYear();return Yn(o,n,yr(r,dn.MinusSign),e)}}var pE={};function O$(n){if(pE[n])return pE[n];let e;switch(n){case"G":case"GG":case"GGG":e=Oe(3,Pe.Abbreviated);break;case"GGGG":e=Oe(3,Pe.Wide);break;case"GGGGG":e=Oe(3,Pe.Narrow);break;case"y":e=ht(0,1,0,!1,!0);break;case"yy":e=ht(0,2,0,!0,!0);break;case"yyy":e=ht(0,3,0,!1,!0);break;case"yyyy":e=ht(0,4,0,!1,!0);break;case"Y":e=Hf(1);break;case"YY":e=Hf(2,!0);break;case"YYY":e=Hf(3);break;case"YYYY":e=Hf(4);break;case"M":case"L":e=ht(1,1,1);break;case"MM":case"LL":e=ht(1,2,1);break;case"MMM":e=Oe(2,Pe.Abbreviated);break;case"MMMM":e=Oe(2,Pe.Wide);break;case"MMMMM":e=Oe(2,Pe.Narrow);break;case"LLL":e=Oe(2,Pe.Abbreviated,Ht.Standalone);break;case"LLLL":e=Oe(2,Pe.Wide,Ht.Standalone);break;case"LLLLL":e=Oe(2,Pe.Narrow,Ht.Standalone);break;case"w":e=fE(1);break;case"ww":e=fE(2);break;case"W":e=fE(1,!0);break;case"d":e=ht(2,1);break;case"dd":e=ht(2,2);break;case"c":case"cc":e=ht(7,1);break;case"ccc":e=Oe(1,Pe.Abbreviated,Ht.Standalone);break;case"cccc":e=Oe(1,Pe.Wide,Ht.Standalone);break;case"ccccc":e=Oe(1,Pe.Narrow,Ht.Standalone);break;case"cccccc":e=Oe(1,Pe.Short,Ht.Standalone);break;case"E":case"EE":case"EEE":e=Oe(1,Pe.Abbreviated);break;case"EEEE":e=Oe(1,Pe.Wide);break;case"EEEEE":e=Oe(1,Pe.Narrow);break;case"EEEEEE":e=Oe(1,Pe.Short);break;case"a":case"aa":case"aaa":e=Oe(0,Pe.Abbreviated);break;case"aaaa":e=Oe(0,Pe.Wide);break;case"aaaaa":e=Oe(0,Pe.Narrow);break;case"b":case"bb":case"bbb":e=Oe(0,Pe.Abbreviated,Ht.Standalone,!0);break;case"bbbb":e=Oe(0,Pe.Wide,Ht.Standalone,!0);break;case"bbbbb":e=Oe(0,Pe.Narrow,Ht.Standalone,!0);break;case"B":case"BB":case"BBB":e=Oe(0,Pe.Abbreviated,Ht.Format,!0);break;case"BBBB":e=Oe(0,Pe.Wide,Ht.Format,!0);break;case"BBBBB":e=Oe(0,Pe.Narrow,Ht.Format,!0);break;case"h":e=ht(3,1,-12);break;case"hh":e=ht(3,2,-12);break;case"H":e=ht(3,1);break;case"HH":e=ht(3,2);break;case"m":e=ht(4,1);break;case"mm":e=ht(4,2);break;case"s":e=ht(5,1);break;case"ss":e=ht(5,2);break;case"S":e=ht(6,1);break;case"SS":e=ht(6,2);break;case"SSS":e=ht(6,3);break;case"Z":case"ZZ":case"ZZZ":e=$f(0);break;case"ZZZZZ":e=$f(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=$f(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=$f(2);break;default:return null}return pE[n]=e,e}function _N(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function F$(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function L$(n,e,t){let i=n.getTimezoneOffset(),o=_N(e,i);return F$(n,-1*(o-i))}function V$(n){if(eN(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[i,o=1,s=1]=n.split("-").map(a=>+a);return zf(i,o-1,s)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(A$))return j$(r)}let e=new Date(n);if(!eN(e))throw new P(2311,!1);return e}function j$(n){let e=new Date(0),t=0,r=0,i=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let s=Number(n[4]||0)-t,a=Number(n[5]||0)-r,c=Number(n[6]||0),l=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return o.call(e,s,a,c,l),e}function eN(n){return n instanceof Date&&!isNaN(n.valueOf())}var U$=/^(\d+)?\.((\d+)(-(\d+))?)?$/,tN=22,Gf=".",Yu="0",B$=";",$$=",",gE="#",nN="\xA4";function H$(n,e,t,r,i,o,s=!1){let a="",c=!1;if(!isFinite(n))a=yr(t,dn.Infinity);else{let l=G$(n);s&&(l=z$(l));let d=e.minInt,f=e.minFrac,g=e.maxFrac;if(o){let j=o.match(U$);if(j===null)throw new P(2306,!1);let q=j[1],W=j[3],be=j[5];q!=null&&(d=mE(q)),W!=null&&(f=mE(W)),be!=null?g=mE(be):W!=null&&f>g&&(g=f)}W$(l,f,g);let m=l.digits,E=l.integerLen,A=l.exponent,D=[];for(c=m.every(j=>!j);E<d;E++)m.unshift(0);for(;E<0;E++)m.unshift(0);E>0?D=m.splice(E,m.length):(D=m,m=[0]);let M=[];for(m.length>=e.lgSize&&M.unshift(m.splice(-e.lgSize,m.length).join(""));m.length>e.gSize;)M.unshift(m.splice(-e.gSize,m.length).join(""));m.length&&M.unshift(m.join("")),a=M.join(yr(t,r)),D.length&&(a+=yr(t,i)+D.join("")),A&&(a+=yr(t,dn.Exponential)+"+"+A)}return n<0&&!c?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function EN(n,e,t,r,i){let o=dN(e,yE.Currency),s=q$(o,yr(e,dn.MinusSign));return s.minFrac=mN(r),s.maxFrac=s.minFrac,H$(n,s,e,dn.CurrencyGroup,dn.CurrencyDecimal,i).replace(nN,t).replace(nN,"").trim()}function q$(n,e="-"){let t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(B$),i=r[0],o=r[1],s=i.indexOf(Gf)!==-1?i.split(Gf):[i.substring(0,i.lastIndexOf(Yu)+1),i.substring(i.lastIndexOf(Yu)+1)],a=s[0],c=s[1]||"";t.posPre=a.substring(0,a.indexOf(gE));for(let d=0;d<c.length;d++){let f=c.charAt(d);f===Yu?t.minFrac=t.maxFrac=d+1:f===gE?t.maxFrac=d+1:t.posSuf+=f}let l=a.split($$);if(t.gSize=l[1]?l[1].length:0,t.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,o){let d=i.length-t.posPre.length-t.posSuf.length,f=o.indexOf(gE);t.negPre=o.substring(0,f).replace(/'/g,""),t.negSuf=o.slice(f+d).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}function z$(n){if(n.digits[0]===0)return n;let e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(e===0?n.digits.push(0,0):e===1&&n.digits.push(0),n.integerLen+=2),n}function G$(n){let e=Math.abs(n)+"",t=0,r,i,o,s,a;for((i=e.indexOf(Gf))>-1&&(e=e.replace(Gf,"")),(o=e.search(/e/i))>0?(i<0&&(i=o),i+=+e.slice(o+1),e=e.substring(0,o)):i<0&&(i=e.length),o=0;e.charAt(o)===Yu;o++);if(o===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===Yu;)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(e.charAt(o))}return i>tN&&(r=r.splice(0,tN-1),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}function W$(n,e,t){if(e>t)throw new P(2307,!1);let r=n.digits,i=r.length-n.integerLen,o=Math.min(Math.max(e,i),t),s=o+n.integerLen,a=r[s];if(s>0){r.splice(Math.max(n.integerLen,s));for(let f=s;f<r.length;f++)r[f]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let f=1;f<s;f++)r[f]=0}if(a>=5)if(s-1<0){for(let f=0;f>s;f--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let c=o!==0,l=e+n.integerLen,d=r.reduceRight(function(f,g,m,E){return g=g+f,E[m]=g<10?g:g-10,c&&(E[m]===0&&m>=l?E.pop():c=!1),g>=10?1:0},0);d&&(r.unshift(d),n.integerLen++)}function mE(n){let e=parseInt(n);if(isNaN(e))throw new P(2305,!1);return e}var Wf=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Qf=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Wf(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),rN(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);rN(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(J(es),J(Vu),J(uE))};static \u0275dir=_t({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function rN(n,e){n.context.$implicit=e.item}var ns=(()=>{class n{_viewContainer;_context=new Kf;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){iN(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){iN(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(J(es),J(Vu))};static \u0275dir=_t({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),Kf=class{$implicit=null;ngIf=null};function iN(n,e){if(n&&!n.createEmbeddedView)throw new P(2020,!1)}function wN(n,e){return new P(2100,!1)}var K$="mediumDate",IN=new B(""),TN=new B(""),vE=(()=>{class n{locale;defaultTimezone;defaultOptions;constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,o){if(t==null||t===""||t!==t)return null;try{let s=r??this.defaultOptions?.dateFormat??K$,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return yN(t,s,o||this.locale,a)}catch(s){throw wN(n,s.message)}}static \u0275fac=function(r){return new(r||n)(J(Pa,16),J(IN,24),J(TN,24))};static \u0275pipe=Nf({name:"date",type:n,pure:!0})}return n})();var _E=(()=>{class n{_locale;_defaultCurrencyCode;constructor(t,r="USD"){this._locale=t,this._defaultCurrencyCode=r}transform(t,r=this._defaultCurrencyCode,i="symbol",o,s){if(!Q$(t))return null;s||=this._locale,typeof i=="boolean"&&(i=i?"symbol":"code");let a=r||this._defaultCurrencyCode;i!=="code"&&(i==="symbol"||i==="symbol-narrow"?a=gN(a,i==="symbol"?"wide":"narrow",s):a=i);try{let c=Y$(t);return EN(c,s,a,r,o)}catch(c){throw wN(n,c.message)}}static \u0275fac=function(r){return new(r||n)(J(Pa,16),J(nE,16))};static \u0275pipe=Nf({name:"currency",type:n,pure:!0})}return n})();function Q$(n){return!(n==null||n===""||n!==n)}function Y$(n){if(typeof n=="string"&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if(typeof n!="number")throw new P(2309,!1);return n}var Qi=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Pn({type:n});static \u0275inj=vn({})}return n})();function Ju(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var rs=class{};var bN="browser",J$="server";function EE(n){return n===J$}var Zu=class{_doc;constructor(e){this._doc=e}manager},Jf=(()=>{class n extends Zu{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(Q(it))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),Xf=new B(""),DE=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(s=>{s.manager=this});let i=t.filter(s=>!(s instanceof Jf));this._plugins=i.slice().reverse();let o=t.find(s=>s instanceof Jf);o&&this._plugins.push(o)}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new P(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(Q(Xf),Q(De))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),wE="ng-app-id";function DN(n){for(let e of n)e.remove()}function CN(n,e){let t=e.createElement("style");return t.textContent=n,t}function Z$(n,e,t,r){let i=n.head?.querySelectorAll(`style[${wE}="${e}"],link[${wE}="${e}"]`);if(i)for(let o of i)o.removeAttribute(wE),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function TE(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var CE=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,Z$(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,CN);r?.forEach(i=>this.addUsage(i,this.external,TE))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(DN(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])DN(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,CN(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,TE(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(Q(it),Q(Ef),Q(Tf,8),Q(Wn))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),IE={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},SE=/%COMP%/g;var AN="%COMP%",X$=`_nghost-${AN}`,eH=`_ngcontent-${AN}`,tH=!0,nH=new B("",{providedIn:"root",factory:()=>tH});function rH(n){return eH.replace(SE,n)}function iH(n){return X$.replace(SE,n)}function RN(n,e){return e.map(t=>t.replace(SE,n))}var tl=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,c,l=null,d=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.tracingService=d,this.platformIsServer=!1,this.defaultRenderer=new Xu(t,s,c,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof Zf?i.applyToHost(t):i instanceof el&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer,g=this.tracingService;switch(r.encapsulation){case Wr.Emulated:o=new Zf(c,l,r,this.appId,d,s,a,f,g);break;case Wr.ShadowDom:return new bE(c,l,t,r,s,a,this.nonce,f,g);default:o=new el(c,l,r,d,s,a,f,g);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(Q(DE),Q(CE),Q(Ef),Q(nH),Q(it),Q(Wn),Q(De),Q(Tf),Q(Fu,8))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),Xu=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(IE[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(SN(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(SN(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new P(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=IE[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=IE[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(gr.DashCase|gr.Important)?e.style.setProperty(t,r,i&gr.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&gr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=xn().getGlobalEventTarget(this.doc,e),!e))throw new P(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function SN(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var bE=class extends Xu{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,c,l){super(e,o,s,c,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=i.styles;d=RN(i.id,d);for(let g of d){let m=document.createElement("style");a&&m.setAttribute("nonce",a),m.textContent=g,this.shadowRoot.appendChild(m)}let f=i.getExternalStyles?.();if(f)for(let g of f){let m=TE(g,o);a&&m.setAttribute("nonce",a),this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},el=class extends Xu{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,c,l){super(e,o,s,a,c),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let d=r.styles;this.styles=l?RN(l,d):d,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Sa.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Zf=class extends el{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,c,l){let d=i+"-"+r.id;super(e,t,r,o,s,a,c,l,d),this.contentAttr=rH(d),this.hostAttr=iH(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var ep=class n extends Gu{supportsDOMEvents=!0;static makeCurrent(){lE(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=oH();return t==null?null:sH(t)}resetBaseElement(){nl=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Ju(document.cookie,e)}},nl=null;function oH(){return nl=nl||document.head.querySelector("base"),nl?nl.getAttribute("href"):null}function sH(n){return new URL(n,document.baseURI).pathname}var aH=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),NN=["alt","control","meta","shift"],cH={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},uH={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},MN=(()=>{class n extends Zu{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>xn().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),NN.forEach(l=>{let d=r.indexOf(l);d>-1&&(r.splice(d,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(t,r){let i=cH[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),NN.forEach(s=>{if(s!==i){let a=uH[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(Q(it))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})();function AE(n,e,t){let r=V({rootComponent:n,platformRef:t?.platformRef},lH(e));return GR(r)}function lH(n){return{appProviders:[...gH,...n?.providers??[]],platformProviders:pH}}function dH(){ep.makeCurrent()}function hH(){return new cr}function fH(){return C_(document),document}var pH=[{provide:Wn,useValue:bN},{provide:wf,useValue:dH,multi:!0},{provide:it,useFactory:fH}];var gH=[{provide:gu,useValue:"root"},{provide:cr,useFactory:hH},{provide:Xf,useClass:Jf,multi:!0,deps:[it]},{provide:Xf,useClass:MN,multi:!0,deps:[it]},tl,CE,DE,{provide:Kr,useExisting:tl},{provide:rs,useClass:aH},[]];var ja=class{},ol=class{},is=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=t.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}addHeaderEntry(e,t){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var np=class{encodeKey(e){return PN(e)}encodeValue(e){return PN(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function mH(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}var yH=/%(\d[a-f0-9])/gi,vH={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function PN(n){return encodeURIComponent(n).replace(yH,(e,t)=>vH[t]??e)}function tp(n){return`${n}`}var Yi=class n{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new np,e.fromString){if(e.fromObject)throw new P(2805,!1);this.map=mH(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(tp):[tp(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(tp(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(tp(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var rp=class{map=new Map;set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function _H(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function kN(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function xN(n){return typeof Blob<"u"&&n instanceof Blob}function ON(n){return typeof FormData<"u"&&n instanceof FormData}function EH(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var FN="Content-Type",LN="Accept",VN="X-Request-URL",jN="text/plain",UN="application/json",wH=`${UN}, ${jN}, */*`,rl=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(e,t,r,i){this.url=t,this.method=e.toUpperCase();let o;if(_H(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o){if(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),o.priority&&(this.priority=o.priority),o.cache&&(this.cache=o.cache),o.credentials&&(this.credentials=o.credentials),typeof o.timeout=="number"){if(o.timeout<1||!Number.isInteger(o.timeout))throw new P(2822,"");this.timeout=o.timeout}o.mode&&(this.mode=o.mode),o.redirect&&(this.redirect=o.redirect),o.integrity&&(this.integrity=o.integrity),o.referrer&&(this.referrer=o.referrer),this.transferCache=o.transferCache}if(this.headers??=new is,this.context??=new rp,!this.params)this.params=new Yi,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),c=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||kN(this.body)||xN(this.body)||ON(this.body)||EH(this.body)?this.body:this.body instanceof Yi?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||ON(this.body)?null:xN(this.body)?this.body.type||null:kN(this.body)?null:typeof this.body=="string"?jN:this.body instanceof Yi?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?UN:null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.keepalive??this.keepalive,s=e.priority||this.priority,a=e.cache||this.cache,c=e.mode||this.mode,l=e.redirect||this.redirect,d=e.credentials||this.credentials,f=e.referrer||this.referrer,g=e.integrity||this.integrity,m=e.transferCache??this.transferCache,E=e.timeout??this.timeout,A=e.body!==void 0?e.body:this.body,D=e.withCredentials??this.withCredentials,M=e.reportProgress??this.reportProgress,j=e.headers||this.headers,q=e.params||this.params,W=e.context??this.context;return e.setHeaders!==void 0&&(j=Object.keys(e.setHeaders).reduce((be,te)=>be.set(te,e.setHeaders[te]),j)),e.setParams&&(q=Object.keys(e.setParams).reduce((be,te)=>be.set(te,e.setParams[te]),q)),new n(t,r,A,{params:q,headers:j,context:W,reportProgress:M,responseType:i,withCredentials:D,transferCache:m,keepalive:o,cache:a,priority:s,timeout:E,mode:c,redirect:l,credentials:d,referrer:f,integrity:g})}},Va=(function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n})(Va||{}),Ua=class{headers;status;statusText;url;ok;type;redirected;constructor(e,t=200,r="OK"){this.headers=e.headers||new is,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.redirected=e.redirected,this.ok=this.status>=200&&this.status<300}},ip=class n extends Ua{constructor(e={}){super(e)}type=Va.ResponseHeader;clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},op=class n extends Ua{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=Va.Response;clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0,redirected:e.redirected??this.redirected})}},il=class extends Ua{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},IH=200,TH=204;function RE(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,credentials:n.credentials,transferCache:n.transferCache,timeout:n.timeout,keepalive:n.keepalive,priority:n.priority,cache:n.cache,mode:n.mode,redirect:n.redirect,integrity:n.integrity,referrer:n.referrer}}var bH=(()=>{class n{handler;constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof rl)o=t;else{let c;i.headers instanceof is?c=i.headers:c=new is(i.headers);let l;i.params&&(i.params instanceof Yi?l=i.params:l=new Yi({fromObject:i.params})),o=new rl(t,r,i.body!==void 0?i.body:null,{headers:c,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache,keepalive:i.keepalive,priority:i.priority,cache:i.cache,mode:i.mode,redirect:i.redirect,credentials:i.credentials,referrer:i.referrer,integrity:i.integrity,timeout:i.timeout})}let s=ne(o).pipe(Mi(c=>this.handler.handle(c)));if(t instanceof rl||i.observe==="events")return s;let a=s.pipe(Qt(c=>c instanceof op));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(oe(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new P(2806,!1);return c.body}));case"blob":return a.pipe(oe(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new P(2807,!1);return c.body}));case"text":return a.pipe(oe(c=>{if(c.body!==null&&typeof c.body!="string")throw new P(2808,!1);return c.body}));case"json":default:return a.pipe(oe(c=>c.body))}case"response":return a;default:throw new P(2809,!1)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new Yi().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,RE(i,r))}post(t,r,i={}){return this.request("POST",t,RE(i,r))}put(t,r,i={}){return this.request("PUT",t,RE(i,r))}static \u0275fac=function(r){return new(r||n)(Q(ja))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})();var DH=new B("");function CH(n,e){return e(n)}function SH(n,e,t){return(r,i)=>rt(t,()=>e(r,o=>n(o,i)))}var BN=new B(""),AH=new B(""),$N=new B("",{providedIn:"root",factory:()=>!0});var sp=(()=>{class n extends ja{backend;injector;chain=null;pendingTasks=x(Hi);contributeToStability=x($N);constructor(t,r){super(),this.backend=t,this.injector=r}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(BN),...this.injector.get(AH,[])]));this.chain=r.reduceRight((i,o)=>SH(i,o,this.injector),CH)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(xo(r))}else return this.chain(t,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||n)(Q(ol),Q(Ze))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})();var RH=/^\)\]\}',?\n/,NH=RegExp(`^${VN}:`,"m");function MH(n){return"responseURL"in n&&n.responseURL?n.responseURL:NH.test(n.getAllResponseHeaders())?n.getResponseHeader(VN):null}var NE=(()=>{class n{xhrFactory;constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new P(-2800,!1);let r=this.xhrFactory;return ne(null).pipe(jt(()=>new ie(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((D,M)=>s.setRequestHeader(D,M.join(","))),t.headers.has(LN)||s.setRequestHeader(LN,wH),!t.headers.has(FN)){let D=t.detectContentTypeHeader();D!==null&&s.setRequestHeader(FN,D)}if(t.timeout&&(s.timeout=t.timeout),t.responseType){let D=t.responseType.toLowerCase();s.responseType=D!=="json"?D:"text"}let a=t.serializeBody(),c=null,l=()=>{if(c!==null)return c;let D=s.statusText||"OK",M=new is(s.getAllResponseHeaders()),j=MH(s)||t.url;return c=new ip({headers:M,status:s.status,statusText:D,url:j}),c},d=()=>{let{headers:D,status:M,statusText:j,url:q}=l(),W=null;M!==TH&&(W=typeof s.response>"u"?s.responseText:s.response),M===0&&(M=W?IH:0);let be=M>=200&&M<300;if(t.responseType==="json"&&typeof W=="string"){let te=W;W=W.replace(RH,"");try{W=W!==""?JSON.parse(W):null}catch(T){W=te,be&&(be=!1,W={error:T,text:W})}}be?(o.next(new op({body:W,headers:D,status:M,statusText:j,url:q||void 0})),o.complete()):o.error(new il({error:W,headers:D,status:M,statusText:j,url:q||void 0}))},f=D=>{let{url:M}=l(),j=new il({error:D,status:s.status||0,statusText:s.statusText||"Unknown Error",url:M||void 0});o.error(j)},g=f;t.timeout&&(g=D=>{let{url:M}=l(),j=new il({error:new DOMException("Request timed out","TimeoutError"),status:s.status||0,statusText:s.statusText||"Request timeout",url:M||void 0});o.error(j)});let m=!1,E=D=>{m||(o.next(l()),m=!0);let M={type:Va.DownloadProgress,loaded:D.loaded};D.lengthComputable&&(M.total=D.total),t.responseType==="text"&&s.responseText&&(M.partialText=s.responseText),o.next(M)},A=D=>{let M={type:Va.UploadProgress,loaded:D.loaded};D.lengthComputable&&(M.total=D.total),o.next(M)};return s.addEventListener("load",d),s.addEventListener("error",f),s.addEventListener("timeout",g),s.addEventListener("abort",f),t.reportProgress&&(s.addEventListener("progress",E),a!==null&&s.upload&&s.upload.addEventListener("progress",A)),s.send(a),o.next({type:Va.Sent}),()=>{s.removeEventListener("error",f),s.removeEventListener("abort",f),s.removeEventListener("load",d),s.removeEventListener("timeout",g),t.reportProgress&&(s.removeEventListener("progress",E),a!==null&&s.upload&&s.upload.removeEventListener("progress",A)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||n)(Q(rs))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),HN=new B(""),PH="XSRF-TOKEN",kH=new B("",{providedIn:"root",factory:()=>PH}),xH="X-XSRF-TOKEN",OH=new B("",{providedIn:"root",factory:()=>xH}),sl=class{},FH=(()=>{class n{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,r){this.doc=t,this.cookieName=r}getToken(){let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ju(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(r){return new(r||n)(Q(it),Q(kH))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})();function LH(n,e){let t=n.url.toLowerCase();if(!x(HN)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=x(sl).getToken(),i=x(OH);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}function ME(...n){let e=[bH,NE,sp,{provide:ja,useExisting:sp},{provide:ol,useFactory:()=>x(DH,{optional:!0})??x(NE)},{provide:BN,useValue:LH,multi:!0},{provide:HN,useValue:!0},{provide:sl,useClass:FH}];for(let t of n)e.push(...t.\u0275providers);return sn(e)}var qN=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(Q(it))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var se="primary",wl=Symbol("RouteTitle"),FE=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function as(n){return new FE(n)}function ZN(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function jH(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!vr(n[t],e[t]))return!1;return!0}function vr(n,e){let t=n?LE(n):void 0,r=e?LE(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!XN(n[i],e[i]))return!1;return!0}function LE(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function XN(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function eM(n){return n.length>0?n[n.length-1]:null}function ti(n){return qy(n)?n:Gi(n)?qe(Promise.resolve(n)):ne(n)}var UH={exact:nM,subset:rM},tM={exact:BH,subset:$H,ignored:()=>!0};function zN(n,e,t){return UH[t.paths](n.root,e.root,t.matrixParams)&&tM[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function BH(n,e){return vr(n,e)}function nM(n,e,t){if(!os(n.segments,e.segments)||!up(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!nM(n.children[r],e.children[r],t))return!1;return!0}function $H(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>XN(n[t],e[t]))}function rM(n,e,t){return iM(n,e,e.segments,t)}function iM(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!os(i,t)||e.hasChildren()||!up(i,t,r))}else if(n.segments.length===t.length){if(!os(n.segments,t)||!up(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!rM(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!os(n.segments,i)||!up(n.segments,i,r)||!n.children[se]?!1:iM(n.children[se],e,o,r)}}function up(n,e,t){return e.every((r,i)=>tM[t](n[i].parameters,r.parameters))}var Er=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Se([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=as(this.queryParams),this._queryParamMap}toString(){return zH.serialize(this)}},Se=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return lp(this)}},Ji=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=as(this.parameters),this._parameterMap}toString(){return sM(this)}};function HH(n,e){return os(n,e)&&n.every((t,r)=>vr(t.parameters,e[r].parameters))}function os(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function qH(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===se&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==se&&(t=t.concat(e(i,r)))}),t}var Il=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:()=>new cs,providedIn:"root"})}return n})(),cs=class{parse(e){let t=new jE(e);return new Er(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${al(e.root,!0)}`,r=KH(e.queryParams),i=typeof e.fragment=="string"?`#${GH(e.fragment)}`:"";return`${t}${r}${i}`}},zH=new cs;function lp(n){return n.segments.map(e=>sM(e)).join("/")}function al(n,e){if(!n.hasChildren())return lp(n);if(e){let t=n.children[se]?al(n.children[se],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==se&&r.push(`${i}:${al(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=qH(n,(r,i)=>i===se?[al(n.children[se],!1)]:[`${i}:${al(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[se]!=null?`${lp(n)}/${t[0]}`:`${lp(n)}/(${t.join("//")})`}}function oM(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ap(n){return oM(n).replace(/%3B/gi,";")}function GH(n){return encodeURI(n)}function VE(n){return oM(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function dp(n){return decodeURIComponent(n)}function GN(n){return dp(n.replace(/\+/g,"%20"))}function sM(n){return`${VE(n.path)}${WH(n.parameters)}`}function WH(n){return Object.entries(n).map(([e,t])=>`;${VE(e)}=${VE(t)}`).join("")}function KH(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${ap(t)}=${ap(i)}`).join("&"):`${ap(t)}=${ap(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var QH=/^[^\/()?;#]+/;function PE(n){let e=n.match(QH);return e?e[0]:""}var YH=/^[^\/()?;=#]+/;function JH(n){let e=n.match(YH);return e?e[0]:""}var ZH=/^[^=?&#]+/;function XH(n){let e=n.match(ZH);return e?e[0]:""}var e4=/^[^&#]+/;function t4(n){let e=n.match(e4);return e?e[0]:""}var jE=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Se([],{}):new Se([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[se]=new Se(e,t)),r}parseSegment(){let e=PE(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new P(4009,!1);return this.capture(e),new Ji(dp(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=JH(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=PE(this.remaining);i&&(r=i,this.capture(r))}e[dp(t)]=dp(r)}parseQueryParam(e){let t=XH(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=t4(this.remaining);s&&(r=s,this.capture(r))}let i=GN(t),o=GN(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=PE(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new P(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=se);let s=this.parseChildren();t[o??se]=Object.keys(s).length===1&&s[se]?s[se]:new Se([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new P(4011,!1)}};function aM(n){return n.segments.length>0?new Se([],{[se]:n}):n}function cM(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=cM(i);if(r===se&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new Se(n.segments,e);return n4(t)}function n4(n){if(n.numberOfChildren===1&&n.children[se]){let e=n.children[se];return new Se(n.segments.concat(e.segments),e.children)}return n}function Zi(n){return n instanceof Er}function uM(n,e,t=null,r=null){let i=lM(n);return dM(i,e,t,r)}function lM(n){let e;function t(o){let s={};for(let c of o.children){let l=t(c);s[c.outlet]=l}let a=new Se(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=aM(r);return e??i}function dM(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return kE(i,i,i,t,r);let o=r4(e);if(o.toRoot())return kE(i,i,new Se([],{}),t,r);let s=i4(o,i,n),a=s.processChildren?ul(s.segmentGroup,s.index,o.commands):fM(s.segmentGroup,s.index,o.commands);return kE(i,s.segmentGroup,a,t,r)}function hp(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function hl(n){return typeof n=="object"&&n!=null&&n.outlets}function kE(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(d=>`${d}`):`${l}`});let s;n===e?s=t:s=hM(n,e,t);let a=aM(cM(s));return new Er(a,o,i)}function hM(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=hM(o,e,t)}),new Se(n.segments,r)}var fp=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&hp(r[0]))throw new P(4003,!1);let i=r.find(hl);if(i&&i!==eM(r))throw new P(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function r4(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new fp(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new fp(t,e,r)}var Ha=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function i4(n,e,t){if(n.isAbsolute)return new Ha(e,!0,0);if(!t)return new Ha(e,!1,NaN);if(t.parent===null)return new Ha(t,!0,0);let r=hp(n.commands[0])?0:1,i=t.segments.length-1+r;return o4(t,i,n.numberOfDoubleDots)}function o4(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new P(4005,!1);i=r.segments.length}return new Ha(r,!1,i-o)}function s4(n){return hl(n[0])?n[0].outlets:{[se]:n}}function fM(n,e,t){if(n??=new Se([],{}),n.segments.length===0&&n.hasChildren())return ul(n,e,t);let r=a4(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new Se(n.segments.slice(0,r.pathIndex),{});return o.children[se]=new Se(n.segments.slice(r.pathIndex),n.children),ul(o,0,i)}else return r.match&&i.length===0?new Se(n.segments,{}):r.match&&!n.hasChildren()?UE(n,e,t):r.match?ul(n,0,i):UE(n,e,t)}function ul(n,e,t){if(t.length===0)return new Se(n.segments,{});{let r=s4(t),i={};if(Object.keys(r).some(o=>o!==se)&&n.children[se]&&n.numberOfChildren===1&&n.children[se].segments.length===0){let o=ul(n.children[se],e,t);return new Se(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=fM(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Se(n.segments,i)}}function a4(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(hl(a))break;let c=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!KN(c,l,s))return o;r+=2}else{if(!KN(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function UE(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(hl(o)){let c=c4(o.outlets);return new Se(r,c)}if(i===0&&hp(t[0])){let c=n.segments[e];r.push(new Ji(c.path,WN(t[0]))),i++;continue}let s=hl(o)?o.outlets[se]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&hp(a)?(r.push(new Ji(s,WN(a))),i+=2):(r.push(new Ji(s,{})),i++)}return new Se(r,{})}function c4(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=UE(new Se([],{}),0,r))}),e}function WN(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function KN(n,e,t){return n==t.path&&vr(e,t.parameters)}var ll="imperative",Tt=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(Tt||{}),wn=class{id;url;constructor(e,t){this.id=e,this.url=t}},us=class extends wn{type=Tt.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},wr=class extends wn{urlAfterRedirects;type=Tt.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Xt=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(Xt||{}),fl=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(fl||{}),_r=class extends wn{reason;code;type=Tt.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Xr=class extends wn{reason;code;type=Tt.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},za=class extends wn{error;target;type=Tt.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},pl=class extends wn{urlAfterRedirects;state;type=Tt.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},pp=class extends wn{urlAfterRedirects;state;type=Tt.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},gp=class extends wn{urlAfterRedirects;state;shouldActivate;type=Tt.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},mp=class extends wn{urlAfterRedirects;state;type=Tt.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},yp=class extends wn{urlAfterRedirects;state;type=Tt.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},vp=class{route;type=Tt.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},_p=class{route;type=Tt.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Ep=class{snapshot;type=Tt.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},wp=class{snapshot;type=Tt.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ip=class{snapshot;type=Tt.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Tp=class{snapshot;type=Tt.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var gl=class{},Ga=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function u4(n){return!(n instanceof gl)&&!(n instanceof Ga)}function l4(n,e){return n.providers&&!n._injector&&(n._injector=Uu(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Jn(n){return n.outlet||se}function d4(n,e){let t=n.filter(r=>Jn(r)===e);return t.push(...n.filter(r=>Jn(r)!==e)),t}function Qa(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var bp=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Qa(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Ya(this.rootInjector)}},Ya=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new bp(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(Q(Ze))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Dp=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=BE(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=BE(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=$E(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return $E(e,this._root).map(t=>t.value)}};function BE(n,e){if(n===e.value)return e;for(let t of e.children){let r=BE(n,t);if(r)return r}return null}function $E(n,e){if(n===e.value)return[e];for(let t of e.children){let r=$E(n,t);if(r.length)return r.unshift(e),r}return[]}var En=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function $a(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var ml=class extends Dp{snapshot;constructor(e,t){super(e),this.snapshot=t,YE(this,e)}toString(){return this.snapshot.toString()}};function pM(n){let e=h4(n),t=new At([new Ji("",{})]),r=new At({}),i=new At({}),o=new At({}),s=new At(""),a=new ei(t,r,o,s,i,se,n,e.root);return a.snapshot=e.root,new ml(new En(a,[]),e)}function h4(n){let e={},t={},r={},o=new ss([],e,r,"",t,se,n,null,{});return new yl("",new En(o,[]))}var ei=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(oe(l=>l[wl]))??ne(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(oe(e=>as(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(oe(e=>as(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Cp(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:V(V({},e.params),n.params),data:V(V({},e.data),n.data),resolve:V(V(V(V({},n.data),e.data),i?.data),n._resolvedData)}:r={params:V({},n.params),data:V({},n.data),resolve:V(V({},n.data),n._resolvedData??{})},i&&mM(i)&&(r.resolve[wl]=i.title),r}var ss=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[wl]}constructor(e,t,r,i,o,s,a,c,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=as(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=as(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},yl=class extends Dp{url;constructor(e,t){super(t),this.url=e,YE(this,t)}toString(){return gM(this._root)}};function YE(n,e){e.value._routerState=n,e.children.forEach(t=>YE(n,t))}function gM(n){let e=n.children.length>0?` { ${n.children.map(gM).join(", ")} } `:"";return`${n.value}${e}`}function xE(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,vr(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),vr(e.params,t.params)||n.paramsSubject.next(t.params),jH(e.url,t.url)||n.urlSubject.next(t.url),vr(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function HE(n,e){let t=vr(n.params,e.params)&&HH(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||HE(n.parent,e.parent))}function mM(n){return typeof n.title=="string"||n.title===null}var yM=new B(""),Tl=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=se;activateEvents=new ot;deactivateEvents=new ot;attachEvents=new ot;detachEvents=new ot;routerOutletData=zR();parentContexts=x(Ya);location=x(es);changeDetector=x(xa);inputBinder=x(Np,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new P(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new P(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new P(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new P(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new qE(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=_t({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[mr]})}return n})(),qE=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===ei?this.route:e===Ya?this.childContexts:e===yM?this.outletData:this.parent.get(e,t)}},Np=new B("");var JE=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Kn({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&st(0,"router-outlet")},dependencies:[Tl],encapsulation:2})}return n})();function ZE(n){let e=n.children&&n.children.map(ZE),t=e?de(V({},n),{children:e}):V({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==se&&(t.component=JE),t}function f4(n,e,t){let r=vl(n,e._root,t?t._root:void 0);return new ml(r,e)}function vl(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=p4(n,e,t);return new En(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>vl(n,a)),s}}let r=g4(e.value),i=e.children.map(o=>vl(n,o));return new En(r,i)}}function p4(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return vl(n,r,i);return vl(n,r)})}function g4(n){return new ei(new At(n.url),new At(n.params),new At(n.queryParams),new At(n.fragment),new At(n.data),n.outlet,n.component,n)}var Wa=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},vM="ngNavigationCancelingError";function Sp(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Zi(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=_M(!1,Xt.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function _M(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[vM]=!0,t.cancellationCode=e,t}function m4(n){return EM(n)&&Zi(n.url)}function EM(n){return!!n&&n[vM]}var y4=(n,e,t,r)=>oe(i=>(new zE(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),zE=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),xE(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=$a(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=$a(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=$a(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=$a(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Tp(o.value.snapshot))}),e.children.length&&this.forwardEvent(new wp(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(xE(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),xE(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Ap=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},qa=class{component;route;constructor(e,t){this.component=e,this.route=t}};function v4(n,e,t){let r=n._root,i=e?e._root:null;return cl(r,i,t,[r.value])}function _4(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Ja(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!cv(n)?n:e.get(n):r}function cl(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=$a(e);return n.children.forEach(s=>{E4(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>dl(a,t.getContext(s),i)),i}function E4(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=w4(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Ap(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?cl(n,e,a?a.children:null,r,i):cl(n,e,t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new qa(a.outlet.component,s))}else s&&dl(e,a,i),i.canActivateChecks.push(new Ap(r)),o.component?cl(n,null,a?a.children:null,r,i):cl(n,null,t,r,i);return i}function w4(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!os(n.url,e.url);case"pathParamsOrQueryParamsChange":return!os(n.url,e.url)||!vr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!HE(n,e)||!vr(n.queryParams,e.queryParams);case"paramsChange":default:return!HE(n,e)}}function dl(n,e,t){let r=$a(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?dl(s,e.children.getContext(o),t):dl(s,null,t):dl(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new qa(e.outlet.component,i)):t.canDeactivateChecks.push(new qa(null,i)):t.canDeactivateChecks.push(new qa(null,i))}function bl(n){return typeof n=="function"}function I4(n){return typeof n=="boolean"}function T4(n){return n&&bl(n.canLoad)}function b4(n){return n&&bl(n.canActivate)}function D4(n){return n&&bl(n.canActivateChild)}function C4(n){return n&&bl(n.canDeactivate)}function S4(n){return n&&bl(n.canMatch)}function wM(n){return n instanceof Ur||n?.name==="EmptyError"}var cp=Symbol("INITIAL_VALUE");function Ka(){return jt(n=>Th(n.map(e=>e.pipe(Br(1),Ch(cp)))).pipe(oe(e=>{for(let t of e)if(t!==!0){if(t===cp)return cp;if(t===!1||A4(t))return t}return!0}),Qt(e=>e!==cp),Br(1)))}function A4(n){return Zi(n)||n instanceof Wa}function R4(n,e){return vt(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?ne(de(V({},t),{guardsResult:!0})):N4(s,r,i,n).pipe(vt(a=>a&&I4(a)?M4(r,o,n,e):ne(a)),oe(a=>de(V({},t),{guardsResult:a})))})}function N4(n,e,t,r){return qe(n).pipe(vt(i=>F4(i.component,i.route,t,e,r)),$r(i=>i!==!0,!0))}function M4(n,e,t,r){return qe(e).pipe(Mi(i=>pa(k4(i.route.parent,r),P4(i.route,r),O4(n,i.path,t),x4(n,i.route,t))),$r(i=>i!==!0,!0))}function P4(n,e){return n!==null&&e&&e(new Ip(n)),ne(!0)}function k4(n,e){return n!==null&&e&&e(new Ep(n)),ne(!0)}function x4(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return ne(!0);let i=r.map(o=>cu(()=>{let s=Qa(e)??t,a=Ja(o,s),c=b4(a)?a.canActivate(e,n):rt(s,()=>a(e,n));return ti(c).pipe($r())}));return ne(i).pipe(Ka())}function O4(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>_4(s)).filter(s=>s!==null).map(s=>cu(()=>{let a=s.guards.map(c=>{let l=Qa(s.node)??t,d=Ja(c,l),f=D4(d)?d.canActivateChild(r,n):rt(l,()=>d(r,n));return ti(f).pipe($r())});return ne(a).pipe(Ka())}));return ne(o).pipe(Ka())}function F4(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return ne(!0);let s=o.map(a=>{let c=Qa(e)??i,l=Ja(a,c),d=C4(l)?l.canDeactivate(n,e,t,r):rt(c,()=>l(n,e,t,r));return ti(d).pipe($r())});return ne(s).pipe(Ka())}function L4(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return ne(!0);let o=i.map(s=>{let a=Ja(s,n),c=T4(a)?a.canLoad(e,t):rt(n,()=>a(e,t));return ti(c)});return ne(o).pipe(Ka(),IM(r))}function IM(n){return ih(wt(e=>{if(typeof e!="boolean")throw Sp(n,e)}),oe(e=>e===!0))}function V4(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return ne(!0);let o=i.map(s=>{let a=Ja(s,n),c=S4(a)?a.canMatch(e,t):rt(n,()=>a(e,t));return ti(c)});return ne(o).pipe(Ka(),IM(r))}var _l=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},El=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function Ba(n){return fa(new _l(n))}function j4(n){return fa(new P(4e3,!1))}function U4(n){return fa(_M(!1,Xt.GuardRejected))}var GE=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return ne(r);if(i.numberOfChildren>1||!i.children[se])return j4(`${e.redirectTo}`);i=i.children[se]}}applyRedirectCommands(e,t,r,i,o){return B4(t,i,o).pipe(oe(s=>{if(s instanceof Er)throw new El(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new El(a);return a}))}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new Er(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new Se(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new P(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}};function B4(n,e,t){if(typeof n=="string")return ne(n);let r=n,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,params:l,data:d,title:f}=e;return ti(rt(t,()=>r({params:l,data:d,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,title:f})))}var WE={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function $4(n,e,t,r,i){let o=TM(n,e,t);return o.matched?(r=l4(e,r),V4(r,e,t,i).pipe(oe(s=>s===!0?o:V({},WE)))):ne(o)}function TM(n,e,t){if(e.path==="**")return H4(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?V({},WE):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||ZN)(t,n,e);if(!i)return V({},WE);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?V(V({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function H4(n){return{matched:!0,parameters:n.length>0?eM(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function QN(n,e,t,r){return t.length>0&&G4(n,t,r)?{segmentGroup:new Se(e,z4(r,new Se(t,n.children))),slicedSegments:[]}:t.length===0&&W4(n,t,r)?{segmentGroup:new Se(n.segments,q4(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Se(n.segments,n.children),slicedSegments:t}}function q4(n,e,t,r){let i={};for(let o of t)if(Mp(n,e,o)&&!r[Jn(o)]){let s=new Se([],{});i[Jn(o)]=s}return V(V({},r),i)}function z4(n,e){let t={};t[se]=e;for(let r of n)if(r.path===""&&Jn(r)!==se){let i=new Se([],{});t[Jn(r)]=i}return t}function G4(n,e,t){return t.some(r=>Mp(n,e,r)&&Jn(r)!==se)}function W4(n,e,t){return t.some(r=>Mp(n,e,r))}function Mp(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function K4(n,e,t){return e.length===0&&!n.children[t]}var KE=class{};function Q4(n,e,t,r,i,o,s="emptyOnly"){return new QE(n,e,t,r,i,s,o).recognize()}var Y4=31,QE=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new GE(this.urlSerializer,this.urlTree)}noMatchError(e){return new P(4002,`'${e.segmentGroup}'`)}recognize(){let e=QN(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(oe(({children:t,rootSnapshot:r})=>{let i=new En(r,t),o=new yl("",i),s=uM(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new ss([],Object.freeze({}),Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),se,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,se,t).pipe(oe(r=>({children:r,rootSnapshot:t})),Ni(r=>{if(r instanceof El)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof _l?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(oe(s=>s instanceof En?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return qe(o).pipe(Mi(s=>{let a=r.children[s],c=d4(t,s);return this.processSegmentGroup(e,c,a,s,i)}),Dh((s,a)=>(s.push(...a),s)),Pi(null),Gy(),vt(s=>{if(s===null)return Ba(r);let a=bM(s);return J4(a),ne(a)}))}processSegment(e,t,r,i,o,s,a){return qe(t).pipe(Mi(c=>this.processSegmentAgainstRoute(c._injector??e,t,c,r,i,o,s,a).pipe(Ni(l=>{if(l instanceof _l)return ne(null);throw l}))),$r(c=>!!c),Ni(c=>{if(wM(c))return K4(r,i,o)?ne(new KE):Ba(r);throw c}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,c){return Jn(r)!==s&&(s===se||!Mp(i,o,r))?Ba(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,c):Ba(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:c,parameters:l,consumedSegments:d,positionalParamSegments:f,remainingSegments:g}=TM(t,i,o);if(!c)return Ba(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Y4&&(this.allowRedirects=!1));let m=new ss(o,l,Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,YN(i),Jn(i),i.component??i._loadedComponent??null,i,JN(i)),E=Cp(m,a,this.paramsInheritanceStrategy);return m.params=Object.freeze(E.params),m.data=Object.freeze(E.data),this.applyRedirects.applyRedirectCommands(d,i.redirectTo,f,m,e).pipe(jt(D=>this.applyRedirects.lineralizeSegments(i,D)),vt(D=>this.processSegment(e,r,t,D.concat(g),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=$4(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(jt(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(jt(({routes:l})=>{let d=r._loadedInjector??e,{parameters:f,consumedSegments:g,remainingSegments:m}=c,E=new ss(g,f,Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,YN(r),Jn(r),r.component??r._loadedComponent??null,r,JN(r)),A=Cp(E,s,this.paramsInheritanceStrategy);E.params=Object.freeze(A.params),E.data=Object.freeze(A.data);let{segmentGroup:D,slicedSegments:M}=QN(t,g,m,l);if(M.length===0&&D.hasChildren())return this.processChildren(d,l,D,E).pipe(oe(q=>new En(E,q)));if(l.length===0&&M.length===0)return ne(new En(E,[]));let j=Jn(r)===o;return this.processSegment(d,l,D,M,j?se:o,!0,E).pipe(oe(q=>new En(E,q instanceof En?[q]:[])))}))):Ba(t)))}getChildConfig(e,t,r){return t.children?ne({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?ne({routes:t._loadedRoutes,injector:t._loadedInjector}):L4(e,t,r,this.urlSerializer).pipe(vt(i=>i?this.configLoader.loadChildren(e,t).pipe(wt(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):U4(t))):ne({routes:[],injector:e})}};function J4(n){n.sort((e,t)=>e.value.outlet===se?-1:t.value.outlet===se?1:e.value.outlet.localeCompare(t.value.outlet))}function Z4(n){let e=n.value.routeConfig;return e&&e.path===""}function bM(n){let e=[],t=new Set;for(let r of n){if(!Z4(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=bM(r.children);e.push(new En(r.value,i))}return e.filter(r=>!t.has(r))}function YN(n){return n.data||{}}function JN(n){return n.resolve||{}}function X4(n,e,t,r,i,o){return vt(s=>Q4(n,e,t,r,s.extractedUrl,i,o).pipe(oe(({state:a,tree:c})=>de(V({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function eq(n,e){return vt(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return ne(t);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of DM(c))s.add(l);let a=0;return qe(s).pipe(Mi(c=>o.has(c)?tq(c,r,n,e):(c.data=Cp(c,c.parent,n).resolve,ne(void 0))),wt(()=>a++),ga(1),vt(c=>a===s.size?ne(t):rn))})}function DM(n){let e=n.children.map(t=>DM(t)).flat();return[n,...e]}function tq(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!mM(i)&&(o[wl]=i.title),cu(()=>(n.data=Cp(n,n.parent,t).resolve,nq(o,n,e,r).pipe(oe(s=>(n._resolvedData=s,n.data=V(V({},n.data),s),null)))))}function nq(n,e,t,r){let i=LE(n);if(i.length===0)return ne({});let o={};return qe(i).pipe(vt(s=>rq(n[s],e,t,r).pipe($r(),wt(a=>{if(a instanceof Wa)throw Sp(new cs,a);o[s]=a}))),ga(1),oe(()=>o),Ni(s=>wM(s)?rn:fa(s)))}function rq(n,e,t,r){let i=Qa(e)??r,o=Ja(n,i),s=o.resolve?o.resolve(e,t):rt(i,()=>o(e,t));return ti(s)}function OE(n){return jt(e=>{let t=n(e);return t?qe(t).pipe(oe(()=>e)):ne(e)})}var XE=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===se);return r}getResolvedTitleForRoute(t){return t.data[wl]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:()=>x(CM),providedIn:"root"})}return n})(),CM=(()=>{class n extends XE{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(Q(qN))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Za=new B("",{providedIn:"root",factory:()=>({})}),Dl=new B(""),SM=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=x(tE);loadComponent(t,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return ne(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=ti(rt(t,()=>r.loadComponent())).pipe(oe(RM),jt(NM),wt(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),xo(()=>{this.componentLoaders.delete(r)})),o=new ua(i,()=>new ct).pipe(ca());return this.componentLoaders.set(r,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ne({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=AM(r,this.compiler,t,this.onLoadEndListener).pipe(xo(()=>{this.childrenLoaders.delete(r)})),s=new ua(o,()=>new ct).pipe(ca());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function AM(n,e,t,r){return ti(rt(t,()=>n.loadChildren())).pipe(oe(RM),jt(NM),vt(i=>i instanceof Rf||Array.isArray(i)?ne(i):qe(e.compileModuleAsync(i))),oe(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(Dl,[],{optional:!0,self:!0}).flat()),{routes:s.map(ZE),injector:o}}))}function iq(n){return n&&typeof n=="object"&&"default"in n}function RM(n){return iq(n)?n.default:n}function NM(n){return ne(n)}var Pp=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:()=>x(oq),providedIn:"root"})}return n})(),oq=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),MM=new B("");var PM=new B(""),kM=(()=>{class n{currentNavigation=lt(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new ct;transitionAbortWithErrorSubject=new ct;configLoader=x(SM);environmentInjector=x(Ze);destroyRef=x(Gr);urlSerializer=x(Il);rootContexts=x(Ya);location=x(La);inputBindingEnabled=x(Np,{optional:!0})!==null;titleStrategy=x(XE);options=x(Za,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=x(Pp);createViewTransition=x(MM,{optional:!0});navigationErrorHandler=x(PM,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>ne(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new vp(i)),r=i=>this.events.next(new _p(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;It(()=>{this.transitions?.next(de(V({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))})}setupNavigations(t){return this.transitions=new At(null),this.transitions.pipe(Qt(r=>r!==null),jt(r=>{let i=!1;return ne(r).pipe(jt(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Xt.SupersededByNewNavigation),rn;this.currentTransition=r,this.currentNavigation.set({id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?de(V({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()});let s=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!s&&a!=="reload")return this.events.next(new Xr(o.id,this.urlSerializer.serialize(o.rawUrl),"",fl.IgnoredSameUrlNavigation)),o.resolve(!1),rn;if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return ne(o).pipe(jt(c=>(this.events.next(new us(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?rn:Promise.resolve(c))),X4(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),wt(c=>{r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation.update(d=>(d.finalUrl=c.urlAfterRedirects,d));let l=new pl(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:c,extractedUrl:l,source:d,restoredState:f,extras:g}=o,m=new us(c,this.urlSerializer.serialize(l),d,f);this.events.next(m);let E=pM(this.rootComponentType).snapshot;return this.currentTransition=r=de(V({},o),{targetSnapshot:E,urlAfterRedirects:l,extras:de(V({},g),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(A=>(A.finalUrl=l,A)),ne(r)}else return this.events.next(new Xr(o.id,this.urlSerializer.serialize(o.extractedUrl),"",fl.IgnoredByUrlHandlingStrategy)),o.resolve(!1),rn}),wt(o=>{let s=new pp(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),oe(o=>(this.currentTransition=r=de(V({},o),{guards:v4(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),R4(this.environmentInjector,o=>this.events.next(o)),wt(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw Sp(this.urlSerializer,o.guardsResult);let s=new gp(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),Qt(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",Xt.GuardRejected),!1)),OE(o=>{if(o.guards.canActivateChecks.length!==0)return ne(o).pipe(wt(s=>{let a=new mp(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),jt(s=>{let a=!1;return ne(s).pipe(eq(this.paramsInheritanceStrategy,this.environmentInjector),wt({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",Xt.NoDataFromResolver)}}))}),wt(s=>{let a=new yp(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),OE(o=>{let s=a=>{let c=[];if(a.routeConfig?.loadComponent){let l=Qa(a)??this.environmentInjector;c.push(this.configLoader.loadComponent(l,a.routeConfig).pipe(wt(d=>{a.component=d}),oe(()=>{})))}for(let l of a.children)c.push(...s(l));return c};return Th(s(o.targetSnapshot.root)).pipe(Pi(null),Br(1))}),OE(()=>this.afterPreactivation()),jt(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?qe(a).pipe(oe(()=>r)):ne(r)}),oe(o=>{let s=f4(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=de(V({},o),{targetRouterState:s}),this.currentNavigation.update(a=>(a.targetRouterState=s,a)),r}),wt(()=>{this.events.next(new gl)}),y4(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),Br(1),Sh(new ie(o=>{let s=r.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(Qt(()=>!i&&!r.targetRouterState),wt(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",Xt.Aborted)}))),wt({next:o=>{i=!0,this.lastSuccessfulNavigation=It(this.currentNavigation),this.events.next(new wr(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),Sh(this.transitionAbortWithErrorSubject.pipe(wt(o=>{throw o}))),xo(()=>{i||this.cancelNavigationTransition(r,"",Xt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),Ni(o=>{if(this.destroyed)return r.resolve(!1),rn;if(i=!0,EM(o))this.events.next(new _r(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),m4(o)?this.events.next(new Ga(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new za(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let a=rt(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof Wa){let{message:c,cancellationCode:l}=Sp(this.urlSerializer,a);this.events.next(new _r(r.id,this.urlSerializer.serialize(r.extractedUrl),c,l)),this.events.next(new Ga(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return rn}))}))}cancelNavigationTransition(t,r,i){let o=new _r(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=It(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return t.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function sq(n){return n!==ll}var xM=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:()=>x(aq),providedIn:"root"})}return n})(),Rp=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},aq=(()=>{class n extends Rp{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Zo(n)))(i||n)}})();static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),OM=(()=>{class n{urlSerializer=x(Il);options=x(Za,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=x(La);urlHandlingStrategy=x(Pp);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Er;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof Er?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=pM(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:()=>x(cq),providedIn:"root"})}return n})(),cq=(()=>{class n extends OM{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof us?this.updateStateMemento():t instanceof Xr?this.commitTransition(r):t instanceof pl?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof gl?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof _r&&t.code!==Xt.SupersededByNewNavigation&&t.code!==Xt.Redirect?this.restoreHistory(r):t instanceof za?this.restoreHistory(r,!0):t instanceof wr&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,c=V(V({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",c)}else{let a=V(V({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Zo(n)))(i||n)}})();static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ew(n,e){n.events.pipe(Qt(t=>t instanceof wr||t instanceof _r||t instanceof za||t instanceof Xr),oe(t=>t instanceof wr||t instanceof Xr?0:(t instanceof _r?t.code===Xt.Redirect||t.code===Xt.SupersededByNewNavigation:!1)?2:1),Qt(t=>t!==2),Br(1)).subscribe(()=>{e()})}var uq={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},lq={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},In=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=x(K_);stateManager=x(OM);options=x(Za,{optional:!0})||{};pendingTasks=x(fr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=x(kM);urlSerializer=x(Il);location=x(La);urlHandlingStrategy=x(Pp);injector=x(Ze);_events=new ct;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=x(xM);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=x(Dl,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!x(Np,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Je;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=It(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof _r&&r.code!==Xt.Redirect&&r.code!==Xt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof wr)this.navigated=!0;else if(r instanceof Ga){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=V({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||sq(i.source)},s);this.scheduleNavigation(a,ll,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}u4(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ll,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=V({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o).catch(c=>{this.disposed||this.injector.get(un)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return It(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(ZE),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s,d=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":d=V(V({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let f;try{let g=i?i.snapshot:this.routerState.snapshot.root;f=lM(g)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),f=this.currentUrlTree.root}return dM(f,t,d,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Zi(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,ll,null,r)}navigate(t,r={skipLocationChange:!1}){return dq(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.console.warn(Uo(4018,!1)),this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=V({},uq):r===!1?i=V({},lq):i=r,Zi(t))return zN(this.currentUrlTree,t,i);let o=this.parseUrl(t);return zN(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((f,g)=>{a=f,c=g});let d=this.pendingTasks.add();return ew(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(f=>Promise.reject(f))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function dq(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new P(4008,!1)}var Xi=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=lt(null);get href(){return It(this.reactiveHref)}set href(t){this.reactiveHref.set(t)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new ct;applicationErrorHandler=x(un);options=x(Za,{optional:!0});constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(x(new Lf("href"),{optional:!0}));let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area"||!!(typeof customElements=="object"&&customElements.get(c)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let t=this.preserveFragment,r=i=>i==="merge"||i==="preserve";t||=r(this.queryParamsHandling),t||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),t&&(this.subscription=this.router.events.subscribe(i=>{i instanceof wr&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Zi(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c)?.catch(l=>{this.applicationErrorHandler(l)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.reactiveHref.set(t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t))??"":null)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:Zi(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(J(In),J(ei),Ou("tabindex"),J(Xo),J(zi),J(Fa))};static \u0275dir=_t({type:n,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&Be("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Bu("href",i.reactiveHref(),R_)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Oa],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Oa],replaceUrl:[2,"replaceUrl","replaceUrl",Oa],routerLink:"routerLink"},features:[mr]})}return n})();var fq=new B("");function tw(n,...e){return sn([{provide:Dl,multi:!0,useValue:n},[],{provide:ei,useFactory:pq,deps:[In]},{provide:Mf,multi:!0,useFactory:gq},e.map(t=>t.\u0275providers)])}function pq(n){return n.routerState.root}function gq(){let n=x(nt);return e=>{let t=n.get(Wi);if(e!==t.components[0])return;let r=n.get(In),i=n.get(mq);n.get(yq)===1&&r.initialNavigation(),n.get(vq,null,{optional:!0})?.setUpPreloading(),n.get(fq,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var mq=new B("",{factory:()=>new ct}),yq=new B("",{providedIn:"root",factory:()=>1});var vq=new B("");var FM=()=>{};var jM=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},_q=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},kp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,c=i+2<n.length,l=c?n[i+2]:0,d=o>>2,f=(o&3)<<4|a>>4,g=(a&15)<<2|l>>6,m=l&63;c||(m=64,s||(g=64)),r.push(t[d],t[f],t[g],t[m])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(jM(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):_q(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let f=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||l==null||f==null)throw new iw;let g=o<<2|a>>4;if(r.push(g),l!==64){let m=a<<4&240|l>>2;if(r.push(m),f!==64){let E=l<<6&192|f;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},iw=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Eq=function(n){let e=jM(n);return kp.encodeByteArray(e,!0)},Sl=function(n){return Eq(n).replace(/\./g,"")},xp=function(n){try{return kp.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function sw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var wq=()=>sw().__FIREBASE_DEFAULTS__,Iq=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Tq=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&xp(n[1]);return e&&JSON.parse(e)},Op=()=>{try{return FM()||wq()||Iq()||Tq()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},aw=n=>{var e,t;return(t=(e=Op())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},UM=n=>{let e=aw(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},cw=()=>{var n;return(n=Op())===null||n===void 0?void 0:n.config},uw=n=>{var e;return(e=Op())===null||e===void 0?void 0:e[`_${n}`]};var ls=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function eo(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}function Fp(n){return v(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function BM(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Sl(JSON.stringify(t)),Sl(JSON.stringify(s)),""].join(".")}var Cl={};function bq(){let n={prod:[],emulator:[]};for(let e of Object.keys(Cl))Cl[e]?n.emulator.push(e):n.prod.push(e);return n}function Dq(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var LM=!1;function Lp(n,e){if(typeof window>"u"||typeof document>"u"||!eo(window.location.host)||Cl[n]===e||Cl[n]||LM)return;Cl[n]=e;function t(g){return`__firebase__banner__${g}`}let r="__firebase__banner",o=bq().prod.length>0;function s(){let g=document.getElementById(r);g&&g.remove()}function a(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function c(g,m){g.setAttribute("width","24"),g.setAttribute("id",m),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function l(){let g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{LM=!0,s()},g}function d(g,m){g.setAttribute("id",m),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function f(){let g=Dq(r),m=t("text"),E=document.getElementById(m)||document.createElement("span"),A=t("learnmore"),D=document.getElementById(A)||document.createElement("a"),M=t("preprendIcon"),j=document.getElementById(M)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){let q=g.element;a(q),d(D,A);let W=l();c(j,M),q.append(j,E,D,W),document.body.appendChild(q)}o?(E.innerText="Preview backend disconnected.",j.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(j.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}function bt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $M(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bt())}function Cq(){var n;let e=(n=Op())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function HM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function qM(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function zM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function GM(){let n=bt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function WM(){return!Cq()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ds(){try{return typeof indexedDB=="object"}catch{return!1}}function Vp(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}function KM(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}var Sq="FirebaseError",en=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=Sq,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tn.prototype.create)}},tn=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?Aq(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new en(i,a,r)}};function Aq(n,e){return n.replace(Rq,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var Rq=/\{\$([^}]+)}/g;function QM(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ir(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(VM(o)&&VM(s)){if(!Ir(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function VM(n){return n!==null&&typeof n=="object"}function Al(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Xa(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function ec(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function YM(n,e){let t=new ow(n,e);return t.subscribe.bind(t)}var ow=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");Nq(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=rw),i.error===void 0&&(i.error=rw),i.complete===void 0&&(i.complete=rw);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function Nq(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function rw(){}var bhe=14400*1e3;function je(n){return n&&n._delegate?n._delegate:n}var at=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var hs="[DEFAULT]";var lw=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new ls;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Pq(e))try{this.getOrInitializeService({instanceIdentifier:hs})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=hs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return v(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=hs){return this.instances.has(e)}getOptions(e=hs){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Mq(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=hs){return this.component?this.component.multipleInstances?e:hs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Mq(n){return n===hs?void 0:n}function Pq(n){return n.instantiationMode==="EAGER"}var jp=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new lw(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var kq=[],_e=(function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n})(_e||{}),xq={debug:_e.DEBUG,verbose:_e.VERBOSE,info:_e.INFO,warn:_e.WARN,error:_e.ERROR,silent:_e.SILENT},Oq=_e.INFO,Fq={[_e.DEBUG]:"log",[_e.VERBOSE]:"log",[_e.INFO]:"info",[_e.WARN]:"warn",[_e.ERROR]:"error"},Lq=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=Fq[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Tr=class{constructor(e){this.name=e,this._logLevel=Oq,this._logHandler=Lq,this._userLogHandler=null,kq.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in _e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?xq[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,_e.DEBUG,...e),this._logHandler(this,_e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,_e.VERBOSE,...e),this._logHandler(this,_e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,_e.INFO,...e),this._logHandler(this,_e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,_e.WARN,...e),this._logHandler(this,_e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,_e.ERROR,...e),this._logHandler(this,_e.ERROR,...e)}};var Vq=(n,e)=>e.some(t=>n instanceof t),JM,ZM;function jq(){return JM||(JM=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Uq(){return ZM||(ZM=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var XM=new WeakMap,hw=new WeakMap,eP=new WeakMap,dw=new WeakMap,pw=new WeakMap;function Bq(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Zn(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&XM.set(t,n)}).catch(()=>{}),pw.set(e,n),e}function $q(n){if(hw.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});hw.set(n,e)}var fw={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return hw.get(n);if(e==="objectStoreNames")return n.objectStoreNames||eP.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Zn(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function tP(n){fw=n(fw)}function Hq(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(Up(this),e,...t);return eP.set(r,e.sort?e.sort():[e]),Zn(r)}:Uq().includes(n)?function(...e){return n.apply(Up(this),e),Zn(XM.get(this))}:function(...e){return Zn(n.apply(Up(this),e))}}function qq(n){return typeof n=="function"?Hq(n):(n instanceof IDBTransaction&&$q(n),Vq(n,jq())?new Proxy(n,fw):n)}function Zn(n){if(n instanceof IDBRequest)return Bq(n);if(dw.has(n))return dw.get(n);let e=qq(n);return e!==n&&(dw.set(n,e),pw.set(e,n)),e}var Up=n=>pw.get(n);function fs(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=Zn(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Zn(s.result),c.oldVersion,c.newVersion,Zn(s.transaction),c)}),t&&s.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}function Bp(n,{blocked:e}={}){let t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",r=>e(r.oldVersion,r)),Zn(t).then(()=>{})}var zq=["get","getKey","getAll","getAllKeys","count"],Gq=["put","add","delete","clear"],gw=new Map;function nP(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(gw.get(e))return gw.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=Gq.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||zq.includes(t)))return;let o=function(s,...a){return v(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[t](...a),i&&c.done]))[0]})};return gw.set(e,o),o}tP(n=>de(V({},n),{get:(e,t,r)=>nP(e,t)||n.get(e,t,r),has:(e,t)=>!!nP(e,t)||n.has(e,t)}));var yw=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Wq(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function Wq(n){let e=n.getComponent();return e?.type==="VERSION"}var vw="@firebase/app",rP="0.13.2";var ni=new Tr("@firebase/app"),Kq="@firebase/app-compat",Qq="@firebase/analytics-compat",Yq="@firebase/analytics",Jq="@firebase/app-check-compat",Zq="@firebase/app-check",Xq="@firebase/auth",ez="@firebase/auth-compat",tz="@firebase/database",nz="@firebase/data-connect",rz="@firebase/database-compat",iz="@firebase/functions",oz="@firebase/functions-compat",sz="@firebase/installations",az="@firebase/installations-compat",cz="@firebase/messaging",uz="@firebase/messaging-compat",lz="@firebase/performance",dz="@firebase/performance-compat",hz="@firebase/remote-config",fz="@firebase/remote-config-compat",pz="@firebase/storage",gz="@firebase/storage-compat",mz="@firebase/firestore",yz="@firebase/ai",vz="@firebase/firestore-compat",_z="firebase",Ez="11.10.0";var _w="[DEFAULT]",wz={[vw]:"fire-core",[Kq]:"fire-core-compat",[Yq]:"fire-analytics",[Qq]:"fire-analytics-compat",[Zq]:"fire-app-check",[Jq]:"fire-app-check-compat",[Xq]:"fire-auth",[ez]:"fire-auth-compat",[tz]:"fire-rtdb",[nz]:"fire-data-connect",[rz]:"fire-rtdb-compat",[iz]:"fire-fn",[oz]:"fire-fn-compat",[sz]:"fire-iid",[az]:"fire-iid-compat",[cz]:"fire-fcm",[uz]:"fire-fcm-compat",[lz]:"fire-perf",[dz]:"fire-perf-compat",[hz]:"fire-rc",[fz]:"fire-rc-compat",[pz]:"fire-gcs",[gz]:"fire-gcs-compat",[mz]:"fire-fst",[vz]:"fire-fst-compat",[yz]:"fire-vertex","fire-js":"fire-js",[_z]:"fire-js-all"};var Rl=new Map,Iz=new Map,Ew=new Map;function iP(n,e){try{n.container.addComponent(e)}catch(t){ni.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Pt(n){let e=n.name;if(Ew.has(e))return ni.debug(`There were multiple attempts to register component ${e}.`),!1;Ew.set(e,n);for(let t of Rl.values())iP(t,n);for(let t of Iz.values())iP(t,n);return!0}function Xn(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function hn(n){return n==null?!1:n.settings!==void 0}var Tz={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},to=new tn("app","Firebase",Tz);var ww=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new at("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw to.create("app-deleted",{appName:this._name})}};var no=Ez;function bw(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:_w,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw to.create("bad-app-name",{appName:String(i)});if(t||(t=cw()),!t)throw to.create("no-options");let o=Rl.get(i);if(o){if(Ir(t,o.options)&&Ir(r,o.config))return o;throw to.create("duplicate-app",{appName:i})}let s=new jp(i);for(let c of Ew.values())s.addComponent(c);let a=new ww(t,r,s);return Rl.set(i,a),a}function br(n=_w){let e=Rl.get(n);if(!e&&n===_w&&cw())return bw();if(!e)throw to.create("no-app",{appName:n});return e}function $p(){return Array.from(Rl.values())}function Ne(n,e,t){var r;let i=(r=wz[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ni.warn(a.join(" "));return}Pt(new at(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var bz="firebase-heartbeat-database",Dz=1,Nl="firebase-heartbeat-store",mw=null;function cP(){return mw||(mw=fs(bz,Dz,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Nl)}catch(t){console.warn(t)}}}}).catch(n=>{throw to.create("idb-open",{originalErrorMessage:n.message})})),mw}function Cz(n){return v(this,null,function*(){try{let t=(yield cP()).transaction(Nl),r=yield t.objectStore(Nl).get(uP(n));return yield t.done,r}catch(e){if(e instanceof en)ni.warn(e.message);else{let t=to.create("idb-get",{originalErrorMessage:e?.message});ni.warn(t.message)}}})}function oP(n,e){return v(this,null,function*(){try{let r=(yield cP()).transaction(Nl,"readwrite");yield r.objectStore(Nl).put(e,uP(n)),yield r.done}catch(t){if(t instanceof en)ni.warn(t.message);else{let r=to.create("idb-set",{originalErrorMessage:t?.message});ni.warn(r.message)}}})}function uP(n){return`${n.name}!${n.options.appId}`}var Sz=1024,Az=30,Iw=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new Tw(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return v(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=sP();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>Az){let s=Nz(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ni.warn(r)}})}getHeartbeatsHeader(){return v(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=sP(),{heartbeatsToSend:r,unsentEntries:i}=Rz(this._heartbeatsCache.heartbeats),o=Sl(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return ni.warn(t),""}})}};function sP(){return new Date().toISOString().substring(0,10)}function Rz(n,e=Sz){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),aP(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),aP(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var Tw=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return v(this,null,function*(){return ds()?Vp().then(()=>!0).catch(()=>!1):!1})}read(){return v(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield Cz(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return v(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return oP(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return v(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return oP(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function aP(n){return Sl(JSON.stringify({version:2,heartbeats:n})).length}function Nz(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function Mz(n){Pt(new at("platform-logger",e=>new yw(e),"PRIVATE")),Pt(new at("heartbeat",e=>new Iw(e),"PRIVATE")),Ne(vw,rP,n),Ne(vw,rP,"esm2017"),Ne("fire-js","")}Mz("");var Pz="firebase",kz="11.10.0";Ne(Pz,kz,"app");function lP(n){n===void 0&&(n=x(nt));let e=n.get(Hi);return t=>new ie(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=t.subscribe({next:c=>{r.next(c),s()},complete:()=>{r.complete(),s()},error:c=>{r.error(c),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var Dr=new Fo("ANGULARFIRE2_VERSION");function gs(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var ro=(n,e)=>{let t=e?[e]:$p(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},tc=(function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n})(tc||{}),dP=cE()&&typeof Zone<"u"?tc.WARN:tc.SILENT;var Hp=class{zone;delegate;constructor(e,t=$y){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},Cr=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=x(De);this.outsideAngular=t.runOutsideAngular(()=>new Hp(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new Hp(typeof Zone>"u"?void 0:Zone.current,By))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),hP=!1;function xz(n,e){!hP&&(dP>tc.SILENT||cE())&&(hP=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),dP>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function Oz(n){let e=x(De,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function ps(n){let e=x(De,{optional:!0});return e?e.run(()=>n()):n()}var Fz=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),rt(t,()=>ps(()=>n.apply(void 0,r)))),We=(n,e,t)=>(t||=e?tc.WARN:tc.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=x(Cr),s=x(Hi),a=x(Ze)}catch{return xz(n,t),n.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=ps(()=>s.add())),i[l]=Fz(i[l],r,a));let c=Oz(()=>n.apply(this,i));return e?c instanceof ie?c.pipe(Ri(o.outsideAngular),Ai(o.insideAngular),lP(a)):c instanceof Promise?ps(()=>{let l=s.add();return new Promise((d,f)=>{c.then(g=>rt(a,()=>ps(()=>d(g))),g=>rt(a,()=>ps(()=>f(g)))).finally(l)})}):typeof c=="function"&&r?function(){return setTimeout(r,0),c.apply(this,arguments)}:ps(()=>c):c instanceof ie?c.pipe(Ri(o.outsideAngular),Ai(o.insideAngular)):ps(()=>c)});var er=class{constructor(e){return e}},ri=class{constructor(){return $p()}};function Lz(n){return n&&n.length===1?n[0]:new er(br())}var Dw=new B("angularfire2._apps"),Vz={provide:er,useFactory:Lz,deps:[[new $t,Dw]]},jz={provide:ri,deps:[[new $t,Dw]]};function Uz(n){return(e,t)=>{let r=t.get(Wn);Ne("angularfire",Dr.full,"core"),Ne("angularfire",Dr.full,"app"),Ne("angular",ov.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new er(i)}}function fP(n,...e){return sn([Vz,jz,{provide:Dw,useFactory:Uz(n),multi:!0,deps:[De,nt,Cr,...e]}])}var pP=We(bw,!0);var yP="@firebase/installations",Rw="0.6.18";var vP=1e4,_P=`w:${Rw}`,EP="FIS_v2",Bz="https://firebaseinstallations.googleapis.com/v1",$z=3600*1e3,Hz="installations",qz="Installations";var zz={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ys=new tn(Hz,qz,zz);function wP(n){return n instanceof en&&n.code.includes("request-failed")}function IP({projectId:n}){return`${Bz}/projects/${n}/installations`}function TP(n){return{token:n.token,requestStatus:2,expiresIn:Wz(n.expiresIn),creationTime:Date.now()}}function bP(n,e){return v(this,null,function*(){let r=(yield e.json()).error;return ys.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})}function DP({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function Gz(n,{refreshToken:e}){let t=DP(n);return t.append("Authorization",Kz(e)),t}function CP(n){return v(this,null,function*(){let e=yield n();return e.status>=500&&e.status<600?n():e})}function Wz(n){return Number(n.replace("s","000"))}function Kz(n){return`${EP} ${n}`}function Qz(r,i){return v(this,arguments,function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){let o=IP(n),s=DP(n),a=e.getImmediate({optional:!0});if(a){let f=yield a.getHeartbeatsHeader();f&&s.append("x-firebase-client",f)}let c={fid:t,authVersion:EP,appId:n.appId,sdkVersion:_P},l={method:"POST",headers:s,body:JSON.stringify(c)},d=yield CP(()=>fetch(o,l));if(d.ok){let f=yield d.json();return{fid:f.fid||t,registrationStatus:2,refreshToken:f.refreshToken,authToken:TP(f.authToken)}}else throw yield bP("Create Installation",d)})}function SP(n){return new Promise(e=>{setTimeout(e,n)})}function Yz(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}var Jz=/^[cdef][\w-]{21}$/,Aw="";function Zz(){try{let n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;let t=Xz(n);return Jz.test(t)?t:Aw}catch{return Aw}}function Xz(n){return Yz(n).substr(0,22)}function zp(n){return`${n.appName}!${n.appId}`}var AP=new Map;function RP(n,e){let t=zp(n);NP(t,e),e3(t,e)}function NP(n,e){let t=AP.get(n);if(t)for(let r of t)r(e)}function e3(n,e){let t=t3();t&&t.postMessage({key:n,fid:e}),n3()}var ms=null;function t3(){return!ms&&"BroadcastChannel"in self&&(ms=new BroadcastChannel("[Firebase] FID Change"),ms.onmessage=n=>{NP(n.data.key,n.data.fid)}),ms}function n3(){AP.size===0&&ms&&(ms.close(),ms=null)}var r3="firebase-installations-database",i3=1,vs="firebase-installations-store",Cw=null;function Nw(){return Cw||(Cw=fs(r3,i3,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(vs)}}})),Cw}function qp(n,e){return v(this,null,function*(){let t=zp(n),i=(yield Nw()).transaction(vs,"readwrite"),o=i.objectStore(vs),s=yield o.get(t);return yield o.put(e,t),yield i.done,(!s||s.fid!==e.fid)&&RP(n,e.fid),e})}function MP(n){return v(this,null,function*(){let e=zp(n),r=(yield Nw()).transaction(vs,"readwrite");yield r.objectStore(vs).delete(e),yield r.done})}function Gp(n,e){return v(this,null,function*(){let t=zp(n),i=(yield Nw()).transaction(vs,"readwrite"),o=i.objectStore(vs),s=yield o.get(t),a=e(s);return a===void 0?yield o.delete(t):yield o.put(a,t),yield i.done,a&&(!s||s.fid!==a.fid)&&RP(n,a.fid),a})}function Mw(n){return v(this,null,function*(){let e,t=yield Gp(n.appConfig,r=>{let i=o3(r),o=s3(n,i);return e=o.registrationPromise,o.installationEntry});return t.fid===Aw?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}})}function o3(n){let e=n||{fid:Zz(),registrationStatus:0};return PP(e)}function s3(n,e){if(e.registrationStatus===0){if(!navigator.onLine){let i=Promise.reject(ys.create("app-offline"));return{installationEntry:e,registrationPromise:i}}let t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=a3(n,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:c3(n)}:{installationEntry:e}}function a3(n,e){return v(this,null,function*(){try{let t=yield Qz(n,e);return qp(n.appConfig,t)}catch(t){throw wP(t)&&t.customData.serverCode===409?yield MP(n.appConfig):yield qp(n.appConfig,{fid:e.fid,registrationStatus:0}),t}})}function c3(n){return v(this,null,function*(){let e=yield gP(n.appConfig);for(;e.registrationStatus===1;)yield SP(100),e=yield gP(n.appConfig);if(e.registrationStatus===0){let{installationEntry:t,registrationPromise:r}=yield Mw(n);return r||t}return e})}function gP(n){return Gp(n,e=>{if(!e)throw ys.create("installation-not-found");return PP(e)})}function PP(n){return u3(n)?{fid:n.fid,registrationStatus:0}:n}function u3(n){return n.registrationStatus===1&&n.registrationTime+vP<Date.now()}function l3(r,i){return v(this,arguments,function*({appConfig:n,heartbeatServiceProvider:e},t){let o=d3(n,t),s=Gz(n,t),a=e.getImmediate({optional:!0});if(a){let f=yield a.getHeartbeatsHeader();f&&s.append("x-firebase-client",f)}let c={installation:{sdkVersion:_P,appId:n.appId}},l={method:"POST",headers:s,body:JSON.stringify(c)},d=yield CP(()=>fetch(o,l));if(d.ok){let f=yield d.json();return TP(f)}else throw yield bP("Generate Auth Token",d)})}function d3(n,{fid:e}){return`${IP(n)}/${e}/authTokens:generate`}function Pw(n,e=!1){return v(this,null,function*(){let t,r=yield Gp(n.appConfig,o=>{if(!kP(o))throw ys.create("not-registered");let s=o.authToken;if(!e&&p3(s))return o;if(s.requestStatus===1)return t=h3(n,e),o;{if(!navigator.onLine)throw ys.create("app-offline");let a=m3(o);return t=f3(n,a),a}});return t?yield t:r.authToken})}function h3(n,e){return v(this,null,function*(){let t=yield mP(n.appConfig);for(;t.authToken.requestStatus===1;)yield SP(100),t=yield mP(n.appConfig);let r=t.authToken;return r.requestStatus===0?Pw(n,e):r})}function mP(n){return Gp(n,e=>{if(!kP(e))throw ys.create("not-registered");let t=e.authToken;return y3(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function f3(n,e){return v(this,null,function*(){try{let t=yield l3(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield qp(n.appConfig,r),t}catch(t){if(wP(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))yield MP(n.appConfig);else{let r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield qp(n.appConfig,r)}throw t}})}function kP(n){return n!==void 0&&n.registrationStatus===2}function p3(n){return n.requestStatus===2&&!g3(n)}function g3(n){let e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+$z}function m3(n){let e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function y3(n){return n.requestStatus===1&&n.requestTime+vP<Date.now()}function v3(n){return v(this,null,function*(){let e=n,{installationEntry:t,registrationPromise:r}=yield Mw(e);return r?r.catch(console.error):Pw(e).catch(console.error),t.fid})}function _3(n,e=!1){return v(this,null,function*(){let t=n;return yield E3(t),(yield Pw(t,e)).token})}function E3(n){return v(this,null,function*(){let{registrationPromise:e}=yield Mw(n);e&&(yield e)})}function w3(n){if(!n||!n.options)throw Sw("App Configuration");if(!n.name)throw Sw("App Name");let e=["projectId","apiKey","appId"];for(let t of e)if(!n.options[t])throw Sw(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function Sw(n){return ys.create("missing-app-config-values",{valueName:n})}var xP="installations",I3="installations-internal",T3=n=>{let e=n.getProvider("app").getImmediate(),t=w3(e),r=Xn(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},b3=n=>{let e=n.getProvider("app").getImmediate(),t=Xn(e,xP).getImmediate();return{getId:()=>v3(t),getToken:i=>_3(t,i)}};function D3(){Pt(new at(xP,T3,"PUBLIC")),Pt(new at(I3,b3,"PRIVATE"))}D3();Ne(yP,Rw);Ne(yP,Rw,"esm2017");var C3="/firebase-messaging-sw.js",S3="/firebase-cloud-messaging-push-scope",BP="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",A3="https://fcmregistrations.googleapis.com/v1",$P="google.c.a.c_id",R3="google.c.a.c_l",N3="google.c.a.ts",M3="google.c.a.e",OP=1e4;var Wp=(function(n){return n.PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",n})(Wp||{});function ii(n){let e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function P3(n){let e="=".repeat((4-n.length%4)%4),t=(n+e).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let o=0;o<r.length;++o)i[o]=r.charCodeAt(o);return i}var kw="fcm_token_details_db",k3=5,FP="fcm_token_object_Store";function x3(n){return v(this,null,function*(){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(o=>o.name).includes(kw))return null;let e=null;return(yield fs(kw,k3,{upgrade:(r,i,o,s)=>v(null,null,function*(){var a;if(i<2||!r.objectStoreNames.contains(FP))return;let c=s.objectStore(FP),l=yield c.index("fcmSenderId").get(n);if(yield c.clear(),!!l){if(i===2){let d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:(a=d.createTime)!==null&&a!==void 0?a:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:typeof d.vapidKey=="string"?d.vapidKey:ii(d.vapidKey)}}}else if(i===3){let d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:ii(d.auth),p256dh:ii(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:ii(d.vapidKey)}}}else if(i===4){let d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:ii(d.auth),p256dh:ii(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:ii(d.vapidKey)}}}}})})).close(),yield Bp(kw),yield Bp("fcm_vapid_details_db"),yield Bp("undefined"),O3(e)?e:null})}function O3(n){if(!n||!n.subscriptionOptions)return!1;let{subscriptionOptions:e}=n;return typeof n.createTime=="number"&&n.createTime>0&&typeof n.token=="string"&&n.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}var F3="firebase-messaging-database",L3=1,Ml="firebase-messaging-store",xw=null;function HP(){return xw||(xw=fs(F3,L3,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Ml)}}})),xw}function V3(n){return v(this,null,function*(){let e=qP(n),r=yield(yield HP()).transaction(Ml).objectStore(Ml).get(e);if(r)return r;{let i=yield x3(n.appConfig.senderId);if(i)return yield Lw(n,i),i}})}function Lw(n,e){return v(this,null,function*(){let t=qP(n),i=(yield HP()).transaction(Ml,"readwrite");return yield i.objectStore(Ml).put(e,t),yield i.done,e})}function qP({appConfig:n}){return n.appId}var j3={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},qt=new tn("messaging","Messaging",j3);function U3(n,e){return v(this,null,function*(){let t=yield jw(n),r=zP(e),i={method:"POST",headers:t,body:JSON.stringify(r)},o;try{o=yield(yield fetch(Vw(n.appConfig),i)).json()}catch(s){throw qt.create("token-subscribe-failed",{errorInfo:s?.toString()})}if(o.error){let s=o.error.message;throw qt.create("token-subscribe-failed",{errorInfo:s})}if(!o.token)throw qt.create("token-subscribe-no-token");return o.token})}function B3(n,e){return v(this,null,function*(){let t=yield jw(n),r=zP(e.subscriptionOptions),i={method:"PATCH",headers:t,body:JSON.stringify(r)},o;try{o=yield(yield fetch(`${Vw(n.appConfig)}/${e.token}`,i)).json()}catch(s){throw qt.create("token-update-failed",{errorInfo:s?.toString()})}if(o.error){let s=o.error.message;throw qt.create("token-update-failed",{errorInfo:s})}if(!o.token)throw qt.create("token-update-no-token");return o.token})}function $3(n,e){return v(this,null,function*(){let r={method:"DELETE",headers:yield jw(n)};try{let o=yield(yield fetch(`${Vw(n.appConfig)}/${e}`,r)).json();if(o.error){let s=o.error.message;throw qt.create("token-unsubscribe-failed",{errorInfo:s})}}catch(i){throw qt.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})}function Vw({projectId:n}){return`${A3}/projects/${n}/registrations`}function jw(t){return v(this,arguments,function*({appConfig:n,installations:e}){let r=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${r}`})})}function zP({p256dh:n,auth:e,endpoint:t,vapidKey:r}){let i={web:{endpoint:t,auth:e,p256dh:n}};return r!==BP&&(i.web.applicationPubKey=r),i}var H3=10080*60*1e3;function q3(n){return v(this,null,function*(){let e=yield G3(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:ii(e.getKey("auth")),p256dh:ii(e.getKey("p256dh"))},r=yield V3(n.firebaseDependencies);if(r){if(W3(r.subscriptionOptions,t))return Date.now()>=r.createTime+H3?z3(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield $3(n.firebaseDependencies,r.token)}catch(i){console.warn(i)}return LP(n.firebaseDependencies,t)}else return LP(n.firebaseDependencies,t)})}function z3(n,e){return v(this,null,function*(){try{let t=yield B3(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield Lw(n.firebaseDependencies,r),t}catch(t){throw t}})}function LP(n,e){return v(this,null,function*(){let r={token:yield U3(n,e),createTime:Date.now(),subscriptionOptions:e};return yield Lw(n,r),r.token})}function G3(n,e){return v(this,null,function*(){let t=yield n.pushManager.getSubscription();return t||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:P3(e)})})}function W3(n,e){let t=e.vapidKey===n.vapidKey,r=e.endpoint===n.endpoint,i=e.auth===n.auth,o=e.p256dh===n.p256dh;return t&&r&&i&&o}function VP(n){let e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return K3(e,n),Q3(e,n),Y3(e,n),e}function K3(n,e){if(!e.notification)return;n.notification={};let t=e.notification.title;t&&(n.notification.title=t);let r=e.notification.body;r&&(n.notification.body=r);let i=e.notification.image;i&&(n.notification.image=i);let o=e.notification.icon;o&&(n.notification.icon=o)}function Q3(n,e){e.data&&(n.data=e.data)}function Y3(n,e){var t,r,i,o,s;if(!e.fcmOptions&&!(!((t=e.notification)===null||t===void 0)&&t.click_action))return;n.fcmOptions={};let a=(i=(r=e.fcmOptions)===null||r===void 0?void 0:r.link)!==null&&i!==void 0?i:(o=e.notification)===null||o===void 0?void 0:o.click_action;a&&(n.fcmOptions.link=a);let c=(s=e.fcmOptions)===null||s===void 0?void 0:s.analytics_label;c&&(n.fcmOptions.analyticsLabel=c)}function J3(n){return typeof n=="object"&&!!n&&$P in n}Z3("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");function Z3(n,e){let t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));return t.join("")}function X3(n){if(!n||!n.options)throw Ow("App Configuration Object");if(!n.name)throw Ow("App Name");let e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(let r of e)if(!t[r])throw Ow(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}function Ow(n){return qt.create("missing-app-config-values",{valueName:n})}var Fw=class{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;let i=X3(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}};function eG(n){return v(this,null,function*(){try{n.swRegistration=yield navigator.serviceWorker.register(C3,{scope:S3}),n.swRegistration.update().catch(()=>{}),yield tG(n.swRegistration)}catch(e){throw qt.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})}function tG(n){return v(this,null,function*(){return new Promise((e,t)=>{let r=setTimeout(()=>t(new Error(`Service worker not registered after ${OP} ms`)),OP),i=n.installing||n.waiting;n.active?(clearTimeout(r),e()):i?i.onstatechange=o=>{var s;((s=o.target)===null||s===void 0?void 0:s.state)==="activated"&&(i.onstatechange=null,clearTimeout(r),e())}:(clearTimeout(r),t(new Error("No incoming service worker found.")))})})}function nG(n,e){return v(this,null,function*(){if(!e&&!n.swRegistration&&(yield eG(n)),!(!e&&n.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw qt.create("invalid-sw-registration");n.swRegistration=e}})}function rG(n,e){return v(this,null,function*(){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=BP)})}function GP(n,e){return v(this,null,function*(){if(!navigator)throw qt.create("only-available-in-window");if(Notification.permission==="default"&&(yield Notification.requestPermission()),Notification.permission!=="granted")throw qt.create("permission-blocked");return yield rG(n,e?.vapidKey),yield nG(n,e?.serviceWorkerRegistration),q3(n)})}function iG(n,e,t){return v(this,null,function*(){let r=oG(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[$P],message_name:t[R3],message_time:t[N3],message_device_time:Math.floor(Date.now()/1e3)})})}function oG(n){switch(n){case Wp.NOTIFICATION_CLICKED:return"notification_open";case Wp.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function sG(n,e){return v(this,null,function*(){let t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===Wp.PUSH_RECEIVED&&(typeof n.onMessageHandler=="function"?n.onMessageHandler(VP(t)):n.onMessageHandler.next(VP(t)));let r=t.data;J3(r)&&r[M3]==="1"&&(yield iG(n,t.messageType,r))})}var jP="@firebase/messaging",UP="0.12.22";var aG=n=>{let e=new Fw(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>sG(e,t)),e},cG=n=>{let e=n.getProvider("messaging").getImmediate();return{getToken:r=>GP(e,r)}};function uG(){Pt(new at("messaging",aG,"PUBLIC")),Pt(new at("messaging-internal",cG,"PRIVATE")),Ne(jP,UP),Ne(jP,UP,"esm2017")}function WP(){return v(this,null,function*(){try{yield Vp()}catch{return!1}return typeof window<"u"&&ds()&&KM()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})}function lG(n,e){if(!navigator)throw qt.create("only-available-in-window");return n.onMessageHandler=e,()=>{n.onMessageHandler=null}}function KP(n=br()){return WP().then(e=>{if(!e)throw qt.create("unsupported-browser")},e=>{throw qt.create("indexed-db-unsupported")}),Xn(je(n),"messaging").getImmediate()}function QP(n,e){return v(this,null,function*(){return n=je(n),GP(n,e)})}function YP(n,e){return n=je(n),lG(n,e)}uG();var _s=class{constructor(e){return e}},JP="messaging",Uw=class{constructor(){return ro(JP)}};var Bw=new B("angularfire2.messaging-instances");function dG(n,e,t){if(EE(t))return null;let r=gs(JP,n,e);return r&&new _s(r)}function hG(n){return(e,t,r)=>{if(EE(r))return null;let i=e.runOutsideAngular(()=>n(t));return new _s(i)}}var fG={provide:Uw,deps:[[new $t,Bw]]},pG={provide:_s,useFactory:dG,deps:[[new $t,Bw],er,Wn]};function ZP(n,...e){return Ne("angularfire",Dr.full,"fcm"),sn([pG,fG,{provide:Bw,useFactory:hG(n),multi:!0,deps:[De,nt,Wn,Cr,ri,...e]}])}var XP=We(KP,!0),ek=We(QP,!0);var tk=We(YP,!1);var Kp=class n{constructor(e){this.messaging=e}requestPermission(){return v(this,null,function*(){try{let e=yield ek(this.messaging,{vapidKey:"BBSYVqVm5z1wEV2R2OIIJPmvpGGbQdyNu6hVRPRmhrvd7lVK3MkmjPI2AvKrpM7cnCLyY7ZtuDXLYTClVvUKcjg"});return console.log("FCM Token:",e),e}catch(e){return console.error("Permission denied or error:",e),null}})}listen(){tk(this.messaging,e=>{console.log("Message re\xE7u:",e),alert(e.notification?.title||"Nouvelle notification")})}static \u0275fac=function(t){return new(t||n)(Q(_s))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})};var Qp=class n{constructor(e){this.messagingService=e}ngOnInit(){this.messagingService.requestPermission(),this.messagingService.listen()}static \u0275fac=function(t){return new(t||n)(J(Kp))};static \u0275cmp=Kn({type:n,selectors:[["app-root"]],decls:7,vars:0,consts:[[1,"min-h-screen"],[1,"px-6","py-4","flex","items-center","justify-between"],["routerLink","/",1,"font-semibold","text-gray-700"],[1,"text-sm","text-gray-500","hidden","md:block"]],template:function(t,r){t&1&&(L(0,"div",0)(1,"header",1)(2,"a",2),$(3,"LocaPaye"),F(),L(4,"nav",3),$(5,"Angular \u2022 Firebase \u2022 PWA \u2022 Tailwind"),F()(),st(6,"router-outlet"),F())},dependencies:[Tl,Xi],encapsulation:2})};var me=(function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n})(me||{}),tr="*";function nk(n,e=null){return{type:me.Sequence,steps:n,options:e}}function $w(n){return{type:me.Style,styles:n,offset:null}}var oi=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(e=0,t=0){this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},nc=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(e){this.players=e;let t=0,r=0,i=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++r==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let t=e*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){let e=this.players.reduce((t,r)=>t===null||r.totalTime>t.totalTime?r:t,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},Pl="!";function rk(n){return new P(3e3,!1)}function yG(){return new P(3100,!1)}function vG(){return new P(3101,!1)}function _G(n){return new P(3001,!1)}function EG(n){return new P(3003,!1)}function wG(n){return new P(3004,!1)}function ok(n,e){return new P(3005,!1)}function sk(){return new P(3006,!1)}function ak(){return new P(3007,!1)}function ck(n,e){return new P(3008,!1)}function uk(n){return new P(3002,!1)}function lk(n,e,t,r,i){return new P(3010,!1)}function dk(){return new P(3011,!1)}function hk(){return new P(3012,!1)}function fk(){return new P(3200,!1)}function pk(){return new P(3202,!1)}function gk(){return new P(3013,!1)}function mk(n){return new P(3014,!1)}function yk(n){return new P(3015,!1)}function vk(n){return new P(3016,!1)}function _k(n,e){return new P(3404,!1)}function IG(n){return new P(3502,!1)}function Ek(n){return new P(3503,!1)}function wk(){return new P(3300,!1)}function Ik(n){return new P(3504,!1)}function Tk(n){return new P(3301,!1)}function bk(n,e){return new P(3302,!1)}function Dk(n){return new P(3303,!1)}function Ck(n,e){return new P(3400,!1)}function Sk(n){return new P(3401,!1)}function Ak(n){return new P(3402,!1)}function Rk(n,e){return new P(3505,!1)}function si(n){switch(n.length){case 0:return new oi;case 1:return n[0];default:return new nc(n)}}function Gw(n,e,t=new Map,r=new Map){let i=[],o=[],s=-1,a=null;if(e.forEach(c=>{let l=c.get("offset"),d=l==s,f=d&&a||new Map;c.forEach((g,m)=>{let E=m,A=g;if(m!=="offset")switch(E=n.normalizePropertyName(E,i),A){case Pl:A=t.get(m);break;case tr:A=r.get(m);break;default:A=n.normalizeStyleValue(m,E,A,i);break}f.set(E,A)}),d||o.push(f),a=f,s=l}),i.length)throw IG(i);return o}function Yp(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&Hw(t,"start",n)));break;case"done":n.onDone(()=>r(t&&Hw(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&Hw(t,"destroy",n)));break}}function Hw(n,e,t){let r=t.totalTime,i=!!t.disabled,o=Jp(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,r??n.totalTime,i),s=n._data;return s!=null&&(o._data=s),o}function Jp(n,e,t,r,i="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function fn(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function Ww(n){let e=n.indexOf(":"),t=n.substring(1,e),r=n.slice(e+1);return[t,r]}var TG=typeof document>"u"?null:document.documentElement;function Zp(n){let e=n.parentNode||n.host||null;return e===TG?null:e}function bG(n){return n.substring(1,6)=="ebkit"}var Es=null,ik=!1;function Nk(n){Es||(Es=DG()||{},ik=Es.style?"WebkitAppearance"in Es.style:!1);let e=!0;return Es.style&&!bG(n)&&(e=n in Es.style,!e&&ik&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Es.style)),e}function DG(){return typeof document<"u"?document.body:null}function Kw(n,e){for(;e;){if(e===n)return!0;e=Zp(e)}return!1}function Qw(n,e,t){if(t)return Array.from(n.querySelectorAll(e));let r=n.querySelector(e);return r?[r]:[]}var CG=1e3,Yw="{{",SG="}}",Jw="ng-enter",Xp="ng-leave",kl="ng-trigger",xl=".ng-trigger",Zw="ng-animating",eg=".ng-animating";function Sr(n){if(typeof n=="number")return n;let e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:qw(parseFloat(e[1]),e[2])}function qw(n,e){switch(e){case"s":return n*CG;default:return n}}function Ol(n,e,t){return n.hasOwnProperty("duration")?n:RG(n,e,t)}var AG=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i;function RG(n,e,t){let r,i=0,o="";if(typeof n=="string"){let s=n.match(AG);if(s===null)return e.push(rk(n)),{duration:0,delay:0,easing:""};r=qw(parseFloat(s[1]),s[2]);let a=s[3];a!=null&&(i=qw(parseFloat(a),s[4]));let c=s[5];c&&(o=c)}else r=n;if(!t){let s=!1,a=e.length;r<0&&(e.push(yG()),s=!0),i<0&&(e.push(vG()),s=!0),s&&e.splice(a,0,rk(n))}return{duration:r,delay:i,easing:o}}function Mk(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}function nr(n,e,t){e.forEach((r,i)=>{let o=tg(i);t&&!t.has(i)&&t.set(i,n.style[o]),n.style[o]=r})}function io(n,e){e.forEach((t,r)=>{let i=tg(r);n.style[i]=""})}function rc(n){return Array.isArray(n)?n.length==1?n[0]:nk(n):n}function Pk(n,e,t){let r=e.params||{},i=Xw(n);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||t.push(_G(o))})}var zw=new RegExp(`${Yw}\\s*(.+?)\\s*${SG}`,"g");function Xw(n){let e=[];if(typeof n=="string"){let t;for(;t=zw.exec(n);)e.push(t[1]);zw.lastIndex=0}return e}function ic(n,e,t){let r=`${n}`,i=r.replace(zw,(o,s)=>{let a=e[s];return a==null&&(t.push(EG(s)),a=""),a.toString()});return i==r?n:i}var NG=/-+([a-z0-9])/g;function tg(n){return n.replace(NG,(...e)=>e[1].toUpperCase())}function kk(n,e){return n===0||e===0}function xk(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((o,s)=>{r.has(s)||i.push(s),r.set(s,o)}),i.length)for(let o=1;o<e.length;o++){let s=e[o];i.forEach(a=>s.set(a,ng(n,a)))}}return e}function pn(n,e,t){switch(e.type){case me.Trigger:return n.visitTrigger(e,t);case me.State:return n.visitState(e,t);case me.Transition:return n.visitTransition(e,t);case me.Sequence:return n.visitSequence(e,t);case me.Group:return n.visitGroup(e,t);case me.Animate:return n.visitAnimate(e,t);case me.Keyframes:return n.visitKeyframes(e,t);case me.Style:return n.visitStyle(e,t);case me.Reference:return n.visitReference(e,t);case me.AnimateChild:return n.visitAnimateChild(e,t);case me.AnimateRef:return n.visitAnimateRef(e,t);case me.Query:return n.visitQuery(e,t);case me.Stagger:return n.visitStagger(e,t);default:throw wG(e.type)}}function ng(n,e){return window.getComputedStyle(n)[e]}var mI=(()=>{class n{validateStyleProperty(t){return Nk(t)}containsElement(t,r){return Kw(t,r)}getParentElement(t){return Zp(t)}query(t,r,i){return Qw(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,o,s,a=[],c){return new oi(i,o)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),Is=class{static NOOP=new mI},Ts=class{};var MG=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),ag=class extends Ts{normalizePropertyName(e,t){return tg(e)}normalizeStyleValue(e,t,r,i){let o="",s=r.toString().trim();if(MG.has(t)&&r!==0&&r!=="0")if(typeof r=="number")o="px";else{let a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(ok(e,r))}return s+o}};var cg="*";function PG(n,e){let t=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(r=>kG(r,t,e)):t.push(n),t}function kG(n,e,t){if(n[0]==":"){let c=xG(n,t);if(typeof c=="function"){e.push(c);return}n=c}let r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return t.push(yk(n)),e;let i=r[1],o=r[2],s=r[3];e.push(Ok(i,s));let a=i==cg&&s==cg;o[0]=="<"&&!a&&e.push(Ok(s,i))}function xG(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(vk(n)),"* => *"}}var rg=new Set(["true","1"]),ig=new Set(["false","0"]);function Ok(n,e){let t=rg.has(n)||ig.has(n),r=rg.has(e)||ig.has(e);return(i,o)=>{let s=n==cg||n==i,a=e==cg||e==o;return!s&&t&&typeof i=="boolean"&&(s=i?rg.has(n):ig.has(n)),!a&&r&&typeof o=="boolean"&&(a=o?rg.has(e):ig.has(e)),s&&a}}var zk=":self",OG=new RegExp(`s*${zk}s*,?`,"g");function Gk(n,e,t,r){return new oI(n).build(e,t,r)}var Fk="",oI=class{_driver;constructor(e){this._driver=e}build(e,t,r){let i=new sI(t);return this._resetContextStyleTimingState(i),pn(this,rc(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector=Fk,e.collectedStyles=new Map,e.collectedStyles.set(Fk,new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0,o=[],s=[];return e.name.charAt(0)=="@"&&t.errors.push(sk()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==me.State){let c=a,l=c.name;l.toString().split(/\s*,\s*/).forEach(d=>{c.name=d,o.push(this.visitState(c,t))}),c.name=l}else if(a.type==me.Transition){let c=this.visitTransition(a,t);r+=c.queryCount,i+=c.depCount,s.push(c)}else t.errors.push(ak())}),{type:me.Trigger,name:e.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}visitState(e,t){let r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){let o=new Set,s=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{Xw(c).forEach(l=>{s.hasOwnProperty(l)||o.add(l)})})}),o.size&&t.errors.push(ck(e.name,[...o.values()]))}return{type:me.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let r=pn(this,rc(e.animation),t),i=PG(e.expr,t.errors);return{type:me.Transition,matchers:i,animation:r,queryCount:t.queryCount,depCount:t.depCount,options:ws(e.options)}}visitSequence(e,t){return{type:me.Sequence,steps:e.steps.map(r=>pn(this,r,t)),options:ws(e.options)}}visitGroup(e,t){let r=t.currentTime,i=0,o=e.steps.map(s=>{t.currentTime=r;let a=pn(this,s,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:me.Group,steps:o,options:ws(e.options)}}visitAnimate(e,t){let r=jG(e.timings,t.errors);t.currentAnimateTimings=r;let i,o=e.styles?e.styles:$w({});if(o.type==me.Keyframes)i=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;let l={};r.easing&&(l.easing=r.easing),s=$w(l)}t.currentTime+=r.duration+r.delay;let c=this.visitStyle(s,t);c.isEmptyStep=a,i=c}return t.currentAnimateTimings=null,{type:me.Animate,timings:r,style:i,options:null}}visitStyle(e,t){let r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){let r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)typeof a=="string"?a===tr?r.push(a):t.errors.push(uk(a)):r.push(new Map(Object.entries(a)));let o=!1,s=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let c of a.values())if(c.toString().indexOf(Yw)>=0){o=!0;break}}}),{type:me.Style,styles:r,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){let r=t.currentAnimateTimings,i=t.currentTime,o=t.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,c)=>{let l=t.collectedStyles.get(t.currentQuerySelector),d=l.get(c),f=!0;d&&(o!=i&&o>=d.startTime&&i<=d.endTime&&(t.errors.push(lk(c,d.startTime,d.endTime,o,i)),f=!1),o=d.startTime),f&&l.set(c,{startTime:o,endTime:i}),t.options&&Pk(a,t.options,t.errors)})})}visitKeyframes(e,t){let r={type:me.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(dk()),r;let i=1,o=0,s=[],a=!1,c=!1,l=0,d=e.steps.map(M=>{let j=this._makeStyleAst(M,t),q=j.offset!=null?j.offset:VG(j.styles),W=0;return q!=null&&(o++,W=j.offset=q),c=c||W<0||W>1,a=a||W<l,l=W,s.push(W),j});c&&t.errors.push(hk()),a&&t.errors.push(fk());let f=e.steps.length,g=0;o>0&&o<f?t.errors.push(pk()):o==0&&(g=i/(f-1));let m=f-1,E=t.currentTime,A=t.currentAnimateTimings,D=A.duration;return d.forEach((M,j)=>{let q=g>0?j==m?1:g*j:s[j],W=q*D;t.currentTime=E+A.delay+W,A.duration=W,this._validateStyleAst(M,t),M.offset=q,r.styles.push(M)}),r}visitReference(e,t){return{type:me.Reference,animation:pn(this,rc(e.animation),t),options:ws(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:me.AnimateChild,options:ws(e.options)}}visitAnimateRef(e,t){return{type:me.AnimateRef,animation:this.visitReference(e.animation,t),options:ws(e.options)}}visitQuery(e,t){let r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;let[o,s]=FG(e.selector);t.currentQuerySelector=r.length?r+" "+o:o,fn(t.collectedStyles,t.currentQuerySelector,new Map);let a=pn(this,rc(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:me.Query,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:ws(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(gk());let r=e.timings==="full"?{duration:0,delay:0,easing:"full"}:Ol(e.timings,t.errors,!0);return{type:me.Stagger,animation:pn(this,rc(e.animation),t),timings:r,options:null}}};function FG(n){let e=!!n.split(/\s*,\s*/).find(t=>t==zk);return e&&(n=n.replace(OG,"")),n=n.replace(/@\*/g,xl).replace(/@\w+/g,t=>xl+"-"+t.slice(1)).replace(/:animating/g,eg),[n,e]}function LG(n){return n?V({},n):null}var sI=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(e){this.errors=e}};function VG(n){if(typeof n=="string")return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){let r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}function jG(n,e){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let o=Ol(n,e).duration;return eI(o,0,"")}let t=n;if(t.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=eI(0,0,"");return o.dynamic=!0,o.strValue=t,o}let i=Ol(t,e);return eI(i.duration,i.delay,i.easing)}function ws(n){return n?(n=V({},n),n.params&&(n.params=LG(n.params))):n={},n}function eI(n,e,t){return{duration:n,delay:e,easing:t}}function yI(n,e,t,r,i,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}var Ll=class{_map=new Map;get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},UG=1,BG=":enter",$G=new RegExp(BG,"g"),HG=":leave",qG=new RegExp(HG,"g");function Wk(n,e,t,r,i,o=new Map,s=new Map,a,c,l=[]){return new aI().buildKeyframes(n,e,t,r,i,o,s,a,c,l)}var aI=class{buildKeyframes(e,t,r,i,o,s,a,c,l,d=[]){l=l||new Ll;let f=new cI(e,t,l,i,o,d,[]);f.options=c;let g=c.delay?Sr(c.delay):0;f.currentTimeline.delayNextStep(g),f.currentTimeline.setStyles([s],null,f.errors,c),pn(this,r,f);let m=f.timelines.filter(E=>E.containsAnimation());if(m.length&&a.size){let E;for(let A=m.length-1;A>=0;A--){let D=m[A];if(D.element===t){E=D;break}}E&&!E.allowOnlyTimelineStyles()&&E.setStyles([a],null,f.errors,c)}return m.length?m.map(E=>E.buildKeyframes()):[yI(t,[],[],[],0,g,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let r=t.subInstructions.get(t.element);if(r){let i=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(r,i,i.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){let r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(let i of e){let o=i?.delay;if(o){let s=typeof o=="number"?o:Sr(ic(o,i?.params??{},t.errors));r.delayNextStep(s)}}}_visitSubInstructions(e,t,r){let o=t.currentTimeline.currentTime,s=r.duration!=null?Sr(r.duration):null,a=r.delay!=null?Sr(r.delay):null;return s!==0&&e.forEach(c=>{let l=t.appendInstructionToTimeline(c,s,a);o=Math.max(o,l.duration+l.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),pn(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let r=t.subContextCount,i=t,o=e.options;if(o&&(o.params||o.delay)&&(i=t.createSubContext(o),i.transformIntoNewTimeline(),o.delay!=null)){i.previousNode.type==me.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=ug);let s=Sr(o.delay);i.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>pn(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let r=[],i=t.currentTimeline.currentTime,o=e.options&&e.options.delay?Sr(e.options.delay):0;e.steps.forEach(s=>{let a=t.createSubContext(e.options);o&&a.delayNextStep(o),pn(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let r=e.strValue,i=t.params?ic(r,t.params,t.errors):r;return Ol(i,t.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());let o=e.style;o.type==me.Keyframes?this.visitKeyframes(o,t):(t.incrementTime(r.duration),this.visitStyle(o,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();let o=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(o):r.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let r=t.currentAnimateTimings,i=t.currentTimeline.duration,o=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(c=>{let l=c.offset||0;a.forwardTime(l*o),a.setStyles(c.styles,c.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+o),t.previousNode=e}visitQuery(e,t){let r=t.currentTimeline.currentTime,i=e.options||{},o=i.delay?Sr(i.delay):0;o&&(t.previousNode.type===me.Style||r==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=ug);let s=r,a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let c=null;a.forEach((l,d)=>{t.currentQueryIndex=d;let f=t.createSubContext(e.options,l);o&&f.delayNextStep(o),l===t.element&&(c=f.currentTimeline),pn(this,e.animation,f),f.currentTimeline.applyStylesToKeyframe();let g=f.currentTimeline.currentTime;s=Math.max(s,g)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let r=t.parentContext,i=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1),c=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=r.currentStaggerTime;break}let d=t.currentTimeline;c&&d.delayNextStep(c);let f=d.currentTime;pn(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-f+(i.startTime-r.currentTimeline.startTime)}},ug={},cI=class n{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=ug;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(e,t,r,i,o,s,a,c){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.currentTimeline=c||new lg(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let r=e,i=this.options;r.duration!=null&&(i.duration=Sr(r.duration)),r.delay!=null&&(i.delay=Sr(r.delay));let o=r.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=ic(o[a],s,this.errors))})}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){let i=t||this.element,o=new n(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=ug,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){let i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},o=new uI(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,o,s){let a=[];if(i&&a.push(this.element),e.length>0){e=e.replace($G,"."+this._enterClassName),e=e.replace(qG,"."+this._leaveClassName);let c=r!=1,l=this._driver.query(this.element,e,c);r!==0&&(l=r<0?l.slice(l.length+r,l.length):l.slice(0,r)),a.push(...l)}return!o&&a.length==0&&s.push(mk(t)),a}},lg=class n{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new n(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=UG,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||tr),this._currentKeyframe.set(t,tr);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);let o=i&&i.params||{},s=zG(e,this._globalTimelineStyles);for(let[a,c]of s){let l=ic(c,o,r);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??tr),this._updateStyle(a,l)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{let i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,r=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,c)=>{let l=new Map([...this._backFill,...a]);l.forEach((d,f)=>{d===Pl?e.add(f):d===tr&&t.add(f)}),r||l.set("offset",c/this.duration),i.push(l)});let o=[...e.values()],s=[...t.values()];if(r){let a=i[0],c=new Map(a);a.set("offset",0),c.set("offset",1),i=[a,c]}return yI(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}},uI=class extends lg{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(e,t,r,i,o,s,a=!1){super(e,t,s.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){let o=[],s=r+t,a=t/s,c=new Map(e[0]);c.set("offset",0),o.push(c);let l=new Map(e[0]);l.set("offset",Lk(a)),o.push(l);let d=e.length-1;for(let f=1;f<=d;f++){let g=new Map(e[f]),m=g.get("offset"),E=t+m*r;g.set("offset",Lk(E/s)),o.push(g)}r=s,t=0,i="",e=o}return yI(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}};function Lk(n,e=3){let t=Math.pow(10,e-1);return Math.round(n*t)/t}function zG(n,e){let t=new Map,r;return n.forEach(i=>{if(i==="*"){r??=e.keys();for(let o of r)t.set(o,tr)}else for(let[o,s]of i)t.set(o,s)}),t}function Vk(n,e,t,r,i,o,s,a,c,l,d,f,g){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:d,totalTime:f,errors:g}}var tI={},dg=class{_triggerName;ast;_stateStyles;constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return GG(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return e!==void 0&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,o,s,a,c,l,d){let f=[],g=this.ast.options&&this.ast.options.params||tI,m=a&&a.params||tI,E=this.buildStyles(r,m,f),A=c&&c.params||tI,D=this.buildStyles(i,A,f),M=new Set,j=new Map,q=new Map,W=i==="void",be={params:Kk(A,g),delay:this.ast.options?.delay},te=d?[]:Wk(e,t,this.ast.animation,o,s,E,D,be,l,f),T=0;return te.forEach(_=>{T=Math.max(_.duration+_.delay,T)}),f.length?Vk(t,this._triggerName,r,i,W,E,D,[],[],j,q,T,f):(te.forEach(_=>{let w=_.element,b=fn(j,w,new Set);_.preStyleProps.forEach(R=>b.add(R));let C=fn(q,w,new Set);_.postStyleProps.forEach(R=>C.add(R)),w!==t&&M.add(w)}),Vk(t,this._triggerName,r,i,W,E,D,te,[...M.values()],j,q,T))}};function GG(n,e,t,r,i){return n.some(o=>o(e,t,r,i))}function Kk(n,e){let t=V({},e);return Object.entries(n).forEach(([r,i])=>{i!=null&&(t[r]=i)}),t}var lI=class{styles;defaultParams;normalizer;constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){let r=new Map,i=Kk(e,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=ic(s,i,t));let c=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,c,s,t),r.set(a,s)})}),r}};function WG(n,e,t){return new dI(n,e,t)}var dI=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,t.states.forEach(i=>{let o=i.options&&i.options.params||{};this.states.set(i.name,new lI(i.style,o,r))}),jk(this.states,"true","1"),jk(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new dg(e,i,this.states))}),this.fallbackTransition=KG(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(s=>s.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}};function KG(n,e,t){let r=[(s,a)=>!0],i={type:me.Sequence,steps:[],options:null},o={type:me.Transition,animation:i,matchers:r,options:null,queryCount:0,depCount:0};return new dg(n,o,e)}function jk(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}var QG=new Ll,hI=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r}register(e,t){let r=[],i=[],o=Gk(this._driver,t,r,i);if(r.length)throw Ek(r);this._animations.set(e,o)}_buildPlayer(e,t,r){let i=e.element,o=Gw(this._normalizer,e.keyframes,t,r);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){let i=[],o=this._animations.get(e),s,a=new Map;if(o?(s=Wk(this._driver,t,o,Jw,Xp,new Map,new Map,r,QG,i),s.forEach(d=>{let f=fn(a,d.element,new Map);d.postStyleProps.forEach(g=>f.set(g,null))})):(i.push(wk()),s=[]),i.length)throw Ik(i);a.forEach((d,f)=>{d.forEach((g,m)=>{d.set(m,this._driver.computeStyle(f,m,tr))})});let c=s.map(d=>{let f=a.get(d.element);return this._buildPlayer(d,new Map,f)}),l=si(c);return this._playersById.set(e,l),l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw Tk(e);return t}listen(e,t,r,i){let o=Jp(t,"","","");return Yp(this._getPlayer(e),r,o,i),()=>{}}command(e,t,r,i){if(r=="register"){this.register(e,i[0]);return}if(r=="create"){let s=i[0]||{};this.create(e,t,s);return}let o=this._getPlayer(e);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e);break}}},Uk="ng-animate-queued",YG=".ng-animate-queued",nI="ng-animate-disabled",JG=".ng-animate-disabled",ZG="ng-star-inserted",XG=".ng-star-inserted",e6=[],Qk={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},t6={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},rr="__ng_removed",Vl=class{namespaceId;value;options;get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let r=e&&e.hasOwnProperty("value"),i=r?e.value:e;if(this.value=r6(i),r){let o=e,{value:s}=o,a=Ty(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let r=this.options.params;Object.keys(t).forEach(i=>{r[i]==null&&(r[i]=t[i])})}}},Fl="void",rI=new Vl(Fl),fI=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this._hostClassName="ng-tns-"+e,Fn(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw bk(r,t);if(r==null||r.length==0)throw Dk(t);if(!i6(r))throw Ck(r,t);let o=fn(this._elementListeners,e,[]),s={name:t,phase:r,callback:i};o.push(s);let a=fn(this._engine.statesByElement,e,new Map);return a.has(t)||(Fn(e,kl),Fn(e,kl+"-"+t),a.set(t,rI)),()=>{this._engine.afterFlush(()=>{let c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw Sk(e);return t}trigger(e,t,r,i=!0){let o=this._getTrigger(t),s=new jl(this.id,t,e),a=this._engine.statesByElement.get(e);a||(Fn(e,kl),Fn(e,kl+"-"+t),this._engine.statesByElement.set(e,a=new Map));let c=a.get(t),l=new Vl(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),a.set(t,l),c||(c=rI),!(l.value===Fl)&&c.value===l.value){if(!a6(c.params,l.params)){let A=[],D=o.matchStyles(c.value,c.params,A),M=o.matchStyles(l.value,l.params,A);A.length?this._engine.reportError(A):this._engine.afterFlush(()=>{io(e,D),nr(e,M)})}return}let g=fn(this._engine.playersByElement,e,[]);g.forEach(A=>{A.namespaceId==this.id&&A.triggerName==t&&A.queued&&A.destroy()});let m=o.matchTransition(c.value,l.value,e,l.params),E=!1;if(!m){if(!i)return;m=o.fallbackTransition,E=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:m,fromState:c,toState:l,player:s,isFallbackTransition:E}),E||(Fn(e,Uk),s.onStart(()=>{oc(e,Uk)})),s.onDone(()=>{let A=this.players.indexOf(s);A>=0&&this.players.splice(A,1);let D=this._engine.playersByElement.get(e);if(D){let M=D.indexOf(s);M>=0&&D.splice(M,1)}}),this.players.push(s),g.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let r=this._engine.driver.query(e,xl,!0);r.forEach(i=>{if(i[rr])return;let o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){let o=this._engine.statesByElement.get(e),s=new Map;if(o){let a=[];if(o.forEach((c,l)=>{if(s.set(l,c.value),this._triggers.has(l)){let d=this.trigger(e,l,Fl,i);d&&a.push(d)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),r&&si(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){let i=new Set;t.forEach(o=>{let s=o.name;if(i.has(s))return;i.add(s);let c=this._triggers.get(s).fallbackTransition,l=r.get(s)||rI,d=new Vl(Fl),f=new jl(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:c,fromState:l,toState:d,player:f,isFallbackTransition:!0})})}}removeNode(e,t){let r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){let o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else{let s=e;for(;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{let o=e[rr];(!o||o===Qk)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Fn(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach(r=>{let i=r.player;if(i.destroyed)return;let o=r.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==r.triggerName){let c=Jp(o,r.triggerName,r.fromState.value,r.toState.value);c._data=e,Yp(r.player,a.phase,c,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{let o=r.transition.ast.depCount,s=i.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},pI=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(e,t)=>{};_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){let r=new fI(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){let r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){let c=i.get(a);if(c){let l=r.indexOf(c);r.splice(l+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);let i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,r=this.statesByElement.get(e);if(r){for(let i of r.values())if(i.namespaceId){let o=this._fetchNamespace(i.namespaceId);o&&t.add(o)}}return t}trigger(e,t,r,i){if(og(t)){let o=this._fetchNamespace(e);if(o)return o.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!og(t))return;let o=t[rr];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){let s=this._fetchNamespace(e);s&&s.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Fn(e,nI)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),oc(e,nI))}removeNode(e,t,r){if(og(t)){let i=e?this._fetchNamespace(e):null;i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r);let o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,r,i,o){this.collectedLeaveElements.push(t),t[rr]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,r,i,o){return og(t)?this._fetchNamespace(e).listen(t,r,i,o):()=>{}}_buildInstruction(e,t,r,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,xl,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,eg,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return si(this.players).onDone(()=>e());e()})}processLeaveNode(e){let t=e[rr];if(t&&t.setForRemoval){if(e[rr]=Qk,t.namespaceId){this.destroyInnerAnimations(e);let r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(nI)&&this.markElementAsDisabled(e,!1),this.driver.query(e,JG,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let i=this.collectedEnterElements[r];Fn(i,ZG)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let i=this.collectedLeaveElements[r];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],t.length?si(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw Ak(e)}_flushAnimations(e,t){let r=new Ll,i=[],o=new Map,s=[],a=new Map,c=new Map,l=new Map,d=new Set;this.disabledNodes.forEach(K=>{d.add(K);let Y=this.driver.query(K,YG,!0);for(let Z=0;Z<Y.length;Z++)d.add(Y[Z])});let f=this.bodyNode,g=Array.from(this.statesByElement.keys()),m=Hk(g,this.collectedEnterElements),E=new Map,A=0;m.forEach((K,Y)=>{let Z=Jw+A++;E.set(Y,Z),K.forEach(ve=>Fn(ve,Z))});let D=[],M=new Set,j=new Set;for(let K=0;K<this.collectedLeaveElements.length;K++){let Y=this.collectedLeaveElements[K],Z=Y[rr];Z&&Z.setForRemoval&&(D.push(Y),M.add(Y),Z.hasAnimation?this.driver.query(Y,XG,!0).forEach(ve=>M.add(ve)):j.add(Y))}let q=new Map,W=Hk(g,Array.from(M));W.forEach((K,Y)=>{let Z=Xp+A++;q.set(Y,Z),K.forEach(ve=>Fn(ve,Z))}),e.push(()=>{m.forEach((K,Y)=>{let Z=E.get(Y);K.forEach(ve=>oc(ve,Z))}),W.forEach((K,Y)=>{let Z=q.get(Y);K.forEach(ve=>oc(ve,Z))}),D.forEach(K=>{this.processLeaveNode(K)})});let be=[],te=[];for(let K=this._namespaceList.length-1;K>=0;K--)this._namespaceList[K].drainQueuedTransitions(t).forEach(Z=>{let ve=Z.player,tt=Z.element;if(be.push(ve),this.collectedEnterElements.length){let Qe=tt[rr];if(Qe&&Qe.setForMove){if(Qe.previousTriggersValues&&Qe.previousTriggersValues.has(Z.triggerName)){let Fr=Qe.previousTriggersValues.get(Z.triggerName),nn=this.statesByElement.get(Z.element);if(nn&&nn.has(Z.triggerName)){let Lr=nn.get(Z.triggerName);Lr.value=Fr,nn.set(Z.triggerName,Lr)}}ve.destroy();return}}let Cn=!f||!this.driver.containsElement(f,tt),Ke=q.get(tt),Fe=E.get(tt),Le=this._buildInstruction(Z,r,Fe,Ke,Cn);if(Le.errors&&Le.errors.length){te.push(Le);return}if(Cn){ve.onStart(()=>io(tt,Le.fromStyles)),ve.onDestroy(()=>nr(tt,Le.toStyles)),i.push(ve);return}if(Z.isFallbackTransition){ve.onStart(()=>io(tt,Le.fromStyles)),ve.onDestroy(()=>nr(tt,Le.toStyles)),i.push(ve);return}let wi=[];Le.timelines.forEach(Qe=>{Qe.stretchStartingKeyframe=!0,this.disabledNodes.has(Qe.element)||wi.push(Qe)}),Le.timelines=wi,r.append(tt,Le.timelines);let Zm={instruction:Le,player:ve,element:tt};s.push(Zm),Le.queriedElements.forEach(Qe=>fn(a,Qe,[]).push(ve)),Le.preStyleProps.forEach((Qe,Fr)=>{if(Qe.size){let nn=c.get(Fr);nn||c.set(Fr,nn=new Set),Qe.forEach((Lr,Ii)=>nn.add(Ii))}}),Le.postStyleProps.forEach((Qe,Fr)=>{let nn=l.get(Fr);nn||l.set(Fr,nn=new Set),Qe.forEach((Lr,Ii)=>nn.add(Ii))})});if(te.length){let K=[];te.forEach(Y=>{K.push(Rk(Y.triggerName,Y.errors))}),be.forEach(Y=>Y.destroy()),this.reportError(K)}let T=new Map,_=new Map;s.forEach(K=>{let Y=K.element;r.has(Y)&&(_.set(Y,Y),this._beforeAnimationBuild(K.player.namespaceId,K.instruction,T))}),i.forEach(K=>{let Y=K.element;this._getPreviousPlayers(Y,!1,K.namespaceId,K.triggerName,null).forEach(ve=>{fn(T,Y,[]).push(ve),ve.destroy()})});let w=D.filter(K=>qk(K,c,l)),b=new Map;$k(b,this.driver,j,l,tr).forEach(K=>{qk(K,c,l)&&w.push(K)});let R=new Map;m.forEach((K,Y)=>{$k(R,this.driver,new Set(K),c,Pl)}),w.forEach(K=>{let Y=b.get(K),Z=R.get(K);b.set(K,new Map([...Y?.entries()??[],...Z?.entries()??[]]))});let I=[],Dn=[],Ei={};s.forEach(K=>{let{element:Y,player:Z,instruction:ve}=K;if(r.has(Y)){if(d.has(Y)){Z.onDestroy(()=>nr(Y,ve.toStyles)),Z.disabled=!0,Z.overrideTotalTime(ve.totalTime),i.push(Z);return}let tt=Ei;if(_.size>1){let Ke=Y,Fe=[];for(;Ke=Ke.parentNode;){let Le=_.get(Ke);if(Le){tt=Le;break}Fe.push(Ke)}Fe.forEach(Le=>_.set(Le,tt))}let Cn=this._buildAnimation(Z.namespaceId,ve,T,o,R,b);if(Z.setRealPlayer(Cn),tt===Ei)I.push(Z);else{let Ke=this.playersByElement.get(tt);Ke&&Ke.length&&(Z.parentPlayer=si(Ke)),i.push(Z)}}else io(Y,ve.fromStyles),Z.onDestroy(()=>nr(Y,ve.toStyles)),Dn.push(Z),d.has(Y)&&i.push(Z)}),Dn.forEach(K=>{let Y=o.get(K.element);if(Y&&Y.length){let Z=si(Y);K.setRealPlayer(Z)}}),i.forEach(K=>{K.parentPlayer?K.syncPlayerEvents(K.parentPlayer):K.destroy()});for(let K=0;K<D.length;K++){let Y=D[K],Z=Y[rr];if(oc(Y,Xp),Z&&Z.hasAnimation)continue;let ve=[];if(a.size){let Cn=a.get(Y);Cn&&Cn.length&&ve.push(...Cn);let Ke=this.driver.query(Y,eg,!0);for(let Fe=0;Fe<Ke.length;Fe++){let Le=a.get(Ke[Fe]);Le&&Le.length&&ve.push(...Le)}}let tt=ve.filter(Cn=>!Cn.destroyed);tt.length?o6(this,Y,tt):this.processLeaveNode(Y)}return D.length=0,I.forEach(K=>{this.players.push(K),K.onDone(()=>{K.destroy();let Y=this.players.indexOf(K);this.players.splice(Y,1)}),K.play()}),I}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,o){let s=[];if(t){let a=this.playersByQueriedElement.get(e);a&&(s=a)}else{let a=this.playersByElement.get(e);if(a){let c=!o||o==Fl;a.forEach(l=>{l.queued||!c&&l.triggerName!=i||s.push(l)})}}return(r||i)&&(s=s.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(e,t,r){let i=t.triggerName,o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:i;for(let c of t.timelines){let l=c.element,d=l!==o,f=fn(r,l,[]);this._getPreviousPlayers(l,d,s,a,t.toState).forEach(m=>{let E=m.getRealPlayer();E.beforeDestroy&&E.beforeDestroy(),m.destroy(),f.push(m)})}io(o,t.fromStyles)}_buildAnimation(e,t,r,i,o,s){let a=t.triggerName,c=t.element,l=[],d=new Set,f=new Set,g=t.timelines.map(E=>{let A=E.element;d.add(A);let D=A[rr];if(D&&D.removedBeforeQueried)return new oi(E.duration,E.delay);let M=A!==c,j=s6((r.get(A)||e6).map(T=>T.getRealPlayer())).filter(T=>{let _=T;return _.element?_.element===A:!1}),q=o.get(A),W=s.get(A),be=Gw(this._normalizer,E.keyframes,q,W),te=this._buildPlayer(E,be,j);if(E.subTimeline&&i&&f.add(A),M){let T=new jl(e,a,A);T.setRealPlayer(te),l.push(T)}return te});l.forEach(E=>{fn(this.playersByQueriedElement,E.element,[]).push(E),E.onDone(()=>n6(this.playersByQueriedElement,E.element,E))}),d.forEach(E=>Fn(E,Zw));let m=si(g);return m.onDestroy(()=>{d.forEach(E=>oc(E,Zw)),nr(c,t.toStyles)}),f.forEach(E=>{fn(i,E,[]).push(m)}),m}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new oi(e.duration,e.delay)}},jl=class{namespaceId;triggerName;element;_player=new oi;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>Yp(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){fn(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};function n6(n,e,t){let r=n.get(e);if(r){if(r.length){let i=r.indexOf(t);r.splice(i,1)}r.length==0&&n.delete(e)}return r}function r6(n){return n??null}function og(n){return n&&n.nodeType===1}function i6(n){return n=="start"||n=="done"}function Bk(n,e){let t=n.style.display;return n.style.display=e??"none",t}function $k(n,e,t,r,i){let o=[];t.forEach(c=>o.push(Bk(c)));let s=[];r.forEach((c,l)=>{let d=new Map;c.forEach(f=>{let g=e.computeStyle(l,f,i);d.set(f,g),(!g||g.length==0)&&(l[rr]=t6,s.push(l))}),n.set(l,d)});let a=0;return t.forEach(c=>Bk(c,o[a++])),s}function Hk(n,e){let t=new Map;if(n.forEach(a=>t.set(a,[])),e.length==0)return t;let r=1,i=new Set(e),o=new Map;function s(a){if(!a)return r;let c=o.get(a);if(c)return c;let l=a.parentNode;return t.has(l)?c=l:i.has(l)?c=r:c=s(l),o.set(a,c),c}return e.forEach(a=>{let c=s(a);c!==r&&t.get(c).push(a)}),t}function Fn(n,e){n.classList?.add(e)}function oc(n,e){n.classList?.remove(e)}function o6(n,e,t){si(t).onDone(()=>n.processLeaveNode(e))}function s6(n){let e=[];return Yk(n,e),e}function Yk(n,e){for(let t=0;t<n.length;t++){let r=n[t];r instanceof nc?Yk(r.players,e):e.push(r)}}function a6(n,e){let t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){let o=t[i];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}function qk(n,e,t){let r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(o=>i.add(o)):e.set(n,r),t.delete(n),!0}var sc=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(e,t)=>{};constructor(e,t,r){this._driver=t,this._normalizer=r,this._transitionEngine=new pI(e.body,t,r),this._timelineEngine=new hI(e.body,t,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(e,t,r,i,o){let s=e+"-"+i,a=this._triggerCache[s];if(!a){let c=[],l=[],d=Gk(this._driver,o,c,l);if(c.length)throw _k(i,c);a=WG(i,d,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r){this._transitionEngine.removeNode(e,t,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if(r.charAt(0)=="@"){let[o,s]=Ww(r),a=i;this._timelineEngine.command(o,t,s,a)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,o){if(r.charAt(0)=="@"){let[s,a]=Ww(r);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,r,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function c6(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=iI(e[0]),e.length>1&&(r=iI(e[e.length-1]))):e instanceof Map&&(t=iI(e)),t||r?new u6(n,t,r):null}var u6=(()=>{class n{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&nr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(nr(this._element,this._initialStyles),this._endStyles&&(nr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(io(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(io(this._element,this._endStyles),this._endStyles=null),nr(this._element,this._initialStyles),this._state=3)}}return n})();function iI(n){let e=null;return n.forEach((t,r)=>{l6(r)&&(e=e||new Map,e.set(r,t))}),e}function l6(n){return n==="display"||n==="position"}var hg=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer=null;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer()&&this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return this.domPlayer;this._initialized=!0;let e=this.keyframes,t=this._triggerWebAnimation(this.element,e,this.options);if(!t)return this._onFinish(),null;this.domPlayer=t,this._finalKeyframe=e.length?e[e.length-1]:new Map;let r=()=>this._onFinish();return t.addEventListener("finish",r),this.onDestroy(()=>{t.removeEventListener("finish",r)}),t}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer?.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){let i=this._convertKeyframesToObject(t);try{return e.animate(i,r)}catch{return null}}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){let e=this._buildPlayer();e&&(this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),e.play())}pause(){this.init(),this.domPlayer?.pause()}finish(){this.init(),this.domPlayer&&(this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish())}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer?.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer||this.init(),this.domPlayer&&(this.domPlayer.currentTime=e*this.time)}getPosition(){return this.domPlayer?+(this.domPlayer.currentTime??0)/this.time:this._initialized?1:0}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{i!=="offset"&&e.set(i,this._finished?r:ng(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},fg=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,t){return Kw(e,t)}getParentElement(e){return Zp(e)}query(e,t,r){return Qw(e,t,r)}computeStyle(e,t,r){return ng(e,t)}animate(e,t,r,i,o,s=[]){let a=i==0?"both":"forwards",c={duration:r,delay:i,fill:a};o&&(c.easing=o);let l=new Map,d=s.filter(m=>m instanceof hg);kk(r,i)&&d.forEach(m=>{m.currentSnapshot.forEach((E,A)=>l.set(A,E))});let f=Mk(t).map(m=>new Map(m));f=xk(e,f,l);let g=c6(e,f);return new hg(e,f,c,g)}};var sg="@",Jk="@.disabled",pg=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r,i){if(i){this.delegate.removeChild(e,t,r,i);return}this.parentNode(t)&&this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){t.charAt(0)==sg&&t==Jk?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r,i){return this.delegate.listen(e,t,r,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},gI=class extends pg{factory;constructor(e,t,r,i,o){super(t,r,i,o),this.factory=e,this.namespaceId=t}setProperty(e,t,r){t.charAt(0)==sg?t.charAt(1)=="."&&t==Jk?(r=r===void 0?!0:!!r,this.disableAnimations(e,r)):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r,i){if(t.charAt(0)==sg){let o=d6(e),s=t.slice(1),a="";return s.charAt(0)!=sg&&([s,a]=h6(s)),this.engine.listen(this.namespaceId,o,s,a,c=>{let l=c._data||-1;this.factory.scheduleListenerCallback(l,r,c)})}return this.delegate.listen(e,t,r,i)}};function d6(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function h6(n){let e=n.indexOf("."),t=n.substring(0,e),r=n.slice(e+1);return[t,r]}var gg=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(e,t,r){this.delegate=e,this.engine=t,this._zone=r,t.onRemovalComplete=(i,o)=>{o?.removeChild(null,i)}}createRenderer(e,t){let i=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let l=this._rendererCache,d=l.get(i);if(!d){let f=()=>l.delete(i);d=new pg("",i,this.engine,f),l.set(i,d)}return d}let o=t.id,s=t.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);let a=l=>{Array.isArray(l)?l.forEach(a):this.engine.registerTrigger(o,s,e,l.name,l)};return t.data.animation.forEach(a),new gI(this,s,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,r){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(r));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),i.push([t,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(e){this.engine.flush(),this.delegate.componentReplaced?.(e)}};var p6=(()=>{class n extends sc{constructor(t,r,i){super(t,r,i)}ngOnDestroy(){this.flush()}static \u0275fac=function(r){return new(r||n)(Q(it),Q(Is),Q(Ts))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})();function g6(){return new ag}function m6(n,e,t){return new gg(n,e,t)}var Zk=[{provide:Ts,useFactory:g6},{provide:sc,useClass:p6},{provide:Kr,useFactory:m6,deps:[tl,sc,De]}],gpe=[{provide:Is,useClass:mI},{provide:If,useValue:"NoopAnimations"},...Zk],y6=[{provide:Is,useFactory:()=>new fg},{provide:If,useFactory:()=>"BrowserAnimations"},...Zk];function Xk(){return Lu("NgEagerAnimations"),[...y6]}var v6=new Map,_6={activated:!1,tokenObservers:[]},E6={initialized:!1,enabled:!1};function ir(n){return v6.get(n)||Object.assign({},_6)}function rx(){return E6}var w6="https://content-firebaseappcheck.googleapis.com/v1";var I6="exchangeDebugToken",ex={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},Tpe=1440*60*1e3;var EI=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return v(this,null,function*(){this.stop();try{this.pending=new ls,this.pending.promise.catch(t=>{}),yield T6(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new ls,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function T6(n){return new Promise(e=>{setTimeout(e,n)})}var b6={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},oo=new tn("appCheck","AppCheck",b6);function ix(n){if(!ir(n).activated)throw oo.create("use-before-activation",{appName:n.name})}function ox(r,i){return v(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let m=yield s.getHeartbeatsHeader();m&&(o["X-Firebase-Client"]=m)}let a={method:"POST",body:JSON.stringify(e),headers:o},c;try{c=yield fetch(n,a)}catch(m){throw oo.create("fetch-network-error",{originalErrorMessage:m?.message})}if(c.status!==200)throw oo.create("fetch-status-error",{httpStatus:c.status});let l;try{l=yield c.json()}catch(m){throw oo.create("fetch-parse-error",{originalErrorMessage:m?.message})}let d=l.ttl.match(/^([\d.]+)(s)$/);if(!d||!d[2]||isNaN(Number(d[1])))throw oo.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let f=Number(d[1])*1e3,g=Date.now();return{token:l.token,expireTimeMillis:g+f,issuedAtTimeMillis:g}})}function sx(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${w6}/projects/${t}/apps/${r}:${I6}?key=${i}`,body:{debug_token:e}}}var D6="firebase-app-check-database",C6=1,wI="firebase-app-check-store";var mg=null;function S6(){return mg||(mg=new Promise((n,e)=>{try{let t=indexedDB.open(D6,C6);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(oo.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(wI,{keyPath:"compositeKey"})}}}catch(t){e(oo.create("storage-open",{originalErrorMessage:t?.message}))}}),mg)}function A6(n,e){return R6(N6(n),e)}function R6(n,e){return v(this,null,function*(){let r=(yield S6()).transaction(wI,"readwrite"),o=r.objectStore(wI).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=c=>{s()},r.onerror=c=>{var l;a(oo.create("storage-set",{originalErrorMessage:(l=c.target.error)===null||l===void 0?void 0:l.message}))}})})}function N6(n){return`${n.options.appId}-${n.name}`}var Ul=new Tr("@firebase/app-check");function vI(n,e){return ds()?A6(n,e).catch(t=>{Ul.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function ax(){return rx().enabled}function cx(){return v(this,null,function*(){let n=rx();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var M6={error:"UNKNOWN_ERROR"};function P6(n){return kp.encodeString(JSON.stringify(n),!1)}function II(n,e=!1,t=!1){return v(this,null,function*(){let r=n.app;ix(r);let i=ir(r),o=i.token,s;if(o&&!Bl(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(Bl(l)?o=l:yield vI(r,void 0))}if(!e&&o&&Bl(o))return{token:o.token};let a=!1;if(ax())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=ox(sx(r,yield cx()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=yield i.exchangeTokenPromise;return yield vI(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Ul.warn(l.message):t&&Ul.error(l),_I(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield ir(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Ul.warn(l.message):t&&Ul.error(l),s=l}let c;return o?s?Bl(o)?c={token:o.token,internalError:s}:c=_I(s):(c={token:o.token},i.token=o,yield vI(r,o)):c=_I(s),a&&F6(r,c),c})}function k6(n){return v(this,null,function*(){let e=n.app;ix(e);let{provider:t}=ir(e);if(ax()){let r=yield cx(),{token:i}=yield ox(sx(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function x6(n,e,t,r){let{app:i}=n,o=ir(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Bl(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),tx(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>tx(n))}function ux(n,e){let t=ir(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function tx(n){let{app:e}=n,t=ir(e),r=t.tokenRefresher;r||(r=O6(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function O6(n){let{app:e}=n;return new EI(()=>v(null,null,function*(){let t=ir(e),r;if(t.token?r=yield II(n,!0):r=yield II(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=ir(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-300*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},ex.RETRIAL_MIN_WAIT,ex.RETRIAL_MAX_WAIT)}function F6(n,e){let t=ir(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Bl(n){return n.expireTimeMillis-Date.now()>0}function _I(n){return{token:P6(M6),error:n}}var TI=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=ir(this.app);for(let t of e)ux(this.app,t.next);return Promise.resolve()}};function L6(n,e){return new TI(n,e)}function V6(n){return{getToken:e=>II(n,e),getLimitedUseToken:()=>k6(n),addTokenListener:e=>x6(n,"INTERNAL",e),removeTokenListener:e=>ux(n.app,e)}}var j6="@firebase/app-check",U6="0.10.1";var B6="app-check",nx="app-check-internal";function $6(){Pt(new at(B6,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return L6(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(nx).initialize()})),Pt(new at(nx,n=>{let e=n.getProvider("app-check").getImmediate();return V6(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Ne(j6,U6)}$6();var H6="app-check";var ac=class{constructor(){return ro(H6)}};var q6=["localhost","0.0.0.0","127.0.0.1"],Fpe=typeof window<"u"&&q6.includes(window.location.hostname);function Dx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var Cx=Dx,Sx=new tn("auth","Firebase",Dx());var Ig=new Tr("@firebase/auth");function z6(n,...e){Ig.logLevel<=_e.WARN&&Ig.warn(`Auth (${no}): ${n}`,...e)}function vg(n,...e){Ig.logLevel<=_e.ERROR&&Ig.error(`Auth (${no}): ${n}`,...e)}function Rr(n,...e){throw KI(n,...e)}function bs(n,...e){return KI(n,...e)}function Ax(n,e,t){let r=Object.assign(Object.assign({},Cx()),{[e]:t});return new tn("auth","Firebase",r).create(e,{appName:n.name})}function ui(n){return Ax(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function KI(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return Sx.create(n,...e)}function re(n,e,...t){if(!n)throw KI(e,...t)}function ai(n){let e="INTERNAL ASSERTION FAILED: "+n;throw vg(e),new Error(e)}function co(n,e){n||ai(e)}function SI(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function G6(){return lx()==="http:"||lx()==="https:"}function lx(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function W6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(G6()||qM()||"connection"in navigator)?navigator.onLine:!0}function K6(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Ds=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,co(t>e,"Short delay should be less than long delay!"),this.isMobile=$M()||zM()}get(){return W6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function QI(n,e){co(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Tg=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ai("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ai("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ai("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var Q6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var Y6=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],J6=new Ds(3e4,6e4);function uo(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function lo(o,s,a,c){return v(this,arguments,function*(n,e,t,r,i={}){return Rx(n,i,()=>v(null,null,function*(){let l={},d={};r&&(e==="GET"?d=r:l={body:JSON.stringify(r)});let f=Al(Object.assign({key:n.config.apiKey},d)).slice(1),g=yield n._getAdditionalHeaders();g["Content-Type"]="application/json",n.languageCode&&(g["X-Firebase-Locale"]=n.languageCode);let m=Object.assign({method:e,headers:g},l);return HM()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&eo(n.emulatorConfig.host)&&(m.credentials="include"),Tg.fetch()(yield Nx(n,n.config.apiHost,t,f),m)}))})}function Rx(n,e,t){return v(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},Q6),e);try{let i=new AI(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw yg(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw yg(n,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw yg(n,"email-already-in-use",s);if(c==="USER_DISABLED")throw yg(n,"user-disabled",s);let d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw Ax(n,d,l);Rr(n,d)}}catch(i){if(i instanceof en)throw i;Rr(n,"network-request-failed",{message:String(i)})}})}function Yl(o,s,a,c){return v(this,arguments,function*(n,e,t,r,i={}){let l=yield lo(n,e,t,r,i);return"mfaPendingCredential"in l&&Rr(n,"multi-factor-auth-required",{_serverResponse:l}),l})}function Nx(n,e,t,r){return v(this,null,function*(){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?QI(n.config,i):`${n.config.apiScheme}://${i}`;return Y6.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}function Z6(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var AI=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(bs(this.auth,"network-request-failed")),J6.get())})}};function yg(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=bs(n,e,r);return i.customData._tokenResponse=t,i}function dx(n){return n!==void 0&&n.enterprise!==void 0}var RI=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Z6(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function X6(n,e){return v(this,null,function*(){return lo(n,"GET","/v2/recaptchaConfig",uo(n,e))})}function eW(n,e){return v(this,null,function*(){return lo(n,"POST","/v1/accounts:delete",e)})}function bg(n,e){return v(this,null,function*(){return lo(n,"POST","/v1/accounts:lookup",e)})}function Hl(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function YI(n,e=!1){return v(this,null,function*(){let t=je(n),r=yield t.getIdToken(e),i=JI(r);re(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Hl(bI(i.auth_time)),issuedAtTime:Hl(bI(i.iat)),expirationTime:Hl(bI(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function bI(n){return Number(n)*1e3}function JI(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return vg("JWT malformed, contained fewer than 3 sections"),null;try{let i=xp(t);return i?JSON.parse(i):(vg("Failed to decode base64 JWT payload"),null)}catch(i){return vg("Caught error parsing JWT payload as JSON",i?.toString()),null}}function hx(n){let e=JI(n);return re(e,"internal-error"),re(typeof e.exp<"u","internal-error"),re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function zl(n,e,t=!1){return v(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof en&&tW(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function tW({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var NI=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>v(this,null,function*(){yield this.iteration()}),t)}iteration(){return v(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Gl=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hl(this.lastLoginAt),this.creationTime=Hl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Dg(n){return v(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield zl(n,bg(t,{idToken:r}));re(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?Mx(o.providerUserInfo):[],a=nW(n.providerData,s),c=n.isAnonymous,l=!(n.email&&o.passwordHash)&&!a?.length,d=c?l:!1,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Gl(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(n,f)})}function ZI(n){return v(this,null,function*(){let e=je(n);yield Dg(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function nW(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Mx(n){return n.map(e=>{var{providerId:t}=e,r=Hy(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function rW(n,e){return v(this,null,function*(){let t=yield Rx(n,{},()=>v(null,null,function*(){let r=Al({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=yield Nx(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let c={method:"POST",headers:a,body:r};return n.emulatorConfig&&eo(n.emulatorConfig.host)&&(c.credentials="include"),Tg.fetch()(s,c)}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function iW(n,e){return v(this,null,function*(){return lo(n,"POST","/v2/accounts:revokeToken",uo(n,e))})}var ql=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){re(e.idToken,"internal-error"),re(typeof e.idToken<"u","internal-error"),re(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):hx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){re(e.length!==0,"internal-error");let t=hx(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return v(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return v(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield rW(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(re(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(re(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(re(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return ai("not implemented")}};function so(n,e){re(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var ao=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=Hy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new NI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Gl(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return v(this,null,function*(){let t=yield zl(this,this.stsTokenManager.getToken(this.auth,e));return re(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return YI(this,e)}reload(){return ZI(this)}_assign(e){this!==e&&(re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return v(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield Dg(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return v(this,null,function*(){if(hn(this.auth.app))return Promise.reject(ui(this.auth));let e=yield this.getIdToken();return yield zl(this,eW(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,c,l,d;let f=(r=t.displayName)!==null&&r!==void 0?r:void 0,g=(i=t.email)!==null&&i!==void 0?i:void 0,m=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,E=(s=t.photoURL)!==null&&s!==void 0?s:void 0,A=(a=t.tenantId)!==null&&a!==void 0?a:void 0,D=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,M=(l=t.createdAt)!==null&&l!==void 0?l:void 0,j=(d=t.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:q,emailVerified:W,isAnonymous:be,providerData:te,stsTokenManager:T}=t;re(q&&T,e,"internal-error");let _=ql.fromJSON(this.name,T);re(typeof q=="string",e,"internal-error"),so(f,e.name),so(g,e.name),re(typeof W=="boolean",e,"internal-error"),re(typeof be=="boolean",e,"internal-error"),so(m,e.name),so(E,e.name),so(A,e.name),so(D,e.name),so(M,e.name),so(j,e.name);let w=new n({uid:q,auth:e,email:g,emailVerified:W,displayName:f,isAnonymous:be,photoURL:E,phoneNumber:m,tenantId:A,stsTokenManager:_,createdAt:M,lastLoginAt:j});return te&&Array.isArray(te)&&(w.providerData=te.map(b=>Object.assign({},b))),D&&(w._redirectEventId=D),w}static _fromIdTokenResponse(e,t,r=!1){return v(this,null,function*(){let i=new ql;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Dg(o),o})}static _fromGetAccountInfoResponse(e,t,r){return v(this,null,function*(){let i=t.users[0];re(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?Mx(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new ql;a.updateFromIdToken(r);let c=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Gl(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(c,l),c})}};var fx=new Map;function ci(n){co(n instanceof Function,"Expected a class definition");let e=fx.get(n);return e?(co(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,fx.set(n,e),e)}var oW=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return v(this,null,function*(){return!0})}_set(t,r){return v(this,null,function*(){this.storage[t]=r})}_get(t){return v(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return v(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),MI=oW;function _g(n,e,t){return`firebase:${n}:${e}:${t}`}var Cg=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=_g(this.userKey,i.apiKey,o),this.fullPersistenceKey=_g("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return v(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield bg(this.auth,{idToken:e}).catch(()=>{});return t?ao._fromGetAccountInfoResponse(this.auth,t,e):null}return ao._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return v(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return v(this,null,function*(){if(!t.length)return new n(ci(MI),e,r);let i=(yield Promise.all(t.map(l=>v(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||ci(MI),s=_g(r,e.config.apiKey,e.name),a=null;for(let l of t)try{let d=yield l._get(s);if(d){let f;if(typeof d=="string"){let g=yield bg(e,{idToken:d}).catch(()=>{});if(!g)break;f=yield ao._fromGetAccountInfoResponse(e,g,d)}else f=ao._fromJSON(e,d);l!==o&&(a=f),o=l;break}}catch{}let c=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new n(o,e,r):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(l=>v(null,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new n(o,e,r))})}};function px(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Ox(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Px(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Lx(e))return"Blackberry";if(Vx(e))return"Webos";if(kx(e))return"Safari";if((e.includes("chrome/")||xx(e))&&!e.includes("edge/"))return"Chrome";if(Fx(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function Px(n=bt()){return/firefox\//i.test(n)}function kx(n=bt()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function xx(n=bt()){return/crios\//i.test(n)}function Ox(n=bt()){return/iemobile/i.test(n)}function Fx(n=bt()){return/android/i.test(n)}function Lx(n=bt()){return/blackberry/i.test(n)}function Vx(n=bt()){return/webos/i.test(n)}function XI(n=bt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function sW(n=bt()){var e;return XI(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function aW(){return GM()&&document.documentMode===10}function jx(n=bt()){return XI(n)||Fx(n)||Vx(n)||Lx(n)||/windows phone/i.test(n)||Ox(n)}function Ux(n,e=[]){let t;switch(n){case"Browser":t=px(bt());break;case"Worker":t=`${px(bt())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${no}/${r}`}var PI=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return v(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function cW(t){return v(this,arguments,function*(n,e={}){return lo(n,"GET","/v2/passwordPolicy",uo(n,e))})}var uW=6,kI=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:uW,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var xI=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Sg(this),this.idTokenSubscription=new Sg(this),this.beforeStateQueue=new PI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Sx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ci(t)),this._initializationPromise=this.queue(()=>v(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield Cg.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return v(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return v(this,null,function*(){try{let t=yield bg(this,{idToken:e}),r=yield ao._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return v(this,null,function*(){var t;if(hn(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return re(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return v(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return v(this,null,function*(){try{yield Dg(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=K6()}_delete(){return v(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return v(this,null,function*(){if(hn(this.app))return Promise.reject(ui(this));let t=e?je(e):null;return t&&re(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return v(this,null,function*(){if(!this._deleted)return e&&re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>v(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return v(this,null,function*(){return hn(this.app)?Promise.reject(ui(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return hn(this.app)?Promise.reject(ui(this)):this.queue(()=>v(this,null,function*(){yield this.assertedPersistence.setPersistence(ci(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return v(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return v(this,null,function*(){let e=yield cW(this),t=new kI(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new tn("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return v(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield iW(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return v(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return v(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&ci(e)||this._popupRedirectResolver;re(t,this,"argument-error"),this.redirectPersistenceManager=yield Cg.create(this,[ci(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return v(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>v(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return v(this,null,function*(){if(e===this.currentUser)return this.queue(()=>v(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(re(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let c=e.addObserver(t,r,i);return()=>{s=!0,c()}}else{let c=e.addObserver(t);return()=>{s=!0,c()}}}directlySetCurrentUser(e){return v(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ux(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return v(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return v(this,null,function*(){var e;if(hn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&z6(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function Ss(n){return je(n)}var Sg=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=YM(t=>this.observer=t)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var xg={loadJS(){return v(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function lW(n){xg=n}function Bx(n){return xg.loadJS(n)}function dW(){return xg.recaptchaEnterpriseScript}function hW(){return xg.gapiScript}function $x(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var OI=class{constructor(){this.enterprise=new FI}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},FI=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}};var fW="recaptcha-enterprise",Hx="NO_RECAPTCHA",LI=class{constructor(e){this.type=fW,this.auth=Ss(e)}verify(e="verify",t=!1){return v(this,null,function*(){function r(o){return v(this,null,function*(){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>v(null,null,function*(){X6(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new RI(c);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(c=>{a(c)})}))})}function i(o,s,a){let c=window.grecaptcha;dx(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(Hx)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new OI().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!t&&dx(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=dW();c.length!==0&&(c+=a),Bx(c).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})})}};function $l(n,e,t,r=!1,i=!1){return v(this,null,function*(){let o=new LI(n),s;if(i)s=Hx;else try{s=yield o.verify(t)}catch{s=yield o.verify(t,!0)}let a=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let c=a.phoneEnrollmentInfo.phoneNumber,l=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function VI(n,e,t,r,i){return v(this,null,function*(){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=yield $l(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(a=>v(null,null,function*(){if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let c=yield $l(n,e,t,t==="getOobCode");return r(n,c)}else return Promise.reject(a)}));else if(i==="PHONE_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let a=yield $l(n,e,t);return r(n,a).catch(c=>v(null,null,function*(){var l;if(((l=n._getRecaptchaConfig())===null||l===void 0?void 0:l.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(c.code==="auth/missing-recaptcha-token"||c.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);let d=yield $l(n,e,t,!1,!0);return r(n,d)}return Promise.reject(c)}))}else{let a=yield $l(n,e,t,!1,!0);return r(n,a)}else return Promise.reject(i+" provider is not supported.")})}function eT(n,e){let t=Xn(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(Ir(o,e??{}))return i;Rr(i,"already-initialized")}return t.initialize({options:e})}function pW(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(ci);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function tT(n,e,t){let r=Ss(n);re(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=qx(e),{host:s,port:a}=gW(e),c=a===null?"":`:${a}`,l={url:`${o}//${s}${c}/`},d=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){re(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),re(Ir(l,r.config.emulator)&&Ir(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,eo(s)?(Fp(`${o}//${s}${c}`),Lp("Auth",!0)):i||mW()}function qx(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function gW(n){let e=qx(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:gx(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:gx(s)}}}function gx(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function mW(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Wl=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ai("not implemented")}_getIdTokenResponse(e){return ai("not implemented")}_linkToIdToken(e,t){return ai("not implemented")}_getReauthenticationResolver(e){return ai("not implemented")}};function yW(n,e){return v(this,null,function*(){return lo(n,"POST","/v1/accounts:signUp",e)})}function vW(n,e){return v(this,null,function*(){return Yl(n,"POST","/v1/accounts:signInWithPassword",uo(n,e))})}function _W(n,e){return v(this,null,function*(){return Yl(n,"POST","/v1/accounts:signInWithEmailLink",uo(n,e))})}function EW(n,e){return v(this,null,function*(){return Yl(n,"POST","/v1/accounts:signInWithEmailLink",uo(n,e))})}var Kl=class n extends Wl{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return v(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return VI(e,t,"signInWithPassword",vW,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return _W(e,{email:this._email,oobCode:this._password});default:Rr(e,"internal-error")}})}_linkToIdToken(e,t){return v(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return VI(e,r,"signUpPassword",yW,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return EW(e,{idToken:t,email:this._email,oobCode:this._password});default:Rr(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function DI(n,e){return v(this,null,function*(){return Yl(n,"POST","/v1/accounts:signInWithIdp",uo(n,e))})}function wW(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function IW(n){let e=Xa(ec(n)).link,t=e?Xa(ec(e)).deep_link_id:null,r=Xa(ec(n)).deep_link_id;return(r?Xa(ec(r)).link:null)||r||t||e||n}var Ag=class n{constructor(e){var t,r,i,o,s,a;let c=Xa(ec(e)),l=(t=c.apiKey)!==null&&t!==void 0?t:null,d=(r=c.oobCode)!==null&&r!==void 0?r:null,f=wW((i=c.mode)!==null&&i!==void 0?i:null);re(l&&d&&f,"argument-error"),this.apiKey=l,this.operation=f,this.code=d,this.continueUrl=(o=c.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=c.lang)!==null&&s!==void 0?s:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=IW(e);try{return new n(t)}catch{return null}}};var zx=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return Kl._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=Ag.parseLink(r);return re(i,"argument-error"),Kl._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),Rg=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var jI=class extends Rg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function TW(n,e){return v(this,null,function*(){return Yl(n,"POST","/v1/accounts:signUp",uo(n,e))})}var cc=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return v(this,null,function*(){let o=yield ao._fromIdTokenResponse(e,r,i),s=mx(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return v(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=mx(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function mx(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var UI=class n extends en{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function Gx(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?UI._fromErrorAndOperation(n,o,e,r):o})}function bW(n,e,t=!1){return v(this,null,function*(){let r=yield zl(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return cc._forOperation(n,"link",r)})}function DW(n,e,t=!1){return v(this,null,function*(){let{auth:r}=n;if(hn(r.app))return Promise.reject(ui(r));let i="reauthenticate";try{let o=yield zl(n,Gx(r,i,e,n),t);re(o.idToken,r,"internal-error");let s=JI(o.idToken);re(s,r,"internal-error");let{sub:a}=s;return re(n.uid===a,r,"user-mismatch"),cc._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Rr(r,"user-mismatch"),o}})}function Wx(n,e,t=!1){return v(this,null,function*(){if(hn(n.app))return Promise.reject(ui(n));let r="signIn",i=yield Gx(n,r,e),o=yield cc._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})}function nT(n,e){return v(this,null,function*(){return Wx(Ss(n),e)})}function Kx(n){return v(this,null,function*(){let e=Ss(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function rT(n,e,t){return v(this,null,function*(){if(hn(n.app))return Promise.reject(ui(n));let r=Ss(n),s=yield VI(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",TW,"EMAIL_PASSWORD_PROVIDER").catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&Kx(n),c}),a=yield cc._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function iT(n,e,t){return hn(n.app)?Promise.reject(ui(n)):nT(je(n),zx.credential(e,t)).catch(r=>v(null,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&Kx(n),r}))}function oT(n,e,t,r){return je(n).onIdTokenChanged(e,t,r)}function sT(n,e,t){return je(n).beforeAuthStateChanged(e,t)}function aT(n){return je(n).signOut()}var Ng="__sak";var Mg=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ng,"1"),this.storage.removeItem(Ng),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var CW=1e3,SW=10,AW=(()=>{class n extends Mg{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=jx(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);aW()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,SW):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},CW)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return v(this,null,function*(){yield Ci(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return v(this,null,function*(){let r=yield Ci(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return v(this,null,function*(){yield Ci(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),Qx=AW;var RW=(()=>{class n extends Mg{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),cT=RW;function NW(n){return Promise.all(n.map(e=>v(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var MW=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return v(this,null,function*(){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let c=Array.from(a).map(d=>v(this,null,function*(){return d(r.origin,s)})),l=yield NW(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function Yx(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var BI=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return v(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,c)=>{let l=Yx("",20);i.port1.start();let d=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(f){let g=f;if(g.data.eventId===l)switch(g.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(g.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function Ar(){return window}function PW(n){Ar().location.href=n}function Jx(){return typeof Ar().WorkerGlobalScope<"u"&&typeof Ar().importScripts=="function"}function kW(){return v(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function xW(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function OW(){return Jx()?self:null}var Zx="firebaseLocalStorageDb",FW=1,Pg="firebaseLocalStorage",Xx="fbase_key",Cs=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function Og(n,e){return n.transaction([Pg],e?"readwrite":"readonly").objectStore(Pg)}function LW(){let n=indexedDB.deleteDatabase(Zx);return new Cs(n).toPromise()}function $I(){let n=indexedDB.open(Zx,FW);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(Pg,{keyPath:Xx})}catch(i){t(i)}}),n.addEventListener("success",()=>v(null,null,function*(){let r=n.result;r.objectStoreNames.contains(Pg)?e(r):(r.close(),yield LW(),e(yield $I()))}))})}function yx(n,e,t){return v(this,null,function*(){let r=Og(n,!0).put({[Xx]:e,value:t});return new Cs(r).toPromise()})}function VW(n,e){return v(this,null,function*(){let t=Og(n,!1).get(e),r=yield new Cs(t).toPromise();return r===void 0?null:r.value})}function vx(n,e){let t=Og(n,!0).delete(e);return new Cs(t).toPromise()}var jW=800,UW=3,BW=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return v(this,null,function*(){return this.db?this.db:(this.db=yield $I(),this.db)})}_withRetries(t){return v(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>UW)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return v(this,null,function*(){return Jx()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return v(this,null,function*(){this.receiver=MW._getInstance(OW()),this.receiver._subscribe("keyChanged",(t,r)=>v(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>v(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return v(this,null,function*(){var t,r;if(this.activeServiceWorker=yield kW(),!this.activeServiceWorker)return;this.sender=new BI(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return v(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||xW()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return v(this,null,function*(){try{if(!indexedDB)return!1;let t=yield $I();return yield yx(t,Ng,"1"),yield vx(t,Ng),!0}catch{}return!1})}_withPendingWrite(t){return v(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(i=>yx(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return v(this,null,function*(){let r=yield this._withRetries(i=>VW(i,t));return this.localCache[t]=r,r})}_remove(t){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(r=>vx(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return v(this,null,function*(){let t=yield this._withRetries(o=>{let s=Og(o,!1).getAll();return new Cs(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>v(this,null,function*(){return this._poll()}),jW)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),eO=BW;var qpe=$x("rcb"),zpe=new Ds(3e4,6e4);function $W(n,e){return e?ci(e):(re(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var Ql=class extends Wl{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return DI(e,this._buildIdpRequest())}_linkToIdToken(e,t){return DI(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return DI(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function HW(n){return Wx(n.auth,new Ql(n),n.bypassAuthState)}function qW(n){let{auth:e,user:t}=n;return re(t,e,"internal-error"),DW(t,new Ql(n),n.bypassAuthState)}function zW(n){return v(this,null,function*(){let{auth:e,user:t}=n;return re(t,e,"internal-error"),bW(t,new Ql(n),n.bypassAuthState)})}var HI=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>v(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return v(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let c={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return HW;case"linkViaPopup":case"linkViaRedirect":return zW;case"reauthViaPopup":case"reauthViaRedirect":return qW;default:Rr(this.auth,"internal-error")}}resolve(e){co(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){co(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Gpe=new Ds(2e3,1e4);var GW="pendingRedirect",Eg=new Map,qI=class n extends HI{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return v(this,null,function*(){let e=Eg.get(this.auth._key());if(!e){try{let r=(yield WW(this.resolver,this.auth))?yield Ci(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Eg.set(this.auth._key(),e)}return this.bypassAuthState||Eg.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return v(this,null,function*(){if(e.type==="signInViaRedirect")return Ci(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,Ci(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return v(this,null,function*(){})}cleanUp(){}};function WW(n,e){return v(this,null,function*(){let t=YW(e),r=QW(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function KW(n,e){Eg.set(n._key(),e)}function QW(n){return ci(n._redirectPersistence)}function YW(n){return _g(GW,n.config.apiKey,n.name)}function JW(n,e,t=!1){return v(this,null,function*(){if(hn(n.app))return Promise.reject(ui(n));let r=Ss(n),i=$W(r,e),s=yield new qI(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var ZW=600*1e3,zI=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!XW(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!tO(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(bs(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ZW&&this.cachedEventUids.clear(),this.cachedEventUids.has(_x(e))}saveEventToCache(e){this.cachedEventUids.add(_x(e)),this.lastProcessedEventTime=Date.now()}};function _x(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function tO({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function XW(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tO(n);default:return!1}}function e8(t){return v(this,arguments,function*(n,e={}){return lo(n,"GET","/v1/projects",e)})}var t8=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,n8=/^https?/;function r8(n){return v(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield e8(n);for(let t of e)try{if(i8(t))return}catch{}Rr(n,"unauthorized-domain")})}function i8(n){let e=SI(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!n8.test(t))return!1;if(t8.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var o8=new Ds(3e4,6e4);function Ex(){let n=Ar().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function s8(n){return new Promise((e,t)=>{var r,i,o;function s(){Ex(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ex(),t(bs(n,"network-request-failed"))},timeout:o8.get()})}if(!((i=(r=Ar().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Ar().gapi)===null||o===void 0)&&o.load)s();else{let a=$x("iframefcb");return Ar()[a]=()=>{gapi.load?s():t(bs(n,"network-request-failed"))},Bx(`${hW()}?onload=${a}`).catch(c=>t(c))}}).catch(e=>{throw wg=null,e})}var wg=null;function a8(n){return wg=wg||s8(n),wg}var c8=new Ds(5e3,15e3),u8="__/auth/iframe",l8="emulator/auth/iframe",d8={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},h8=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function f8(n){let e=n.config;re(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?QI(e,l8):`https://${n.config.authDomain}/${u8}`,r={apiKey:e.apiKey,appName:n.name,v:no},i=h8.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Al(r).slice(1)}`}function p8(n){return v(this,null,function*(){let e=yield a8(n),t=Ar().gapi;return re(t,n,"internal-error"),e.open({where:document.body,url:f8(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:d8,dontclear:!0},r=>new Promise((i,o)=>v(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=bs(n,"network-request-failed"),a=Ar().setTimeout(()=>{o(s)},c8.get());function c(){Ar().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{o(s)})})))})}var g8={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},m8=500,y8=600,v8="_blank",_8="http://localhost",kg=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function E8(n,e,t,r=m8,i=y8){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},g8),{width:r.toString(),height:i.toString(),top:o,left:s}),l=bt().toLowerCase();t&&(a=xx(l)?v8:t),Px(l)&&(e=e||_8,c.scrollbars="yes");let d=Object.entries(c).reduce((g,[m,E])=>`${g}${m}=${E},`,"");if(sW(l)&&a!=="_self")return w8(e||"",a),new kg(null);let f=window.open(e||"",a,d);re(f,n,"popup-blocked");try{f.focus()}catch{}return new kg(f)}function w8(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var I8="__/auth/handler",T8="emulator/auth/handler",b8=encodeURIComponent("fac");function wx(n,e,t,r,i,o){return v(this,null,function*(){re(n.config.authDomain,n,"auth-domain-config-required"),re(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:no,eventId:i};if(e instanceof Rg){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",QM(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[d,f]of Object.entries(o||{}))s[d]=f}if(e instanceof jI){let d=e.getScopes().filter(f=>f!=="");d.length>0&&(s.scopes=d.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let d of Object.keys(a))a[d]===void 0&&delete a[d];let c=yield n._getAppCheckToken(),l=c?`#${b8}=${encodeURIComponent(c)}`:"";return`${D8(n)}?${Al(a).slice(1)}${l}`})}function D8({config:n}){return n.emulator?QI(n,T8):`https://${n.authDomain}/${I8}`}var CI="webStorageSupport",GI=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cT,this._completeRedirectFn=JW,this._overrideRedirectResult=KW}_openPopup(e,t,r,i){return v(this,null,function*(){var o;co((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield wx(e,t,r,SI(),i);return E8(e,s,Yx())})}_openRedirect(e,t,r,i){return v(this,null,function*(){yield this._originValidation(e);let o=yield wx(e,t,r,SI(),i);return PW(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(co(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return v(this,null,function*(){let t=yield p8(e),r=new zI(e);return t.register("authEvent",i=>(re(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(CI,{type:CI},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[CI];s!==void 0&&t(!!s),Rr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=r8(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return jx()||kx()||XI()}},nO=GI;var Ix="@firebase/auth",Tx="1.10.8";var WI=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return v(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function C8(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function S8(n){Pt(new at("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;re(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ux(n)},l=new xI(r,i,o,c);return pW(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Pt(new at("auth-internal",e=>{let t=Ss(e.getProvider("auth").getImmediate());return(r=>new WI(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ne(Ix,Tx,C8(n)),Ne(Ix,Tx,"esm2017")}var A8=300,R8=uw("authIdTokenMaxAge")||A8,bx=null,N8=n=>e=>v(null,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>R8)return;let i=t?.token;bx!==i&&(bx=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function uT(n=br()){let e=Xn(n,"auth");if(e.isInitialized())return e.getImmediate();let t=eT(n,{popupRedirectResolver:nO,persistence:[eO,Qx,cT]}),r=uw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=N8(o.toString());sT(t,s,()=>s(t.currentUser)),oT(t,a=>s(a))}}let i=aw("auth");return i&&tT(t,`http://${i}`),t}function M8(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}lW({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=bs("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",M8().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});S8("Browser");var rO="auth",As=class{constructor(e){return e}},Jl=class{constructor(){return ro(rO)}};var lT=new B("angularfire2.auth-instances");function E9(n,e){let t=gs(rO,n,e);return t&&new As(t)}function w9(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new As(r)}}var I9={provide:Jl,deps:[[new $t,lT]]},T9={provide:As,useFactory:E9,deps:[[new $t,lT],er]};function iO(n,...e){return Ne("angularfire",Dr.full,"auth"),sn([T9,I9,{provide:lT,useFactory:w9(n),multi:!0,deps:[De,nt,Cr,ri,[new $t,ac],...e]}])}var oO=We(rT,!0,2);var sO=We(uT,!0);var aO=We(iT,!0,2);var cO=We(aT,!0,2);var uO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},lO={};var li,dT;(function(){var n;function e(T,_){function w(){}w.prototype=_.prototype,T.D=_.prototype,T.prototype=new w,T.prototype.constructor=T,T.C=function(b,C,R){for(var I=Array(arguments.length-2),Dn=2;Dn<arguments.length;Dn++)I[Dn-2]=arguments[Dn];return _.prototype[C].apply(b,I)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,_,w){w||(w=0);var b=Array(16);if(typeof _=="string")for(var C=0;16>C;++C)b[C]=_.charCodeAt(w++)|_.charCodeAt(w++)<<8|_.charCodeAt(w++)<<16|_.charCodeAt(w++)<<24;else for(C=0;16>C;++C)b[C]=_[w++]|_[w++]<<8|_[w++]<<16|_[w++]<<24;_=T.g[0],w=T.g[1],C=T.g[2];var R=T.g[3],I=_+(R^w&(C^R))+b[0]+3614090360&4294967295;_=w+(I<<7&4294967295|I>>>25),I=R+(C^_&(w^C))+b[1]+3905402710&4294967295,R=_+(I<<12&4294967295|I>>>20),I=C+(w^R&(_^w))+b[2]+606105819&4294967295,C=R+(I<<17&4294967295|I>>>15),I=w+(_^C&(R^_))+b[3]+3250441966&4294967295,w=C+(I<<22&4294967295|I>>>10),I=_+(R^w&(C^R))+b[4]+4118548399&4294967295,_=w+(I<<7&4294967295|I>>>25),I=R+(C^_&(w^C))+b[5]+1200080426&4294967295,R=_+(I<<12&4294967295|I>>>20),I=C+(w^R&(_^w))+b[6]+2821735955&4294967295,C=R+(I<<17&4294967295|I>>>15),I=w+(_^C&(R^_))+b[7]+4249261313&4294967295,w=C+(I<<22&4294967295|I>>>10),I=_+(R^w&(C^R))+b[8]+1770035416&4294967295,_=w+(I<<7&4294967295|I>>>25),I=R+(C^_&(w^C))+b[9]+2336552879&4294967295,R=_+(I<<12&4294967295|I>>>20),I=C+(w^R&(_^w))+b[10]+4294925233&4294967295,C=R+(I<<17&4294967295|I>>>15),I=w+(_^C&(R^_))+b[11]+2304563134&4294967295,w=C+(I<<22&4294967295|I>>>10),I=_+(R^w&(C^R))+b[12]+1804603682&4294967295,_=w+(I<<7&4294967295|I>>>25),I=R+(C^_&(w^C))+b[13]+4254626195&4294967295,R=_+(I<<12&4294967295|I>>>20),I=C+(w^R&(_^w))+b[14]+2792965006&4294967295,C=R+(I<<17&4294967295|I>>>15),I=w+(_^C&(R^_))+b[15]+1236535329&4294967295,w=C+(I<<22&4294967295|I>>>10),I=_+(C^R&(w^C))+b[1]+4129170786&4294967295,_=w+(I<<5&4294967295|I>>>27),I=R+(w^C&(_^w))+b[6]+3225465664&4294967295,R=_+(I<<9&4294967295|I>>>23),I=C+(_^w&(R^_))+b[11]+643717713&4294967295,C=R+(I<<14&4294967295|I>>>18),I=w+(R^_&(C^R))+b[0]+3921069994&4294967295,w=C+(I<<20&4294967295|I>>>12),I=_+(C^R&(w^C))+b[5]+3593408605&4294967295,_=w+(I<<5&4294967295|I>>>27),I=R+(w^C&(_^w))+b[10]+38016083&4294967295,R=_+(I<<9&4294967295|I>>>23),I=C+(_^w&(R^_))+b[15]+3634488961&4294967295,C=R+(I<<14&4294967295|I>>>18),I=w+(R^_&(C^R))+b[4]+3889429448&4294967295,w=C+(I<<20&4294967295|I>>>12),I=_+(C^R&(w^C))+b[9]+568446438&4294967295,_=w+(I<<5&4294967295|I>>>27),I=R+(w^C&(_^w))+b[14]+3275163606&4294967295,R=_+(I<<9&4294967295|I>>>23),I=C+(_^w&(R^_))+b[3]+4107603335&4294967295,C=R+(I<<14&4294967295|I>>>18),I=w+(R^_&(C^R))+b[8]+1163531501&4294967295,w=C+(I<<20&4294967295|I>>>12),I=_+(C^R&(w^C))+b[13]+2850285829&4294967295,_=w+(I<<5&4294967295|I>>>27),I=R+(w^C&(_^w))+b[2]+4243563512&4294967295,R=_+(I<<9&4294967295|I>>>23),I=C+(_^w&(R^_))+b[7]+1735328473&4294967295,C=R+(I<<14&4294967295|I>>>18),I=w+(R^_&(C^R))+b[12]+2368359562&4294967295,w=C+(I<<20&4294967295|I>>>12),I=_+(w^C^R)+b[5]+4294588738&4294967295,_=w+(I<<4&4294967295|I>>>28),I=R+(_^w^C)+b[8]+2272392833&4294967295,R=_+(I<<11&4294967295|I>>>21),I=C+(R^_^w)+b[11]+1839030562&4294967295,C=R+(I<<16&4294967295|I>>>16),I=w+(C^R^_)+b[14]+4259657740&4294967295,w=C+(I<<23&4294967295|I>>>9),I=_+(w^C^R)+b[1]+2763975236&4294967295,_=w+(I<<4&4294967295|I>>>28),I=R+(_^w^C)+b[4]+1272893353&4294967295,R=_+(I<<11&4294967295|I>>>21),I=C+(R^_^w)+b[7]+4139469664&4294967295,C=R+(I<<16&4294967295|I>>>16),I=w+(C^R^_)+b[10]+3200236656&4294967295,w=C+(I<<23&4294967295|I>>>9),I=_+(w^C^R)+b[13]+681279174&4294967295,_=w+(I<<4&4294967295|I>>>28),I=R+(_^w^C)+b[0]+3936430074&4294967295,R=_+(I<<11&4294967295|I>>>21),I=C+(R^_^w)+b[3]+3572445317&4294967295,C=R+(I<<16&4294967295|I>>>16),I=w+(C^R^_)+b[6]+76029189&4294967295,w=C+(I<<23&4294967295|I>>>9),I=_+(w^C^R)+b[9]+3654602809&4294967295,_=w+(I<<4&4294967295|I>>>28),I=R+(_^w^C)+b[12]+3873151461&4294967295,R=_+(I<<11&4294967295|I>>>21),I=C+(R^_^w)+b[15]+530742520&4294967295,C=R+(I<<16&4294967295|I>>>16),I=w+(C^R^_)+b[2]+3299628645&4294967295,w=C+(I<<23&4294967295|I>>>9),I=_+(C^(w|~R))+b[0]+4096336452&4294967295,_=w+(I<<6&4294967295|I>>>26),I=R+(w^(_|~C))+b[7]+1126891415&4294967295,R=_+(I<<10&4294967295|I>>>22),I=C+(_^(R|~w))+b[14]+2878612391&4294967295,C=R+(I<<15&4294967295|I>>>17),I=w+(R^(C|~_))+b[5]+4237533241&4294967295,w=C+(I<<21&4294967295|I>>>11),I=_+(C^(w|~R))+b[12]+1700485571&4294967295,_=w+(I<<6&4294967295|I>>>26),I=R+(w^(_|~C))+b[3]+2399980690&4294967295,R=_+(I<<10&4294967295|I>>>22),I=C+(_^(R|~w))+b[10]+4293915773&4294967295,C=R+(I<<15&4294967295|I>>>17),I=w+(R^(C|~_))+b[1]+2240044497&4294967295,w=C+(I<<21&4294967295|I>>>11),I=_+(C^(w|~R))+b[8]+1873313359&4294967295,_=w+(I<<6&4294967295|I>>>26),I=R+(w^(_|~C))+b[15]+4264355552&4294967295,R=_+(I<<10&4294967295|I>>>22),I=C+(_^(R|~w))+b[6]+2734768916&4294967295,C=R+(I<<15&4294967295|I>>>17),I=w+(R^(C|~_))+b[13]+1309151649&4294967295,w=C+(I<<21&4294967295|I>>>11),I=_+(C^(w|~R))+b[4]+4149444226&4294967295,_=w+(I<<6&4294967295|I>>>26),I=R+(w^(_|~C))+b[11]+3174756917&4294967295,R=_+(I<<10&4294967295|I>>>22),I=C+(_^(R|~w))+b[2]+718787259&4294967295,C=R+(I<<15&4294967295|I>>>17),I=w+(R^(C|~_))+b[9]+3951481745&4294967295,T.g[0]=T.g[0]+_&4294967295,T.g[1]=T.g[1]+(C+(I<<21&4294967295|I>>>11))&4294967295,T.g[2]=T.g[2]+C&4294967295,T.g[3]=T.g[3]+R&4294967295}r.prototype.u=function(T,_){_===void 0&&(_=T.length);for(var w=_-this.blockSize,b=this.B,C=this.h,R=0;R<_;){if(C==0)for(;R<=w;)i(this,T,R),R+=this.blockSize;if(typeof T=="string"){for(;R<_;)if(b[C++]=T.charCodeAt(R++),C==this.blockSize){i(this,b),C=0;break}}else for(;R<_;)if(b[C++]=T[R++],C==this.blockSize){i(this,b),C=0;break}}this.h=C,this.o+=_},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var _=1;_<T.length-8;++_)T[_]=0;var w=8*this.o;for(_=T.length-8;_<T.length;++_)T[_]=w&255,w/=256;for(this.u(T),T=Array(16),_=w=0;4>_;++_)for(var b=0;32>b;b+=8)T[w++]=this.g[_]>>>b&255;return T};function o(T,_){var w=a;return Object.prototype.hasOwnProperty.call(w,T)?w[T]:w[T]=_(T)}function s(T,_){this.h=_;for(var w=[],b=!0,C=T.length-1;0<=C;C--){var R=T[C]|0;b&&R==_||(w[C]=R,b=!1)}this.g=w}var a={};function c(T){return-128<=T&&128>T?o(T,function(_){return new s([_|0],0>_?-1:0)}):new s([T|0],0>T?-1:0)}function l(T){if(isNaN(T)||!isFinite(T))return f;if(0>T)return D(l(-T));for(var _=[],w=1,b=0;T>=w;b++)_[b]=T/w|0,w*=4294967296;return new s(_,0)}function d(T,_){if(T.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(T.charAt(0)=="-")return D(d(T.substring(1),_));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=l(Math.pow(_,8)),b=f,C=0;C<T.length;C+=8){var R=Math.min(8,T.length-C),I=parseInt(T.substring(C,C+R),_);8>R?(R=l(Math.pow(_,R)),b=b.j(R).add(l(I))):(b=b.j(w),b=b.add(l(I)))}return b}var f=c(0),g=c(1),m=c(16777216);n=s.prototype,n.m=function(){if(A(this))return-D(this).m();for(var T=0,_=1,w=0;w<this.g.length;w++){var b=this.i(w);T+=(0<=b?b:4294967296+b)*_,_*=4294967296}return T},n.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(E(this))return"0";if(A(this))return"-"+D(this).toString(T);for(var _=l(Math.pow(T,6)),w=this,b="";;){var C=W(w,_).g;w=M(w,C.j(_));var R=((0<w.g.length?w.g[0]:w.h)>>>0).toString(T);if(w=C,E(w))return R+b;for(;6>R.length;)R="0"+R;b=R+b}},n.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function E(T){if(T.h!=0)return!1;for(var _=0;_<T.g.length;_++)if(T.g[_]!=0)return!1;return!0}function A(T){return T.h==-1}n.l=function(T){return T=M(this,T),A(T)?-1:E(T)?0:1};function D(T){for(var _=T.g.length,w=[],b=0;b<_;b++)w[b]=~T.g[b];return new s(w,~T.h).add(g)}n.abs=function(){return A(this)?D(this):this},n.add=function(T){for(var _=Math.max(this.g.length,T.g.length),w=[],b=0,C=0;C<=_;C++){var R=b+(this.i(C)&65535)+(T.i(C)&65535),I=(R>>>16)+(this.i(C)>>>16)+(T.i(C)>>>16);b=I>>>16,R&=65535,I&=65535,w[C]=I<<16|R}return new s(w,w[w.length-1]&-2147483648?-1:0)};function M(T,_){return T.add(D(_))}n.j=function(T){if(E(this)||E(T))return f;if(A(this))return A(T)?D(this).j(D(T)):D(D(this).j(T));if(A(T))return D(this.j(D(T)));if(0>this.l(m)&&0>T.l(m))return l(this.m()*T.m());for(var _=this.g.length+T.g.length,w=[],b=0;b<2*_;b++)w[b]=0;for(b=0;b<this.g.length;b++)for(var C=0;C<T.g.length;C++){var R=this.i(b)>>>16,I=this.i(b)&65535,Dn=T.i(C)>>>16,Ei=T.i(C)&65535;w[2*b+2*C]+=I*Ei,j(w,2*b+2*C),w[2*b+2*C+1]+=R*Ei,j(w,2*b+2*C+1),w[2*b+2*C+1]+=I*Dn,j(w,2*b+2*C+1),w[2*b+2*C+2]+=R*Dn,j(w,2*b+2*C+2)}for(b=0;b<_;b++)w[b]=w[2*b+1]<<16|w[2*b];for(b=_;b<2*_;b++)w[b]=0;return new s(w,0)};function j(T,_){for(;(T[_]&65535)!=T[_];)T[_+1]+=T[_]>>>16,T[_]&=65535,_++}function q(T,_){this.g=T,this.h=_}function W(T,_){if(E(_))throw Error("division by zero");if(E(T))return new q(f,f);if(A(T))return _=W(D(T),_),new q(D(_.g),D(_.h));if(A(_))return _=W(T,D(_)),new q(D(_.g),_.h);if(30<T.g.length){if(A(T)||A(_))throw Error("slowDivide_ only works with positive integers.");for(var w=g,b=_;0>=b.l(T);)w=be(w),b=be(b);var C=te(w,1),R=te(b,1);for(b=te(b,2),w=te(w,2);!E(b);){var I=R.add(b);0>=I.l(T)&&(C=C.add(w),R=I),b=te(b,1),w=te(w,1)}return _=M(T,C.j(_)),new q(C,_)}for(C=f;0<=T.l(_);){for(w=Math.max(1,Math.floor(T.m()/_.m())),b=Math.ceil(Math.log(w)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),R=l(w),I=R.j(_);A(I)||0<I.l(T);)w-=b,R=l(w),I=R.j(_);E(R)&&(R=g),C=C.add(R),T=M(T,I)}return new q(C,T)}n.A=function(T){return W(this,T).h},n.and=function(T){for(var _=Math.max(this.g.length,T.g.length),w=[],b=0;b<_;b++)w[b]=this.i(b)&T.i(b);return new s(w,this.h&T.h)},n.or=function(T){for(var _=Math.max(this.g.length,T.g.length),w=[],b=0;b<_;b++)w[b]=this.i(b)|T.i(b);return new s(w,this.h|T.h)},n.xor=function(T){for(var _=Math.max(this.g.length,T.g.length),w=[],b=0;b<_;b++)w[b]=this.i(b)^T.i(b);return new s(w,this.h^T.h)};function be(T){for(var _=T.g.length+1,w=[],b=0;b<_;b++)w[b]=T.i(b)<<1|T.i(b-1)>>>31;return new s(w,T.h)}function te(T,_){var w=_>>5;_%=32;for(var b=T.g.length-w,C=[],R=0;R<b;R++)C[R]=0<_?T.i(R+w)>>>_|T.i(R+w+1)<<32-_:T.i(R+w);return new s(C,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,dT=lO.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=d,li=lO.Integer=s}).apply(typeof uO<"u"?uO:typeof self<"u"?self:typeof window<"u"?window:{});var Fg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},di={};var hT,D9,uc,fT,Zl,Lg,pT,gT,mT;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,h,p){return u==Array.prototype||u==Object.prototype||(u[h]=p.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fg=="object"&&Fg];for(var h=0;h<u.length;++h){var p=u[h];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=t(this);function i(u,h){if(h)e:{var p=r;u=u.split(".");for(var y=0;y<u.length-1;y++){var S=u[y];if(!(S in p))break e;p=p[S]}u=u[u.length-1],y=p[u],h=h(y),h!=y&&h!=null&&e(p,u,{configurable:!0,writable:!0,value:h})}}function o(u,h){u instanceof String&&(u+="");var p=0,y=!1,S={next:function(){if(!y&&p<u.length){var N=p++;return{value:h(N,u[N]),done:!1}}return y=!0,{done:!0,value:void 0}}};return S[Symbol.iterator]=function(){return S},S}i("Array.prototype.values",function(u){return u||function(){return o(this,function(h,p){return p})}});var s=s||{},a=this||self;function c(u){var h=typeof u;return h=h!="object"?h:u?Array.isArray(u)?"array":h:"null",h=="array"||h=="object"&&typeof u.length=="number"}function l(u){var h=typeof u;return h=="object"&&u!=null||h=="function"}function d(u,h,p){return u.call.apply(u.bind,arguments)}function f(u,h,p){if(!u)throw Error();if(2<arguments.length){var y=Array.prototype.slice.call(arguments,2);return function(){var S=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(S,y),u.apply(h,S)}}return function(){return u.apply(h,arguments)}}function g(u,h,p){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,g.apply(null,arguments)}function m(u,h){var p=Array.prototype.slice.call(arguments,1);return function(){var y=p.slice();return y.push.apply(y,arguments),u.apply(this,y)}}function E(u,h){function p(){}p.prototype=h.prototype,u.aa=h.prototype,u.prototype=new p,u.prototype.constructor=u,u.Qb=function(y,S,N){for(var U=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)U[ke-2]=arguments[ke];return h.prototype[S].apply(y,U)}}function A(u){let h=u.length;if(0<h){let p=Array(h);for(let y=0;y<h;y++)p[y]=u[y];return p}return[]}function D(u,h){for(let p=1;p<arguments.length;p++){let y=arguments[p];if(c(y)){let S=u.length||0,N=y.length||0;u.length=S+N;for(let U=0;U<N;U++)u[S+U]=y[U]}else u.push(y)}}class M{constructor(h,p){this.i=h,this.j=p,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function j(u){return/^[\s\xa0]*$/.test(u)}function q(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function W(u){return W[" "](u),u}W[" "]=function(){};var be=q().indexOf("Gecko")!=-1&&!(q().toLowerCase().indexOf("webkit")!=-1&&q().indexOf("Edge")==-1)&&!(q().indexOf("Trident")!=-1||q().indexOf("MSIE")!=-1)&&q().indexOf("Edge")==-1;function te(u,h,p){for(let y in u)h.call(p,u[y],y,u)}function T(u,h){for(let p in u)h.call(void 0,u[p],p,u)}function _(u){let h={};for(let p in u)h[p]=u[p];return h}let w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(u,h){let p,y;for(let S=1;S<arguments.length;S++){y=arguments[S];for(p in y)u[p]=y[p];for(let N=0;N<w.length;N++)p=w[N],Object.prototype.hasOwnProperty.call(y,p)&&(u[p]=y[p])}}function C(u){var h=1;u=u.split(":");let p=[];for(;0<h&&u.length;)p.push(u.shift()),h--;return u.length&&p.push(u.join(":")),p}function R(u){a.setTimeout(()=>{throw u},0)}function I(){var u=ve;let h=null;return u.g&&(h=u.g,u.g=u.g.next,u.g||(u.h=null),h.next=null),h}class Dn{constructor(){this.h=this.g=null}add(h,p){let y=Ei.get();y.set(h,p),this.h?this.h.next=y:this.g=y,this.h=y}}var Ei=new M(()=>new K,u=>u.reset());class K{constructor(){this.next=this.g=this.h=null}set(h,p){this.h=h,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let Y,Z=!1,ve=new Dn,tt=()=>{let u=a.Promise.resolve(void 0);Y=()=>{u.then(Cn)}};var Cn=()=>{for(var u;u=I();){try{u.h.call(u.g)}catch(p){R(p)}var h=Ei;h.j(u),100>h.h&&(h.h++,u.next=h.g,h.g=u)}Z=!1};function Ke(){this.s=this.s,this.C=this.C}Ke.prototype.s=!1,Ke.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ke.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Fe(u,h){this.type=u,this.g=this.target=h,this.defaultPrevented=!1}Fe.prototype.h=function(){this.defaultPrevented=!0};var Le=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,h=Object.defineProperty({},"passive",{get:function(){u=!0}});try{let p=()=>{};a.addEventListener("test",p,h),a.removeEventListener("test",p,h)}catch{}return u})();function wi(u,h){if(Fe.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var p=this.type=u.type,y=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=h,h=u.relatedTarget){if(be){e:{try{W(h.nodeName);var S=!0;break e}catch{}S=!1}S||(h=null)}}else p=="mouseover"?h=u.fromElement:p=="mouseout"&&(h=u.toElement);this.relatedTarget=h,y?(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Zm[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&wi.aa.h.call(this)}}E(wi,Fe);var Zm={2:"touch",3:"pen",4:"mouse"};wi.prototype.h=function(){wi.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Qe="closure_listenable_"+(1e6*Math.random()|0),Fr=0;function nn(u,h,p,y,S){this.listener=u,this.proxy=null,this.src=h,this.type=p,this.capture=!!y,this.ha=S,this.key=++Fr,this.da=this.fa=!1}function Lr(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ii(u){this.src=u,this.g={},this.h=0}Ii.prototype.add=function(u,h,p,y,S){var N=u.toString();u=this.g[N],u||(u=this.g[N]=[],this.h++);var U=ey(u,h,y,S);return-1<U?(h=u[U],p||(h.fa=!1)):(h=new nn(h,this.src,N,!!y,S),h.fa=p,u.push(h)),h};function Xm(u,h){var p=h.type;if(p in u.g){var y=u.g[p],S=Array.prototype.indexOf.call(y,h,void 0),N;(N=0<=S)&&Array.prototype.splice.call(y,S,1),N&&(Lr(h),u.g[p].length==0&&(delete u.g[p],u.h--))}}function ey(u,h,p,y){for(var S=0;S<u.length;++S){var N=u[S];if(!N.da&&N.listener==h&&N.capture==!!p&&N.ha==y)return S}return-1}var ty="closure_lm_"+(1e6*Math.random()|0),ny={};function eC(u,h,p,y,S){if(y&&y.once)return nC(u,h,p,y,S);if(Array.isArray(h)){for(var N=0;N<h.length;N++)eC(u,h[N],p,y,S);return null}return p=sy(p),u&&u[Qe]?u.K(h,p,l(y)?!!y.capture:!!y,S):tC(u,h,p,!1,y,S)}function tC(u,h,p,y,S,N){if(!h)throw Error("Invalid event type");var U=l(S)?!!S.capture:!!S,ke=iy(u);if(ke||(u[ty]=ke=new Ii(u)),p=ke.add(h,p,y,U,N),p.proxy)return p;if(y=ML(),p.proxy=y,y.src=u,y.listener=p,u.addEventListener)Le||(S=U),S===void 0&&(S=!1),u.addEventListener(h.toString(),y,S);else if(u.attachEvent)u.attachEvent(iC(h.toString()),y);else if(u.addListener&&u.removeListener)u.addListener(y);else throw Error("addEventListener and attachEvent are unavailable.");return p}function ML(){function u(p){return h.call(u.src,u.listener,p)}let h=PL;return u}function nC(u,h,p,y,S){if(Array.isArray(h)){for(var N=0;N<h.length;N++)nC(u,h[N],p,y,S);return null}return p=sy(p),u&&u[Qe]?u.L(h,p,l(y)?!!y.capture:!!y,S):tC(u,h,p,!0,y,S)}function rC(u,h,p,y,S){if(Array.isArray(h))for(var N=0;N<h.length;N++)rC(u,h[N],p,y,S);else y=l(y)?!!y.capture:!!y,p=sy(p),u&&u[Qe]?(u=u.i,h=String(h).toString(),h in u.g&&(N=u.g[h],p=ey(N,p,y,S),-1<p&&(Lr(N[p]),Array.prototype.splice.call(N,p,1),N.length==0&&(delete u.g[h],u.h--)))):u&&(u=iy(u))&&(h=u.g[h.toString()],u=-1,h&&(u=ey(h,p,y,S)),(p=-1<u?h[u]:null)&&ry(p))}function ry(u){if(typeof u!="number"&&u&&!u.da){var h=u.src;if(h&&h[Qe])Xm(h.i,u);else{var p=u.type,y=u.proxy;h.removeEventListener?h.removeEventListener(p,y,u.capture):h.detachEvent?h.detachEvent(iC(p),y):h.addListener&&h.removeListener&&h.removeListener(y),(p=iy(h))?(Xm(p,u),p.h==0&&(p.src=null,h[ty]=null)):Lr(u)}}}function iC(u){return u in ny?ny[u]:ny[u]="on"+u}function PL(u,h){if(u.da)u=!0;else{h=new wi(h,this);var p=u.listener,y=u.ha||u.src;u.fa&&ry(u),u=p.call(y,h)}return u}function iy(u){return u=u[ty],u instanceof Ii?u:null}var oy="__closure_events_fn_"+(1e9*Math.random()>>>0);function sy(u){return typeof u=="function"?u:(u[oy]||(u[oy]=function(h){return u.handleEvent(h)}),u[oy])}function xt(){Ke.call(this),this.i=new Ii(this),this.M=this,this.F=null}E(xt,Ke),xt.prototype[Qe]=!0,xt.prototype.removeEventListener=function(u,h,p,y){rC(this,u,h,p,y)};function Wt(u,h){var p,y=u.F;if(y)for(p=[];y;y=y.F)p.push(y);if(u=u.M,y=h.type||h,typeof h=="string")h=new Fe(h,u);else if(h instanceof Fe)h.target=h.target||u;else{var S=h;h=new Fe(y,u),b(h,S)}if(S=!0,p)for(var N=p.length-1;0<=N;N--){var U=h.g=p[N];S=Sd(U,y,!0,h)&&S}if(U=h.g=u,S=Sd(U,y,!0,h)&&S,S=Sd(U,y,!1,h)&&S,p)for(N=0;N<p.length;N++)U=h.g=p[N],S=Sd(U,y,!1,h)&&S}xt.prototype.N=function(){if(xt.aa.N.call(this),this.i){var u=this.i,h;for(h in u.g){for(var p=u.g[h],y=0;y<p.length;y++)Lr(p[y]);delete u.g[h],u.h--}}this.F=null},xt.prototype.K=function(u,h,p,y){return this.i.add(String(u),h,!1,p,y)},xt.prototype.L=function(u,h,p,y){return this.i.add(String(u),h,!0,p,y)};function Sd(u,h,p,y){if(h=u.i.g[String(h)],!h)return!0;h=h.concat();for(var S=!0,N=0;N<h.length;++N){var U=h[N];if(U&&!U.da&&U.capture==p){var ke=U.listener,St=U.ha||U.src;U.fa&&Xm(u.i,U),S=ke.call(St,y)!==!1&&S}}return S&&!y.defaultPrevented}function oC(u,h,p){if(typeof u=="function")p&&(u=g(u,p));else if(u&&typeof u.handleEvent=="function")u=g(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:a.setTimeout(u,h||0)}function sC(u){u.g=oC(()=>{u.g=null,u.i&&(u.i=!1,sC(u))},u.l);let h=u.h;u.h=null,u.m.apply(null,h)}class kL extends Ke{constructor(h,p){super(),this.m=h,this.l=p,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:sC(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $c(u){Ke.call(this),this.h=u,this.g={}}E($c,Ke);var aC=[];function cC(u){te(u.g,function(h,p){this.g.hasOwnProperty(p)&&ry(h)},u),u.g={}}$c.prototype.N=function(){$c.aa.N.call(this),cC(this)},$c.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ay=a.JSON.stringify,xL=a.JSON.parse,OL=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function cy(){}cy.prototype.h=null;function uC(u){return u.h||(u.h=u.i())}function lC(){}var Hc={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function uy(){Fe.call(this,"d")}E(uy,Fe);function ly(){Fe.call(this,"c")}E(ly,Fe);var Co={},dC=null;function Ad(){return dC=dC||new xt}Co.La="serverreachability";function hC(u){Fe.call(this,Co.La,u)}E(hC,Fe);function qc(u){let h=Ad();Wt(h,new hC(h))}Co.STAT_EVENT="statevent";function fC(u,h){Fe.call(this,Co.STAT_EVENT,u),this.stat=h}E(fC,Fe);function Kt(u){let h=Ad();Wt(h,new fC(h,u))}Co.Ma="timingevent";function pC(u,h){Fe.call(this,Co.Ma,u),this.size=h}E(pC,Fe);function zc(u,h){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},h)}function Gc(){this.g=!0}Gc.prototype.xa=function(){this.g=!1};function FL(u,h,p,y,S,N){u.info(function(){if(u.g)if(N)for(var U="",ke=N.split("&"),St=0;St<ke.length;St++){var Ce=ke[St].split("=");if(1<Ce.length){var Ot=Ce[0];Ce=Ce[1];var Ft=Ot.split("_");U=2<=Ft.length&&Ft[1]=="type"?U+(Ot+"="+Ce+"&"):U+(Ot+"=redacted&")}}else U=null;else U=N;return"XMLHTTP REQ ("+y+") [attempt "+S+"]: "+h+`
`+p+`
`+U})}function LL(u,h,p,y,S,N,U){u.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+S+"]: "+h+`
`+p+`
`+N+" "+U})}function Ws(u,h,p,y){u.info(function(){return"XMLHTTP TEXT ("+h+"): "+jL(u,p)+(y?" "+y:"")})}function VL(u,h){u.info(function(){return"TIMEOUT: "+h})}Gc.prototype.info=function(){};function jL(u,h){if(!u.g)return h;if(!h)return null;try{var p=JSON.parse(h);if(p){for(u=0;u<p.length;u++)if(Array.isArray(p[u])){var y=p[u];if(!(2>y.length)){var S=y[1];if(Array.isArray(S)&&!(1>S.length)){var N=S[0];if(N!="noop"&&N!="stop"&&N!="close")for(var U=1;U<S.length;U++)S[U]=""}}}}return ay(p)}catch{return h}}var Rd={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},gC={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},dy;function Nd(){}E(Nd,cy),Nd.prototype.g=function(){return new XMLHttpRequest},Nd.prototype.i=function(){return{}},dy=new Nd;function Ti(u,h,p,y){this.j=u,this.i=h,this.l=p,this.R=y||1,this.U=new $c(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new mC}function mC(){this.i=null,this.g="",this.h=!1}var yC={},hy={};function fy(u,h,p){u.L=1,u.v=xd(Vr(h)),u.m=p,u.P=!0,vC(u,null)}function vC(u,h){u.F=Date.now(),Md(u),u.A=Vr(u.v);var p=u.A,y=u.R;Array.isArray(y)||(y=[String(y)]),PC(p.i,"t",y),u.C=0,p=u.j.J,u.h=new mC,u.g=YC(u.j,p?h:null,!u.m),0<u.O&&(u.M=new kL(g(u.Y,u,u.g),u.O)),h=u.U,p=u.g,y=u.ca;var S="readystatechange";Array.isArray(S)||(S&&(aC[0]=S.toString()),S=aC);for(var N=0;N<S.length;N++){var U=eC(p,S[N],y||h.handleEvent,!1,h.h||h);if(!U)break;h.g[U.key]=U}h=u.H?_(u.H):{},u.m?(u.u||(u.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,h)):(u.u="GET",u.g.ea(u.A,u.u,null,h)),qc(),FL(u.i,u.u,u.A,u.l,u.R,u.m)}Ti.prototype.ca=function(u){u=u.target;let h=this.M;h&&jr(u)==3?h.j():this.Y(u)},Ti.prototype.Y=function(u){try{if(u==this.g)e:{let Ft=jr(this.g);var h=this.g.Ba();let Ys=this.g.Z();if(!(3>Ft)&&(Ft!=3||this.g&&(this.h.h||this.g.oa()||jC(this.g)))){this.J||Ft!=4||h==7||(h==8||0>=Ys?qc(3):qc(2)),py(this);var p=this.g.Z();this.X=p;t:if(_C(this)){var y=jC(this.g);u="";var S=y.length,N=jr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){So(this),Wc(this);var U="";break t}this.h.i=new a.TextDecoder}for(h=0;h<S;h++)this.h.h=!0,u+=this.h.i.decode(y[h],{stream:!(N&&h==S-1)});y.length=0,this.h.g+=u,this.C=0,U=this.h.g}else U=this.g.oa();if(this.o=p==200,LL(this.i,this.u,this.A,this.l,this.R,Ft,p),this.o){if(this.T&&!this.K){t:{if(this.g){var ke,St=this.g;if((ke=St.g?St.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(ke)){var Ce=ke;break t}}Ce=null}if(p=Ce)Ws(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,gy(this,p);else{this.o=!1,this.s=3,Kt(12),So(this),Wc(this);break e}}if(this.P){p=!0;let jn;for(;!this.J&&this.C<U.length;)if(jn=UL(this,U),jn==hy){Ft==4&&(this.s=4,Kt(14),p=!1),Ws(this.i,this.l,null,"[Incomplete Response]");break}else if(jn==yC){this.s=4,Kt(15),Ws(this.i,this.l,U,"[Invalid Chunk]"),p=!1;break}else Ws(this.i,this.l,jn,null),gy(this,jn);if(_C(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ft!=4||U.length!=0||this.h.h||(this.s=1,Kt(16),p=!1),this.o=this.o&&p,!p)Ws(this.i,this.l,U,"[Invalid Chunked Response]"),So(this),Wc(this);else if(0<U.length&&!this.W){this.W=!0;var Ot=this.j;Ot.g==this&&Ot.ba&&!Ot.M&&(Ot.j.info("Great, no buffering proxy detected. Bytes received: "+U.length),wy(Ot),Ot.M=!0,Kt(11))}}else Ws(this.i,this.l,U,null),gy(this,U);Ft==4&&So(this),this.o&&!this.J&&(Ft==4?GC(this.j,this):(this.o=!1,Md(this)))}else rV(this.g),p==400&&0<U.indexOf("Unknown SID")?(this.s=3,Kt(12)):(this.s=0,Kt(13)),So(this),Wc(this)}}}catch{}finally{}};function _C(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function UL(u,h){var p=u.C,y=h.indexOf(`
`,p);return y==-1?hy:(p=Number(h.substring(p,y)),isNaN(p)?yC:(y+=1,y+p>h.length?hy:(h=h.slice(y,y+p),u.C=y+p,h)))}Ti.prototype.cancel=function(){this.J=!0,So(this)};function Md(u){u.S=Date.now()+u.I,EC(u,u.I)}function EC(u,h){if(u.B!=null)throw Error("WatchDog timer not null");u.B=zc(g(u.ba,u),h)}function py(u){u.B&&(a.clearTimeout(u.B),u.B=null)}Ti.prototype.ba=function(){this.B=null;let u=Date.now();0<=u-this.S?(VL(this.i,this.A),this.L!=2&&(qc(),Kt(17)),So(this),this.s=2,Wc(this)):EC(this,this.S-u)};function Wc(u){u.j.G==0||u.J||GC(u.j,u)}function So(u){py(u);var h=u.M;h&&typeof h.ma=="function"&&h.ma(),u.M=null,cC(u.U),u.g&&(h=u.g,u.g=null,h.abort(),h.ma())}function gy(u,h){try{var p=u.j;if(p.G!=0&&(p.g==u||my(p.h,u))){if(!u.K&&my(p.h,u)&&p.G==3){try{var y=p.Da.g.parse(h)}catch{y=null}if(Array.isArray(y)&&y.length==3){var S=y;if(S[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<u.F)jd(p),Ld(p);else break e;Ey(p),Kt(18)}}else p.za=S[1],0<p.za-p.T&&37500>S[2]&&p.F&&p.v==0&&!p.C&&(p.C=zc(g(p.Za,p),6e3));if(1>=TC(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else Ro(p,11)}else if((u.K||p.g==u)&&jd(p),!j(h))for(S=p.Da.g.parse(h),h=0;h<S.length;h++){let Ce=S[h];if(p.T=Ce[0],Ce=Ce[1],p.G==2)if(Ce[0]=="c"){p.K=Ce[1],p.ia=Ce[2];let Ot=Ce[3];Ot!=null&&(p.la=Ot,p.j.info("VER="+p.la));let Ft=Ce[4];Ft!=null&&(p.Aa=Ft,p.j.info("SVER="+p.Aa));let Ys=Ce[5];Ys!=null&&typeof Ys=="number"&&0<Ys&&(y=1.5*Ys,p.L=y,p.j.info("backChannelRequestTimeoutMs_="+y)),y=p;let jn=u.g;if(jn){let Bd=jn.g?jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Bd){var N=y.h;N.g||Bd.indexOf("spdy")==-1&&Bd.indexOf("quic")==-1&&Bd.indexOf("h2")==-1||(N.j=N.l,N.g=new Set,N.h&&(yy(N,N.h),N.h=null))}if(y.D){let Iy=jn.g?jn.g.getResponseHeader("X-HTTP-Session-Id"):null;Iy&&(y.ya=Iy,Ve(y.I,y.D,Iy))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-u.F,p.j.info("Handshake RTT: "+p.R+"ms")),y=p;var U=u;if(y.qa=QC(y,y.J?y.ia:null,y.W),U.K){bC(y.h,U);var ke=U,St=y.L;St&&(ke.I=St),ke.B&&(py(ke),Md(ke)),y.g=U}else qC(y);0<p.i.length&&Vd(p)}else Ce[0]!="stop"&&Ce[0]!="close"||Ro(p,7);else p.G==3&&(Ce[0]=="stop"||Ce[0]=="close"?Ce[0]=="stop"?Ro(p,7):_y(p):Ce[0]!="noop"&&p.l&&p.l.ta(Ce),p.v=0)}}qc(4)}catch{}}var BL=class{constructor(u,h){this.g=u,this.map=h}};function wC(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function IC(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function TC(u){return u.h?1:u.g?u.g.size:0}function my(u,h){return u.h?u.h==h:u.g?u.g.has(h):!1}function yy(u,h){u.g?u.g.add(h):u.h=h}function bC(u,h){u.h&&u.h==h?u.h=null:u.g&&u.g.has(h)&&u.g.delete(h)}wC.prototype.cancel=function(){if(this.i=DC(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let u of this.g.values())u.cancel();this.g.clear()}};function DC(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let h=u.i;for(let p of u.g.values())h=h.concat(p.D);return h}return A(u.i)}function $L(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(c(u)){for(var h=[],p=u.length,y=0;y<p;y++)h.push(u[y]);return h}h=[],p=0;for(y in u)h[p++]=u[y];return h}function HL(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(c(u)||typeof u=="string"){var h=[];u=u.length;for(var p=0;p<u;p++)h.push(p);return h}h=[],p=0;for(let y in u)h[p++]=y;return h}}}function CC(u,h){if(u.forEach&&typeof u.forEach=="function")u.forEach(h,void 0);else if(c(u)||typeof u=="string")Array.prototype.forEach.call(u,h,void 0);else for(var p=HL(u),y=$L(u),S=y.length,N=0;N<S;N++)h.call(void 0,y[N],p&&p[N],u)}var SC=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qL(u,h){if(u){u=u.split("&");for(var p=0;p<u.length;p++){var y=u[p].indexOf("="),S=null;if(0<=y){var N=u[p].substring(0,y);S=u[p].substring(y+1)}else N=u[p];h(N,S?decodeURIComponent(S.replace(/\+/g," ")):"")}}}function Ao(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Ao){this.h=u.h,Pd(this,u.j),this.o=u.o,this.g=u.g,kd(this,u.s),this.l=u.l;var h=u.i,p=new Yc;p.i=h.i,h.g&&(p.g=new Map(h.g),p.h=h.h),AC(this,p),this.m=u.m}else u&&(h=String(u).match(SC))?(this.h=!1,Pd(this,h[1]||"",!0),this.o=Kc(h[2]||""),this.g=Kc(h[3]||"",!0),kd(this,h[4]),this.l=Kc(h[5]||"",!0),AC(this,h[6]||"",!0),this.m=Kc(h[7]||"")):(this.h=!1,this.i=new Yc(null,this.h))}Ao.prototype.toString=function(){var u=[],h=this.j;h&&u.push(Qc(h,RC,!0),":");var p=this.g;return(p||h=="file")&&(u.push("//"),(h=this.o)&&u.push(Qc(h,RC,!0),"@"),u.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&u.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(Qc(p,p.charAt(0)=="/"?WL:GL,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",Qc(p,QL)),u.join("")};function Vr(u){return new Ao(u)}function Pd(u,h,p){u.j=p?Kc(h,!0):h,u.j&&(u.j=u.j.replace(/:$/,""))}function kd(u,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);u.s=h}else u.s=null}function AC(u,h,p){h instanceof Yc?(u.i=h,YL(u.i,u.h)):(p||(h=Qc(h,KL)),u.i=new Yc(h,u.h))}function Ve(u,h,p){u.i.set(h,p)}function xd(u){return Ve(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Kc(u,h){return u?h?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Qc(u,h,p){return typeof u=="string"?(u=encodeURI(u).replace(h,zL),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function zL(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var RC=/[#\/\?@]/g,GL=/[#\?:]/g,WL=/[#\?]/g,KL=/[#\?@]/g,QL=/#/g;function Yc(u,h){this.h=this.g=null,this.i=u||null,this.j=!!h}function bi(u){u.g||(u.g=new Map,u.h=0,u.i&&qL(u.i,function(h,p){u.add(decodeURIComponent(h.replace(/\+/g," ")),p)}))}n=Yc.prototype,n.add=function(u,h){bi(this),this.i=null,u=Ks(this,u);var p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(h),this.h+=1,this};function NC(u,h){bi(u),h=Ks(u,h),u.g.has(h)&&(u.i=null,u.h-=u.g.get(h).length,u.g.delete(h))}function MC(u,h){return bi(u),h=Ks(u,h),u.g.has(h)}n.forEach=function(u,h){bi(this),this.g.forEach(function(p,y){p.forEach(function(S){u.call(h,S,y,this)},this)},this)},n.na=function(){bi(this);let u=Array.from(this.g.values()),h=Array.from(this.g.keys()),p=[];for(let y=0;y<h.length;y++){let S=u[y];for(let N=0;N<S.length;N++)p.push(h[y])}return p},n.V=function(u){bi(this);let h=[];if(typeof u=="string")MC(this,u)&&(h=h.concat(this.g.get(Ks(this,u))));else{u=Array.from(this.g.values());for(let p=0;p<u.length;p++)h=h.concat(u[p])}return h},n.set=function(u,h){return bi(this),this.i=null,u=Ks(this,u),MC(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[h]),this.h+=1,this},n.get=function(u,h){return u?(u=this.V(u),0<u.length?String(u[0]):h):h};function PC(u,h,p){NC(u,h),0<p.length&&(u.i=null,u.g.set(Ks(u,h),A(p)),u.h+=p.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let u=[],h=Array.from(this.g.keys());for(var p=0;p<h.length;p++){var y=h[p];let N=encodeURIComponent(String(y)),U=this.V(y);for(y=0;y<U.length;y++){var S=N;U[y]!==""&&(S+="="+encodeURIComponent(String(U[y]))),u.push(S)}}return this.i=u.join("&")};function Ks(u,h){return h=String(h),u.j&&(h=h.toLowerCase()),h}function YL(u,h){h&&!u.j&&(bi(u),u.i=null,u.g.forEach(function(p,y){var S=y.toLowerCase();y!=S&&(NC(this,y),PC(this,S,p))},u)),u.j=h}function JL(u,h){let p=new Gc;if(a.Image){let y=new Image;y.onload=m(Di,p,"TestLoadImage: loaded",!0,h,y),y.onerror=m(Di,p,"TestLoadImage: error",!1,h,y),y.onabort=m(Di,p,"TestLoadImage: abort",!1,h,y),y.ontimeout=m(Di,p,"TestLoadImage: timeout",!1,h,y),a.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=u}else h(!1)}function ZL(u,h){let p=new Gc,y=new AbortController,S=setTimeout(()=>{y.abort(),Di(p,"TestPingServer: timeout",!1,h)},1e4);fetch(u,{signal:y.signal}).then(N=>{clearTimeout(S),N.ok?Di(p,"TestPingServer: ok",!0,h):Di(p,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(S),Di(p,"TestPingServer: error",!1,h)})}function Di(u,h,p,y,S){try{S&&(S.onload=null,S.onerror=null,S.onabort=null,S.ontimeout=null),y(p)}catch{}}function XL(){this.g=new OL}function eV(u,h,p){let y=p||"";try{CC(u,function(S,N){let U=S;l(S)&&(U=ay(S)),h.push(y+N+"="+encodeURIComponent(U))})}catch(S){throw h.push(y+"type="+encodeURIComponent("_badmap")),S}}function Jc(u){this.l=u.Ub||null,this.j=u.eb||!1}E(Jc,cy),Jc.prototype.g=function(){return new Od(this.l,this.j)},Jc.prototype.i=(function(u){return function(){return u}})({});function Od(u,h){xt.call(this),this.D=u,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(Od,xt),n=Od.prototype,n.open=function(u,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=h,this.readyState=1,Xc(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(h.body=u),(this.D||a).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Zc(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Xc(this)),this.g&&(this.readyState=3,Xc(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;kC(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function kC(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var h=u.value?u.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!u.done}))&&(this.response=this.responseText+=h)}u.done?Zc(this):Xc(this),this.readyState==3&&kC(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,Zc(this))},n.Qa=function(u){this.g&&(this.response=u,Zc(this))},n.ga=function(){this.g&&Zc(this)};function Zc(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Xc(u)}n.setRequestHeader=function(u,h){this.u.append(u,h)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let u=[],h=this.h.entries();for(var p=h.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=h.next();return u.join(`\r
`)};function Xc(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Od.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function xC(u){let h="";return te(u,function(p,y){h+=y,h+=":",h+=p,h+=`\r
`}),h}function vy(u,h,p){e:{for(y in p){var y=!1;break e}y=!0}y||(p=xC(p),typeof u=="string"?p!=null&&encodeURIComponent(String(p)):Ve(u,h,p))}function Ye(u){xt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(Ye,xt);var tV=/^https?$/i,nV=["POST","PUT"];n=Ye.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,h,p,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);h=h?h.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():dy.g(),this.v=this.o?uC(this.o):uC(dy),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(h,String(u),!0),this.B=!1}catch(N){OC(this,N);return}if(u=p||"",p=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var S in y)p.set(S,y[S]);else if(typeof y.keys=="function"&&typeof y.get=="function")for(let N of y.keys())p.set(N,y.get(N));else throw Error("Unknown input type for opt_headers: "+String(y));y=Array.from(p.keys()).find(N=>N.toLowerCase()=="content-type"),S=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(nV,h,void 0))||y||S||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[N,U]of p)this.g.setRequestHeader(N,U);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{VC(this),this.u=!0,this.g.send(u),this.u=!1}catch(N){OC(this,N)}};function OC(u,h){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=h,u.m=5,FC(u),Fd(u)}function FC(u){u.A||(u.A=!0,Wt(u,"complete"),Wt(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Wt(this,"complete"),Wt(this,"abort"),Fd(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fd(this,!0)),Ye.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?LC(this):this.bb())},n.bb=function(){LC(this)};function LC(u){if(u.h&&typeof s<"u"&&(!u.v[1]||jr(u)!=4||u.Z()!=2)){if(u.u&&jr(u)==4)oC(u.Ea,0,u);else if(Wt(u,"readystatechange"),jr(u)==4){u.h=!1;try{let U=u.Z();e:switch(U){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var p;if(!(p=h)){var y;if(y=U===0){var S=String(u.D).match(SC)[1]||null;!S&&a.self&&a.self.location&&(S=a.self.location.protocol.slice(0,-1)),y=!tV.test(S?S.toLowerCase():"")}p=y}if(p)Wt(u,"complete"),Wt(u,"success");else{u.m=6;try{var N=2<jr(u)?u.g.statusText:""}catch{N=""}u.l=N+" ["+u.Z()+"]",FC(u)}}finally{Fd(u)}}}}function Fd(u,h){if(u.g){VC(u);let p=u.g,y=u.v[0]?()=>{}:null;u.g=null,u.v=null,h||Wt(u,"ready");try{p.onreadystatechange=y}catch{}}}function VC(u){u.I&&(a.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function jr(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<jr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var h=this.g.responseText;return u&&h.indexOf(u)==0&&(h=h.substring(u.length)),xL(h)}};function jC(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function rV(u){let h={};u=(u.g&&2<=jr(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let y=0;y<u.length;y++){if(j(u[y]))continue;var p=C(u[y]);let S=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();let N=h[S]||[];h[S]=N,N.push(p)}T(h,function(y){return y.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function eu(u,h,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||h}function UC(u){this.Aa=0,this.i=[],this.j=new Gc,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=eu("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=eu("baseRetryDelayMs",5e3,u),this.cb=eu("retryDelaySeedMs",1e4,u),this.Wa=eu("forwardChannelMaxRetries",2,u),this.wa=eu("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new wC(u&&u.concurrentRequestLimit),this.Da=new XL,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=UC.prototype,n.la=8,n.G=1,n.connect=function(u,h,p,y){Kt(0),this.W=u,this.H=h||{},p&&y!==void 0&&(this.H.OSID=p,this.H.OAID=y),this.F=this.X,this.I=QC(this,null,this.W),Vd(this)};function _y(u){if(BC(u),u.G==3){var h=u.U++,p=Vr(u.I);if(Ve(p,"SID",u.K),Ve(p,"RID",h),Ve(p,"TYPE","terminate"),tu(u,p),h=new Ti(u,u.j,h),h.L=2,h.v=xd(Vr(p)),p=!1,a.navigator&&a.navigator.sendBeacon)try{p=a.navigator.sendBeacon(h.v.toString(),"")}catch{}!p&&a.Image&&(new Image().src=h.v,p=!0),p||(h.g=YC(h.j,null),h.g.ea(h.v)),h.F=Date.now(),Md(h)}KC(u)}function Ld(u){u.g&&(wy(u),u.g.cancel(),u.g=null)}function BC(u){Ld(u),u.u&&(a.clearTimeout(u.u),u.u=null),jd(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function Vd(u){if(!IC(u.h)&&!u.s){u.s=!0;var h=u.Ga;Y||tt(),Z||(Y(),Z=!0),ve.add(h,u),u.B=0}}function iV(u,h){return TC(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=h.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=zc(g(u.Ga,u,h),WC(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;let S=new Ti(this,this.j,u),N=this.o;if(this.S&&(N?(N=_(N),b(N,this.S)):N=this.S),this.m!==null||this.O||(S.H=N,N=null),this.P)e:{for(var h=0,p=0;p<this.i.length;p++){t:{var y=this.i[p];if("__data__"in y.map&&(y=y.map.__data__,typeof y=="string")){y=y.length;break t}y=void 0}if(y===void 0)break;if(h+=y,4096<h){h=p;break e}if(h===4096||p===this.i.length-1){h=p+1;break e}}h=1e3}else h=1e3;h=HC(this,S,h),p=Vr(this.I),Ve(p,"RID",u),Ve(p,"CVER",22),this.D&&Ve(p,"X-HTTP-Session-Id",this.D),tu(this,p),N&&(this.O?h="headers="+encodeURIComponent(String(xC(N)))+"&"+h:this.m&&vy(p,this.m,N)),yy(this.h,S),this.Ua&&Ve(p,"TYPE","init"),this.P?(Ve(p,"$req",h),Ve(p,"SID","null"),S.T=!0,fy(S,p,null)):fy(S,p,h),this.G=2}}else this.G==3&&(u?$C(this,u):this.i.length==0||IC(this.h)||$C(this))};function $C(u,h){var p;h?p=h.l:p=u.U++;let y=Vr(u.I);Ve(y,"SID",u.K),Ve(y,"RID",p),Ve(y,"AID",u.T),tu(u,y),u.m&&u.o&&vy(y,u.m,u.o),p=new Ti(u,u.j,p,u.B+1),u.m===null&&(p.H=u.o),h&&(u.i=h.D.concat(u.i)),h=HC(u,p,1e3),p.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),yy(u.h,p),fy(p,y,h)}function tu(u,h){u.H&&te(u.H,function(p,y){Ve(h,y,p)}),u.l&&CC({},function(p,y){Ve(h,y,p)})}function HC(u,h,p){p=Math.min(u.i.length,p);var y=u.l?g(u.l.Na,u.l,u):null;e:{var S=u.i;let N=-1;for(;;){let U=["count="+p];N==-1?0<p?(N=S[0].g,U.push("ofs="+N)):N=0:U.push("ofs="+N);let ke=!0;for(let St=0;St<p;St++){let Ce=S[St].g,Ot=S[St].map;if(Ce-=N,0>Ce)N=Math.max(0,S[St].g-100),ke=!1;else try{eV(Ot,U,"req"+Ce+"_")}catch{y&&y(Ot)}}if(ke){y=U.join("&");break e}}}return u=u.i.splice(0,p),h.D=u,y}function qC(u){if(!u.g&&!u.u){u.Y=1;var h=u.Fa;Y||tt(),Z||(Y(),Z=!0),ve.add(h,u),u.v=0}}function Ey(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=zc(g(u.Fa,u),WC(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,zC(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=zc(g(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Kt(10),Ld(this),zC(this))};function wy(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function zC(u){u.g=new Ti(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var h=Vr(u.qa);Ve(h,"RID","rpc"),Ve(h,"SID",u.K),Ve(h,"AID",u.T),Ve(h,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ve(h,"TO",u.ja),Ve(h,"TYPE","xmlhttp"),tu(u,h),u.m&&u.o&&vy(h,u.m,u.o),u.L&&(u.g.I=u.L);var p=u.g;u=u.ia,p.L=1,p.v=xd(Vr(h)),p.m=null,p.P=!0,vC(p,u)}n.Za=function(){this.C!=null&&(this.C=null,Ld(this),Ey(this),Kt(19))};function jd(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function GC(u,h){var p=null;if(u.g==h){jd(u),wy(u),u.g=null;var y=2}else if(my(u.h,h))p=h.D,bC(u.h,h),y=1;else return;if(u.G!=0){if(h.o)if(y==1){p=h.m?h.m.length:0,h=Date.now()-h.F;var S=u.B;y=Ad(),Wt(y,new pC(y,p)),Vd(u)}else qC(u);else if(S=h.s,S==3||S==0&&0<h.X||!(y==1&&iV(u,h)||y==2&&Ey(u)))switch(p&&0<p.length&&(h=u.h,h.i=h.i.concat(p)),S){case 1:Ro(u,5);break;case 4:Ro(u,10);break;case 3:Ro(u,6);break;default:Ro(u,2)}}}function WC(u,h){let p=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(p*=2),p*h}function Ro(u,h){if(u.j.info("Error code "+h),h==2){var p=g(u.fb,u),y=u.Xa;let S=!y;y=new Ao(y||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Pd(y,"https"),xd(y),S?JL(y.toString(),p):ZL(y.toString(),p)}else Kt(2);u.G=0,u.l&&u.l.sa(h),KC(u),BC(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Kt(2)):(this.j.info("Failed to ping google.com"),Kt(1))};function KC(u){if(u.G=0,u.ka=[],u.l){let h=DC(u.h);(h.length!=0||u.i.length!=0)&&(D(u.ka,h),D(u.ka,u.i),u.h.i.length=0,A(u.i),u.i.length=0),u.l.ra()}}function QC(u,h,p){var y=p instanceof Ao?Vr(p):new Ao(p);if(y.g!="")h&&(y.g=h+"."+y.g),kd(y,y.s);else{var S=a.location;y=S.protocol,h=h?h+"."+S.hostname:S.hostname,S=+S.port;var N=new Ao(null);y&&Pd(N,y),h&&(N.g=h),S&&kd(N,S),p&&(N.l=p),y=N}return p=u.D,h=u.ya,p&&h&&Ve(y,p,h),Ve(y,"VER",u.la),tu(u,y),y}function YC(u,h,p){if(h&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=u.Ca&&!u.pa?new Ye(new Jc({eb:p})):new Ye(u.pa),h.Ha(u.J),h}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function JC(){}n=JC.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ud(){}Ud.prototype.g=function(u,h){return new gn(u,h)};function gn(u,h){xt.call(this),this.g=new UC(h),this.l=u,this.h=h&&h.messageUrlParams||null,u=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(u?u["X-WebChannel-Content-Type"]=h.messageContentType:u={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(u?u["X-WebChannel-Client-Profile"]=h.va:u={"X-WebChannel-Client-Profile":h.va}),this.g.S=u,(u=h&&h.Sb)&&!j(u)&&(this.g.m=u),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!j(h)&&(this.g.D=h,u=this.h,u!==null&&h in u&&(u=this.h,h in u&&delete u[h])),this.j=new Qs(this)}E(gn,xt),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){_y(this.g)},gn.prototype.o=function(u){var h=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.u&&(p={},p.__data__=ay(u),u=p);h.i.push(new BL(h.Ya++,u)),h.G==3&&Vd(h)},gn.prototype.N=function(){this.g.l=null,delete this.j,_y(this.g),delete this.g,gn.aa.N.call(this)};function ZC(u){uy.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var h=u.__sm__;if(h){e:{for(let p in h){u=p;break e}u=void 0}(this.i=u)&&(u=this.i,h=h!==null&&u in h?h[u]:void 0),this.data=h}else this.data=u}E(ZC,uy);function XC(){ly.call(this),this.status=1}E(XC,ly);function Qs(u){this.g=u}E(Qs,JC),Qs.prototype.ua=function(){Wt(this.g,"a")},Qs.prototype.ta=function(u){Wt(this.g,new ZC(u))},Qs.prototype.sa=function(u){Wt(this.g,new XC)},Qs.prototype.ra=function(){Wt(this.g,"b")},Ud.prototype.createWebChannel=Ud.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,mT=di.createWebChannelTransport=function(){return new Ud},gT=di.getStatEventTarget=function(){return Ad()},pT=di.Event=Co,Lg=di.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Rd.NO_ERROR=0,Rd.TIMEOUT=8,Rd.HTTP_ERROR=6,Zl=di.ErrorCode=Rd,gC.COMPLETE="complete",fT=di.EventType=gC,lC.EventType=Hc,Hc.OPEN="a",Hc.CLOSE="b",Hc.ERROR="c",Hc.MESSAGE="d",xt.prototype.listen=xt.prototype.K,uc=di.WebChannel=lC,D9=di.FetchXmlHttpFactory=Jc,Ye.prototype.listenOnce=Ye.prototype.L,Ye.prototype.getLastError=Ye.prototype.Ka,Ye.prototype.getLastErrorCode=Ye.prototype.Ba,Ye.prototype.getStatus=Ye.prototype.Z,Ye.prototype.getResponseJson=Ye.prototype.Oa,Ye.prototype.getResponseText=Ye.prototype.oa,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Ha,hT=di.XhrIo=Ye}).apply(typeof Fg<"u"?Fg:typeof self<"u"?self:typeof window<"u"?window:{});var dO="@firebase/firestore",hO="4.8.0";var Dt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Dt.UNAUTHENTICATED=new Dt(null),Dt.GOOGLE_CREDENTIALS=new Dt("google-credentials-uid"),Dt.FIRST_PARTY=new Dt("first-party-uid"),Dt.MOCK_USER=new Dt("mock-user");var Nc="11.10.0";var ks=new Tr("@firebase/firestore");function lc(){return ks.logLevel}function G(n,...e){if(ks.logLevel<=_e.DEBUG){let t=e.map(sD);ks.debug(`Firestore (${Nc}): ${n}`,...t)}}function pi(n,...e){if(ks.logLevel<=_e.ERROR){let t=e.map(sD);ks.error(`Firestore (${Nc}): ${n}`,...t)}}function yo(n,...e){if(ks.logLevel<=_e.WARN){let t=e.map(sD);ks.warn(`Firestore (${Nc}): ${n}`,...t)}}function sD(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function ee(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,o1(n,r,t)}function o1(n,e,t){let r=`FIRESTORE (${Nc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw pi(r),new Error(r)}function Me(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||o1(e,i,r)}function ae(n,e){return n}var k={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},H=class extends en{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var hi=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var qg=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},wT=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Dt.UNAUTHENTICATED))}shutdown(){}},IT=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},TT=class{constructor(e){this.t=e,this.currentUser=Dt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Me(this.o===void 0,42304);let r=this.i,i=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve(),o=new hi;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new hi,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(()=>v(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new hi)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Me(typeof r.accessToken=="string",31837,{l:r}),new qg(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Me(e===null||typeof e=="string",2055,{h:e}),new Dt(e)}},bT=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Dt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},DT=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new bT(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Dt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},zg=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},CT=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,hn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Me(this.o===void 0,3512);let r=o=>{o.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,G("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new zg(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Me(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new zg(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function C9(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function s1(){return new TextEncoder}var id=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=C9(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function ye(n,e){return n<e?-1:n>e?1:0}function ST(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return ye(r,i);{let o=s1(),s=S9(o.encode(fO(n,t)),o.encode(fO(e,t)));return s!==0?s:ye(r,i)}}t+=r>65535?2:1}return ye(n.length,e.length)}function fO(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function S9(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return ye(n[t],e[t]);return ye(n.length,e.length)}function vc(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var pO="__name__",Gg=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&ee(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&ee(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return ye(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):ST(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return li.fromString(e.substring(4,e.length-2))}},He=class n extends Gg{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new H(k.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},A9=/^[_a-zA-Z][_a-zA-Z0-9]*$/,bn=class n extends Gg{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return A9.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===pO}static keyField(){return new n([pO])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new H(k.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new H(k.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new H(k.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new H(k.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var X=class n{constructor(e){this.path=e}static fromPath(e){return new n(He.fromString(e))}static fromName(e){return new n(He.fromString(e).popFirst(5))}static empty(){return new n(He.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&He.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return He.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new He(e.slice()))}};function a1(n,e,t){if(!t)throw new H(k.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function R9(n,e,t,r){if(e===!0&&r===!0)throw new H(k.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function gO(n){if(!X.isDocumentKey(n))throw new H(k.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function mO(n){if(X.isDocumentKey(n))throw new H(k.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function c1(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function bm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ee(12329,{type:typeof n})}function ho(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new H(k.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=bm(n);throw new H(k.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function mt(n,e){let t={typeString:n};return e&&(t.value=e),t}function md(n,e){if(!c1(n))throw new H(k.INVALID_ARGUMENT,"JSON must be an object");let t;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}let s=n[r];if(i&&typeof s!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new H(k.INVALID_ARGUMENT,t);return!0}var yO=-62135596800,vO=1e6,yt=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*vO);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new H(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new H(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<yO)throw new H(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new H(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/vO}_compareTo(e){return this.seconds===e.seconds?ye(this.nanoseconds,e.nanoseconds):ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(md(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-yO;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};yt._jsonSchemaVersion="firestore/timestamp/1.0",yt._jsonSchema={type:mt("string",yt._jsonSchemaVersion),seconds:mt("number"),nanoseconds:mt("number")};var le=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new yt(0,0))}static max(){return new n(new yt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var od=-1,AT=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};AT.UNKNOWN_ID=-1;function N9(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=le.fromTimestamp(r===1e9?new yt(t+1,0):new yt(t,r));return new xs(i,X.empty(),e)}function M9(n){return new xs(n.readTime,n.key,od)}var xs=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(le.min(),X.empty(),od)}static max(){return new n(le.max(),X.empty(),od)}};function P9(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=X.comparator(n.documentKey,e.documentKey),t!==0?t:ye(n.largestBatchId,e.largestBatchId))}var k9="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",RT=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Mc(n){return v(this,null,function*(){if(n.code!==k.FAILED_PRECONDITION||n.message!==k9)throw n;G("LocalStore","Unexpectedly lost primary lease")})}var O=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},c=>r(c))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let c=0;c<o;c++){let l=c;t(e[l]).next(d=>{s[l]=d,++a,a===o&&r(s)},d=>i(d))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function x9(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Pc(n){return n.name==="IndexedDbTransactionError"}var aD=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ae&&this.ae(t),t}}n.ue=-1;return n})(),cD=-1;function Dm(n){return n==null}function sd(n){return n===0&&1/n==-1/0}function O9(n){return typeof n=="number"&&Number.isInteger(n)&&!sd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var u1="";function F9(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=_O(e)),e=L9(n.get(t),e);return _O(e)}function L9(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case u1:t+="";break;default:t+=o}}return t}function _O(n){return n+u1+""}var V9="remoteDocuments",l1="owner";var d1="mutationQueues";var h1="mutations";var f1="documentMutations",j9="remoteDocumentsV14";var p1="remoteDocumentGlobal";var g1="targets";var m1="targetDocuments";var y1="targetGlobal",v1="collectionParents";var _1="clientMetadata";var E1="bundles";var w1="namedQueries";var U9="indexConfiguration";var B9="indexState";var $9="indexEntries";var I1="documentOverlays";var H9="globals";var q9=[d1,h1,f1,V9,g1,l1,y1,m1,_1,p1,v1,E1,w1],zge=[...q9,I1],z9=[d1,h1,f1,j9,g1,l1,y1,m1,_1,p1,v1,E1,w1,I1],G9=z9,W9=[...G9,U9,B9,$9];var Gge=[...W9,H9];function EO(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function To(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function T1(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var et=class n{constructor(e,t){this.comparator=e,this.root=t||Nr.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Nr.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Nr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pc(this.root,e,this.comparator,!1)}getReverseIterator(){return new pc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pc(this.root,e,this.comparator,!0)}},pc=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Nr=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ee(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw ee(27949);return e+(this.isRed()?0:1)}};Nr.EMPTY=null,Nr.RED=!0,Nr.BLACK=!1;Nr.EMPTY=new class{constructor(){this.size=0}get key(){throw ee(57766)}get value(){throw ee(16141)}get color(){throw ee(16727)}get left(){throw ee(29726)}get right(){throw ee(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new Nr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Ct=class n{constructor(e){this.comparator=e,this.data=new et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Wg(this.data.getIterator())}getIteratorFrom(e){return new Wg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Wg=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Vn=class n{constructor(e){this.fields=e,e.sort(bn.comparator)}static empty(){return new n([])}unionWith(e){let t=new Ct(bn.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return vc(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var Kg=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Gt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Kg("Invalid base64 string: "+o):o}})(e);return new n(t)}static fromUint8Array(e){let t=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Gt.EMPTY_BYTE_STRING=new Gt("");var K9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gi(n){if(Me(!!n,39018),typeof n=="string"){let e=0,t=K9.exec(n);if(Me(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:$e(n.seconds),nanos:$e(n.nanos)}}function $e(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function mi(n){return typeof n=="string"?Gt.fromBase64String(n):Gt.fromUint8Array(n)}var b1="server_timestamp",D1="__type__",C1="__previous_value__",S1="__local_write_time__";function uD(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[D1])===null||t===void 0?void 0:t.stringValue)===b1}function Cm(n){let e=n.mapValue.fields[C1];return uD(e)?Cm(e):e}function ad(n){let e=gi(n.mapValue.fields[S1].timestampValue);return new yt(e.seconds,e.nanos)}var NT=class{constructor(e,t,r,i,o,s,a,c,l,d){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l,this.isUsingEmulator=d}},Qg="(default)",Yg=class n{constructor(e,t){this.projectId=e,this.database=t||Qg}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===Qg}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var lD="__type__",A1="__max__",Vg={mapValue:{fields:{__type__:{stringValue:A1}}}},dD="__vector__",_c="value";function vo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?uD(n)?4:N1(n)?9007199254740991:R1(n)?10:11:ee(28295,{value:n})}function kr(n,e){if(n===e)return!0;let t=vo(n);if(t!==vo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ad(n).isEqual(ad(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=gi(i.timestampValue),a=gi(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,o){return mi(i.bytesValue).isEqual(mi(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,o){return $e(i.geoPointValue.latitude)===$e(o.geoPointValue.latitude)&&$e(i.geoPointValue.longitude)===$e(o.geoPointValue.longitude)})(n,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return $e(i.integerValue)===$e(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=$e(i.doubleValue),a=$e(o.doubleValue);return s===a?sd(s)===sd(a):isNaN(s)&&isNaN(a)}return!1})(n,e);case 9:return vc(n.arrayValue.values||[],e.arrayValue.values||[],kr);case 10:case 11:return(function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(EO(s)!==EO(a))return!1;for(let c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!kr(s[c],a[c])))return!1;return!0})(n,e);default:return ee(52216,{left:n})}}function cd(n,e){return(n.values||[]).find(t=>kr(t,e))!==void 0}function Ec(n,e){if(n===e)return 0;let t=vo(n),r=vo(e);if(t!==r)return ye(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ye(n.booleanValue,e.booleanValue);case 2:return(function(o,s){let a=$e(o.integerValue||o.doubleValue),c=$e(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1})(n,e);case 3:return wO(n.timestampValue,e.timestampValue);case 4:return wO(ad(n),ad(e));case 5:return ST(n.stringValue,e.stringValue);case 6:return(function(o,s){let a=mi(o),c=mi(s);return a.compareTo(c)})(n.bytesValue,e.bytesValue);case 7:return(function(o,s){let a=o.split("/"),c=s.split("/");for(let l=0;l<a.length&&l<c.length;l++){let d=ye(a[l],c[l]);if(d!==0)return d}return ye(a.length,c.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,s){let a=ye($e(o.latitude),$e(s.latitude));return a!==0?a:ye($e(o.longitude),$e(s.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return IO(n.arrayValue,e.arrayValue);case 10:return(function(o,s){var a,c,l,d;let f=o.fields||{},g=s.fields||{},m=(a=f[_c])===null||a===void 0?void 0:a.arrayValue,E=(c=g[_c])===null||c===void 0?void 0:c.arrayValue,A=ye(((l=m?.values)===null||l===void 0?void 0:l.length)||0,((d=E?.values)===null||d===void 0?void 0:d.length)||0);return A!==0?A:IO(m,E)})(n.mapValue,e.mapValue);case 11:return(function(o,s){if(o===Vg.mapValue&&s===Vg.mapValue)return 0;if(o===Vg.mapValue)return 1;if(s===Vg.mapValue)return-1;let a=o.fields||{},c=Object.keys(a),l=s.fields||{},d=Object.keys(l);c.sort(),d.sort();for(let f=0;f<c.length&&f<d.length;++f){let g=ST(c[f],d[f]);if(g!==0)return g;let m=Ec(a[c[f]],l[d[f]]);if(m!==0)return m}return ye(c.length,d.length)})(n.mapValue,e.mapValue);default:throw ee(23264,{le:t})}}function wO(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ye(n,e);let t=gi(n),r=gi(e),i=ye(t.seconds,r.seconds);return i!==0?i:ye(t.nanos,r.nanos)}function IO(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=Ec(t[i],r[i]);if(o)return o}return ye(t.length,r.length)}function wc(n){return MT(n)}function MT(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){let r=gi(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return mi(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return X.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=MT(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${MT(t.fields[s])}`;return i+"}"})(n.mapValue):ee(61005,{value:n})}function Bg(n){switch(vo(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=Cm(n);return e?16+Bg(e):16;case 5:return 2*n.stringValue.length;case 6:return mi(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((i,o)=>i+Bg(o),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return To(r.fields,(o,s)=>{i+=o.length+Bg(s)}),i})(n.mapValue);default:throw ee(13486,{value:n})}}function TO(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function PT(n){return!!n&&"integerValue"in n}function hD(n){return!!n&&"arrayValue"in n}function bO(n){return!!n&&"nullValue"in n}function DO(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function $g(n){return!!n&&"mapValue"in n}function R1(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[lD])===null||t===void 0?void 0:t.stringValue)===dD}function ed(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return To(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=ed(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ed(n.arrayValue.values[t]);return e}return Object.assign({},n)}function N1(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===A1}var Kge={mapValue:{fields:{[lD]:{stringValue:dD},[_c]:{arrayValue:{}}}}};var Tn=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!$g(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ed(t)}setAll(e){let t=bn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=ed(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());$g(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return kr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];$g(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){To(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(ed(this.value))}};function M1(n){let e=[];return To(n.fields,(t,r)=>{let i=new bn([t]);if($g(r)){let o=M1(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Vn(e)}var or=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,le.min(),le.min(),le.min(),Tn.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,le.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,le.min(),le.min(),Tn.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,le.min(),le.min(),Tn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Tn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Ic=class{constructor(e,t){this.position=e,this.inclusive=t}};function CO(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=X.comparator(X.fromName(s.referenceValue),t.key):r=Ec(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function SO(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!kr(n.position[t],e.position[t]))return!1;return!0}var Os=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function Q9(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var Jg=class{},gt=class n extends Jg{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new xT(e,t,r):t==="array-contains"?new LT(e,r):t==="in"?new VT(e,r):t==="not-in"?new jT(e,r):t==="array-contains-any"?new UT(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new OT(e,r):new FT(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Ec(t,this.value)):t!==null&&vo(this.value)===vo(t)&&this.matchesComparison(Ec(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},sr=class n extends Jg{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new n(e,t)}matches(e){return P1(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function P1(n){return n.op==="and"}function k1(n){return Y9(n)&&P1(n)}function Y9(n){for(let e of n.filters)if(e instanceof sr)return!1;return!0}function kT(n){if(n instanceof gt)return n.field.canonicalString()+n.op.toString()+wc(n.value);if(k1(n))return n.filters.map(e=>kT(e)).join(",");{let e=n.filters.map(t=>kT(t)).join(",");return`${n.op}(${e})`}}function x1(n,e){return n instanceof gt?(function(r,i){return i instanceof gt&&r.op===i.op&&r.field.isEqual(i.field)&&kr(r.value,i.value)})(n,e):n instanceof sr?(function(r,i){return i instanceof sr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&x1(s,i.filters[a]),!0):!1})(n,e):void ee(19439)}function O1(n){return n instanceof gt?(function(t){return`${t.field.canonicalString()} ${t.op} ${wc(t.value)}`})(n):n instanceof sr?(function(t){return t.op.toString()+" {"+t.getFilters().map(O1).join(" ,")+"}"})(n):"Filter"}var xT=class extends gt{constructor(e,t,r){super(e,t,r),this.key=X.fromName(r.referenceValue)}matches(e){let t=X.comparator(e.key,this.key);return this.matchesComparison(t)}},OT=class extends gt{constructor(e,t){super(e,"in",t),this.keys=F1("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},FT=class extends gt{constructor(e,t){super(e,"not-in",t),this.keys=F1("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function F1(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>X.fromName(r.referenceValue))}var LT=class extends gt{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return hD(t)&&cd(t.arrayValue,this.value)}},VT=class extends gt{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&cd(this.value.arrayValue,t)}},jT=class extends gt{constructor(e,t){super(e,"not-in",t)}matches(e){if(cd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!cd(this.value.arrayValue,t)}},UT=class extends gt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!hD(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>cd(this.value.arrayValue,r))}};var BT=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Pe=null}};function AO(n,e=null,t=[],r=[],i=null,o=null,s=null){return new BT(n,e,t,r,i,o,s)}function fD(n){let e=ae(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>kT(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>(function(o){return o.field.canonicalString()+o.dir})(r)).join(","),Dm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>wc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>wc(r)).join(",")),e.Pe=t}return e.Pe}function pD(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Q9(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!x1(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!SO(n.startAt,e.startAt)&&SO(n.endAt,e.endAt)}function $T(n){return X.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var _o=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function J9(n,e,t,r,i,o,s,a){return new _o(n,e,t,r,i,o,s,a)}function gD(n){return new _o(n)}function RO(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function L1(n){return n.collectionGroup!==null}function td(n){let e=ae(n);if(e.Te===null){e.Te=[];let t=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Ct(bn.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Te.push(new Os(o,r))}),t.has(bn.keyField().canonicalString())||e.Te.push(new Os(bn.keyField(),r))}return e.Te}function Mr(n){let e=ae(n);return e.Ie||(e.Ie=Z9(e,td(n))),e.Ie}function Z9(n,e){if(n.limitType==="F")return AO(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Os(i.field,o)});let t=n.endAt?new Ic(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Ic(n.startAt.position,n.startAt.inclusive):null;return AO(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function HT(n,e){let t=n.filters.concat([e]);return new _o(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function qT(n,e,t){return new _o(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Sm(n,e){return pD(Mr(n),Mr(e))&&n.limitType===e.limitType}function V1(n){return`${fD(Mr(n))}|lt:${n.limitType}`}function dc(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>O1(i)).join(", ")}]`),Dm(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>wc(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>wc(i)).join(",")),`Target(${r})`})(Mr(n))}; limitType=${n.limitType})`}function Am(n,e){return e.isFoundDocument()&&(function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):X.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,i){for(let o of td(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(s,a,c){let l=CO(s,a,c);return s.inclusive?l<=0:l<0})(r.startAt,td(r),i)||r.endAt&&!(function(s,a,c){let l=CO(s,a,c);return s.inclusive?l>=0:l>0})(r.endAt,td(r),i))})(n,e)}function X9(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function j1(n){return(e,t)=>{let r=!1;for(let i of td(n)){let o=e5(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function e5(n,e,t){let r=n.field.isKeyField()?X.comparator(e.key,t.key):(function(o,s,a){let c=s.data.field(o),l=a.data.field(o);return c!==null&&l!==null?Ec(c,l):ee(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ee(19790,{direction:n.dir})}}var yi=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){To(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return T1(this.inner)}size(){return this.innerSize}};var t5=new et(X.comparator);function vi(){return t5}var U1=new et(X.comparator);function Xl(...n){let e=U1;for(let t of n)e=e.insert(t.key,t);return e}function B1(n){let e=U1;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Rs(){return nd()}function $1(){return nd()}function nd(){return new yi(n=>n.toString(),(n,e)=>n.isEqual(e))}var n5=new et(X.comparator),r5=new Ct(X.comparator);function we(...n){let e=r5;for(let t of n)e=e.add(t);return e}var i5=new Ct(ye);function o5(){return i5}function mD(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sd(e)?"-0":e}}function H1(n){return{integerValue:""+n}}function s5(n,e){return O9(e)?H1(e):mD(n,e)}var Tc=class{constructor(){this._=void 0}};function a5(n,e,t){return n instanceof bc?(function(i,o){let s={fields:{[D1]:{stringValue:b1},[S1]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&uD(o)&&(o=Cm(o)),o&&(s.fields[C1]=o),{mapValue:s}})(t,e):n instanceof Fs?z1(n,e):n instanceof Ls?G1(n,e):(function(i,o){let s=q1(i,o),a=NO(s)+NO(i.Ee);return PT(s)&&PT(i.Ee)?H1(a):mD(i.serializer,a)})(n,e)}function c5(n,e,t){return n instanceof Fs?z1(n,e):n instanceof Ls?G1(n,e):t}function q1(n,e){return n instanceof Dc?(function(r){return PT(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}var bc=class extends Tc{},Fs=class extends Tc{constructor(e){super(),this.elements=e}};function z1(n,e){let t=W1(e);for(let r of n.elements)t.some(i=>kr(i,r))||t.push(r);return{arrayValue:{values:t}}}var Ls=class extends Tc{constructor(e){super(),this.elements=e}};function G1(n,e){let t=W1(e);for(let r of n.elements)t=t.filter(i=>!kr(i,r));return{arrayValue:{values:t}}}var Dc=class extends Tc{constructor(e,t){super(),this.serializer=e,this.Ee=t}};function NO(n){return $e(n.integerValue||n.doubleValue)}function W1(n){return hD(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function u5(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof Fs&&i instanceof Fs||r instanceof Ls&&i instanceof Ls?vc(r.elements,i.elements,kr):r instanceof Dc&&i instanceof Dc?kr(r.Ee,i.Ee):r instanceof bc&&i instanceof bc})(n.transform,e.transform)}var zT=class{constructor(e,t){this.version=e,this.transformResults=t}},fi=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Hg(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Cc=class{};function K1(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new ud(n.key,fi.none()):new Vs(n.key,n.data,fi.none());{let t=n.data,r=Tn.empty(),i=new Ct(bn.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new xr(n.key,r,new Vn(i.toArray()),fi.none())}}function l5(n,e,t){n instanceof Vs?(function(i,o,s){let a=i.value.clone(),c=PO(i.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()})(n,e,t):n instanceof xr?(function(i,o,s){if(!Hg(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=PO(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(Q1(i)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()})(n,e,t):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,t)}function rd(n,e,t,r){return n instanceof Vs?(function(o,s,a,c){if(!Hg(o.precondition,s))return a;let l=o.value.clone(),d=kO(o.fieldTransforms,c,s);return l.setAll(d),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null})(n,e,t,r):n instanceof xr?(function(o,s,a,c){if(!Hg(o.precondition,s))return a;let l=kO(o.fieldTransforms,c,s),d=s.data;return d.setAll(Q1(o)),d.setAll(l),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))})(n,e,t,r):(function(o,s,a){return Hg(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a})(n,e,t)}function d5(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=q1(r.transform,i||null);o!=null&&(t===null&&(t=Tn.empty()),t.set(r.field,o))}return t||null}function MO(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&vc(r,i,(o,s)=>u5(o,s))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Vs=class extends Cc{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},xr=class extends Cc{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function Q1(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function PO(n,e,t){let r=new Map;Me(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,c5(s,a,t[i]))}return r}function kO(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,a5(o,s,e))}return r}var ud=class extends Cc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},GT=class extends Cc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var WT=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&l5(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=rd(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=rd(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=$1();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let c=K1(s,a);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(le.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),we())}isEqual(e){return this.batchId===e.batchId&&vc(this.mutations,e.mutations,(t,r)=>MO(t,r))&&vc(this.baseMutations,e.baseMutations,(t,r)=>MO(t,r))}},KT=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Me(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=(function(){return n5})(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var QT=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var YT=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var ft,Te;function h5(n){switch(n){case k.OK:return ee(64938);case k.CANCELLED:case k.UNKNOWN:case k.DEADLINE_EXCEEDED:case k.RESOURCE_EXHAUSTED:case k.INTERNAL:case k.UNAVAILABLE:case k.UNAUTHENTICATED:return!1;case k.INVALID_ARGUMENT:case k.NOT_FOUND:case k.ALREADY_EXISTS:case k.PERMISSION_DENIED:case k.FAILED_PRECONDITION:case k.ABORTED:case k.OUT_OF_RANGE:case k.UNIMPLEMENTED:case k.DATA_LOSS:return!0;default:return ee(15467,{code:n})}}function Y1(n){if(n===void 0)return pi("GRPC error has no .code"),k.UNKNOWN;switch(n){case ft.OK:return k.OK;case ft.CANCELLED:return k.CANCELLED;case ft.UNKNOWN:return k.UNKNOWN;case ft.DEADLINE_EXCEEDED:return k.DEADLINE_EXCEEDED;case ft.RESOURCE_EXHAUSTED:return k.RESOURCE_EXHAUSTED;case ft.INTERNAL:return k.INTERNAL;case ft.UNAVAILABLE:return k.UNAVAILABLE;case ft.UNAUTHENTICATED:return k.UNAUTHENTICATED;case ft.INVALID_ARGUMENT:return k.INVALID_ARGUMENT;case ft.NOT_FOUND:return k.NOT_FOUND;case ft.ALREADY_EXISTS:return k.ALREADY_EXISTS;case ft.PERMISSION_DENIED:return k.PERMISSION_DENIED;case ft.FAILED_PRECONDITION:return k.FAILED_PRECONDITION;case ft.ABORTED:return k.ABORTED;case ft.OUT_OF_RANGE:return k.OUT_OF_RANGE;case ft.UNIMPLEMENTED:return k.UNIMPLEMENTED;case ft.DATA_LOSS:return k.DATA_LOSS;default:return ee(39323,{code:n})}}(Te=ft||(ft={}))[Te.OK=0]="OK",Te[Te.CANCELLED=1]="CANCELLED",Te[Te.UNKNOWN=2]="UNKNOWN",Te[Te.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Te[Te.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Te[Te.NOT_FOUND=5]="NOT_FOUND",Te[Te.ALREADY_EXISTS=6]="ALREADY_EXISTS",Te[Te.PERMISSION_DENIED=7]="PERMISSION_DENIED",Te[Te.UNAUTHENTICATED=16]="UNAUTHENTICATED",Te[Te.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Te[Te.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Te[Te.ABORTED=10]="ABORTED",Te[Te.OUT_OF_RANGE=11]="OUT_OF_RANGE",Te[Te.UNIMPLEMENTED=12]="UNIMPLEMENTED",Te[Te.INTERNAL=13]="INTERNAL",Te[Te.UNAVAILABLE=14]="UNAVAILABLE",Te[Te.DATA_LOSS=15]="DATA_LOSS";var xO=null;var f5=new li([4294967295,4294967295],0);function OO(n){let e=s1().encode(n),t=new dT;return t.update(e),new Uint8Array(t.digest())}function FO(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new li([t,r],0),new li([i,o],0)]}var JT=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Ns(`Invalid padding: ${t}`);if(r<0)throw new Ns(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ns(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Ns(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=li.fromNumber(this.fe)}pe(e,t,r){let i=e.add(t.multiply(li.fromNumber(r)));return i.compare(f5)===1&&(i=new li([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let t=OO(e),[r,i]=FO(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);if(!this.ye(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.fe===0)return;let t=OO(e),[r,i]=FO(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);this.we(s)}}we(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},Ns=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Zg=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,ld.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(le.min(),i,new et(ye),vi(),we())}},ld=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,we(),we(),we())}};var gc=class{constructor(e,t,r,i){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=i}},Xg=class{constructor(e,t){this.targetId=e,this.De=t}},em=class{constructor(e,t,r=Gt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},tm=class{constructor(){this.ve=0,this.Ce=LO(),this.Fe=Gt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=we(),t=we(),r=we();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ee(38017,{changeType:o})}}),new ld(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=LO()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Me(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},ZT=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=vi(),this.je=jg(),this.Je=jg(),this.He=new et(ye)}Ye(e){for(let t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(let t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{let r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:ee(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((r,i)=>{this.nt(i)&&t(i)})}it(e){let t=e.targetId,r=e.De.count,i=this.st(t);if(i){let o=i.target;if($T(o))if(r===0){let s=new X(o.path);this.Xe(t,s,or.newNoDocument(s,le.min()))}else Me(r===1,20013,{expectedCount:r});else{let s=this.ot(t);if(s!==r){let a=this._t(e),c=a?this.ut(a,e,s):1;if(c!==0){this.rt(t);let l=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,l)}xO?.ct((function(d,f,g,m,E){var A,D,M,j,q,W;let be={localCacheCount:d,existenceFilterCount:f.count,databaseId:g.database,projectId:g.projectId},te=f.unchangedNames;return te&&(be.bloomFilter={applied:E===0,hashCount:(A=te?.hashCount)!==null&&A!==void 0?A:0,bitmapLength:(j=(M=(D=te?.bits)===null||D===void 0?void 0:D.bitmap)===null||M===void 0?void 0:M.length)!==null&&j!==void 0?j:0,padding:(W=(q=te?.bits)===null||q===void 0?void 0:q.padding)!==null&&W!==void 0?W:0,mightContain:T=>{var _;return(_=m?.mightContain(T))!==null&&_!==void 0&&_}}),be})(s,e.De,this.We.lt(),a,c))}}}}_t(e){let t=e.De.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=mi(r).toUint8Array()}catch(c){if(c instanceof Kg)return yo("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new JT(s,i,o)}catch(c){return yo(c instanceof Ns?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.fe===0?null:a}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){let r=this.We.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.We.lt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Xe(t,o,null),i++)}),i}Pt(e){let t=new Map;this.Ge.forEach((o,s)=>{let a=this.st(s);if(a){if(o.current&&$T(a.target)){let c=new X(a.target.path);this.Tt(c).has(s)||this.It(s,c)||this.Xe(s,c,or.newNoDocument(c,e))}o.Ne&&(t.set(s,o.Le()),o.ke())}});let r=we();this.Je.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{let l=this.st(c);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ze.forEach((o,s)=>s.setReadTime(e));let i=new Zg(e,t,this.He,this.ze,r);return this.ze=vi(),this.je=jg(),this.Je=jg(),this.He=new et(ye),i}Ze(e,t){if(!this.nt(e))return;let r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;let i=this.tt(e);this.It(e,t)?i.qe(t,1):i.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){let t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new tm,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new Ct(ye),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new Ct(ye),this.je=this.je.insert(e,t)),t}nt(e){let t=this.st(e)!==null;return t||G("WatchChangeAggregator","Detected inactive target",e),t}st(e){let t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new tm),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}};function jg(){return new et(X.comparator)}function LO(){return new et(X.comparator)}var p5={asc:"ASCENDING",desc:"DESCENDING"},g5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},m5={and:"AND",or:"OR"},XT=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function eb(n,e){return n.useProto3Json||Dm(e)?e:{value:e}}function nm(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function J1(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function y5(n,e){return nm(n,e.toTimestamp())}function Pr(n){return Me(!!n,49232),le.fromTimestamp((function(t){let r=gi(t);return new yt(r.seconds,r.nanos)})(n))}function yD(n,e){return tb(n,e).canonicalString()}function tb(n,e){let t=(function(i){return new He(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function Z1(n){let e=He.fromString(n);return Me(rF(e),10190,{key:e.toString()}),e}function nb(n,e){return yD(n.databaseId,e.path)}function yT(n,e){let t=Z1(e);if(t.get(1)!==n.databaseId.projectId)throw new H(k.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new H(k.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new X(eF(t))}function X1(n,e){return yD(n.databaseId,e)}function v5(n){let e=Z1(n);return e.length===4?He.emptyPath():eF(e)}function rb(n){return new He(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function eF(n){return Me(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function VO(n,e,t){return{name:nb(n,e),fields:t.value.mapValue.fields}}function _5(n,e){let t;if("targetChange"in e){e.targetChange;let r=(function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:ee(39313,{state:l})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(l,d){return l.useProto3Json?(Me(d===void 0||typeof d=="string",58123),Gt.fromBase64String(d||"")):(Me(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Gt.fromUint8Array(d||new Uint8Array))})(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&(function(l){let d=l.code===void 0?k.UNKNOWN:Y1(l.code);return new H(d,l.message||"")})(s);t=new em(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=yT(n,r.document.name),o=Pr(r.document.updateTime),s=r.document.createTime?Pr(r.document.createTime):le.min(),a=new Tn({mapValue:{fields:r.document.fields}}),c=or.newFoundDocument(i,o,s,a),l=r.targetIds||[],d=r.removedTargetIds||[];t=new gc(l,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=yT(n,r.document),o=r.readTime?Pr(r.readTime):le.min(),s=or.newNoDocument(i,o),a=r.removedTargetIds||[];t=new gc([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=yT(n,r.document),o=r.removedTargetIds||[];t=new gc([],o,i,null)}else{if(!("filter"in e))return ee(11601,{At:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new YT(i,o),a=r.targetId;t=new Xg(a,s)}}return t}function E5(n,e){let t;if(e instanceof Vs)t={update:VO(n,e.key,e.value)};else if(e instanceof ud)t={delete:nb(n,e.key)};else if(e instanceof xr)t={update:VO(n,e.key,e.data),updateMask:R5(e.fieldMask)};else{if(!(e instanceof GT))return ee(16599,{Rt:e.type});t={verify:nb(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>(function(o,s){let a=s.transform;if(a instanceof bc)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Fs)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ls)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Dc)return{fieldPath:s.field.canonicalString(),increment:a.Ee};throw ee(20930,{transform:s.transform})})(0,r))),e.precondition.isNone||(t.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:y5(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ee(27497)})(n,e.precondition)),t}function w5(n,e){return n&&n.length>0?(Me(e!==void 0,14353),n.map(t=>(function(i,o){let s=i.updateTime?Pr(i.updateTime):Pr(o);return s.isEqual(le.min())&&(s=Pr(o)),new zT(s,i.transformResults||[])})(t,e))):[]}function I5(n,e){return{documents:[X1(n,e.path)]}}function T5(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=X1(n,i);let o=(function(l){if(l.length!==0)return nF(sr.create(l,"and"))})(e.filters);o&&(t.structuredQuery.where=o);let s=(function(l){if(l.length!==0)return l.map(d=>(function(g){return{field:hc(g.field),direction:C5(g.dir)}})(d))})(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=eb(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=(function(l){return{before:l.inclusive,values:l.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(l){return{before:!l.inclusive,values:l.position}})(e.endAt)),{Vt:t,parent:i}}function b5(n){let e=v5(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Me(r===1,65062);let d=t.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];t.where&&(o=(function(f){let g=tF(f);return g instanceof sr&&k1(g)?g.getFilters():[g]})(t.where));let s=[];t.orderBy&&(s=(function(f){return f.map(g=>(function(E){return new Os(fc(E.field),(function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(E.direction))})(g))})(t.orderBy));let a=null;t.limit&&(a=(function(f){let g;return g=typeof f=="object"?f.value:f,Dm(g)?null:g})(t.limit));let c=null;t.startAt&&(c=(function(f){let g=!!f.before,m=f.values||[];return new Ic(m,g)})(t.startAt));let l=null;return t.endAt&&(l=(function(f){let g=!f.before,m=f.values||[];return new Ic(m,g)})(t.endAt)),J9(e,i,s,o,a,"F",c,l)}function D5(n,e){let t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ee(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function tF(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=fc(t.unaryFilter.field);return gt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=fc(t.unaryFilter.field);return gt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=fc(t.unaryFilter.field);return gt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=fc(t.unaryFilter.field);return gt.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ee(61313);default:return ee(60726)}})(n):n.fieldFilter!==void 0?(function(t){return gt.create(fc(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ee(58110);default:return ee(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return sr.create(t.compositeFilter.filters.map(r=>tF(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ee(1026)}})(t.compositeFilter.op))})(n):ee(30097,{filter:n})}function C5(n){return p5[n]}function S5(n){return g5[n]}function A5(n){return m5[n]}function hc(n){return{fieldPath:n.canonicalString()}}function fc(n){return bn.fromServerFormat(n.fieldPath)}function nF(n){return n instanceof gt?(function(t){if(t.op==="=="){if(DO(t.value))return{unaryFilter:{field:hc(t.field),op:"IS_NAN"}};if(bO(t.value))return{unaryFilter:{field:hc(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(DO(t.value))return{unaryFilter:{field:hc(t.field),op:"IS_NOT_NAN"}};if(bO(t.value))return{unaryFilter:{field:hc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hc(t.field),op:S5(t.op),value:t.value}}})(n):n instanceof sr?(function(t){let r=t.getFilters().map(i=>nF(i));return r.length===1?r[0]:{compositeFilter:{op:A5(t.op),filters:r}}})(n):ee(54877,{filter:n})}function R5(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function rF(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var dd=class n{constructor(e,t,r,i,o=le.min(),s=le.min(),a=Gt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var ib=class{constructor(e){this.gt=e}};function N5(n){let e=b5({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?qT(e,e.limit,"L"):e}var rm=class{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft($e(e.integerValue));else if("doubleValue"in e){let r=$e(e.doubleValue);isNaN(r)?this.Ct(t,13):(this.Ct(t,15),sd(r)?t.Ft(0):t.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(t,20),typeof r=="string"&&(r=gi(r)),t.Mt(`${r.seconds||""}`),t.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(mi(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(t,45),t.Ft(r.latitude||0),t.Ft(r.longitude||0)}else"mapValue"in e?N1(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):R1(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):ee(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){let r=e.fields||{};this.Ct(t,55);for(let i of Object.keys(r))this.xt(i,t),this.Dt(r[i],t)}Lt(e,t){var r,i;let o=e.fields||{};this.Ct(t,53);let s=_c,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(t,15),t.Ft($e(a)),this.xt(s,t),this.Dt(o[s],t)}qt(e,t){let r=e.values||[];this.Ct(t,50);for(let i of r)this.Dt(i,t)}Bt(e,t){this.Ct(t,37),X.fromName(e).path.forEach(r=>{this.Ct(t,60),this.$t(r,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}};rm.Ut=new rm;var ob=class{constructor(){this.Dn=new sb}addToCollectionParentIndex(e,t){return this.Dn.add(t),O.resolve()}getCollectionParents(e,t){return O.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return O.resolve()}deleteFieldIndex(e,t){return O.resolve()}deleteAllFieldIndexes(e){return O.resolve()}createTargetIndexes(e,t){return O.resolve()}getDocumentsMatchingTarget(e,t){return O.resolve(null)}getIndexType(e,t){return O.resolve(0)}getFieldIndexes(e,t){return O.resolve([])}getNextCollectionGroupToUpdate(e){return O.resolve(null)}getMinOffset(e,t){return O.resolve(xs.min())}getMinOffsetFromCollectionGroup(e,t){return O.resolve(xs.min())}updateCollectionGroup(e,t,r){return O.resolve()}updateIndexEntries(e,t){return O.resolve()}},sb=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Ct(He.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ct(He.comparator)).toArray()}};var Qge=new Uint8Array(0);var jO={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},iF=41943040,Ln=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};Ln.DEFAULT_COLLECTION_PERCENTILE=10,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ln.DEFAULT=new Ln(iF,Ln.DEFAULT_COLLECTION_PERCENTILE,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ln.DISABLED=new Ln(-1,0,0);var hd=class n{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new n(0)}static ur(){return new n(-1)}};var UO="LruGarbageCollector",M5=1048576;function BO([n,e],[t,r]){let i=ye(n,t);return i===0?ye(e,r):i}var ab=class{constructor(e){this.Tr=e,this.buffer=new Ct(BO),this.Ir=0}dr(){return++this.Ir}Er(e){let t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();BO(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},cb=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){G(UO,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>v(this,null,function*(){this.Ar=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){Pc(t)?G(UO,"Ignoring IndexedDB error during garbage collection: ",t):yield Mc(t)}yield this.Rr(3e5)}))}},ub=class{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return O.resolve(aD.ue);let r=new ab(t);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(G("LruGarbageCollector","Garbage collection skipped; disabled"),O.resolve(jO)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(G("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),jO):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,i,o,s,a,c,l,d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(G("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,t))).next(f=>(o=f,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(l=Date.now(),lc()<=_e.DEBUG&&G("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-d}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(c-a)+`ms
	Removed ${f} documents in `+(l-c)+`ms
Total Duration: ${l-d}ms`),O.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:f})))}};function P5(n,e){return new ub(n,e)}var lb=class{constructor(){this.changes=new yi(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,or.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?O.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var db=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var hb=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&rd(r.mutation,i,Vn.empty(),yt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,we()).next(()=>r))}getLocalViewOfDocuments(e,t,r=we()){let i=Rs();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=Xl();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=Rs();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,we()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=vi(),s=nd(),a=(function(){return nd()})();return t.forEach((c,l)=>{let d=r.get(l.key);i.has(l.key)&&(d===void 0||d.mutation instanceof xr)?o=o.insert(l.key,l):d!==void 0?(s.set(l.key,d.mutation.getFieldMask()),rd(d.mutation,l,d.mutation.getFieldMask(),yt.now())):s.set(l.key,Vn.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((l,d)=>s.set(l,d)),t.forEach((l,d)=>{var f;return a.set(l,new db(d,(f=s.get(l))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,t){let r=nd(),i=new et((s,a)=>s-a),o=we();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(c=>{let l=t.get(c);if(l===null)return;let d=r.get(c)||Vn.empty();d=a.applyToLocalView(l,d),r.set(c,d);let f=(i.get(a.batchId)||we()).add(c);i=i.insert(a.batchId,f)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),l=c.key,d=c.value,f=$1();d.forEach(g=>{if(!o.has(g)){let m=K1(t.get(g),r.get(g));m!==null&&f.set(g,m),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,f))}return O.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return(function(s){return X.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):L1(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):O.resolve(Rs()),a=od,c=o;return s.next(l=>O.forEach(l,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(d)?O.resolve():this.remoteDocumentCache.getEntry(e,d).next(g=>{c=c.insert(d,g)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,c,l,we())).next(d=>({batchId:a,changes:B1(d)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new X(t)).next(r=>{let i=Xl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=Xl();return this.indexManager.getCollectionParents(e,o).next(a=>O.forEach(a,c=>{let l=(function(f,g){return new _o(g,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)})(t,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(d=>{d.forEach((f,g)=>{s=s.insert(f,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((c,l)=>{let d=l.getKey();s.get(d)===null&&(s=s.insert(d,or.newInvalidDocument(d)))});let a=Xl();return s.forEach((c,l)=>{let d=o.get(c);d!==void 0&&rd(d.mutation,l,Vn.empty(),yt.now()),Am(t,l)&&(a=a.insert(c,l))}),a})}};var fb=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return O.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:Pr(i.createTime)}})(t)),O.resolve()}getNamedQuery(e,t){return O.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,(function(i){return{name:i.name,query:N5(i.bundledQuery),readTime:Pr(i.readTime)}})(t)),O.resolve()}};var pb=class{constructor(){this.overlays=new et(X.comparator),this.kr=new Map}getOverlay(e,t){return O.resolve(this.overlays.get(t))}getOverlays(e,t){let r=Rs();return O.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.wt(e,t,o)}),O.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),O.resolve()}getOverlaysForCollection(e,t,r){let i=Rs(),o=t.length+1,s=new X(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let c=a.getNext().value,l=c.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return O.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new et((l,d)=>l-d),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let d=o.get(l.largestBatchId);d===null&&(d=Rs(),o=o.insert(l.largestBatchId,d)),d.set(l.getKey(),l)}}let a=Rs(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,d)=>a.set(l,d)),!(a.size()>=i)););return O.resolve(a)}wt(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new QT(t,r));let o=this.kr.get(t);o===void 0&&(o=we(),this.kr.set(t,o)),this.kr.set(t,o.add(r.key))}};var gb=class{constructor(){this.sessionToken=Gt.EMPTY_BYTE_STRING}getSessionToken(e){return O.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,O.resolve()}};var fd=class{constructor(){this.qr=new Ct(pt.Qr),this.$r=new Ct(pt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){let r=new pt(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Wr(new pt(e,t))}Gr(e,t){e.forEach(r=>this.removeReference(r,t))}zr(e){let t=new X(new He([])),r=new pt(t,e),i=new pt(t,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let t=new X(new He([])),r=new pt(t,e),i=new pt(t,e+1),o=we();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new pt(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},pt=class{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return X.comparator(e.key,t.key)||ye(e.Hr,t.Hr)}static Ur(e,t){return ye(e.Hr,t.Hr)||X.comparator(e.key,t.key)}};var mb=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new Ct(pt.Qr)}checkEmpty(e){return O.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new WT(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.Yr=this.Yr.add(new pt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return O.resolve(s)}lookupMutationBatch(e,t){return O.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Xr(r),o=i<0?0:i;return O.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return O.resolve(this.mutationQueue.length===0?cD:this.er-1)}getAllMutationBatches(e){return O.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new pt(t,0),i=new pt(t,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{let a=this.Zr(s.Hr);o.push(a)}),O.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ct(ye);return t.forEach(i=>{let o=new pt(i,0),s=new pt(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],a=>{r=r.add(a.Hr)})}),O.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;X.isDocumentKey(o)||(o=o.child(""));let s=new pt(new X(o),0),a=new Ct(ye);return this.Yr.forEachWhile(c=>{let l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(c.Hr)),!0)},s),O.resolve(this.ei(a))}ei(e){let t=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Me(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return O.forEach(t.mutations,i=>{let o=new pt(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,t){let r=new pt(t,0),i=this.Yr.firstAfterOrEqual(r);return O.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,O.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var yb=class{constructor(e){this.ni=e,this.docs=(function(){return new et(X.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return O.resolve(r?r.document.mutableCopy():or.newInvalidDocument(t))}getEntries(e,t){let r=vi();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():or.newInvalidDocument(i))}),O.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=vi(),s=t.path,a=new X(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:l,value:{document:d}}=c.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||P9(M9(d),r)<=0||(i.has(d.key)||Am(t,d))&&(o=o.insert(d.key,d.mutableCopy()))}return O.resolve(o)}getAllFromCollectionGroup(e,t,r,i){ee(9500)}ri(e,t){return O.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new vb(this)}getSize(e){return O.resolve(this.size)}},vb=class extends lb{constructor(e){super(),this.Or=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),O.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}};var _b=class{constructor(e){this.persistence=e,this.ii=new yi(t=>fD(t),pD),this.lastRemoteSnapshotVersion=le.min(),this.highestTargetId=0,this.si=0,this.oi=new fd,this.targetCount=0,this._i=hd.ar()}forEachTarget(e,t){return this.ii.forEach((r,i)=>t(i)),O.resolve()}getLastRemoteSnapshotVersion(e){return O.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return O.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),O.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),O.resolve()}hr(e){this.ii.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this._i=new hd(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,O.resolve()}updateTargetData(e,t){return this.hr(t),O.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,O.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.ii.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),O.waitFor(o).next(()=>i)}getTargetCount(e){return O.resolve(this.targetCount)}getTargetData(e,t){let r=this.ii.get(t)||null;return O.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),O.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),O.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),O.resolve()}getMatchingKeysForTargetId(e,t){let r=this.oi.Jr(t);return O.resolve(r)}containsKey(e,t){return O.resolve(this.oi.containsKey(t))}};var im=class{constructor(e,t){this.ai={},this.overlays={},this.ui=new aD(0),this.ci=!1,this.ci=!0,this.li=new gb,this.referenceDelegate=e(this),this.hi=new _b(this),this.indexManager=new ob,this.remoteDocumentCache=(function(i){return new yb(i)})(r=>this.referenceDelegate.Pi(r)),this.serializer=new ib(t),this.Ti=new fb(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new pb,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new mb(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){G("MemoryPersistence","Starting transaction:",e);let i=new Eb(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,t){return O.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,t)))}},Eb=class extends RT{constructor(e){super(),this.currentSequenceNumber=e}},wb=class n{constructor(e){this.persistence=e,this.Ai=new fd,this.Ri=null}static Vi(e){return new n(e)}get mi(){if(this.Ri)return this.Ri;throw ee(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),O.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),O.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),O.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return O.forEach(this.mi,r=>{let i=X.fromPath(r);return this.fi(e,i).next(o=>{o||t.removeEntry(i,le.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return O.or([()=>O.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}},om=class n{constructor(e,t){this.persistence=e,this.gi=new yi(r=>F9(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=P5(this,t)}static Vi(e,t){return new n(e,t)}Ii(){}di(e){return O.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){let t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}yr(e){let t=0;return this.gr(e,r=>{t++}).next(()=>t)}gr(e,t){return O.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?O.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,t).next(a=>{a||(r++,o.removeEntry(s,le.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),O.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),O.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),O.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),O.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Bg(e.data.value)),t}Sr(e,t,r){return O.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.gi.get(t);return O.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var Ib=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=i}static Es(e,t){let r=we(),i=we();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var Tb=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var bb=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return WM()?8:x9(bt())>0?6:4})()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.ps(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new Tb;return this.ws(e,t,s).next(a=>{if(o.result=a,this.Rs)return this.Ss(e,t,s,a.size)})}).next(()=>o.result)}Ss(e,t,r,i){return r.documentReadCount<this.Vs?(lc()<=_e.DEBUG&&G("QueryEngine","SDK will not create cache indexes for query:",dc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),O.resolve()):(lc()<=_e.DEBUG&&G("QueryEngine","Query:",dc(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(lc()<=_e.DEBUG&&G("QueryEngine","The SDK decides to create cache indexes for query:",dc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mr(t))):O.resolve())}ps(e,t){if(RO(t))return O.resolve(null);let r=Mr(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=qT(t,null,"F"),r=Mr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=we(...o);return this.gs.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let l=this.bs(t,a);return this.Ds(t,l,s,c.readTime)?this.ps(e,qT(t,null,"F")):this.vs(e,l,t,c)}))})))}ys(e,t,r,i){return RO(t)||i.isEqual(le.min())?O.resolve(null):this.gs.getDocuments(e,r).next(o=>{let s=this.bs(t,o);return this.Ds(t,s,r,i)?O.resolve(null):(lc()<=_e.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),dc(t)),this.vs(e,s,t,N9(i,od)).next(a=>a))})}bs(e,t){let r=new Ct(j1(e));return t.forEach((i,o)=>{Am(e,o)&&(r=r.add(o))}),r}Ds(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,t,r){return lc()<=_e.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",dc(t)),this.gs.getDocumentsMatchingQuery(e,t,xs.min(),r)}vs(e,t,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var vD="LocalStore",k5=3e8,Db=class{constructor(e,t,r,i){this.persistence=e,this.Cs=t,this.serializer=i,this.Fs=new et(ye),this.Ms=new yi(o=>fD(o),pD),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hb(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}};function x5(n,e,t,r){return new Db(n,e,t,r)}function oF(n,e){return v(this,null,function*(){let t=ae(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ns(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],c=we();for(let l of i){s.push(l.batchId);for(let d of l.mutations)c=c.add(d.key)}for(let l of o){a.push(l.batchId);for(let d of l.mutations)c=c.add(d.key)}return t.localDocuments.getDocuments(r,c).next(l=>({Bs:l,removedBatchIds:s,addedBatchIds:a}))})})})}function O5(n,e){let t=ae(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.Os.newChangeBuffer({trackRemovals:!0});return(function(a,c,l,d){let f=l.batch,g=f.keys(),m=O.resolve();return g.forEach(E=>{m=m.next(()=>d.getEntry(c,E)).next(A=>{let D=l.docVersions.get(E);Me(D!==null,48541),A.version.compareTo(D)<0&&(f.applyToRemoteDocument(A,l),A.isValidDocument()&&(A.setReadTime(l.commitVersion),d.addEntry(A)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(c,f))})(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(a){let c=we();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c})(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function sF(n){let e=ae(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function F5(n,e){let t=ae(n),r=e.snapshotVersion,i=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Os.newChangeBuffer({trackRemovals:!0});i=t.Fs;let a=[];e.targetChanges.forEach((d,f)=>{let g=i.get(f);if(!g)return;a.push(t.hi.removeMatchingKeys(o,d.removedDocuments,f).next(()=>t.hi.addMatchingKeys(o,d.addedDocuments,f)));let m=g.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(Gt.EMPTY_BYTE_STRING,le.min()).withLastLimboFreeSnapshotVersion(le.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),i=i.insert(f,m),(function(A,D,M){return A.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=k5?!0:M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0})(g,m,d)&&a.push(t.hi.updateTargetData(o,m))});let c=vi(),l=we();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(L5(o,s,e.documentUpdates).next(d=>{c=d.Ls,l=d.ks})),!r.isEqual(le.min())){let d=t.hi.getLastRemoteSnapshotVersion(o).next(f=>t.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(d)}return O.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,c,l)).next(()=>c)}).then(o=>(t.Fs=i,o))}function L5(n,e,t){let r=we(),i=we();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=vi();return t.forEach((a,c)=>{let l=o.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(le.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||c.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):G(vD,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{Ls:s,ks:i}})}function V5(n,e){let t=ae(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=cD),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function j5(n,e){let t=ae(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.hi.getTargetData(r,e).next(o=>o?(i=o,O.resolve(i)):t.hi.allocateTargetId(r).next(s=>(i=new dd(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r})}function Cb(n,e,t){return v(this,null,function*(){let r=ae(n),i=r.Fs.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Pc(s))throw s;G(vD,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)})}function $O(n,e,t){let r=ae(n),i=le.min(),o=we();return r.persistence.runTransaction("Execute query","readwrite",s=>(function(c,l,d){let f=ae(c),g=f.Ms.get(d);return g!==void 0?O.resolve(f.Fs.get(g)):f.hi.getTargetData(l,d)})(r,s,Mr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,t?i:le.min(),t?o:we())).next(a=>(U5(r,X9(e),a),{documents:a,qs:o})))}function U5(n,e,t){let r=n.xs.get(e)||le.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.xs.set(e,r)}var sm=class{constructor(){this.activeTargetIds=o5()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Sb=class{constructor(){this.Fo=new sm,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new sm,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Ab=class{xo(e){}shutdown(){}};var HO="ConnectivityMonitor",am=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){G(HO,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){G(HO,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Ug=null;function Rb(){return Ug===null?Ug=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ug++,"0x"+Ug.toString(16)}var vT="RestConnection",B5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},Nb=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===Qg?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,t,r,i,o){let s=Rb(),a=this.Go(e,t.toUriEncodedString());G(vT,`Sending RPC '${e}' ${s}:`,a,r);let c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(c,i,o);let{host:l}=new URL(a),d=eo(l);return this.jo(e,a,c,r,d).then(f=>(G(vT,`Received RPC '${e}' ${s}: `,f),f),f=>{throw yo(vT,`RPC '${e}' ${s} failed with error: `,f,"url: ",a,"request:",r),f})}Jo(e,t,r,i,o,s){return this.Wo(e,t,r,i,o)}zo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Nc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,t){let r=B5[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}};var Mb=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var zt="WebChannelConnection",Pb=class extends Nb{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,i,o){let s=Rb();return new Promise((a,c)=>{let l=new hT;l.setWithCredentials(!0),l.listenOnce(fT.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Zl.NO_ERROR:let f=l.getResponseJson();G(zt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),a(f);break;case Zl.TIMEOUT:G(zt,`RPC '${e}' ${s} timed out`),c(new H(k.DEADLINE_EXCEEDED,"Request time out"));break;case Zl.HTTP_ERROR:let g=l.getStatus();if(G(zt,`RPC '${e}' ${s} failed with status:`,g,"response text:",l.getResponseText()),g>0){let m=l.getResponseJson();Array.isArray(m)&&(m=m[0]);let E=m?.error;if(E&&E.status&&E.message){let A=(function(M){let j=M.toLowerCase().replace(/_/g,"-");return Object.values(k).indexOf(j)>=0?j:k.UNKNOWN})(E.status);c(new H(A,E.message))}else c(new H(k.UNKNOWN,"Server responded with status "+l.getStatus()))}else c(new H(k.UNAVAILABLE,"Connection failed."));break;default:ee(9055,{c_:e,streamId:s,l_:l.getLastErrorCode(),h_:l.getLastError()})}}finally{G(zt,`RPC '${e}' ${s} completed.`)}});let d=JSON.stringify(i);G(zt,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",d,r,15)})}P_(e,t,r){let i=Rb(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=mT(),a=gT(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.useFetchStreams=!0),this.zo(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;let d=o.join("");G(zt,`Creating RPC '${e}' stream ${i}: ${d}`,c);let f=s.createWebChannel(d,c);this.T_(f);let g=!1,m=!1,E=new Mb({Ho:D=>{m?G(zt,`Not sending because RPC '${e}' stream ${i} is closed:`,D):(g||(G(zt,`Opening RPC '${e}' stream ${i} transport.`),f.open(),g=!0),G(zt,`RPC '${e}' stream ${i} sending:`,D),f.send(D))},Yo:()=>f.close()}),A=(D,M,j)=>{D.listen(M,q=>{try{j(q)}catch(W){setTimeout(()=>{throw W},0)}})};return A(f,uc.EventType.OPEN,()=>{m||(G(zt,`RPC '${e}' stream ${i} transport opened.`),E.s_())}),A(f,uc.EventType.CLOSE,()=>{m||(m=!0,G(zt,`RPC '${e}' stream ${i} transport closed`),E.__(),this.I_(f))}),A(f,uc.EventType.ERROR,D=>{m||(m=!0,yo(zt,`RPC '${e}' stream ${i} transport errored. Name:`,D.name,"Message:",D.message),E.__(new H(k.UNAVAILABLE,"The operation could not be completed")))}),A(f,uc.EventType.MESSAGE,D=>{var M;if(!m){let j=D.data[0];Me(!!j,16349);let q=j,W=q?.error||((M=q[0])===null||M===void 0?void 0:M.error);if(W){G(zt,`RPC '${e}' stream ${i} received error:`,W);let be=W.status,te=(function(w){let b=ft[w];if(b!==void 0)return Y1(b)})(be),T=W.message;te===void 0&&(te=k.INTERNAL,T="Unknown error status: "+be+" with message "+W.message),m=!0,E.__(new H(te,T)),f.close()}else G(zt,`RPC '${e}' stream ${i} received:`,j),E.a_(j)}}),A(a,pT.STAT_EVENT,D=>{D.stat===Lg.PROXY?G(zt,`RPC '${e}' stream ${i} detected buffering proxy`):D.stat===Lg.NOPROXY&&G(zt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{E.o_()},0),E}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}};function _T(){return typeof document<"u"?document:null}function Rm(n){return new XT(n,!0)}var cm=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,t-r);i>0&&G("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var qO="PersistentStream",um=class{constructor(e,t,r,i,o,s,a,c){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new cm(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}stop(){return v(this,null,function*(){this.M_()&&(yield this.close(0))})}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}L_(){return v(this,null,function*(){if(this.x_())return this.close(0)})}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}close(e,t){return v(this,null,function*(){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===k.RESOURCE_EXHAUSTED?(pi(t.toString()),pi("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===k.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.n_(t)})}U_(){}auth(){this.state=1;let e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===t&&this.W_(r,i)},r=>{e(()=>{let i=new H(k.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,t){let r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(()=>v(this,null,function*(){this.state=0,this.start()}))}G_(e){return G(qO,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(G(qO,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},kb=class extends um{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let t=_5(this.serializer,e),r=(function(o){if(!("targetChange"in o))return le.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?le.min():s.readTime?Pr(s.readTime):le.min()})(e);return this.listener.J_(t,r)}H_(e){let t={};t.database=rb(this.serializer),t.addTarget=(function(o,s){let a,c=s.target;if(a=$T(c)?{documents:I5(o,c)}:{query:T5(o,c).Vt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=J1(o,s.resumeToken);let l=eb(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(le.min())>0){a.readTime=nm(o,s.snapshotVersion.toTimestamp());let l=eb(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a})(this.serializer,e);let r=D5(this.serializer,e);r&&(t.labels=r),this.k_(t)}Y_(e){let t={};t.database=rb(this.serializer),t.removeTarget=e,this.k_(t)}},xb=class extends um{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return Me(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Me(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Me(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();let t=w5(e.writeResults,e.commitTime),r=Pr(e.commitTime);return this.listener.ta(r,t)}na(){let e={};e.database=rb(this.serializer),this.k_(e)}X_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>E5(this.serializer,r))};this.k_(t)}};var Ob=class{},Fb=class extends Ob{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new H(k.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,tb(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new H(k.UNKNOWN,o.toString())})}Jo(e,t,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Jo(e,tb(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new H(k.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},Lb=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(pi(t),this._a=!1):G("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var js="RemoteStore",Vb=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{r.enqueueAndForget(()=>v(this,null,function*(){Bs(this)&&(G(js,"Restarting streams for network reachability change."),yield(function(c){return v(this,null,function*(){let l=ae(c);l.Ia.add(4),yield yd(l),l.Aa.set("Unknown"),l.Ia.delete(4),yield Nm(l)})})(this))}))}),this.Aa=new Lb(r,i)}};function Nm(n){return v(this,null,function*(){if(Bs(n))for(let e of n.da)yield e(!0)})}function yd(n){return v(this,null,function*(){for(let e of n.da)yield e(!1)})}function aF(n,e){let t=ae(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),ID(t)?wD(t):kc(t).x_()&&ED(t,e))}function _D(n,e){let t=ae(n),r=kc(t);t.Ta.delete(e),r.x_()&&cF(t,e),t.Ta.size===0&&(r.x_()?r.B_():Bs(t)&&t.Aa.set("Unknown"))}function ED(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(le.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}kc(n).H_(e)}function cF(n,e){n.Ra.$e(e),kc(n).Y_(e)}function wD(n){n.Ra=new ZT({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),kc(n).start(),n.Aa.aa()}function ID(n){return Bs(n)&&!kc(n).M_()&&n.Ta.size>0}function Bs(n){return ae(n).Ia.size===0}function uF(n){n.Ra=void 0}function $5(n){return v(this,null,function*(){n.Aa.set("Online")})}function H5(n){return v(this,null,function*(){n.Ta.forEach((e,t)=>{ED(n,e)})})}function q5(n,e){return v(this,null,function*(){uF(n),ID(n)?(n.Aa.la(e),wD(n)):n.Aa.set("Unknown")})}function z5(n,e,t){return v(this,null,function*(){if(n.Aa.set("Online"),e instanceof em&&e.state===2&&e.cause)try{yield(function(i,o){return v(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.Ta.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Ta.delete(a),i.Ra.removeTarget(a))})})(n,e)}catch(r){G(js,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield lm(n,r)}else if(e instanceof gc?n.Ra.Ye(e):e instanceof Xg?n.Ra.it(e):n.Ra.et(e),!t.isEqual(le.min()))try{let r=yield sF(n.localStore);t.compareTo(r)>=0&&(yield(function(o,s){let a=o.Ra.Pt(s);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){let d=o.Ta.get(l);d&&o.Ta.set(l,d.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,l)=>{let d=o.Ta.get(c);if(!d)return;o.Ta.set(c,d.withResumeToken(Gt.EMPTY_BYTE_STRING,d.snapshotVersion)),cF(o,c);let f=new dd(d.target,c,l,d.sequenceNumber);ED(o,f)}),o.remoteSyncer.applyRemoteEvent(a)})(n,t))}catch(r){G(js,"Failed to raise snapshot:",r),yield lm(n,r)}})}function lm(n,e,t){return v(this,null,function*(){if(!Pc(e))throw e;n.Ia.add(1),yield yd(n),n.Aa.set("Offline"),t||(t=()=>sF(n.localStore)),n.asyncQueue.enqueueRetryable(()=>v(null,null,function*(){G(js,"Retrying IndexedDB access"),yield t(),n.Ia.delete(1),yield Nm(n)}))})}function lF(n,e){return e().catch(t=>lm(n,t,e))}function Mm(n){return v(this,null,function*(){let e=ae(n),t=Eo(e),r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:cD;for(;G5(e);)try{let i=yield V5(e.localStore,r);if(i===null){e.Pa.length===0&&t.B_();break}r=i.batchId,W5(e,i)}catch(i){yield lm(e,i)}dF(e)&&hF(e)})}function G5(n){return Bs(n)&&n.Pa.length<10}function W5(n,e){n.Pa.push(e);let t=Eo(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function dF(n){return Bs(n)&&!Eo(n).M_()&&n.Pa.length>0}function hF(n){Eo(n).start()}function K5(n){return v(this,null,function*(){Eo(n).na()})}function Q5(n){return v(this,null,function*(){let e=Eo(n);for(let t of n.Pa)e.X_(t.mutations)})}function Y5(n,e,t){return v(this,null,function*(){let r=n.Pa.shift(),i=KT.from(r,e,t);yield lF(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Mm(n)})}function J5(n,e){return v(this,null,function*(){e&&Eo(n).Z_&&(yield(function(r,i){return v(this,null,function*(){if((function(s){return h5(s)&&s!==k.ABORTED})(i.code)){let o=r.Pa.shift();Eo(r).N_(),yield lF(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Mm(r)}})})(n,e)),dF(n)&&hF(n)})}function zO(n,e){return v(this,null,function*(){let t=ae(n);t.asyncQueue.verifyOperationInProgress(),G(js,"RemoteStore received new credentials");let r=Bs(t);t.Ia.add(3),yield yd(t),r&&t.Aa.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),yield Nm(t)})}function Z5(n,e){return v(this,null,function*(){let t=ae(n);e?(t.Ia.delete(2),yield Nm(t)):e||(t.Ia.add(2),yield yd(t),t.Aa.set("Unknown"))})}function kc(n){return n.Va||(n.Va=(function(t,r,i){let o=ae(t);return o.ia(),new kb(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Zo:$5.bind(null,n),e_:H5.bind(null,n),n_:q5.bind(null,n),J_:z5.bind(null,n)}),n.da.push(e=>v(null,null,function*(){e?(n.Va.N_(),ID(n)?wD(n):n.Aa.set("Unknown")):(yield n.Va.stop(),uF(n))}))),n.Va}function Eo(n){return n.ma||(n.ma=(function(t,r,i){let o=ae(t);return o.ia(),new xb(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:K5.bind(null,n),n_:J5.bind(null,n),ea:Q5.bind(null,n),ta:Y5.bind(null,n)}),n.da.push(e=>v(null,null,function*(){e?(n.ma.N_(),yield Mm(n)):(yield n.ma.stop(),n.Pa.length>0&&(G(js,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))}))),n.ma}var jb=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new hi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(k.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function TD(n,e){if(pi("AsyncQueue",`${e}: ${n}`),Pc(n))return new H(k.UNAVAILABLE,`${e}: ${n}`);throw n}var dm=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||X.comparator(t.key,r.key):(t,r)=>X.comparator(t.key,r.key),this.keyedMap=Xl(),this.sortedSet=new et(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var hm=class{constructor(){this.fa=new et(X.comparator)}track(e){let t=e.doc.key,r=this.fa.get(t);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(t,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(t):e.type===1&&r.type===2?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):ee(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){let e=[];return this.fa.inorderTraversal((t,r)=>{e.push(r)}),e}},Sc=class n{constructor(e,t,r,i,o,s,a,c,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,dm.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var Ub=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},Bb=class{constructor(){this.queries=GO(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){let i=ae(t),o=i.queries;i.queries=GO(),o.forEach((s,a)=>{for(let c of a.wa)c.onError(r)})})(this,new H(k.ABORTED,"Firestore shutting down"))}};function GO(){return new yi(n=>V1(n),Sm)}function X5(n,e){return v(this,null,function*(){let t=ae(n),r=3,i=e.query,o=t.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new Ub,r=e.ba()?0:1);try{switch(r){case 0:o.ya=yield t.onListen(i,!0);break;case 1:o.ya=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=TD(s,`Initialization of query '${dc(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.wa.push(e),e.va(t.onlineState),o.ya&&e.Ca(o.ya)&&bD(t)})}function eK(n,e){return v(this,null,function*(){let t=ae(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.wa.indexOf(e);s>=0&&(o.wa.splice(s,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function tK(n,e){let t=ae(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.wa)a.Ca(i)&&(r=!0);s.ya=i}}r&&bD(t)}function nK(n,e,t){let r=ae(n),i=r.queries.get(e);if(i)for(let o of i.wa)o.onError(t);r.queries.delete(e)}function bD(n){n.Da.forEach(e=>{e.next()})}var $b,WO;(WO=$b||($b={})).Fa="default",WO.Cache="cache";var Hb=class{constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Sc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;let r=t!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=Sc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==$b.Cache}};var fm=class{constructor(e){this.key=e}},pm=class{constructor(e){this.key=e}},qb=class{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=we(),this.mutatedKeys=we(),this.Xa=j1(e),this.eu=new dm(this.Xa)}get tu(){return this.Ha}nu(e,t){let r=t?t.ru:new hm,i=t?t.eu:this.eu,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{let g=i.get(d),m=Am(this.query,f)?f:null,E=!!g&&this.mutatedKeys.has(g.key),A=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations),D=!1;g&&m?g.data.isEqual(m.data)?E!==A&&(r.track({type:3,doc:m}),D=!0):this.iu(g,m)||(r.track({type:2,doc:m}),D=!0,(c&&this.Xa(m,c)>0||l&&this.Xa(m,l)<0)&&(a=!0)):!g&&m?(r.track({type:0,doc:m}),D=!0):g&&!m&&(r.track({type:1,doc:g}),D=!0,(c||l)&&(a=!0)),D&&(m?(s=s.add(m),o=A?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{eu:s,ru:r,Ds:a,mutatedKeys:o}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let s=e.ru.pa();s.sort((d,f)=>(function(m,E){let A=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ee(20277,{At:D})}};return A(m)-A(E)})(d.type,f.type)||this.Xa(d.doc,f.doc)),this.su(r),i=i!=null&&i;let a=t&&!i?this.ou():[],c=this.Za.size===0&&this.current&&!i?1:0,l=c!==this.Ya;return this.Ya=c,s.length!==0||l?{snapshot:new Sc(this.query,e.eu,o,s,e.mutatedKeys,c===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new hm,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=we(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});let t=[];return e.forEach(r=>{this.Za.has(r)||t.push(new pm(r))}),this.Za.forEach(r=>{e.has(r)||t.push(new fm(r))}),t}uu(e){this.Ha=e.qs,this.Za=we();let t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return Sc.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},DD="SyncEngine",zb=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},Gb=class{constructor(e){this.key=e,this.lu=!1}},Wb=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new yi(a=>V1(a),Sm),this.Tu=new Map,this.Iu=new Set,this.du=new et(X.comparator),this.Eu=new Map,this.Au=new fd,this.Ru={},this.Vu=new Map,this.mu=hd.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};function rK(n,e,t=!0){return v(this,null,function*(){let r=vF(n),i,o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=yield fF(r,e,t,!0),i})}function iK(n,e){return v(this,null,function*(){let t=vF(n);yield fF(t,e,!0,!1)})}function fF(n,e,t,r){return v(this,null,function*(){let i=yield j5(n.localStore,Mr(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield oK(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&aF(n.remoteStore,i),a})}function oK(n,e,t,r,i){return v(this,null,function*(){n.gu=(f,g,m)=>(function(A,D,M,j){return v(this,null,function*(){let q=D.view.nu(M);q.Ds&&(q=yield $O(A.localStore,D.query,!1).then(({documents:T})=>D.view.nu(T,q)));let W=j&&j.targetChanges.get(D.targetId),be=j&&j.targetMismatches.get(D.targetId)!=null,te=D.view.applyChanges(q,A.isPrimaryClient,W,be);return QO(A,D.targetId,te._u),te.snapshot})})(n,f,g,m);let o=yield $O(n.localStore,e,!0),s=new qb(e,o.qs),a=s.nu(o.documents),c=ld.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=s.applyChanges(a,n.isPrimaryClient,c);QO(n,t,l._u);let d=new zb(e,t,s);return n.Pu.set(e,d),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),l.snapshot})}function sK(n,e,t){return v(this,null,function*(){let r=ae(n),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(s=>!Sm(s,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Cb(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&_D(r.remoteStore,i.targetId),Kb(r,i.targetId)}).catch(Mc))):(Kb(r,i.targetId),yield Cb(r.localStore,i.targetId,!0))})}function aK(n,e){return v(this,null,function*(){let t=ae(n),r=t.Pu.get(e),i=t.Tu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),_D(t.remoteStore,r.targetId))})}function cK(n,e,t){return v(this,null,function*(){let r=gK(n);try{let i=yield(function(s,a){let c=ae(s),l=yt.now(),d=a.reduce((m,E)=>m.add(E.key),we()),f,g;return c.persistence.runTransaction("Locally write mutations","readwrite",m=>{let E=vi(),A=we();return c.Os.getEntries(m,d).next(D=>{E=D,E.forEach((M,j)=>{j.isValidDocument()||(A=A.add(M))})}).next(()=>c.localDocuments.getOverlayedDocuments(m,E)).next(D=>{f=D;let M=[];for(let j of a){let q=d5(j,f.get(j.key).overlayedDocument);q!=null&&M.push(new xr(j.key,q,M1(q.value.mapValue),fi.exists(!0)))}return c.mutationQueue.addMutationBatch(m,l,M,a)}).next(D=>{g=D;let M=D.applyToLocalDocumentSet(f,A);return c.documentOverlayCache.saveOverlays(m,D.batchId,M)})}).then(()=>({batchId:g.batchId,changes:B1(f)}))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(s,a,c){let l=s.Ru[s.currentUser.toKey()];l||(l=new et(ye)),l=l.insert(a,c),s.Ru[s.currentUser.toKey()]=l})(r,i.batchId,t),yield vd(r,i.changes),yield Mm(r.remoteStore)}catch(i){let o=TD(i,"Failed to persist write");t.reject(o)}})}function pF(n,e){return v(this,null,function*(){let t=ae(n);try{let r=yield F5(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Eu.get(o);s&&(Me(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?Me(s.lu,14607):i.removedDocuments.size>0&&(Me(s.lu,42227),s.lu=!1))}),yield vd(t,r,e)}catch(r){yield Mc(r)}})}function KO(n,e,t){let r=ae(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Pu.forEach((o,s)=>{let a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),(function(s,a){let c=ae(s);c.onlineState=a;let l=!1;c.queries.forEach((d,f)=>{for(let g of f.wa)g.va(a)&&(l=!0)}),l&&bD(c)})(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function uK(n,e,t){return v(this,null,function*(){let r=ae(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new et(X.comparator);s=s.insert(o,or.newNoDocument(o,le.min()));let a=we().add(o),c=new Zg(le.min(),new Map,new et(ye),s,a);yield pF(r,c),r.du=r.du.remove(o),r.Eu.delete(e),CD(r)}else yield Cb(r.localStore,e,!1).then(()=>Kb(r,e,t)).catch(Mc)})}function lK(n,e){return v(this,null,function*(){let t=ae(n),r=e.batch.batchId;try{let i=yield O5(t.localStore,e);mF(t,r,null),gF(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield vd(t,i)}catch(i){yield Mc(i)}})}function dK(n,e,t){return v(this,null,function*(){let r=ae(n);try{let i=yield(function(s,a){let c=ae(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let d;return c.mutationQueue.lookupMutationBatch(l,a).next(f=>(Me(f!==null,37113),d=f.keys(),c.mutationQueue.removeMutationBatch(l,f))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,d,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,d)).next(()=>c.localDocuments.getDocuments(l,d))})})(r.localStore,e);mF(r,e,t),gF(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield vd(r,i)}catch(i){yield Mc(i)}})}function gF(n,e){(n.Vu.get(e)||[]).forEach(t=>{t.resolve()}),n.Vu.delete(e)}function mF(n,e,t){let r=ae(n),i=r.Ru[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function Kb(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Tu.get(e))n.Pu.delete(r),t&&n.hu.pu(r,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(r=>{n.Au.containsKey(r)||yF(n,r)})}function yF(n,e){n.Iu.delete(e.path.canonicalString());let t=n.du.get(e);t!==null&&(_D(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),CD(n))}function QO(n,e,t){for(let r of t)r instanceof fm?(n.Au.addReference(r.key,e),hK(n,r)):r instanceof pm?(G(DD,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,e),n.Au.containsKey(r.key)||yF(n,r.key)):ee(19791,{yu:r})}function hK(n,e){let t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Iu.has(r)||(G(DD,"New document in limbo: "+t),n.Iu.add(r),CD(n))}function CD(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){let e=n.Iu.values().next().value;n.Iu.delete(e);let t=new X(He.fromString(e)),r=n.mu.next();n.Eu.set(r,new Gb(t)),n.du=n.du.insert(t,r),aF(n.remoteStore,new dd(Mr(gD(t.path)),r,"TargetPurposeLimboResolution",aD.ue))}}function vd(n,e,t){return v(this,null,function*(){let r=ae(n),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((a,c)=>{s.push(r.gu(c,e,t).then(l=>{var d;if((l||t)&&r.isPrimaryClient){let f=l?!l.fromCache:(d=t?.targetChanges.get(c.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(l){i.push(l);let f=Ib.Es(c.targetId,l);o.push(f)}}))}),yield Promise.all(s),r.hu.J_(i),yield(function(c,l){return v(this,null,function*(){let d=ae(c);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>O.forEach(l,g=>O.forEach(g.Is,m=>d.persistence.referenceDelegate.addReference(f,g.targetId,m)).next(()=>O.forEach(g.ds,m=>d.persistence.referenceDelegate.removeReference(f,g.targetId,m)))))}catch(f){if(!Pc(f))throw f;G(vD,"Failed to update sequence numbers: "+f)}for(let f of l){let g=f.targetId;if(!f.fromCache){let m=d.Fs.get(g),E=m.snapshotVersion,A=m.withLastLimboFreeSnapshotVersion(E);d.Fs=d.Fs.insert(g,A)}}})})(r.localStore,o))})}function fK(n,e){return v(this,null,function*(){let t=ae(n);if(!t.currentUser.isEqual(e)){G(DD,"User change. New user:",e.toKey());let r=yield oF(t.localStore,e);t.currentUser=e,(function(o,s){o.Vu.forEach(a=>{a.forEach(c=>{c.reject(new H(k.CANCELLED,s))})}),o.Vu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield vd(t,r.Bs)}})}function pK(n,e){let t=ae(n),r=t.Eu.get(e);if(r&&r.lu)return we().add(r.key);{let i=we(),o=t.Tu.get(e);if(!o)return i;for(let s of o){let a=t.Pu.get(s);i=i.unionWith(a.view.tu)}return i}}function vF(n){let e=ae(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=pF.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pK.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=uK.bind(null,e),e.hu.J_=tK.bind(null,e.eventManager),e.hu.pu=nK.bind(null,e.eventManager),e}function gK(n){let e=ae(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=lK.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dK.bind(null,e),e}var _F=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return v(this,null,function*(){this.serializer=Rm(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),yield this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)})}Cu(t,r){return null}Fu(t,r){return null}vu(t){return x5(this.persistence,new bb,t.initialUser,this.serializer)}Du(t){return new im(wb.Vi,this.serializer)}bu(t){return new Sb}terminate(){return v(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),Qb=class extends _F{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){Me(this.persistence.referenceDelegate instanceof om,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new cb(r,e.asyncQueue,t)}Du(e){let t=this.cacheSizeBytes!==void 0?Ln.withCacheSize(this.cacheSizeBytes):Ln.DEFAULT;return new im(r=>om.Vi(r,t),this.serializer)}};var mK=(()=>{class n{initialize(t,r){return v(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>KO(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=fK.bind(null,this.syncEngine),yield Z5(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return(function(){return new Bb})()}createDatastore(t){let r=Rm(t.databaseInfo.databaseId),i=(function(s){return new Pb(s)})(t.databaseInfo);return(function(s,a,c,l){return new Fb(s,a,c,l)})(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return(function(i,o,s,a,c){return new Vb(i,o,s,a,c)})(this.localStore,this.datastore,t.asyncQueue,r=>KO(this.syncEngine,r,0),(function(){return am.C()?new am:new Ab})())}createSyncEngine(t,r){return(function(o,s,a,c,l,d,f){let g=new Wb(o,s,a,c,l,d);return f&&(g.fu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return v(this,null,function*(){var t,r;yield(function(o){return v(this,null,function*(){let s=ae(o);G(js,"RemoteStore shutting down."),s.Ia.add(5),yield yd(s),s.Ea.shutdown(),s.Aa.set("Unknown")})})(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var Yb=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):pi("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var wo="FirestoreClient",Jb=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Dt.UNAUTHENTICATED,this.clientId=id.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>v(this,null,function*(){G(wo,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(G(wo,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new hi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>v(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=TD(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function ET(n,e){return v(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),G(wo,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>v(null,null,function*(){r.isEqual(i)||(yield oF(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>{yo("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{G("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{yo("Terminating Firestore due to IndexedDb database deletion failed",i)})}),n._offlineComponents=e})}function YO(n,e){return v(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield yK(n);G(wo,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>zO(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>zO(e.remoteStore,i)),n._onlineComponents=e})}function yK(n){return v(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){G(wo,"Using user provided OfflineComponentProvider");try{yield ET(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===k.FAILED_PRECONDITION||i.code===k.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;yo("Error using user provided cache. Falling back to memory cache: "+t),yield ET(n,new _F)}}else G(wo,"Using default OfflineComponentProvider"),yield ET(n,new Qb(void 0));return n._offlineComponents})}function EF(n){return v(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(G(wo,"Using user provided OnlineComponentProvider"),yield YO(n,n._uninitializedComponentsProvider._online)):(G(wo,"Using default OnlineComponentProvider"),yield YO(n,new mK))),n._onlineComponents})}function vK(n){return EF(n).then(e=>e.syncEngine)}function JO(n){return v(this,null,function*(){let e=yield EF(n),t=e.eventManager;return t.onListen=rK.bind(null,e.syncEngine),t.onUnlisten=sK.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=iK.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=aK.bind(null,e.syncEngine),t})}function wF(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var ZO=new Map;var IF="firestore.googleapis.com",XO=!0,gm=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new H(k.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=IF,this.ssl=XO}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:XO;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=iF;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<M5)throw new H(k.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}R9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wF((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new H(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new H(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new H(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Ac=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gm({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new H(k.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new H(k.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gm(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new wT;switch(r.type){case"firstParty":return new DT(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new H(k.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return v(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){let r=ZO.get(t);r&&(G("ComponentProvider","Removing Datastore"),ZO.delete(t),r.terminate())})(this),Promise.resolve()}};function TF(n,e,t,r={}){var i;n=ho(n,Ac);let o=eo(e),s=n._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),c=`${e}:${t}`;o&&(Fp(`https://${c}`),Lp("Firestore",!0)),s.host!==IF&&s.host!==c&&yo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:c,ssl:o,emulatorOptions:r});if(!Ir(l,a)&&(n._setSettings(l),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=Dt.MOCK_USER;else{d=BM(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new H(k.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Dt(g)}n._authCredentials=new IT(new qg(d,f))}}var Us=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},kt=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(md(t,n._jsonSchema))return new n(e,r||null,new X(He.fromString(t.referencePath)))}};kt._jsonSchemaVersion="firestore/documentReference/1.0",kt._jsonSchema={type:mt("string",kt._jsonSchemaVersion),referencePath:mt("string")};var fo=class n extends Us{constructor(e,t,r){super(e,t,gD(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new kt(this.firestore,null,new X(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function bF(n,e,...t){if(n=je(n),a1("collection","path",e),n instanceof Ac){let r=He.fromString(e,...t);return mO(r),new fo(n,null,r)}{if(!(n instanceof kt||n instanceof fo))throw new H(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(He.fromString(e,...t));return mO(r),new fo(n.firestore,null,r)}}function SD(n,e,...t){if(n=je(n),arguments.length===1&&(e=id.newId()),a1("doc","path",e),n instanceof Ac){let r=He.fromString(e,...t);return gO(r),new kt(n,null,new X(r))}{if(!(n instanceof kt||n instanceof fo))throw new H(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(He.fromString(e,...t));return gO(r),new kt(n.firestore,n instanceof fo?n.converter:null,new X(r))}}var e1="AsyncQueue",mm=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new cm(this,"async_queue_retry"),this.oc=()=>{let r=_T();r&&G(e1,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let t=_T();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let t=_T();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let t=new hi;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}cc(){return v(this,null,function*(){if(this.Zu.length!==0){try{yield this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Pc(e))throw e;G(e1,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}})}uc(e){let t=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,pi("INTERNAL UNHANDLED ERROR: ",t1(r)),r}).then(r=>(this.nc=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);let i=jb.createAndSchedule(this,e,t,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&ee(47125,{hc:t1(this.tc)})}verifyOperationInProgress(){}Pc(){return v(this,null,function*(){let e;do e=this._c,yield e;while(e!==this._c)})}Tc(e){for(let t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let t=this.ec.indexOf(e);this.ec.splice(t,1)}};function t1(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function n1(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1})(n,["next","error","complete"])}var Io=class extends Ac{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new mm,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return v(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new mm(e),this._firestoreClient=void 0,yield e}})}};function DF(n,e){let t=typeof n=="object"?n:br(),r=typeof n=="string"?n:e||Qg,i=Xn(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=UM("firestore");o&&TF(i,...o)}return i}function CF(n){if(n._terminated)throw new H(k.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||_K(n),n._firestoreClient}function _K(n){var e,t,r;let i=n._freezeSettings(),o=(function(a,c,l,d){return new NT(a,c,l,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,wF(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new Jb(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&(function(a){let c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}})(n._componentsProvider))}var po=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(Gt.fromBase64String(e))}catch(t){throw new H(k.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(Gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(md(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};po._jsonSchemaVersion="firestore/bytes/1.0",po._jsonSchema={type:mt("string",po._jsonSchemaVersion),bytes:mt("string")};var Rc=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new H(k.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var pd=class{constructor(e){this._methodName=e}};var go=class n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new H(k.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new H(k.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ye(this._lat,e._lat)||ye(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if(md(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};go._jsonSchemaVersion="firestore/geoPoint/1.0",go._jsonSchema={type:mt("string",go._jsonSchemaVersion),latitude:mt("number"),longitude:mt("number")};var mo=class n{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(md(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new n(e.vectorValues);throw new H(k.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};mo._jsonSchemaVersion="firestore/vectorValue/1.0",mo._jsonSchema={type:mt("string",mo._jsonSchemaVersion),vectorValues:mt("object")};var EK=/^__.*__$/,Zb=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new xr(e,this.data,this.fieldMask,t,this.fieldTransforms):new Vs(e,this.data,t,this.fieldTransforms)}},ym=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new xr(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function SF(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ee(40011,{Ec:n})}}var Xb=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return _m(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(SF(this.Ec)&&EK.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},eD=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Rm(e)}Dc(e,t,r,i=!1){return new Xb({Ec:e,methodName:t,bc:r,path:bn.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function AD(n){let e=n._freezeSettings(),t=Rm(n._databaseId);return new eD(n._databaseId,!!e.ignoreUndefinedProperties,t)}function wK(n,e,t,r,i,o={}){let s=n.Dc(o.merge||o.mergeFields?2:0,e,t,i);RD("Data must be an object, but it was:",s,r);let a=AF(r,s),c,l;if(o.merge)c=new Vn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let d=[];for(let f of o.mergeFields){let g=tD(e,f,t);if(!s.contains(g))throw new H(k.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);NF(d,g)||d.push(g)}c=new Vn(d),l=s.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,l=s.fieldTransforms;return new Zb(new Tn(a),c,l)}var vm=class n extends pd{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function IK(n,e,t,r){let i=n.Dc(1,e,t);RD("Data must be an object, but it was:",i,r);let o=[],s=Tn.empty();To(r,(c,l)=>{let d=ND(e,c,t);l=je(l);let f=i.gc(d);if(l instanceof vm)o.push(d);else{let g=_d(l,f);g!=null&&(o.push(d),s.set(d,g))}});let a=new Vn(o);return new ym(s,a,i.fieldTransforms)}function TK(n,e,t,r,i,o){let s=n.Dc(1,e,t),a=[tD(e,r,t)],c=[i];if(o.length%2!=0)throw new H(k.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<o.length;g+=2)a.push(tD(e,o[g])),c.push(o[g+1]);let l=[],d=Tn.empty();for(let g=a.length-1;g>=0;--g)if(!NF(l,a[g])){let m=a[g],E=c[g];E=je(E);let A=s.gc(m);if(E instanceof vm)l.push(m);else{let D=_d(E,A);D!=null&&(l.push(m),d.set(m,D))}}let f=new Vn(l);return new ym(d,f,s.fieldTransforms)}function bK(n,e,t,r=!1){return _d(t,n.Dc(r?4:3,e))}function _d(n,e){if(RF(n=je(n)))return RD("Unsupported field value:",e,n),AF(n,e);if(n instanceof pd)return(function(r,i){if(!SF(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(r,i){let o=[],s=0;for(let a of r){let c=_d(a,i.yc(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}})(n,e)}return(function(r,i){if((r=je(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return s5(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=yt.fromDate(r);return{timestampValue:nm(i.serializer,o)}}if(r instanceof yt){let o=new yt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:nm(i.serializer,o)}}if(r instanceof go)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof po)return{bytesValue:J1(i.serializer,r._byteString)};if(r instanceof kt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:yD(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof mo)return(function(s,a){return{mapValue:{fields:{[lD]:{stringValue:dD},[_c]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.wc("VectorValues must only contain numeric values.");return mD(a.serializer,l)})}}}}}})(r,i);throw i.wc(`Unsupported field value: ${bm(r)}`)})(n,e)}function AF(n,e){let t={};return T1(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):To(n,(r,i)=>{let o=_d(i,e.Vc(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function RF(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof yt||n instanceof go||n instanceof po||n instanceof kt||n instanceof pd||n instanceof mo)}function RD(n,e,t){if(!RF(t)||!c1(t)){let r=bm(t);throw r==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+r)}}function tD(n,e,t){if((e=je(e))instanceof Rc)return e._internalPath;if(typeof e=="string")return ND(n,e);throw _m("Field path arguments must be of type string or ",n,!1,void 0,t)}var DK=new RegExp("[~\\*/\\[\\]]");function ND(n,e,t){if(e.search(DK)>=0)throw _m(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Rc(...e.split("."))._internalPath}catch{throw _m(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function _m(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new H(k.INVALID_ARGUMENT,a+n+c)}function NF(n,e){return n.some(t=>t.isEqual(e))}var Em=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new nD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(Pm("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},nD=class extends Em{data(){return super.data()}};function Pm(n,e){return typeof e=="string"?ND(n,e):e instanceof Rc?e._internalPath:e._delegate._internalPath}function CK(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new H(k.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var gd=class{},wm=class extends gd{};function MF(n,e,...t){let r=[];e instanceof gd&&r.push(e),r=r.concat(t),(function(o){let s=o.filter(c=>c instanceof rD).length,a=o.filter(c=>c instanceof Im).length;if(s>1||s>0&&a>0)throw new H(k.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(let i of r)n=i._apply(n);return n}var Im=class n extends wm{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return xF(e._query,t),new Us(e.firestore,e.converter,HT(e._query,t))}_parse(e){let t=AD(e.firestore);return(function(o,s,a,c,l,d,f){let g;if(l.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new H(k.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){i1(f,d);let E=[];for(let A of f)E.push(r1(c,o,A));g={arrayValue:{values:E}}}else g=r1(c,o,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||i1(f,d),g=bK(a,s,f,d==="in"||d==="not-in");return gt.create(l,d,g)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function PF(n,e,t){let r=e,i=Pm("where",n);return Im._create(i,r,t)}var rD=class n extends gd{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:sr.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:((function(i,o){let s=i,a=o.getFlattenedFilters();for(let c of a)xF(s,c),s=HT(s,c)})(e._query,t),new Us(e.firestore,e.converter,HT(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var iD=class n extends wm{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new n(e,t)}_apply(e){let t=(function(i,o,s){if(i.startAt!==null)throw new H(k.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new H(k.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Os(o,s)})(e._query,this._field,this._direction);return new Us(e.firestore,e.converter,(function(i,o){let s=i.explicitOrderBy.concat([o]);return new _o(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,t))}};function kF(n,e="asc"){let t=e,r=Pm("orderBy",n);return iD._create(r,t)}function r1(n,e,t){if(typeof(t=je(t))=="string"){if(t==="")throw new H(k.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!L1(e)&&t.indexOf("/")!==-1)throw new H(k.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(He.fromString(t));if(!X.isDocumentKey(r))throw new H(k.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return TO(n,new X(r))}if(t instanceof kt)return TO(n,t._key);throw new H(k.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${bm(t)}.`)}function i1(n,e){if(!Array.isArray(n)||n.length===0)throw new H(k.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function xF(n,e){let t=(function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null})(n.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new H(k.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new H(k.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var oD=class{convertValue(e,t="none"){switch(vo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return $e(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(mi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ee(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return To(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[_c].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>$e(s.doubleValue));return new mo(o)}convertGeoPoint(e){return new go($e(e.latitude),$e(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=Cm(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(ad(e));default:return null}}convertTimestamp(e){let t=gi(e);return new yt(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=He.fromString(e);Me(rF(r),9688,{name:e});let i=new Yg(r.get(1),r.get(3)),o=new X(r.popFirst(5));return i.isEqual(t)||pi(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function SK(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var Ms=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Ps=class n extends Em{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new mc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(Pm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new H(k.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=n._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};Ps._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ps._jsonSchema={type:mt("string",Ps._jsonSchemaVersion),bundleSource:mt("string","DocumentSnapshot"),bundleName:mt("string"),bundle:mt("string")};var mc=class extends Ps{data(e={}){return super.data(e)}},yc=class n{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Ms(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new mc(this._firestore,this._userDataWriter,r.key,r,new Ms(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new H(k.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let c=new mc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ms(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let c=new mc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ms(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,d=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),d=s.indexOf(a.doc.key)),{type:AK(a.type),doc:c,oldIndex:l,newIndex:d}})}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new H(k.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=id.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function AK(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ee(61501,{type:n})}}yc._jsonSchemaVersion="firestore/querySnapshot/1.0",yc._jsonSchema={type:mt("string",yc._jsonSchemaVersion),bundleSource:mt("string","QuerySnapshot"),bundleName:mt("string"),bundle:mt("string")};var Tm=class extends oD{constructor(e){super(),this.firestore=e}convertBytes(e){return new po(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new kt(this.firestore,null,t)}};function OF(n,e,t,...r){n=ho(n,kt);let i=ho(n.firestore,Io),o=AD(i),s;return s=typeof(e=je(e))=="string"||e instanceof Rc?TK(o,"updateDoc",n._key,e,t,r):IK(o,"updateDoc",n._key,e),PD(i,[s.toMutation(n._key,fi.exists(!0))])}function FF(n){return PD(ho(n.firestore,Io),[new ud(n._key,fi.none())])}function LF(n,e){let t=ho(n.firestore,Io),r=SD(n),i=SK(n.converter,e);return PD(t,[wK(AD(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,fi.exists(!1))]).then(()=>r)}function MD(n,...e){var t,r,i;n=je(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||n1(e[s])||(o=e[s++]);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(n1(e[s])){let f=e[s];e[s]=(t=f.next)===null||t===void 0?void 0:t.bind(f),e[s+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[s+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let c,l,d;if(n instanceof kt)l=ho(n.firestore,Io),d=gD(n._key.path),c={next:f=>{e[s]&&e[s](RK(l,n,f))},error:e[s+1],complete:e[s+2]};else{let f=ho(n,Us);l=ho(f.firestore,Io),d=f._query;let g=new Tm(l);c={next:m=>{e[s]&&e[s](new yc(l,g,f,m))},error:e[s+1],complete:e[s+2]},CK(n._query)}return(function(g,m,E,A){let D=new Yb(A),M=new Hb(m,D,E);return g.asyncQueue.enqueueAndForget(()=>v(null,null,function*(){return X5(yield JO(g),M)})),()=>{D.Ou(),g.asyncQueue.enqueueAndForget(()=>v(null,null,function*(){return eK(yield JO(g),M)}))}})(CF(l),d,a,c)}function PD(n,e){return(function(r,i){let o=new hi;return r.asyncQueue.enqueueAndForget(()=>v(null,null,function*(){return cK(yield vK(r),i,o)})),o.promise})(CF(n),e)}function RK(n,e,t){let r=t.docs.get(e._key),i=new Tm(n);return new Ps(n,i,e._key,r,new Ms(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){Nc=i})(no),Pt(new at("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Io(new TT(r.getProvider("auth-internal")),new CT(s,r.getProvider("app-check-internal")),(function(l,d){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new H(k.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yg(l.options.projectId,d)})(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Ne(dO,hO,e),Ne(dO,hO,"esm2017")})();var km=function(){return km=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},km.apply(this,arguments)};var PK={includeMetadataChanges:!1};function VF(n,e){return e===void 0&&(e=PK),new ie(function(t){var r=MD(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function jF(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:km(km({},r),(t={},t[e.idField]=n.id,t))}function UF(n){return VF(n,{includeMetadataChanges:!0}).pipe(oe(function(e){return e.docs}))}function BF(n,e){return e===void 0&&(e={}),UF(n).pipe(oe(function(t){return t.map(function(r){return jF(r,e)})}))}var _i=class{constructor(e){return e}},$F="firestore",kD=class{constructor(){return ro($F)}};var xD=new B("angularfire2.firestore-instances");function kK(n,e){let t=gs($F,n,e);return t&&new _i(t)}function xK(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new _i(r)}}var OK={provide:kD,deps:[[new $t,xD]]},FK={provide:_i,useFactory:kK,deps:[[new $t,xD],er]};function HF(n,...e){return Ne("angularfire",Dr.full,"fst"),sn([FK,OK,{provide:xD,useFactory:xK(n),multi:!0,deps:[De,nt,Cr,ri,[new $t,Jl],[new $t,ac],...e]}])}var Ed=We(BF,!0);var xm=We(LF,!0,2);var $s=We(bF,!0,2);var qF=We(FF,!0,2);var OD=We(SD,!0,2);var zF=We(DF,!0);var FD=We(kF,!0,2),LD=We(MF,!0,2);var GF=We(OF,!0,2);var WF=We(PF,!0,2);var QF={production:!1,firebase:{apiKey:"AIzaSyAaMlW2sXETkZAjW35RRATQdasQEd79-lA",authDomain:"billdb-ed1c5.firebaseapp.com",databaseURL:"https://billdb-ed1c5.firebaseio.com",projectId:"billdb-ed1c5",storageBucket:"billdb-ed1c5.firebasestorage.app",messagingSenderId:"1015027202177",appId:"1:1015027202177:web:b7ae44b371301b4e2cb580",measurementId:"G-L93N0HX7JW",web_push_key:"BBSYVqVm5z1wEV2R2OIIJPmvpGGbQdyNu6hVRPRmhrvd7lVK3MkmjPI2AvKrpM7cnCLyY7ZtuDXLYTClVvUKcjg"}};var iL=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(J(Xo),J(zi))};static \u0275dir=_t({type:n})}return n})(),oL=(()=>{class n extends iL{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Zo(n)))(i||n)}})();static \u0275dir=_t({type:n,features:[Qn]})}return n})(),Hm=new B("");var LK={provide:Hm,useExisting:ur(()=>Do),multi:!0};function VK(){let n=xn()?xn().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var jK=new B(""),Do=(()=>{class n extends iL{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!VK())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(J(Xo),J(zi),J(jK,8))};static \u0275dir=_t({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Be("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[ts([LK]),Qn]})}return n})();function HD(n){return n==null||qD(n)===0}function qD(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var zD=new B(""),GD=new B(""),UK=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Ue=class{static min(e){return BK(e)}static max(e){return $K(e)}static required(e){return HK(e)}static requiredTrue(e){return qK(e)}static email(e){return zK(e)}static minLength(e){return GK(e)}static maxLength(e){return WK(e)}static pattern(e){return KK(e)}static nullValidator(e){return sL()}static compose(e){return hL(e)}static composeAsync(e){return pL(e)}};function BK(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function $K(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function HK(n){return HD(n.value)?{required:!0}:null}function qK(n){return n.value===!0?null:{required:!0}}function zK(n){return HD(n.value)||UK.test(n.value)?null:{email:!0}}function GK(n){return e=>{let t=e.value?.length??qD(e.value);return t===null||t===0?null:t<n?{minlength:{requiredLength:n,actualLength:t}}:null}}function WK(n){return e=>{let t=e.value?.length??qD(e.value);return t!==null&&t>n?{maxlength:{requiredLength:n,actualLength:t}}:null}}function KK(n){if(!n)return sL;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(HD(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function sL(n){return null}function aL(n){return n!=null}function cL(n){return Gi(n)?qe(n):n}function uL(n){let e={};return n.forEach(t=>{e=t!=null?V(V({},e),t):e}),Object.keys(e).length===0?null:e}function lL(n,e){return e.map(t=>t(n))}function QK(n){return!n.validate}function dL(n){return n.map(e=>QK(e)?e:t=>e.validate(t))}function hL(n){if(!n)return null;let e=n.filter(aL);return e.length==0?null:function(t){return uL(lL(t,e))}}function fL(n){return n!=null?hL(dL(n)):null}function pL(n){if(!n)return null;let e=n.filter(aL);return e.length==0?null:function(t){let r=lL(t,e).map(cL);return zy(r).pipe(oe(uL))}}function gL(n){return n!=null?pL(dL(n)):null}function YF(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function mL(n){return n._rawValidators}function yL(n){return n._rawAsyncValidators}function VD(n){return n?Array.isArray(n)?n:[n]:[]}function Fm(n,e){return Array.isArray(n)?n.includes(e):n===e}function JF(n,e){let t=VD(e);return VD(n).forEach(i=>{Fm(t,i)||t.push(i)}),t}function ZF(n,e){return VD(e).filter(t=>!Fm(n,t))}var Lm=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=fL(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=gL(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Hs=class extends Lm{name;get formDirective(){return null}get path(){return null}},qs=class extends Lm{_parent=null;name=null;valueAccessor=null},Vm=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},YK={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Nye=de(V({},YK),{"[class.ng-submitted]":"isSubmitted"}),Lc=(()=>{class n extends Vm{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(J(qs,2))};static \u0275dir=_t({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Jr("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Qn]})}return n})(),Vc=(()=>{class n extends Vm{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(J(Hs,10))};static \u0275dir=_t({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Jr("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[Qn]})}return n})();var wd="VALID",Om="INVALID",xc="PENDING",Id="DISABLED",bo=class{},jm=class extends bo{value;source;constructor(e,t){super(),this.value=e,this.source=t}},Td=class extends bo{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},bd=class extends bo{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},Oc=class extends bo{status;source;constructor(e,t){super(),this.status=e,this.source=t}},jD=class extends bo{source;constructor(e){super(),this.source=e}},Cd=class extends bo{source;constructor(e){super(),this.source=e}};function WD(n){return(qm(n)?n.validators:n)||null}function JK(n){return Array.isArray(n)?fL(n):n||null}function KD(n,e){return(qm(e)?e.asyncValidators:n)||null}function ZK(n){return Array.isArray(n)?gL(n):n||null}function qm(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function vL(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new P(1e3,"");if(!r[t])throw new P(1001,"")}function _L(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new P(1002,"")})}var Fc=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return It(this.statusReactive)}set status(e){It(()=>this.statusReactive.set(e))}_status=ka(()=>this.statusReactive());statusReactive=lt(void 0);get valid(){return this.status===wd}get invalid(){return this.status===Om}get pending(){return this.status==xc}get disabled(){return this.status===Id}get enabled(){return this.status!==Id}errors;get pristine(){return It(this.pristineReactive)}set pristine(e){It(()=>this.pristineReactive.set(e))}_pristine=ka(()=>this.pristineReactive());pristineReactive=lt(!0);get dirty(){return!this.pristine}get touched(){return It(this.touchedReactive)}set touched(e){It(()=>this.touchedReactive.set(e))}_touched=ka(()=>this.touchedReactive());touchedReactive=lt(!1);get untouched(){return!this.touched}_events=new ct;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(JF(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(JF(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(ZF(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(ZF(e,this._rawAsyncValidators))}hasValidator(e){return Fm(this._rawValidators,e)}hasAsyncValidator(e){return Fm(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(de(V({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new bd(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new bd(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(de(V({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Td(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Td(!0,r))}markAsPending(e={}){this.status=xc;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Oc(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(de(V({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Id,this.errors=null,this._forEachChild(i=>{i.disable(de(V({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new jm(this.value,r)),this._events.next(new Oc(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(de(V({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=wd,this._forEachChild(r=>{r.enable(de(V({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(de(V({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===wd||this.status===xc)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new jm(this.value,t)),this._events.next(new Oc(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(de(V({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Id:wd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=xc,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:e!==!1};let r=cL(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Oc(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new ot,this.statusChanges=new ot}_calculateStatus(){return this._allControlsDisabled()?Id:this.errors?Om:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(xc)?xc:this._anyControlsHaveStatus(Om)?Om:wd}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Td(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new bd(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){qm(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=JK(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=ZK(this._rawAsyncValidators)}},Um=class extends Fc{constructor(e,t,r){super(WD(t),KD(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){_L(this,!0,e),Object.keys(e).forEach(r=>{vL(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t),t?.emitEvent!==!1&&this._events.next(new Cd(this))}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var UD=class extends Um{};var zm=new B("",{providedIn:"root",factory:()=>Gm}),Gm="always";function EL(n,e){return[...e.path,n]}function BD(n,e,t=Gm){QD(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),e7(n,e),n7(n,e),t7(n,e),XK(n,e)}function XF(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),$m(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Bm(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function XK(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function QD(n,e){let t=mL(n);e.validator!==null?n.setValidators(YF(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=yL(n);e.asyncValidator!==null?n.setAsyncValidators(YF(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();Bm(e._rawValidators,i),Bm(e._rawAsyncValidators,i)}function $m(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=mL(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let i=yL(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}let r=()=>{};return Bm(e._rawValidators,r),Bm(e._rawAsyncValidators,r),t}function e7(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&wL(n,e)})}function t7(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&wL(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function wL(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function n7(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function r7(n,e){n==null,QD(n,e)}function i7(n,e){return $m(n,e)}function IL(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function o7(n){return Object.getPrototypeOf(n.constructor)===oL}function s7(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function TL(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===Do?t=o:o7(o)?r=o:i=o}),i||r||t||null}function a7(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function eL(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function tL(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Dd=class extends Fc{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(WD(t),KD(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),qm(t)&&(t.nonNullable||t.initialValueIsDefault)&&(tL(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1,t?.emitEvent!==!1&&this._events.next(new Cd(this))}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){eL(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){eL(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){tL(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var c7=n=>n instanceof Dd;var u7={provide:qs,useExisting:ur(()=>YD)},nL=Promise.resolve(),YD=(()=>{class n extends qs{_changeDetectorRef;callSetDisabledState;control=new Dd;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new ot;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=TL(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),IL(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){BD(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){nL.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&Oa(r);nL.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?EL(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(J(Hs,9),J(zD,10),J(GD,10),J(Hm,10),J(xa,8),J(zm,8))};static \u0275dir=_t({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[ts([u7]),Qn,mr]})}return n})();var jc=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=_t({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})(),l7={provide:Hm,useExisting:ur(()=>JD),multi:!0},JD=(()=>{class n extends oL{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Zo(n)))(i||n)}})();static \u0275dir=_t({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&Be("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[ts([l7]),Qn]})}return n})();var bL=new B("");var d7={provide:Hs,useExisting:ur(()=>zs)},zs=(()=>{class n extends Hs{callSetDisabledState;get submitted(){return It(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}_submitted=ka(()=>this._submittedReactive());_submittedReactive=lt(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new ot;constructor(t,r,i){super(),this.callSetDisabledState=i,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&($m(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return BD(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){XF(t.control||null,t,!1),a7(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),s7(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new jD(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0,r={}){this.form.reset(t,r),this._submittedReactive.set(!1)}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(XF(r||null,t),c7(i)&&(BD(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);r7(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&i7(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){QD(this.form,this),this._oldForm&&$m(this._oldForm,this)}static \u0275fac=function(r){return new(r||n)(J(zD,10),J(GD,10),J(zm,8))};static \u0275dir=_t({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&Be("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[ts([d7]),Qn,mr]})}return n})();var h7={provide:qs,useExisting:ur(()=>Gs)},Gs=(()=>{class n extends qs{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(t){}model;update=new ot;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=TL(this,o)}ngOnChanges(t){this._added||this._setUpControl(),IL(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return EL(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||n)(J(Hs,13),J(zD,10),J(GD,10),J(Hm,10),J(bL,8))};static \u0275dir=_t({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[ts([h7]),Qn,mr]})}return n})();var DL=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Pn({type:n});static \u0275inj=vn({})}return n})(),$D=class extends Fc{constructor(e,t,r){super(WD(t),KD(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){Array.isArray(e)?e.forEach(r=>{this.controls.push(r),this._registerControl(r)}):(this.controls.push(e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){_L(this,!1,e),e.forEach((r,i)=>{vL(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t),t?.emitEvent!==!1&&this._events.next(new Cd(this))}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function rL(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var Uc=(()=>{class n{useNonNullable=!1;get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),o={};return rL(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Um(i,o)}record(t,r=null){let i=this._reduceControls(t);return new UD(i,r)}control(t,r,i){let o={};return this.useNonNullable?(rL(r)?o=r:(o.validators=r,o.asyncValidators=i),new Dd(t,de(V({},o),{nonNullable:!0}))):new Dd(t,r,i)}array(t,r,i){let o=t.map(s=>this._createControl(s));return new $D(o,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof Dd)return t;if(t instanceof Fc)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(r,i,o)}else return this.control(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var CL=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:zm,useValue:t.callSetDisabledState??Gm}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Pn({type:n});static \u0275inj=vn({imports:[DL]})}return n})(),Bc=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:bL,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:zm,useValue:t.callSetDisabledState??Gm}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Pn({type:n});static \u0275inj=vn({imports:[DL]})}return n})();var Or=class n{constructor(e,t){this.auth=e;this.router=t;this.auth.onAuthStateChanged(r=>{this.loggedIn.set(!!r),this.userEmail.set(r?.email||null)})}loggedIn=lt(!1);userEmail=lt(null);login(e,t){return v(this,null,function*(){yield aO(this.auth,e,t),this.router.navigate(["/dashboard"])})}register(e,t,r){return v(this,null,function*(){yield oO(this.auth,t,r),this.router.navigate(["/dashboard"])})}logout(){return v(this,null,function*(){yield cO(this.auth),this.router.navigate(["/login"])})}static \u0275fac=function(t){return new(t||n)(Q(As),Q(In))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})};function f7(n,e){if(n&1&&(L(0,"div",17),$(1),F()),n&2){let t=Et();ge(),Mt(t.error)}}var Wm=class n{constructor(e,t,r){this.fb=e;this.auth=t;this.router=r;this.form=this.fb.group({email:["",[Ue.required,Ue.email]],password:["",[Ue.required,Ue.minLength(6)]]})}form;loading=!1;error=null;submit(){return v(this,null,function*(){if(this.form.invalid)return;let{email:e,password:t}=this.form.value;this.loading=!0,this.error=null;try{yield this.auth.login(e,t)}catch(r){this.error=r?.message??"\xC9chec de connexion"}finally{this.loading=!1}})}static \u0275fac=function(t){return new(t||n)(J(Uc),J(Or),J(In))};static \u0275cmp=Kn({type:n,selectors:[["app-login"]],decls:37,vars:3,consts:[[1,"max-w-5xl","mx-auto","py-10","px-4"],[1,"grid","md:grid-cols-2","gap-8"],[1,"card"],[1,"text-3xl","font-bold","mb-6"],[1,"space-y-4",3,"ngSubmit","formGroup"],[1,"text-sm","text-gray-600"],["type","email","formControlName","email","placeholder","ex: anna@exemple.com",1,"input"],["type","password","formControlName","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",1,"input"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","text-sm text-gray-500",4,"ngIf"],[1,"mt-4","text-sm","text-gray-600"],["href","javascript:void(0)",1,"link"],[1,"mt-6","text-sm"],["routerLink","/register",1,"link","font-medium"],[1,"text-2xl","font-semibold"],[1,"mt-2","text-gray-600"],[1,"list-disc","ml-6","mt-4","text-gray-700","space-y-1"],[1,"text-sm","text-gray-500"]],template:function(t,r){t&1&&(L(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),$(4,"Se connecter"),F(),L(5,"form",4),Be("ngSubmit",function(){return r.submit()}),L(6,"div")(7,"label",5),$(8,"E-mail"),F(),st(9,"input",6),F(),L(10,"div")(11,"label",5),$(12,"Mot de passe"),F(),st(13,"input",7),F(),L(14,"button",8),$(15,"Se connecter"),F(),kn(16,f7,2,1,"div",9),F(),L(17,"div",10),$(18," Mot de passe "),L(19,"a",11),$(20,"oubli\xE9?"),F()(),L(21,"div",12),$(22," Vous n\u2019avez pas de compte? "),L(23,"a",13),$(24,"Cr\xE9er un compte"),F()()(),L(25,"div",2)(26,"h2",14),$(27,"Bienvenue \u{1F44B}"),F(),L(28,"p",15),$(29,"Connectez\u2011vous pour g\xE9rer vos locataires et r\xE9partir les factures."),F(),L(30,"ul",16)(31,"li"),$(32,"Gestion des pourcentages par appartement"),F(),L(33,"li"),$(34,"Calcul automatique des parts"),F(),L(35,"li"),$(36,"Historique par p\xE9riode"),F()()()()()),t&2&&(ge(5),ze("formGroup",r.form),ge(9),ze("disabled",r.form.invalid||r.loading),ge(2),ze("ngIf",r.error))},dependencies:[Qi,ns,Bc,jc,Do,Lc,Vc,zs,Gs,Xi],encapsulation:2})};function p7(n,e){if(n&1&&(L(0,"div",16),$(1),F()),n&2){let t=Et();ge(),Mt(t.error)}}var Km=class n{constructor(e,t,r){this.fb=e;this.auth=t;this.router=r;this.form=this.fb.group({fullname:["",[Ue.required,Ue.minLength(2)]],email:["",[Ue.required,Ue.email]],password:["",[Ue.required,Ue.minLength(6)]],confirm:["",[Ue.required]]},{validators:this.passwordMatch})}form;loading=!1;error=null;passwordMatch(e){let t=e.get("password")?.value,r=e.get("confirm")?.value;return t===r?null:{mismatch:!0}}submit(){return v(this,null,function*(){if(this.form.invalid)return;let{fullname:e,email:t,password:r}=this.form.value;this.loading=!0,this.error=null;try{yield this.auth.register(e,t,r)}catch(i){this.error=i?.message??"\xC9chec de cr\xE9ation du compte"}finally{this.loading=!1}})}static \u0275fac=function(t){return new(t||n)(J(Uc),J(Or),J(In))};static \u0275cmp=Kn({type:n,selectors:[["app-register"]],decls:34,vars:3,consts:[[1,"max-w-5xl","mx-auto","py-10","px-4"],[1,"grid","md:grid-cols-2","gap-8"],[1,"card"],[1,"text-3xl","font-bold","mb-6"],[1,"space-y-4",3,"ngSubmit","formGroup"],[1,"text-sm","text-gray-600"],["type","text","formControlName","fullname","placeholder","Ex: Anna Dubois",1,"input"],["type","email","formControlName","email","placeholder","anna@exemple.com",1,"input"],["type","password","formControlName","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",1,"input"],["type","password","formControlName","confirm","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",1,"input"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","text-sm text-gray-500",4,"ngIf"],[1,"mt-6","text-sm"],["routerLink","/login",1,"link","font-medium"],[1,"text-2xl","font-semibold"],[1,"mt-2","text-gray-600"],[1,"text-sm","text-gray-500"]],template:function(t,r){t&1&&(L(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),$(4,"Cr\xE9er un compte"),F(),L(5,"form",4),Be("ngSubmit",function(){return r.submit()}),L(6,"div")(7,"label",5),$(8,"Nom complet"),F(),st(9,"input",6),F(),L(10,"div")(11,"label",5),$(12,"E-mail"),F(),st(13,"input",7),F(),L(14,"div")(15,"label",5),$(16,"Mot de passe"),F(),st(17,"input",8),F(),L(18,"div")(19,"label",5),$(20,"Confirmer le mot de passe"),F(),st(21,"input",9),F(),L(22,"button",10),$(23,"Cr\xE9er un compte"),F(),kn(24,p7,2,1,"div",11),F(),L(25,"div",12),$(26," Vous avez d\xE9j\xE0 un compte? "),L(27,"a",13),$(28,"Se connecter"),F()()(),L(29,"div",2)(30,"h2",14),$(31,"Quelques secondes\u2026"),F(),L(32,"p",15),$(33,"Cr\xE9ez votre compte pour commencer \xE0 suivre vos charges partag\xE9es."),F()()()()),t&2&&(ge(5),ze("formGroup",r.form),ge(17),ze("disabled",r.form.invalid||r.loading),ge(2),ze("ngIf",r.error))},dependencies:[Qi,ns,Bc,jc,Do,Lc,Vc,zs,Gs,Xi],encapsulation:2})};var Qm=class n{constructor(e){this.firestore=e}getTenants(){let e=$s(this.firestore,"tenants");return Ed(e,{idField:"id"})}addTenant(e){let t=$s(this.firestore,"tenants");return xm(t,e)}updateTenant(e,t){let r=OD(this.firestore,`tenants/${e}`);return GF(r,V({},t))}deleteTenant(e){let t=OD(this.firestore,`tenants/${e}`);return qF(t)}static \u0275fac=function(t){return new(t||n)(Q(_i))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})};var Ym=class n{constructor(e){this.firestore=e}addInvoice(e){let t=$s(this.firestore,"invoices");return xm(t,de(V({},e),{createdAt:Date.now()}))}getInvoicesByPeriod(e){let t=$s(this.firestore,"invoices"),r=LD(t,WF("period","==",e),FD("createdAt","desc"));return Ed(r,{idField:"id"})}getAllInvoices(){let e=$s(this.firestore,"invoices"),t=LD(e,FD("createdAt","desc"));return Ed(t,{idField:"id"})}static \u0275fac=function(t){return new(t||n)(Q(_i))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})};var SL=n=>[n,"XOF","symbol","1.0-0","fr-FR"];function y7(n,e){if(n&1){let t=Ma();L(0,"tr")(1,"td"),$(2),F(),L(3,"td"),$(4),F(),L(5,"td"),$(6),F(),L(7,"td",31)(8,"button",5),Be("click",function(){let i=qn(t).$implicit,o=Et(2);return zn(o.editTenant(i))}),$(9,"\xC9diter"),F(),L(10,"button",32),Be("click",function(){let i=qn(t).$implicit,o=Et(2);return zn(o.removeTenant(i))}),$(11,"Supprimer"),F()()()}if(n&2){let t=e.$implicit;ge(2),Mt(t.name),ge(2),Mt(t.apartment),ge(2),Hu("",t.percent,"%")}}function v7(n,e){n&1&&(L(0,"tr")(1,"td",33),$(2,"Aucun locataire \u2014 ajoutez-en un."),F()())}function _7(n,e){if(n&1){let t=Ma();L(0,"div")(1,"div",15)(2,"div",16)(3,"h2",17),$(4,"Locataires"),F(),L(5,"button",18),Be("click",function(){qn(t);let i=Et();return zn(i.resetTenantForm())}),$(6,"Nouveau"),F()(),L(7,"div",19)(8,"table",20)(9,"thead")(10,"tr")(11,"th"),$(12,"Nom"),F(),L(13,"th"),$(14,"Appartement"),F(),L(15,"th"),$(16,"Pourcentage"),F(),L(17,"th",21),$(18,"Actions"),F()()(),L(19,"tbody"),kn(20,y7,12,3,"tr",22)(21,v7,3,0,"tr",6),F()()(),L(22,"form",23),Be("ngSubmit",function(){qn(t);let i=Et();return zn(i.saveTenant())}),st(23,"input",24)(24,"input",25)(25,"input",26),L(26,"div",27)(27,"button",28),$(28),F(),L(29,"button",29),Be("click",function(){qn(t);let i=Et();return zn(i.resetTenantForm())}),$(30,"Annuler"),F()()(),L(31,"div",30),$(32,"La somme des pourcentages devrait \xEAtre 100% (validation non bloquante)."),F()()()}if(n&2){let t=Et();ge(20),ze("ngForOf",t.tenants()),ge(),ze("ngIf",t.tenants().length===0),ge(),ze("formGroup",t.tenantForm),ge(5),ze("disabled",t.tenantForm.invalid),ge(),Mt(t.editId?"Mettre \xE0 jour":"Ajouter")}}function E7(n,e){if(n&1&&(L(0,"tr")(1,"td"),$(2),F(),L(3,"td"),$(4),F(),L(5,"td"),$(6),qu(7,"currency"),F()()),n&2){let t=e.$implicit;ge(2),Mt(t.name),ge(2),Mt(t.percent),ge(2),Mt(Of(7,3,xf(9,SL,t.amount)))}}function w7(n,e){if(n&1&&(L(0,"div",43)(1,"h3",44),$(2,"Montants \xE0 payer"),F(),L(3,"div",45)(4,"table",20)(5,"thead")(6,"tr")(7,"th"),$(8,"Locataire"),F(),L(9,"th"),$(10,"%"),F(),L(11,"th"),$(12,"Montant \xE0 payer"),F()()(),L(13,"tbody"),kn(14,E7,8,11,"tr",22),F()()()()),n&2){let t=Et(2);ge(14),ze("ngForOf",t.results())}}function I7(n,e){if(n&1){let t=Ma();L(0,"div")(1,"div",15)(2,"h2",34),$(3,"Ajouter une facture"),F(),L(4,"form",35),Be("ngSubmit",function(){qn(t);let i=Et();return zn(i.calculateAndSave())}),L(5,"div")(6,"label",36),$(7,"P\xE9riode"),F(),st(8,"input",37),F(),L(9,"div")(10,"label",36),$(11,"Montant total CIE"),F(),L(12,"div",38),st(13,"input",39),L(14,"span",40),$(15,"FCFA"),F()()(),L(16,"button",41),$(17,"Calculer & Enregistrer"),F()(),kn(18,w7,15,1,"div",42),F()()}if(n&2){let t=Et();ge(4),ze("formGroup",t.billForm),ge(14),ze("ngIf",t.results().length)}}function T7(n,e){if(n&1&&(L(0,"tr")(1,"td"),$(2),qu(3,"date"),F(),L(4,"td"),$(5),F(),L(6,"td"),$(7),qu(8,"currency"),F(),L(9,"td"),$(10),F()()),n&2){let t=e.$implicit,r=Et(2);ge(2),Mt(eE(3,4,t.createdAt,"short")),ge(3),Mt(t.period),ge(2),Mt(Of(8,7,xf(13,SL,t.total))),ge(3),Mt(r.getSummary(t))}}function b7(n,e){n&1&&(L(0,"tr")(1,"td",33),$(2,"Aucune facture enregistr\xE9e pour cette recherche."),F()())}function D7(n,e){if(n&1){let t=Ma();L(0,"div")(1,"div",15)(2,"div",46)(3,"h2",17),$(4,"Historique des factures"),F(),L(5,"input",47),kf("ngModelChange",function(i){qn(t);let o=Et();return Z_(o.filterPeriod,i)||(o.filterPeriod=i),zn(i)}),Be("ngModelChange",function(){qn(t);let i=Et();return zn(i.loadInvoices())}),F()(),L(6,"div",45)(7,"table",20)(8,"thead")(9,"tr")(10,"th"),$(11,"Date"),F(),L(12,"th"),$(13,"P\xE9riode"),F(),L(14,"th"),$(15,"Montant total"),F(),L(16,"th"),$(17,"D\xE9tail (r\xE9sum\xE9)"),F()()(),L(18,"tbody"),kn(19,T7,11,15,"tr",22)(20,b7,3,0,"tr",6),F()()()()()}if(n&2){let t=Et();ge(5),Pf("ngModel",t.filterPeriod),ge(14),ze("ngForOf",t.invoices()),ge(),ze("ngIf",t.invoices().length===0)}}var Jm=class n{constructor(e,t,r,i){this.fb=e;this.tenantSrv=t;this.invoiceSrv=r;this.auth=i;this.tenantForm=this.fb.group({name:["",[Ue.required,Ue.minLength(2)]],apartment:["",[Ue.required]],percent:[0,[Ue.required,Ue.min(0),Ue.max(100)]]}),this.billForm=this.fb.group({period:["Jan\u2013F\xE9v 2025",Ue.required],total:[102800,[Ue.required,Ue.min(0)]]}),this.tenantSrv.getTenants().subscribe(o=>this.tenants.set(o)),this.loadInvoices()}activeView=lt("tenants");tenants=lt([]);tenantForm;editId=null;billForm;results=lt([]);invoices=lt([]);filterPeriod="";resetTenantForm(){this.editId=null,this.tenantForm.reset({name:"",apartment:"",percent:0})}editTenant(e){this.editId=e.id||null,this.tenantForm.patchValue({name:e.name,apartment:e.apartment,percent:e.percent})}saveTenant(){return v(this,null,function*(){if(this.tenantForm.invalid)return;let e=this.tenantForm.value;this.editId?yield this.tenantSrv.updateTenant(this.editId,e):yield this.tenantSrv.addTenant(e),this.resetTenantForm()})}removeTenant(e){return v(this,null,function*(){e.id&&(yield this.tenantSrv.deleteTenant(e.id))})}calculate(){let e=Number(this.billForm.value.total||0),t=this.tenants().map(r=>({name:r.name,percent:r.percent,amount:Math.round(r.percent/100*e)}));this.results.set(t)}calculateAndSave(){return v(this,null,function*(){this.calculate();let e={period:this.billForm.value.period,total:Number(this.billForm.value.total),results:this.results(),createdAt:Date.now()};yield this.invoiceSrv.addInvoice(e),this.loadInvoices()})}loadInvoices(){return v(this,null,function*(){this.filterPeriod&&this.filterPeriod.trim()!==""?this.invoiceSrv.getInvoicesByPeriod(this.filterPeriod).subscribe(e=>this.invoices.set(e)):this.invoiceSrv.getAllInvoices().subscribe(e=>this.invoices.set(e))})}getSummary(e){return e?.results?e.results.map(t=>`${t.name} ${t.amount}F`).join(", "):""}logout(){return v(this,null,function*(){yield this.auth.logout()})}setView(e){this.activeView.set(e)}static \u0275fac=function(t){return new(t||n)(J(Uc),J(Qm),J(Ym),J(Or))};static \u0275cmp=Kn({type:n,selectors:[["app-dashboard"]],decls:28,vars:9,consts:[[1,"flex","flex-col","h-screen","bg-gray-100"],[1,"flex-1","p-8","overflow-y-auto","pb-20"],[1,"max-w-6xl","mx-auto"],[1,"flex","items-center","justify-between","mb-6"],[1,"text-2xl","md:text-3xl","font-bold"],[1,"text-sm","link",3,"click"],[4,"ngIf"],[1,"fixed","bottom-0","left-0","right-0","bg-white","shadow-t"],[1,"flex","justify-around","max-w-6xl","mx-auto"],[1,"flex","flex-col","items-center","justify-center","w-full","py-2","text-gray-700","hover:bg-gray-200",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-6","w-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M15 21a6 6 0 00-9-5.197M15 21a6 6 0 00-9-5.197"],[1,"text-xs"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"card"],[1,"flex","items-center","justify-between","mb-2"],[1,"text-xl","font-semibold"],[1,"btn","btn-primary","px-3","py-2",3,"click"],[1,"table","overflow-x-auto","mb-4"],[1,"min-w-full"],[2,"width","140px"],[4,"ngFor","ngForOf"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-3",3,"ngSubmit","formGroup"],["type","text","placeholder","Nom","formControlName","name",1,"input"],["type","text","placeholder","Appartement","formControlName","apartment",1,"input"],["type","number","placeholder","% part","formControlName","percent",1,"input"],[1,"md:col-span-3","flex","gap-3"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","button",1,"btn","px-4","py-3","bg-gray-200",3,"click"],[1,"text-sm","text-gray-500","mt-2"],[1,"space-x-2"],[1,"text-sm","text-red-600","hover:underline",3,"click"],["colspan","4",1,"text-center","text-gray-500","py-3"],[1,"text-xl","font-semibold","mb-2"],[1,"space-y-4",3,"ngSubmit","formGroup"],[1,"text-sm","text-gray-600"],["type","text","placeholder","Jan\u2013F\xE9v 2025","formControlName","period",1,"input"],[1,"flex","gap-2"],["type","number","formControlName","total","placeholder","102800",1,"input"],[1,"px-3","py-2","rounded-lg","bg-gray-100","border","text-gray-700"],["type","submit",1,"btn","btn-primary"],["class","mt-6",4,"ngIf"],[1,"mt-6"],[1,"text-lg","font-semibold","mb-2"],[1,"table","overflow-x-auto"],[1,"flex","items-center","gap-3","mb-4"],["placeholder","Filtrer par p\xE9riode (ex: Jan\u2013F\xE9v 2025)",1,"input","w-48",3,"ngModelChange","ngModel"]],template:function(t,r){t&1&&(L(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),$(5,"Gestion des factures"),F(),L(6,"button",5),Be("click",function(){return r.logout()}),$(7,"Se d\xE9connecter"),F()(),kn(8,_7,33,5,"div",6)(9,I7,19,2,"div",6)(10,D7,21,3,"div",6),F()(),L(11,"nav",7)(12,"div",8)(13,"a",9),Be("click",function(){return r.setView("tenants")}),Ia(),L(14,"svg",10),st(15,"path",11),F(),Ta(),L(16,"span",12),$(17,"Locataires"),F()(),L(18,"a",9),Be("click",function(){return r.setView("add-invoice")}),Ia(),L(19,"svg",10),st(20,"path",13),F(),Ta(),L(21,"span",12),$(22,"Facture"),F()(),L(23,"a",9),Be("click",function(){return r.setView("history")}),Ia(),L(24,"svg",10),st(25,"path",14),F(),Ta(),L(26,"span",12),$(27,"Historique"),F()()()()()),t&2&&(ge(8),ze("ngIf",r.activeView()==="tenants"),ge(),ze("ngIf",r.activeView()==="add-invoice"),ge(),ze("ngIf",r.activeView()==="history"),ge(3),Jr("text-blue-500",r.activeView()==="tenants"),ge(5),Jr("text-blue-500",r.activeView()==="add-invoice"),ge(5),Jr("text-blue-500",r.activeView()==="history"))},dependencies:[Qi,Qf,ns,Bc,jc,Do,JD,Lc,Vc,zs,Gs,CL,YD,_E,vE],encapsulation:2})};var AL=()=>{let n=x(Or),e=x(In);return n.loggedIn()?!0:(e.navigate(["/login"]),!1)};var RL=[{path:"",pathMatch:"full",redirectTo:"login"},{path:"login",component:Wm},{path:"register",component:Km},{path:"dashboard",component:Jm,canActivate:[AL]},{path:"**",redirectTo:"login"}];var NL={providers:[tw(RL),ME(),Xk(),fP(()=>pP(QF.firebase)),iO(()=>sO()),HF(()=>zF()),ZP(()=>XP())]};AE(Qp,NL).catch(n=>console.error(n));
